{"version":3,"file":"ej2-navigations.min.js","sources":["../../node_modules/@syncfusion/ej2-base/src/util.js","../../node_modules/@syncfusion/ej2-base/src/dom.js","../../node_modules/@syncfusion/ej2-base/src/base.js","../../node_modules/@syncfusion/ej2-base/src/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/src/animation.js","../../node_modules/@syncfusion/ej2-base/src/internationalization.js","../../node_modules/@syncfusion/ej2-base/src/template.js","../../node_modules/@syncfusion/ej2-base/src/template-engine.js","../../node_modules/@syncfusion/ej2-popups/src/common/position.js","../../node_modules/@syncfusion/ej2-popups/src/common/collision.js","../../node_modules/@syncfusion/ej2-popups/src/popup/popup.js","../../node_modules/@syncfusion/ej2-buttons/src/common/common.js","../../node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","../../node_modules/@syncfusion/ej2-lists/src/common/list-base.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/base/mask-base.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","../../node_modules/@syncfusion/ej2-base/src/ajax.js","../../node_modules/@syncfusion/ej2-base/src/event-handler.js","../../node_modules/@syncfusion/ej2-base/src/observer.js","../../node_modules/@syncfusion/ej2-base/src/browser.js","../../node_modules/@syncfusion/ej2-base/src/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/src/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/src/module-loader.js","../../node_modules/@syncfusion/ej2-base/src/child-property.js","../../node_modules/@syncfusion/ej2-base/src/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/src/component.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/src/draggable.js","../../node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js","../../node_modules/@syncfusion/ej2-base/src/droppable.js","../../node_modules/@syncfusion/ej2-base/src/keyboard.js","../../node_modules/@syncfusion/ej2-base/src/l10n.js","../../node_modules/@syncfusion/ej2-base/src/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/src/touch.js","../../src/common/h-scroll.js","../../node_modules/@syncfusion/ej2-buttons/src/button/button.js","../../node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","../../node_modules/@syncfusion/ej2-buttons/src/radio-button/radio-button.js","../../node_modules/@syncfusion/ej2-buttons/src/switch/switch.js","../../node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","../../src/toolbar/toolbar.js","../../src/accordion/accordion.js","../../node_modules/@syncfusion/ej2-data/src/query.js","../../node_modules/@syncfusion/ej2-data/src/util.js","../../node_modules/@syncfusion/ej2-data/src/adaptors.js","../../node_modules/@syncfusion/ej2-data/src/manager.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/list-view.js","../../node_modules/@syncfusion/ej2-inputs/src/input/input.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/virtualization.js","../../src/common/menu-base.js","../../src/context-menu/context-menu.js","../../src/menu/menu.js","../../src/tab/tab.js","../../node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/form-validator/form-validator.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/maskedtextbox/maskedtextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","../../node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/progress-button/progress-button.js","../../node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","../../node_modules/@syncfusion/ej2-inputs/src/textbox/textbox.js","../../src/treeview/treeview.js","../../src/sidebar/sidebar.js"],"sourcesContent":["var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    result[key] = extend({}, clone, copy, deep);\n                }\n                else {\n                    clone = src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n * @return {any}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function uniqueID() {\n    // tslint:disable-next-line:no-any\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // tslint:disable-next-line:no-any\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    //tslint:disable-next-line\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    for (i = 0; i < elem.ej2_instances.length; i++) {\n        instance = elem.ej2_instances[i];\n        var compName = instance.getModuleName();\n        if (comp === compName) {\n            return instance;\n        }\n    }\n    return undefined;\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i], instance);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue, this);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    /**\n     * Returns the First Day of the Week\n     * @returns {number}\n     */\n    Internationalization.prototype.getFirstDayOfWeek = function () {\n        return IntlBase.getWeekData(this.getCulture(), cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (strs) {\n                    strs = strs.trim();\n                    return addNameSpace(strs, !(QUOTES.test(strs)) && (localKeys.indexOf(strs) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft() - (popupRect ? popupRect.width : 0);\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\nfunction setPopup(element, pos, elementRect) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                this.element.style.left = data.left + 'px';\n                this.element.style.top = data.top + 'px';\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     * @param { HTMLElement } relativeElement? - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    //Body direct children element traversal\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                siblingsZindex.push(index);\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    return Math.max.apply(Math, finalValue) + 1;\n}\n/**\n * Gets the maximum z-index of the page.\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    return Math.max.apply(Math, maxZindex) + 1;\n}\n","import { detach, getUniqueID, rippleEffect, setValue, attributes } from '@syncfusion/ej2-base';\nimport { getValue, addClass, deleteObject } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n * @private\n */\nexport function wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    var input = element;\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition', 'id'];\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        attributes(element, { 'class': WRAPPER, 'role': role, 'aria-checked': 'false' });\n        element.appendChild(input);\n        setValue('ej2_instances', ejInstance, input);\n        deleteObject(element, 'ej2_instances');\n    }\n    return input;\n}\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n * @private\n */\nexport function destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        detach(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n    }\n}\nexport function preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = getUniqueID('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n * @private\n */\nexport function createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label', innerHTML: options.label });\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID, makeElement) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","import { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n    li: 'e-list-item',\n    ul: 'e-list-parent e-ul',\n    group: 'e-list-group-item',\n    icon: 'e-list-icon',\n    text: 'e-list-text',\n    check: 'e-list-check',\n    checked: 'e-checked',\n    selected: 'e-selected',\n    expanded: 'e-expanded',\n    textContent: 'e-text-content',\n    hasChild: 'e-has-child',\n    level: 'e-level',\n    url: 'e-list-url',\n    collapsible: 'e-icon-collapsible',\n    disabled: 'e-disabled',\n    image: 'e-list-img',\n    iconWrapper: 'e-icon-wrapper'\n};\n/**\n * Base List Generator\n */\nexport var ListBase;\n(function (ListBase) {\n    /**\n     * Default mapped fields.\n     */\n    ListBase.defaultMappedFields = {\n        id: 'id',\n        text: 'text',\n        url: 'url',\n        value: 'value',\n        isChecked: 'isChecked',\n        enabled: 'enabled',\n        expanded: 'expanded',\n        selected: 'selected',\n        iconCss: 'iconCss',\n        child: 'child',\n        isVisible: 'isVisible',\n        hasChildren: 'hasChildren',\n        tooltip: 'tooltip',\n        htmlAttributes: 'htmlAttributes',\n        urlAttributes: 'urlAttributes',\n        imageAttributes: 'imageAttributes',\n        imageUrl: 'imageUrl',\n        groupBy: null\n    };\n    var defaultAriaAttributes = {\n        level: 1,\n        listRole: 'presentation',\n        itemRole: 'presentation',\n        groupItemRole: 'group',\n        itemText: 'list-item',\n        wrapperRole: 'presentation'\n    };\n    var defaultListBaseOptions = {\n        showCheckBox: false,\n        showIcon: false,\n        expandCollapse: false,\n        fields: ListBase.defaultMappedFields,\n        ariaAttributes: defaultAriaAttributes,\n        listClass: '',\n        itemClass: '',\n        processSubChild: false,\n        sortOrder: 'None',\n        template: null,\n        groupTemplate: null,\n        headerTemplate: null,\n        expandIconClass: 'e-icon-collapsible',\n        moduleName: 'list',\n        expandIconPosition: 'Right'\n    };\n    /**\n     * Function helps to created and return the UL Li element based on your data.\n     * @param  {{[key:string]:Object}[]|string[]} dataSource - Specifies an array of JSON or String data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createList(createElement, dataSource, options, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var type = typeofData(dataSource).typeof;\n        if (type === 'string' || type === 'number') {\n            return createListFromArray(createElement, dataSource, isSingleLevel, options);\n        }\n        else {\n            return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel);\n        }\n    }\n    ListBase.createList = createList;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options);\n        return generateUL(createElement, subChild, null, options);\n    }\n    ListBase.createListFromArray = createListFromArray;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListItemFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = [];\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            var li = void 0;\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    options: curOpt\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (isSingleLevel) {\n                li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, dataSource[i], undefined, null, null, options);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    item: li,\n                    options: curOpt\n                };\n                curOpt.itemCreated(curData);\n            }\n            subChild.push(li);\n        }\n        return subChild;\n    }\n    ListBase.createListItemFromArray = createListItemFromArray;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    function createListItemFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var id;\n        if (level) {\n            ariaAttributes.level = level;\n        }\n        var child = [];\n        var li;\n        if (dataSource && dataSource.length && !isNullOrUndefined(typeofData(dataSource).item) &&\n            !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n            id = generateId(); // generate id for drop-down-list option.\n        }\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            var curItem = dataSource[i];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n            }\n            if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n                id = fieldData.id;\n            }\n            var innerEle = [];\n            if (curOpt.showCheckBox) {\n                innerEle.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n            }\n            if (isSingleLevel === true) {\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !isNullOrUndefined(fieldData[fields.iconCss])) {\n                    innerEle.push(createElement('span', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] }));\n                }\n                li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, (curItem.hasOwnProperty('isHeader') &&\n                    curItem.isHeader) ? true : false, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options);\n                li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n                li.setAttribute('aria-level', ariaAttributes.level.toString());\n                if (fieldData.hasOwnProperty(fields.tooltip)) {\n                    li.setAttribute('title', fieldData[fields.tooltip]);\n                }\n                if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                    setAttribute(li, fieldData[fields.htmlAttributes]);\n                }\n                if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n                    li.classList.add(cssClass.disabled);\n                }\n                if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n                    li.style.display = 'none';\n                }\n                if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])) {\n                    var attr = { src: fieldData[fields.imageUrl] };\n                    merge(attr, fieldData[fields.imageAttributes]);\n                    prepend([createElement('img', { className: cssClass.image, attrs: attr })], li.firstElementChild);\n                }\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) &&\n                    !isNullOrUndefined(fieldData[fields.iconCss]) && !curOpt.template) {\n                    prepend([createElement('div', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] })], li.firstElementChild);\n                }\n                if (innerEle.length) {\n                    prepend(innerEle, li.firstElementChild);\n                }\n                processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            child.push(li);\n        }\n        return child;\n    }\n    ListBase.createListItemFromJson = createListItemFromJson;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createListFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel);\n        return generateUL(createElement, li, curOpt.listClass, options);\n    }\n    ListBase.createListFromJson = createListFromJson;\n    /**\n     * Return the next or previous visible element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n     * @param  {Element} li - An element to find next or previous after this element.\n     * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n     */\n    function getSiblingLI(elementArray, element, isPrevious) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        if (!elementArray || !elementArray.length) {\n            return void 0;\n        }\n        var siblingLI;\n        var liIndex;\n        var liCollections = Array.prototype.slice.call(elementArray);\n        if (element) {\n            liIndex = indexOf(element, liCollections);\n        }\n        else {\n            liIndex = (isPrevious === true ? liCollections.length : -1);\n        }\n        siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n        while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n            liIndex = liIndex + (isPrevious === true ? -1 : 1);\n            siblingLI = liCollections[liIndex];\n        }\n        return siblingLI;\n    }\n    ListBase.getSiblingLI = getSiblingLI;\n    /**\n     * Return the index of the li element\n     * @param  {Element} item - An element to find next or previous after this element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find index of given li.\n     */\n    function indexOf(item, elementArray) {\n        if (!elementArray || !item) {\n            return void 0;\n        }\n        else {\n            var liCollections = elementArray;\n            liCollections = Array.prototype.slice.call(elementArray);\n            return liCollections.indexOf(item);\n        }\n    }\n    ListBase.indexOf = indexOf;\n    /**\n     * Returns the grouped data from given dataSource.\n     * @param  {{[key:string]:Object}[]} dataSource - The JSON data which is necessary to process.\n     * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n     * @param  {SortOrder='None'} sortOrder- Specifies final result sort order.\n     */\n    function groupDataSource(dataSource, fields, sortOrder) {\n        if (sortOrder === void 0) { sortOrder = 'None'; }\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var cusQuery = new Query().group(curFields.groupBy);\n        // need to remove once sorting issues fixed in DataManager\n        cusQuery = addSorting(sortOrder, 'key', cusQuery);\n        var ds = getDataSource(dataSource, cusQuery);\n        dataSource = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            var grpItem = {};\n            var hdr = 'isHeader';\n            grpItem[curFields.text] = ds[j].key;\n            grpItem[hdr] = true;\n            grpItem.id = 'group-list-item-' + (ds[j].key ?\n                ds[j].key.toString().trim() : 'undefined');\n            grpItem.items = itemObj;\n            dataSource.push(grpItem);\n            for (var k = 0; k < itemObj.length; k++) {\n                dataSource.push(itemObj[k]);\n            }\n        }\n        return dataSource;\n    }\n    ListBase.groupDataSource = groupDataSource;\n    /**\n     * Returns a sorted query object.\n     * @param  {SortOrder} sortOrder - Specifies that sort order.\n     * @param  {string} sortBy - Specifies sortBy fields.\n     * @param  {Query=new Query()} query - Pass if any existing query.\n     */\n    function addSorting(sortOrder, sortBy, query) {\n        if (query === void 0) { query = new Query(); }\n        if (sortOrder === 'Ascending') {\n            query.sortBy(sortBy, 'ascending', true);\n        }\n        else if (sortOrder === 'Descending') {\n            query.sortBy(sortBy, 'descending', true);\n        }\n        else {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i].fn === 'onSortBy') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    }\n    ListBase.addSorting = addSorting;\n    /**\n     * Return an array of JSON Data that processed based on queries.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {Query} query - Specifies query that need to process.\n     */\n    function getDataSource(dataSource, query) {\n        // tslint:disable-next-line\n        return new DataManager(dataSource)\n            .executeLocal(query);\n    }\n    ListBase.getDataSource = getDataSource;\n    /**\n     * Created JSON data based the UL and LI element\n     * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function createJsonFromElement(element, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var curEle = element.cloneNode(true);\n        var jsonAr = [];\n        curEle.classList.add('json-parent');\n        var childs = curEle.querySelectorAll('.json-parent>li');\n        curEle.classList.remove('json-parent');\n        for (var i = 0; i < childs.length; i++) {\n            var li = childs[i];\n            var anchor = li.querySelector('a');\n            var ul = li.querySelector('ul');\n            var json = {};\n            var childNodes = anchor ? anchor.childNodes : li.childNodes;\n            var keys = Object.keys(childNodes);\n            for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n                if (!(childNodes[Number(keys[i_1])]).hasChildNodes()) {\n                    json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n                }\n            }\n            json[fields.id] = generateId();\n            var attributes_1 = getAllAttributes(li);\n            if (Object.keys(attributes_1).length) {\n                json[fields.htmlAttributes] = attributes_1;\n            }\n            if (anchor) {\n                attributes_1 = getAllAttributes(anchor);\n                if (Object.keys(attributes_1).length) {\n                    json[fields.urlAttributes] = attributes_1;\n                }\n            }\n            if (ul) {\n                json[fields.child] = createJsonFromElement(ul, options);\n            }\n            jsonAr.push(json);\n        }\n        return jsonAr;\n    }\n    ListBase.createJsonFromElement = createJsonFromElement;\n    function typeofData(data) {\n        var match = { typeof: null, item: null };\n        for (var i = 0; i < data.length; i++) {\n            if (!isNullOrUndefined(data[i])) {\n                return match = { typeof: typeof data[i], item: data[i] };\n            }\n        }\n        return match;\n    }\n    function setAttribute(element, elementAttributes) {\n        var attr = {};\n        merge(attr, elementAttributes);\n        if (attr.class) {\n            addClass([element], attr.class.split(' '));\n            delete attr.class;\n        }\n        attributes(element, attr);\n    }\n    function getAllAttributes(element) {\n        var attributes = {};\n        var attr = element.attributes;\n        for (var index = 0; index < attr.length; index++) {\n            attributes[attr[index].nodeName] = attr[index].nodeValue;\n        }\n        return attributes;\n    }\n    /**\n     * Created UL element from content template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function renderContentTemplate(createElement, template, dataSource, fields, options) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        var ulElement = createElement('ul', { className: cssClass.ul, attrs: { role: 'presentation' } });\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var compiledString = compile(template);\n        var liCollection = [];\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], curFields);\n            var curItem = dataSource[i];\n            var isHeader = curItem.isHeader;\n            var value = fieldData[curFields.value];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], curFields);\n                value = fieldData[curFields.value];\n            }\n            var li = createElement('li', {\n                id: id + '-' + i,\n                className: isHeader ? cssClass.group : cssClass.li, attrs: { role: 'presentation' }\n            });\n            if (isHeader) {\n                li.innerText = fieldData[curFields.text];\n            }\n            else {\n                append(compiledString(curItem), li);\n                li.setAttribute('data-value', value);\n                li.setAttribute('role', 'option');\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    item: li,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreated(curData);\n            }\n            liCollection.push(li);\n        }\n        append(liCollection, ulElement);\n        return ulElement;\n    }\n    ListBase.renderContentTemplate = renderContentTemplate;\n    /**\n     * Created header items from group template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n     * @param  {Element[]} headerItems? - Specifies listbase header items.\n     */\n    function renderGroupTemplate(groupTemplate, groupDataSource, fields, headerItems) {\n        var compiledString = compile(groupTemplate);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var category = curFields.groupBy;\n        for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n            var header = headerItems_1[_i];\n            var headerData = {};\n            headerData[category] = header.textContent;\n            header.innerHTML = '';\n            append(compiledString(headerData), header);\n        }\n        return headerItems;\n    }\n    ListBase.renderGroupTemplate = renderGroupTemplate;\n    function generateId() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    ListBase.generateId = generateId;\n    function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n        // Get SubList   \n        var subDS = fieldData[fields.child] || [];\n        var hasChildren = fieldData[fields.hasChildren];\n        //Create Sub child\n        if (subDS.length) {\n            hasChildren = true;\n            element.classList.add(cssClass.hasChild);\n            if (options.processSubChild) {\n                var subLi = createListFromJson(createElement, subDS, options, ++level);\n                element.appendChild(subLi);\n            }\n        }\n        // Create expand and collapse node\n        if (!!options.expandCollapse && hasChildren && !options.template) {\n            element.firstElementChild.classList.add(cssClass.iconWrapper);\n            var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n            expandElement([createElement('div', { className: 'e-icons ' + options.expandIconClass })], element.querySelector('.' + cssClass.textContent));\n        }\n    }\n    function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var value = item;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n            dataSource = item;\n            text = (typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number') ?\n                fieldData[fields.text] : (fieldData[fields.text] || '');\n            value = fieldData[fields.value];\n        }\n        var elementID;\n        if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id])\n            && fieldData[fields.id] !== '') {\n            elementID = id;\n        }\n        else {\n            elementID = id + '-' + index;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            id: elementID, attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n            li.classList.add(cssClass.disabled);\n        }\n        if (grpLI) {\n            li.innerText = text;\n        }\n        else {\n            if (!isNullOrUndefined(value)) {\n                li.setAttribute('data-value', value);\n            }\n            li.setAttribute('role', 'option');\n            if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                setAttribute(li, fieldData[fields.htmlAttributes]);\n            }\n            if (innerElements.length) {\n                append(innerElements, li);\n            }\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                li.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                li.appendChild(document.createTextNode(text));\n            }\n        }\n        return li;\n    }\n    function getModuleClass(moduleName) {\n        var moduleClass;\n        return moduleClass = {\n            li: \"e-\" + moduleName + \"-item\",\n            ul: \"e-\" + moduleName + \"-parent e-ul\",\n            group: \"e-\" + moduleName + \"-group-item\",\n            icon: \"e-\" + moduleName + \"-icon\",\n            text: \"e-\" + moduleName + \"-text\",\n            check: \"e-\" + moduleName + \"-check\",\n            checked: 'e-checked',\n            selected: 'e-selected',\n            expanded: 'e-expanded',\n            textContent: 'e-text-content',\n            hasChild: 'e-has-child',\n            level: 'e-level',\n            url: \"e-\" + moduleName + \"-url\",\n            collapsible: 'e-icon-collapsible',\n            disabled: 'e-disabled',\n            image: \"e-\" + moduleName + \"-img\",\n            iconWrapper: 'e-icon-wrapper'\n        };\n    }\n    function anchorTag(createElement, dataSource, fields, text) {\n        var fieldData = getFieldValues(dataSource, fields);\n        var attr = { href: fieldData[fields.url] };\n        if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n            merge(attr, fieldData[fields.urlAttributes]);\n        }\n        var anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url, innerHTML: text });\n        setAttribute(anchorTag, attr);\n        return anchorTag;\n    }\n    /* tslint:disable:align */\n    function generateLI(createElement, item, fieldData, fields, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var uID;\n        var grpLI;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number') {\n            dataSource = item;\n            text = fieldData[fields.text] || '';\n            uID = fieldData[fields.id];\n            grpLI = (item.hasOwnProperty('isHeader') && item.isHeader)\n                ? true : false;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        !isNullOrUndefined(uID) ? li.setAttribute('data-uid', uID) : li.setAttribute('data-uid', generateId());\n        if (grpLI && options && options.groupTemplate) {\n            var compiledString = compile(options.groupTemplate);\n            append(compiledString(item), li);\n        }\n        else if (!grpLI && options && options.template) {\n            var compiledString = compile(options.template);\n            append(compiledString(item), li);\n        }\n        else {\n            var innerDiv = createElement('div', {\n                className: cssClass.textContent,\n                attrs: (ariaAttributes.wrapperRole !== '' ? { role: ariaAttributes.wrapperRole } : {})\n            });\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                innerDiv.appendChild(createElement('span', {\n                    className: cssClass.text, innerHTML: text,\n                    attrs: (ariaAttributes.itemText !== '' ? { role: ariaAttributes.itemText } : {})\n                }));\n            }\n            li.appendChild(innerDiv);\n        }\n        return li;\n    }\n    /**\n     * Returns UL element based on the given LI element.\n     * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n     * @param  {string} className? - Specifies class name that need to be added in UL element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateUL(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var ulElement = createElement('ul', {\n            className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.listRole !== '' ? { role: ariaAttributes.listRole } : {})\n        });\n        append(liElement, ulElement);\n        return ulElement;\n    }\n    ListBase.generateUL = generateUL;\n    /**\n     * Returns LI element with additional DIV tag based on the given LI element.\n     * @param  {liElement} liElement - Specifies LI element.\n     * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateIcon(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n        expandElement([createElement('div', {\n                className: 'e-icons ' + curOpt.expandIconClass + ' ' +\n                    (isNullOrUndefined(className) ? '' : className)\n            })], liElement.querySelector('.' + cssClass.textContent));\n        return liElement;\n    }\n    ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n * @param {{[key:string]:Object}|string[]|string} dataSource - Specifies an  JSON or String data.\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\nexport function getFieldValues(dataItem, fields) {\n    var fieldData = {};\n    if (isNullOrUndefined(dataItem) || typeof (dataItem) === 'string' || typeof (dataItem) === 'number'\n        || !isNullOrUndefined(dataItem.isHeader)) {\n        return dataItem;\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n            var field = _a[_i];\n            var dataField = fields[field];\n            var value = !isNullOrUndefined(dataField) &&\n                typeof (dataField) === 'string' ? getValue(dataField, dataItem) : undefined;\n            if (!isNullOrUndefined(value)) {\n                fieldData[dataField] = value;\n            }\n        }\n    }\n    return fieldData;\n}\n","/**\n * MaskedTextBox base module\n */\nimport { EventHandler, isNullOrUndefined, merge, attributes, addClass, removeClass, Browser, extend } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nvar ERROR = 'e-error';\nvar INPUTGROUP = 'e-input-group';\nvar FLOATINPUT = 'e-float-input';\nvar UTILMASK = 'e-utility-mask';\nvar TOPLABEL = 'e-label-top';\nvar BOTTOMLABEL = 'e-label-bottom';\n/**\n * @hidden\n * Built-in masking elements collection.\n */\nexport var regularExpressions = {\n    '0': '[0-9]',\n    '9': '[0-9 ]',\n    '#': '[0-9 +-]',\n    'L': '[A-Za-z]',\n    '?': '[A-Za-z ]',\n    '&': '[^\\x7f ]+',\n    'C': '[^\\x7f]+',\n    'A': '[A-Za-z0-9]',\n    'a': '[A-Za-z0-9 ]',\n};\n/**\n * @hidden\n * Generate required masking elements to the MaskedTextBox from user mask input.\n */\nexport function createMask() {\n    attributes(this.element, {\n        'role': 'textbox', 'autocomplete': 'off', 'autocorrect': 'off', 'autocapitalize': 'off',\n        'spellcheck': 'false', 'aria-live': 'assertive', 'aria-valuenow': ''\n    });\n    if (this.mask) {\n        var splitMask = this.mask.split(']');\n        for (var i = 0; i < splitMask.length; i++) {\n            if (splitMask[i][splitMask[i].length - 1] === '\\\\') {\n                splitMask[i] = splitMask[i] + ']';\n                var splitInnerMask = splitMask[i].split('[');\n                for (var j = 0; j < splitInnerMask.length; j++) {\n                    if (splitInnerMask[j][splitInnerMask[j].length - 1] === '\\\\') {\n                        splitInnerMask[j] = splitInnerMask[j] + '[';\n                    }\n                    pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                }\n            }\n            else {\n                var splitInnerMask = splitMask[i].split('[');\n                if (splitInnerMask.length > 1) {\n                    var chkSpace = false;\n                    for (var j = 0; j < splitInnerMask.length; j++) {\n                        if (splitInnerMask[j] === '\\\\') {\n                            this.customRegExpCollec.push('[');\n                            this.hiddenMask += splitInnerMask[j] + '[';\n                        }\n                        else if (splitInnerMask[j] === '') {\n                            chkSpace = true;\n                        }\n                        else if ((splitInnerMask[j] !== '' && chkSpace) || j === splitInnerMask.length - 1) {\n                            this.customRegExpCollec.push('[' + splitInnerMask[j] + ']');\n                            this.hiddenMask += this.promptChar;\n                            chkSpace = false;\n                        }\n                        else {\n                            pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                        }\n                    }\n                }\n                else {\n                    pushIntoRegExpCollec.call(this, splitInnerMask[0]);\n                }\n            }\n        }\n        this.escapeMaskValue = this.hiddenMask;\n        this.promptMask = this.hiddenMask.replace(/[09?LCAa#&]/g, this.promptChar);\n        if (!isNullOrUndefined(this.customCharacters)) {\n            for (var i = 0; i < this.promptMask.length; i++) {\n                if (!isNullOrUndefined(this.customCharacters[this.promptMask[i]])) {\n                    this.promptMask = this.promptMask.replace(new RegExp(this.promptMask[i], 'g'), this.promptChar);\n                }\n            }\n        }\n        var escapeNumber = 0;\n        if (this.hiddenMask.match(new RegExp(/\\\\/))) {\n            for (var i = 0; i < this.hiddenMask.length; i++) {\n                var j = 0;\n                if (i >= 2) {\n                    j = i;\n                }\n                escapeNumber = this.hiddenMask.length - this.promptMask.length;\n                j = j - escapeNumber;\n                if ((i > 0 && this.hiddenMask[i - 1] !== '\\\\') && (this.hiddenMask[i] === '>' ||\n                    this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|')) {\n                    this.promptMask = this.promptMask.substring(0, j) +\n                        this.promptMask.substring((i + 1) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) +\n                        this.escapeMaskValue.substring((i + 1) - escapeNumber, this.escapeMaskValue.length);\n                }\n                if (this.hiddenMask[i] === '\\\\') {\n                    this.promptMask = this.promptMask.substring(0, j) + this.hiddenMask[i + 1] +\n                        this.promptMask.substring((i + 2) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) + this.escapeMaskValue[i + 1] +\n                        this.escapeMaskValue.substring((i + 2) - escapeNumber, this.escapeMaskValue.length);\n                }\n            }\n        }\n        else {\n            this.promptMask = this.promptMask.replace(/[>|<]/g, '');\n            this.escapeMaskValue = this.hiddenMask.replace(/[>|<]/g, '');\n        }\n        attributes(this.element, { 'aria-invalid': 'false' });\n    }\n}\n/**\n * @hidden\n * Apply mask ability with masking elements to the MaskedTextBox.\n */\nexport function applyMask() {\n    setElementValue.call(this, this.promptMask);\n    setMaskValue.call(this, this.value);\n}\n/**\n * @hidden\n * To wire required events to the MaskedTextBox.\n */\nexport function wireEvents() {\n    EventHandler.add(this.element, 'keydown', maskInputKeyDownHandler, this);\n    EventHandler.add(this.element, 'keypress', maskInputKeyPressHandler, this);\n    EventHandler.add(this.element, 'keyup', maskInputKeyUpHandler, this);\n    EventHandler.add(this.element, 'input', maskInputHandler, this);\n    EventHandler.add(this.element, 'focus', maskInputFocusHandler, this);\n    EventHandler.add(this.element, 'blur', maskInputBlurHandler, this);\n    EventHandler.add(this.element, 'paste', maskInputPasteHandler, this);\n    EventHandler.add(this.element, 'cut', maskInputCutHandler, this);\n    EventHandler.add(this.element, 'drop', maskInputDropHandler, this);\n    if (this.enabled) {\n        bindClearEvent.call(this);\n    }\n}\n/**\n * @hidden\n * To unwire events attached to the MaskedTextBox.\n */\nexport function unwireEvents() {\n    EventHandler.remove(this.element, 'keydown', maskInputKeyDownHandler);\n    EventHandler.remove(this.element, 'keypress', maskInputKeyPressHandler);\n    EventHandler.remove(this.element, 'keyup', maskInputKeyUpHandler);\n    EventHandler.remove(this.element, 'input', maskInputHandler);\n    EventHandler.remove(this.element, 'focus', maskInputFocusHandler);\n    EventHandler.remove(this.element, 'blur', maskInputBlurHandler);\n    EventHandler.remove(this.element, 'paste', maskInputPasteHandler);\n    EventHandler.remove(this.element, 'cut', maskInputCutHandler);\n}\n/**\n * @hidden\n * To bind required events to the MaskedTextBox clearButton.\n */\nexport function bindClearEvent() {\n    if (this.showClearButton) {\n        EventHandler.add(this.inputObj.clearButton, 'mousedown touchstart', resetHandler, this);\n    }\n}\nfunction resetHandler(e) {\n    e.preventDefault();\n    if (!this.inputObj.clearButton.classList.contains('e-clear-icon-hide')) {\n        clear.call(this, e);\n    }\n}\nfunction clear(event) {\n    var value = this.element.value;\n    setElementValue.call(this, this.promptMask);\n    this.redoCollec.unshift({\n        value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n    });\n    triggerMaskChangeEvent.call(this, event, value);\n    this.element.setSelectionRange(0, 0);\n}\n/**\n * @hidden\n * To get masked value from the MaskedTextBox.\n */\nexport function unstrippedValue(element) {\n    return element.value;\n}\n/**\n * @hidden\n * To extract raw value from the MaskedTextBox.\n */\nexport function strippedValue(element, maskValues) {\n    var value = '';\n    var k = 0;\n    var checkMask = false;\n    var maskValue = (!isNullOrUndefined(maskValues)) ? maskValues : (!isNullOrUndefined(element) &&\n        !isNullOrUndefined(this)) ? element.value : maskValues;\n    if (maskValue !== this.promptMask) {\n        for (var i = 0; i < this.customRegExpCollec.length; i++) {\n            if (checkMask) {\n                checkMask = false;\n            }\n            if (this.customRegExpCollec[k] === '>' || this.customRegExpCollec[k] === '<' ||\n                this.customRegExpCollec[k] === '|' || this.customRegExpCollec[k] === '\\\\') {\n                --i;\n                checkMask = true;\n            }\n            if (!checkMask) {\n                if ((maskValue[i] !== this.promptChar) && (!isNullOrUndefined(this.customRegExpCollec[k]) &&\n                    ((!isNullOrUndefined(this.regExpCollec[this.customRegExpCollec[k]])) ||\n                        (this.customRegExpCollec[k].length > 2 && this.customRegExpCollec[k][0] === '[' &&\n                            this.customRegExpCollec[k][this.customRegExpCollec[k].length - 1] === ']') ||\n                        (!isNullOrUndefined(this.customCharacters) &&\n                            (!isNullOrUndefined(this.customCharacters[this.customRegExpCollec[k]]))))) && (maskValue !== '')) {\n                    value += maskValue[i];\n                }\n            }\n            ++k;\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        value = maskValue;\n    }\n    return value;\n}\nfunction pushIntoRegExpCollec(value) {\n    for (var k = 0; k < value.length; k++) {\n        this.hiddenMask += value[k];\n        if (value[k] !== '\\\\') {\n            this.customRegExpCollec.push(value[k]);\n        }\n    }\n}\nexport function maskInputFocusHandler(event) {\n    var _this = this;\n    if (this.promptMask.length > 0) {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.promptMask.length };\n    }\n    else {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.element.value.length };\n    }\n    var eventArgs = {};\n    merge(eventArgs, this.focusEventArgs);\n    this.trigger('focus', eventArgs);\n    this.focusEventArgs = eventArgs;\n    if (this.mask) {\n        this.isFocus = true;\n        if (this.element.value === '') {\n            setElementValue.call(this, this.promptMask);\n        }\n        else {\n            setElementValue.call(this, this.element.value);\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0') {\n            this.element.setSelectionRange(this.focusEventArgs.selectionStart, this.focusEventArgs.selectionEnd);\n        }\n        else {\n            var delay = (Browser.isDevice && Browser.isIos) ? 450 : 0;\n            setTimeout(function () {\n                _this.element.setSelectionRange(_this.focusEventArgs.selectionStart, _this.focusEventArgs.selectionEnd);\n            }, delay);\n        }\n    }\n}\nexport function maskInputBlurHandler(event) {\n    if (this.mask) {\n        this.isFocus = false;\n        if (this.placeholder && this.element.value === this.promptMask && this.floatLabelType !== 'Always') {\n            setElementValue.call(this, '');\n            var labelElement = this.element.parentNode.querySelector('.e-float-text');\n            if (this.floatLabelType === 'Auto' && !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL)) {\n                removeClass([labelElement], TOPLABEL);\n            }\n        }\n    }\n}\nfunction maskInputPasteHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var sIndex_1 = this.element.selectionStart;\n        var eIndex_1 = this.element.selectionEnd;\n        var oldValue_1 = this.element.value;\n        setElementValue.call(this, '');\n        this._callPasteHandler = true;\n        setTimeout(function () {\n            var value = _this.element.value.replace(/ /g, '');\n            if (_this.redoCollec.length > 0 && _this.redoCollec[0].value === _this.element.value) {\n                value = strippedValue.call(_this, _this.element);\n            }\n            setElementValue.call(_this, oldValue_1);\n            _this.element.selectionStart = sIndex_1;\n            _this.element.selectionEnd = eIndex_1;\n            var i = 0;\n            _this.maskKeyPress = true;\n            do {\n                validateValue.call(_this, value[i], false, null);\n                ++i;\n            } while (i < value.length);\n            _this.maskKeyPress = false;\n            _this._callPasteHandler = false;\n            if (_this.element.value === oldValue_1) {\n                var i_1 = 0;\n                _this.maskKeyPress = true;\n                do {\n                    validateValue.call(_this, value[i_1], false, null);\n                    ++i_1;\n                } while (i_1 < value.length);\n                _this.maskKeyPress = false;\n            }\n            else {\n                triggerMaskChangeEvent.call(_this, event, oldValue_1);\n            }\n        }, 1);\n    }\n}\nfunction maskInputCutHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var preValue_1 = this.element.value;\n        var sIndex_2 = this.element.selectionStart;\n        var eIndex = this.element.selectionEnd;\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd });\n        var value_1 = this.element.value.substring(0, sIndex_2) + this.promptMask.substring(sIndex_2, eIndex) +\n            this.element.value.substring(eIndex);\n        setTimeout(function () {\n            setElementValue.call(_this, value_1);\n            _this.element.selectionStart = _this.element.selectionEnd = sIndex_2;\n            if (_this.element.value !== preValue_1) {\n                triggerMaskChangeEvent.call(_this, event, null);\n            }\n        }, 0);\n    }\n}\nexport function maskInputDropHandler(event) {\n    event.preventDefault();\n}\nfunction maskInputHandler(event) {\n    if (Browser.isIE === true && this.element.value === '' && this.floatLabelType === 'Never') {\n        return;\n    }\n    var eventArgs = { ctrlKey: false, keyCode: 229 };\n    // tslint:disable-next-line\n    extend(event, eventArgs);\n    if (this.mask) {\n        if (this.element.value === '') {\n            this.redoCollec.unshift({\n                value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n            });\n        }\n        if (this.element.value.length === 1) {\n            this.element.value = this.element.value + this.promptMask;\n            this.element.setSelectionRange(1, 1);\n        }\n        if (!this._callPasteHandler) {\n            removeMaskInputValues.call(this, event);\n        }\n        if (this.element.value.length > this.promptMask.length) {\n            var startIndex = this.element.selectionStart;\n            var addedValues = this.element.value.length - this.promptMask.length;\n            var value = this.element.value.substring(startIndex - addedValues, startIndex);\n            this.maskKeyPress = false;\n            var i = 0;\n            do {\n                validateValue.call(this, value[i], event.ctrlKey, event);\n                ++i;\n            } while (i < value.length);\n            if (this.element.value !== this.preEleVal) {\n                triggerMaskChangeEvent.call(this, event, null);\n            }\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (val === '') {\n            setElementValue.call(this, this.promptMask);\n            this.element.setSelectionRange(0, 0);\n        }\n    }\n}\nfunction maskInputKeyDownHandler(event) {\n    if (this.mask) {\n        var value = this;\n        if (event.keyCode !== 229) {\n            if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n                event.preventDefault();\n            }\n            removeMaskInputValues.call(this, event);\n        }\n        var startValue = this.element.value;\n        if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n            var collec = void 0;\n            if (event.keyCode === 90 && this.undoCollec.length > 0 && startValue !== this.undoCollec[this.undoCollec.length - 1].value) {\n                collec = this.undoCollec[this.undoCollec.length - 1];\n                this.redoCollec.unshift({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.undoCollec.splice(this.undoCollec.length - 1, 1);\n            }\n            else if (event.keyCode === 89 && this.redoCollec.length > 0 && startValue !== this.redoCollec[0].value) {\n                collec = this.redoCollec[0];\n                this.undoCollec.push({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.redoCollec.splice(0, 1);\n            }\n        }\n    }\n}\nexport function mobileRemoveFunction() {\n    var collec;\n    var sIndex = this.element.selectionStart;\n    var eIndex = this.element.selectionEnd;\n    if (this.redoCollec.length > 0) {\n        collec = this.redoCollec[0];\n        setElementValue.call(this, collec.value);\n        if ((collec.startIndex - sIndex) === 1) {\n            this.element.selectionStart = collec.startIndex;\n            this.element.selectionEnd = collec.endIndex;\n        }\n        else {\n            this.element.selectionStart = sIndex + 1;\n            this.element.selectionEnd = eIndex + 1;\n        }\n    }\n    else {\n        setElementValue.call(this, this.promptMask);\n        this.element.selectionStart = this.element.selectionEnd = sIndex;\n    }\n}\nfunction autoFillMaskInputValues(isRemove, oldEventVal, event) {\n    if (event.type === 'input') {\n        isRemove = false;\n        oldEventVal = this.element.value;\n        setElementValue.call(this, this.promptMask);\n        setMaskValue.call(this, oldEventVal);\n    }\n    return isRemove;\n}\nfunction removeMaskInputValues(event) {\n    var isRemove = false;\n    var oldEventVal;\n    var isDeleted = false;\n    if (this.element.value.length < this.promptMask.length) {\n        isRemove = true;\n        oldEventVal = this.element.value;\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n        mobileRemoveFunction.call(this);\n    }\n    if (this.element.value.length >= this.promptMask.length && event.type === 'input') {\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n    }\n    var initStartIndex = this.element.selectionStart;\n    var initEndIndex = this.element.selectionEnd;\n    var startIndex = this.element.selectionStart;\n    var endIndex = this.element.selectionEnd;\n    var maskValue = this.hiddenMask.replace(/[>|\\\\<]/g, '');\n    var curMask = maskValue[startIndex - 1];\n    var parentElement = this.element.parentNode;\n    if (isRemove || event.keyCode === 8 || event.keyCode === 46) {\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: endIndex });\n        var multipleDel = false;\n        var preValue = this.element.value;\n        if (startIndex > 0 || ((event.keyCode === 8 || event.keyCode === 46) && startIndex < this.element.value.length\n            && ((this.element.selectionEnd - startIndex) !== this.element.value.length))) {\n            var index = startIndex;\n            if (startIndex !== endIndex) {\n                startIndex = endIndex;\n                if (event.keyCode === 46) {\n                    multipleDel = true;\n                }\n            }\n            else if (event.keyCode === 46) {\n                ++index;\n            }\n            else {\n                --index;\n            }\n            for (var k = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? k > index : k < index; (event.keyCode === 8 || isRemove || multipleDel) ? k-- : k++) {\n                for (var i = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? i > 0 : i < this.element.value.length; (event.keyCode === 8 || isRemove || multipleDel) ? i-- : i++) {\n                    var sIndex = void 0;\n                    if (((event.keyCode === 8 || multipleDel) && ((initStartIndex !== initEndIndex && initStartIndex !== startIndex) ||\n                        (initStartIndex === initEndIndex))) || isRemove) {\n                        curMask = maskValue[i - 1];\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        curMask = maskValue[i];\n                        sIndex = startIndex;\n                        ++startIndex;\n                    }\n                    var oldValue = this.element.value[sIndex];\n                    if ((isNullOrUndefined(this.regExpCollec[curMask]) && (!isNullOrUndefined(this.customCharacters)\n                        && isNullOrUndefined(this.customCharacters[curMask]))\n                        && ((this.hiddenMask[sIndex] !== this.promptChar && this.customRegExpCollec[sIndex][0] !== '['\n                            && this.customRegExpCollec[sIndex][this.customRegExpCollec[sIndex].length - 1] !== ']')))\n                        || (this.promptMask[sIndex] !== this.promptChar && isNullOrUndefined(this.customCharacters))) {\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        event.preventDefault();\n                        if (event.keyCode === 46 && !multipleDel) {\n                            ++this.element.selectionStart;\n                        }\n                    }\n                    else {\n                        var value = this.element.value;\n                        var prompt_1 = this.promptChar;\n                        var elementValue = value.substring(0, sIndex) + prompt_1 + value.substring(startIndex, value.length);\n                        setElementValue.call(this, elementValue);\n                        event.preventDefault();\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        isDeleted = true;\n                    }\n                    startIndex = this.element.selectionStart;\n                    if ((!isDeleted && event.keyCode === 8) || multipleDel || (!isDeleted && !(event.keyCode === 46))) {\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        sIndex = startIndex;\n                        isDeleted = false;\n                    }\n                    oldValue = this.element.value[sIndex];\n                    if (((initStartIndex !== initEndIndex) && (this.element.selectionStart === initStartIndex))\n                        || (this.promptMask[sIndex] === this.promptChar) || ((oldValue !== this.promptMask[sIndex]) &&\n                        (this.promptMask[sIndex] !== this.promptChar) && !isNullOrUndefined(this.customCharacters))) {\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.element.selectionStart === 0 && (this.element.selectionEnd === this.element.value.length)) {\n            setElementValue.call(this, this.promptMask);\n            event.preventDefault();\n            this.element.selectionStart = this.element.selectionEnd = startIndex;\n        }\n        this.redoCollec.unshift({\n            value: this.element.value, startIndex: this.element.selectionStart,\n            endIndex: this.element.selectionEnd\n        });\n        if (this.element.value !== preValue) {\n            triggerMaskChangeEvent.call(this, event, oldEventVal);\n        }\n    }\n}\nfunction maskInputKeyPressHandler(event) {\n    if (this.mask) {\n        var oldValue = this.element.value;\n        if ((!event.ctrlKey) || (event.ctrlKey && event.code !== 'KeyA' && event.code !== 'KeyY'\n            && event.code !== 'KeyZ' && event.code !== 'KeyX' && event.code !== 'KeyC' && event.code !== 'KeyV')) {\n            this.maskKeyPress = true;\n            var key = event.key;\n            if (key === 'Spacebar') {\n                key = String.fromCharCode(event.keyCode);\n            }\n            if (!key) {\n                this.isIosInvalid = true;\n                validateValue.call(this, String.fromCharCode(event.keyCode), event.ctrlKey, event);\n                event.preventDefault();\n                this.isIosInvalid = false;\n            }\n            else if (key && key.length === 1) {\n                validateValue.call(this, key, event.ctrlKey, event);\n                event.preventDefault();\n            }\n        }\n        if (this.element.value !== oldValue) {\n            triggerMaskChangeEvent.call(this, event, oldValue);\n        }\n    }\n}\nfunction triggerMaskChangeEvent(event, oldValue) {\n    if (!isNullOrUndefined(this.changeEventArgs) && !this.isInitial) {\n        var eventArgs = {};\n        this.changeEventArgs = { value: this.element.value, maskedValue: this.element.value, isInteraction: false };\n        if (this.mask) {\n            this.changeEventArgs.value = strippedValue.call(this, this.element);\n        }\n        if (!isNullOrUndefined(event)) {\n            this.changeEventArgs.isInteraction = true;\n            this.changeEventArgs.event = event;\n        }\n        merge(eventArgs, this.changeEventArgs);\n        this.trigger('change', eventArgs);\n    }\n    this.preEleVal = this.element.value;\n    attributes(this.element, { 'aria-valuenow': this.element.value });\n}\nfunction maskInputKeyUpHandler(event) {\n    if (this.mask) {\n        var collec = void 0;\n        if (!this.maskKeyPress && event.keyCode === 229) {\n            var oldEventVal = void 0;\n            if (this.element.value.length === 1) {\n                this.element.value = this.element.value + this.promptMask;\n                this.element.setSelectionRange(1, 1);\n            }\n            if (this.element.value.length > this.promptMask.length) {\n                var startIndex = this.element.selectionStart;\n                var addedValues = this.element.value.length - this.promptMask.length;\n                var val_1 = this.element.value.substring(startIndex - addedValues, startIndex);\n                if (this.undoCollec.length > 0) {\n                    collec = this.undoCollec[this.undoCollec.length - 1];\n                    var startIndex_1 = this.element.selectionStart;\n                    oldEventVal = collec.value;\n                    var oldVal = collec.value.substring(startIndex_1 - addedValues, startIndex_1);\n                    collec = this.redoCollec[0];\n                    val_1 = val_1.trim();\n                    var isSpace = Browser.isAndroid && val_1 === '';\n                    if (!isSpace && oldVal !== val_1 && collec.value.substring(startIndex_1 - addedValues, startIndex_1) !== val_1) {\n                        validateValue.call(this, val_1, event.ctrlKey, event);\n                    }\n                    else if (isSpace) {\n                        preventUnsupportedValues.call(this, event, startIndex_1 - 1, this.element.selectionEnd - 1, val_1, event.ctrlKey, false);\n                    }\n                }\n                else {\n                    oldEventVal = this.promptMask;\n                    validateValue.call(this, val_1, event.ctrlKey, event);\n                }\n                this.maskKeyPress = false;\n                triggerMaskChangeEvent.call(this, event, oldEventVal);\n            }\n        }\n        else {\n            removeMaskError.call(this);\n        }\n        var val = strippedValue.call(this, this.element);\n        if (!((this.element.selectionStart === 0) && (this.promptMask === this.element.value) && val === '')\n            || (val === '' && this.value !== val)) {\n            this.prevValue = val;\n            this.value = val;\n        }\n    }\n    else {\n        triggerMaskChangeEvent.call(this, event);\n        this.value = this.element.value;\n    }\n    if (this.element.selectionStart === 0 && this.element.selectionEnd === 0) {\n        // tslint:disable-next-line\n        var temp_1 = this.element;\n        setTimeout(function () {\n            temp_1.setSelectionRange(0, 0);\n        }, 0);\n    }\n}\nfunction mobileSwipeCheck(key) {\n    if (key.length > 1 && ((this.promptMask.length + key.length) < this.element.value.length)) {\n        var elementValue = this.redoCollec[0].value.substring(0, this.redoCollec[0].startIndex) + key +\n            this.redoCollec[0].value.substring(this.redoCollec[0].startIndex, this.redoCollec[0].value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = this.redoCollec[0].startIndex + key.length;\n    }\n    this.element.selectionStart = this.element.selectionStart - key.length;\n    this.element.selectionEnd = this.element.selectionEnd - key.length;\n}\nfunction mobileValidation(key) {\n    if (!this.maskKeyPress) {\n        mobileSwipeCheck.call(this, key);\n    }\n}\nfunction validateValue(key, isCtrlKey, event) {\n    mobileValidation.call(this, key);\n    if (isNullOrUndefined(this) || isNullOrUndefined(key)) {\n        return;\n    }\n    var startIndex = this.element.selectionStart;\n    var initStartIndex = startIndex;\n    var endIndex = this.element.selectionEnd;\n    var curMask;\n    var allowText = false;\n    var value = this.element.value;\n    var eventOldVal;\n    var prevSupport = false;\n    var isEqualVal = false;\n    for (var k = 0; k < key.length; k++) {\n        var keyValue = key[k];\n        startIndex = this.element.selectionStart;\n        endIndex = this.element.selectionEnd;\n        if (!this.maskKeyPress && initStartIndex === startIndex) {\n            startIndex = startIndex + k;\n        }\n        if ((!this.maskKeyPress || startIndex < this.promptMask.length)) {\n            for (var i = startIndex; i < this.promptMask.length; i++) {\n                var maskValue = this.escapeMaskValue;\n                curMask = maskValue[startIndex];\n                if (this.hiddenMask[startIndex] === '\\\\' && this.hiddenMask[startIndex + 1] === key) {\n                    isEqualVal = true;\n                }\n                if ((isNullOrUndefined(this.regExpCollec[curMask]) && (isNullOrUndefined(this.customCharacters)\n                    || (!isNullOrUndefined(this.customCharacters) && isNullOrUndefined(this.customCharacters[curMask])))\n                    && ((this.hiddenMask[startIndex] !== this.promptChar && this.customRegExpCollec[startIndex][0] !== '['\n                        && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] !== ']')))\n                    || ((this.promptMask[startIndex] !== this.promptChar) && isNullOrUndefined(this.customCharacters))\n                    || (this.promptChar === curMask && this.escapeMaskValue === this.mask)) {\n                    this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n                    startIndex = this.element.selectionStart;\n                    curMask = this.hiddenMask[startIndex];\n                }\n            }\n            if (!isNullOrUndefined(this.customCharacters) && !isNullOrUndefined(this.customCharacters[curMask])) {\n                var customValStr = this.customCharacters[curMask];\n                var customValArr = customValStr.split(',');\n                for (var i = 0; i < customValArr.length; i++) {\n                    if (keyValue.match(new RegExp('[' + customValArr[i] + ']'))) {\n                        allowText = true;\n                        break;\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.regExpCollec[curMask]) && keyValue.match(new RegExp(this.regExpCollec[curMask]))\n                && this.promptMask[startIndex] === this.promptChar) {\n                allowText = true;\n            }\n            else if (this.promptMask[startIndex] === this.promptChar && this.customRegExpCollec[startIndex][0] === '['\n                && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] === ']'\n                && keyValue.match(new RegExp(this.customRegExpCollec[startIndex]))) {\n                allowText = true;\n            }\n            if ((!this.maskKeyPress || startIndex < this.hiddenMask.length) && allowText) {\n                if (k === 0) {\n                    if (this.maskKeyPress) {\n                        this.undoCollec.push({ value: value, startIndex: startIndex, endIndex: startIndex });\n                    }\n                    else {\n                        var sIndex = this.element.selectionStart;\n                        var eIndex = this.element.selectionEnd;\n                        if (this.redoCollec.length > 0) {\n                            eventOldVal = this.redoCollec[0].value;\n                            setElementValue.call(this, eventOldVal);\n                            this.undoCollec.push(this.redoCollec[0]);\n                        }\n                        else {\n                            this.undoCollec.push({ value: this.promptMask, startIndex: startIndex, endIndex: startIndex });\n                            eventOldVal = this.promptMask;\n                            setElementValue.call(this, eventOldVal);\n                        }\n                        this.element.selectionStart = sIndex;\n                        this.element.selectionEnd = eIndex;\n                    }\n                }\n                startIndex = this.element.selectionStart;\n                applySupportedValues.call(this, event, startIndex, keyValue, eventOldVal, isEqualVal);\n                prevSupport = true;\n                if (k === key.length - 1) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n                allowText = false;\n            }\n            else {\n                startIndex = this.element.selectionStart;\n                preventUnsupportedValues.call(this, event, startIndex, initStartIndex, key, isCtrlKey, prevSupport);\n            }\n            if (k === key.length - 1 && !allowText) {\n                if (!Browser.isAndroid || (Browser.isAndroid && startIndex < this.promptMask.length)) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n            }\n        }\n        else {\n            if (key.length === 1 && !isCtrlKey && !isNullOrUndefined(event)) {\n                addMaskErrorClass.call(this);\n            }\n        }\n    }\n}\nfunction applySupportedValues(event, startIndex, keyValue, eventOldVal, isEqualVal) {\n    if (this.hiddenMask.length > this.promptMask.length) {\n        keyValue = changeToLowerUpperCase.call(this, keyValue, this.element.value);\n    }\n    if (!isEqualVal) {\n        var value = this.element.value;\n        var elementValue = value.substring(0, startIndex) + keyValue + value.substring(startIndex + 1, value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n    }\n}\nfunction preventUnsupportedValues(event, sIdx, idx, key, ctrl, chkSupport) {\n    if (!this.maskKeyPress) {\n        var eventOldVal = void 0;\n        var value = this.element.value;\n        if (sIdx >= this.promptMask.length) {\n            setElementValue.call(this, value.substring(0, sIdx));\n        }\n        else {\n            if (idx === sIdx) {\n                setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx + 1, value.length));\n            }\n            else {\n                if (this.promptMask.length === this.element.value.length) {\n                    setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx, value.length));\n                }\n                else {\n                    setElementValue.call(this, value.substring(0, idx) + value.substring(idx + 1, value.length));\n                }\n            }\n            this.element.selectionStart = this.element.selectionEnd = (chkSupport ||\n                this.element.value[idx] !== this.promptChar) ? sIdx : idx;\n        }\n        eventOldVal = this.element.value;\n        addMaskErrorClass.call(this);\n    }\n    if (key.length === 1 && !ctrl && !isNullOrUndefined(event)) {\n        addMaskErrorClass.call(this);\n    }\n}\nfunction addMaskErrorClass() {\n    var _this = this;\n    var parentElement = this.element.parentNode;\n    var timer = 200;\n    if (parentElement.classList.contains(INPUTGROUP) || parentElement.classList.contains(FLOATINPUT)) {\n        addClass([parentElement], ERROR);\n    }\n    else {\n        addClass([this.element], ERROR);\n    }\n    if (this.isIosInvalid === true) {\n        timer = 400;\n    }\n    attributes(this.element, { 'aria-invalid': 'true' });\n    setTimeout(function () {\n        if (!_this.maskKeyPress) {\n            removeMaskError.call(_this);\n        }\n    }, timer);\n}\nfunction removeMaskError() {\n    var parentElement = this.element.parentNode;\n    removeClass([parentElement], ERROR);\n    removeClass([this.element], ERROR);\n    attributes(this.element, { 'aria-invalid': 'false' });\n}\n/**\n * @hidden\n * Validates user input using masking elements '<' , '>' and '|'.\n */\nfunction changeToLowerUpperCase(key, value) {\n    var promptMask;\n    var i;\n    var j = 0;\n    var curVal = value;\n    var caseCount = 0;\n    for (i = 0; i < this.hiddenMask.length; i++) {\n        if (this.hiddenMask[i] === '\\\\') {\n            promptMask = curVal.substring(0, i) + '\\\\' + curVal.substring(i, curVal.length);\n        }\n        if (this.hiddenMask[i] === '>' || this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|') {\n            if (this.hiddenMask[i] !== curVal[i]) {\n                promptMask = curVal.substring(0, i) + this.hiddenMask[i] + curVal.substring(i, curVal.length);\n            }\n            ++caseCount;\n        }\n        if (promptMask) {\n            if (((promptMask[i] === this.promptChar) && (i > this.element.selectionStart)) ||\n                (this.element.value.indexOf(this.promptChar) < 0 && (this.element.selectionStart + caseCount) === i)) {\n                caseCount = 0;\n                break;\n            }\n            curVal = promptMask;\n        }\n    }\n    while (i >= 0 && promptMask) {\n        if (i === 0 || promptMask[i - 1] !== '\\\\') {\n            var val = this.element.value;\n            if (promptMask[i] === '>') {\n                key = key.toUpperCase();\n                break;\n            }\n            else if (promptMask[i] === '<') {\n                key = key.toLowerCase();\n                break;\n            }\n            else if (promptMask[i] === '|') {\n                break;\n            }\n        }\n        --i;\n    }\n    return key;\n}\n/**\n * @hidden\n * To set updated values in the MaskedTextBox.\n */\nexport function setMaskValue(val) {\n    if (this.mask && val !== undefined && (this.prevValue === undefined || this.prevValue !== val)) {\n        this.maskKeyPress = true;\n        if (val === null && this.floatLabelType === 'Never' && this.placeholder) {\n            setElementValue.call(this, this.promptMask);\n        }\n        else if (val !== '') {\n            setElementValue.call(this, this.promptMask);\n            this.element.selectionStart = 0;\n            this.element.selectionEnd = 0;\n        }\n        if (val !== null) {\n            for (var i = 0; i < val.length; i++) {\n                validateValue.call(this, val[i], false, null);\n            }\n        }\n        var newVal = strippedValue.call(this, this.element);\n        this.prevValue = newVal;\n        this.value = newVal;\n        triggerMaskChangeEvent.call(this, null, null);\n        this.maskKeyPress = false;\n        var labelElement = this.element.parentNode.querySelector('.e-float-text');\n        if (this.element.value === this.promptMask && this.floatLabelType === 'Auto' && this.placeholder &&\n            !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL) && !this.isFocus) {\n            removeClass([labelElement], TOPLABEL);\n            addClass([labelElement], BOTTOMLABEL);\n            setElementValue.call(this, '');\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        setElementValue.call(this, this.value);\n    }\n}\n/**\n * @hidden\n * To set updated values in the input element.\n */\nexport function setElementValue(val, element) {\n    if (!this.isFocus && this.floatLabelType === 'Auto' && this.placeholder && isNullOrUndefined(this.value)) {\n        val = '';\n    }\n    var value = strippedValue.call(this, (element ? element : this.element), val);\n    if (value === null || value === '') {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, false);\n        if (this.showClearButton) {\n            this.inputObj.clearButton.classList.add('e-clear-icon-hide');\n        }\n    }\n    else {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    }\n}\n/**\n * @hidden\n * Provide mask support to input textbox through utility method.\n */\nexport function maskInput(args) {\n    var inputEle = getMaskInput(args);\n    applyMask.call(inputEle);\n    var val = strippedValue.call(this, this.element);\n    this.prevValue = val;\n    this.value = val;\n    if (args.mask) {\n        unwireEvents.call(inputEle);\n        wireEvents.call(inputEle);\n    }\n}\nfunction getMaskInput(args) {\n    addClass([args.element], UTILMASK);\n    var inputEle = {\n        element: args.element,\n        mask: args.mask,\n        promptMask: '',\n        hiddenMask: '',\n        escapeMaskValue: '',\n        promptChar: args.promptChar ? (args.promptChar.length > 1) ? args.promptChar = args.promptChar[0]\n            : args.promptChar : '_',\n        value: args.value ? args.value : null,\n        regExpCollec: regularExpressions,\n        customRegExpCollec: [],\n        customCharacters: args.customCharacters,\n        undoCollec: [],\n        redoCollec: [],\n        maskKeyPress: false,\n        prevValue: ''\n    };\n    createMask.call(inputEle);\n    return inputEle;\n}\n/**\n * @hidden\n * Gets raw value of the textbox which has been masked through utility method.\n */\nexport function getVal(args) {\n    return strippedValue.call(getUtilMaskEle(args), args.element);\n}\n/**\n * @hidden\n * Gets masked value of the textbox which has been masked through utility method.\n */\nexport function getMaskedVal(args) {\n    return unstrippedValue.call(getUtilMaskEle(args), args.element);\n}\nfunction getUtilMaskEle(args) {\n    var value = '';\n    var inputEle;\n    if (!isNullOrUndefined(args) && args.element.classList.contains(UTILMASK)) {\n        inputEle = getMaskInput(args);\n    }\n    return inputEle;\n}\n/**\n * @hidden\n * Arguments to perform undo and redo functionalities.\n */\nvar MaskUndo = /** @class */ (function () {\n    function MaskUndo() {\n    }\n    return MaskUndo;\n}());\nexport { MaskUndo };\nvar maskUndo = new MaskUndo();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property } from '@syncfusion/ej2-base';\n/**\n * @param props\n * @param model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    if (curObject[i].id === id) {\n                        curObject.splice(i, 1);\n                        var indexLocation = this.ranArray.indexOf(id);\n                        if (indexLocation !== -1) {\n                            this.ranArray.splice(indexLocation, 1);\n                        }\n                        break;\n                    }\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    var defaultFirstDay = 'sun';\n    var firstDayMapper = {\n        'sun': 0,\n        'mon': 1,\n        'tue': 2,\n        'wed': 3,\n        'thu': 4,\n        'fri': 5,\n        'sat': 6\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '€',\n                    'symbol-alt-narrow': '€'\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': '£'\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '×',\n                'perMille': '‰',\n                'infinity': '∞',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '¤#,##0.00',\n                'accounting': '¤#,##0.00;(¤#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[d‏M‏]([^d‏M])[d‏M‏]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        if (curMatch) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = (split.length > 1);\n            curObj.nData = getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency') {\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n    function getWeekData(culture, cldr) {\n        var firstDay = defaultFirstDay;\n        var mapper = getValue('supplemental.weekData.firstDay', cldr);\n        var iCulture = culture;\n        if ((/en-/).test(iCulture)) {\n            iCulture = iCulture.slice(3);\n        }\n        iCulture = iCulture.slice(0, 2).toUpperCase() + iCulture.substr(2);\n        if (mapper) {\n            firstDay = mapper[iCulture] || defaultFirstDay;\n        }\n        return firstDayMapper[firstDay];\n    }\n    IntlBase.getWeekData = getWeekData;\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '∞',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nimport { createElement } from './dom';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        _this.needsID = false;\n        /**\n         * This is a instance method to create an element.\n         * @private\n         */\n        _this.createElement = createElement;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the control within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n        }\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection \n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            var numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        hpattern = hpattern.replace(/:/g, numMapper.timeSeparator);\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                this.toggleEvents();\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intOver(evt, eleObj.target);\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        var classArray = [];\n        for (var j = 0; j < this.element.classList.length; j++) {\n            if (!isNullOrUndefined(this.element.classList[j].match('e-control')) ||\n                !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n                classArray.push(this.element.classList[j]);\n            }\n        }\n        removeClass([this.element], classArray);\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    ;\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide(event);\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        attributes(this.element, { role: 'dialog' });\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        this.setTargetContent();\n        if (this.header !== '' && !isNullOrUndefined(this.header)) {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        this.setContent();\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setFooterTemplate();\n        }\n        else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            this.setButton();\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function (event) {\n                _this.focusContent();\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target\n                };\n                _this.trigger('open', eventArgs);\n            },\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.isModal) {\n            this.setOverlayZindex();\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (typeof (this.position.X) === 'number' && typeof (this.position.Y) === 'number') {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        this.btnObj = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n            var btn = this.createElement('button', { attrs: { type: buttonType } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n            this.btnObj[i].element.classList.add('e-flat');\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            if (typeof (this.content) === 'string') {\n                this.contentEle.innerHTML = this.content;\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle);\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement) {\n        var templateFn = compile(template);\n        var fromElements = [];\n        for (var _i = 0, _a = templateFn({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            fromElements.push(item);\n        }\n        append([].slice.call(fromElements), toElement);\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setTargetContent = function () {\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                while (this.element.childNodes.length !== 0) {\n                    this.innerContentElement.appendChild(this.element.childNodes[0]);\n                }\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle);\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        this.setFooterTemplate();\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    this.calculatezIndex = false;\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                            this.ftrTemplateContent = null;\n                        }\n                        this.footerTemplate = '';\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            this.setIsModal();\n            this.element.style.top = '0px';\n            this.element.style.left = '0px';\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.targetEle.appendChild(this.dlgContainer);\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], SCROLL_DISABLED);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.btnObj)) {\n                for (var i = void 0; i < this.btnObj.length; i++) {\n                    this.btnObj[i].destroy();\n                }\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n            while (this.element.attributes.length > 0) {\n                this.element.removeAttribute(this.element.attributes[0].name);\n            }\n            for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n                this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n            }\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs = {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target\n            };\n            this.trigger('beforeOpen', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                removeClass([this.dlgOverlay], 'e-fade');\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            var zIndexElement = (this.isModal) ? this.element.parentElement : this.element;\n            if (this.calculatezIndex) {\n                this.setzIndex(zIndexElement, true);\n                setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n                if (this.isModal) {\n                    this.setOverlayZindex(this.zIndex);\n                }\n            }\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.visible = true;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            isInteraction: event ? true : false,\n            element: this.element,\n            target: this.target,\n            container: this.isModal ? this.dlgContainer : this.element,\n            event: event\n        };\n        this.trigger('beforeClose', eventArgs);\n        this.closeArgs = eventArgs;\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.isModal) {\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.visible = false;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     * @param { number } index - Index of the button.\n     * @return {Button}\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function alert(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with ‘OK’ and ‘Cancel’ button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function confirm(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        return options;\n    }\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vérifié'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 20));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        overlay.forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        navEles.forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            selectAll('.' + CLS_OVERLAY, this.element).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            if (scrollVal < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollVal -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component } from '@syncfusion/ej2-base';\nimport { addClass, Event, detach, removeClass, rippleEffect, EventHandler } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (this.content) {\n            this.element.innerHTML = this.content;\n        }\n        this.setIconCss();\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n        this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    Button.prototype.destroy = function () {\n        var span;\n        var element = this.element;\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success', 'e-info', 'e-danger',\n            'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round', 'e-top-icon-btn', 'e-bottom-icon-btn']);\n        ['e-ripple', 'disabled'].forEach(function (value) {\n            element.removeAttribute(value);\n        });\n        if (this.content) {\n            element.innerHTML = element.innerHTML.replace(this.content, '');\n        }\n        span = element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n        this.removeRippleEffect();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     * @private\n     */\n    Button.Inject = function () {\n        // Inject code snippets\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {Button} newProp\n     * @param  {Button} oldProp\n     * @returns void\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    this.unWireEvents();\n                    break;\n                case 'iconCss':\n                    var span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        span.className = 'e-btn-icon ' + newProp.iconCss;\n                        if (this.element.textContent.trim()) {\n                            if (this.iconPosition === 'Left') {\n                                span.classList.add('e-icon-left');\n                            }\n                            else {\n                                span.classList.add('e-icon-right');\n                            }\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                case 'iconPosition':\n                    removeClass([this.element], ['e-top-icon-btn', 'e-bottom-icon-btn']);\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content':\n                    var node = getTextNode(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    this.element.innerHTML = newProp.content;\n                    this.setIconCss();\n                    break;\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property()\n    ], Button.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], Button.prototype, \"created\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        this.focusOutHandler();\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.element.checked, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            wrapper.parentNode.insertBefore(this.element, wrapper);\n            detach(wrapper);\n            this.element.checked = false;\n            if (this.indeterminate) {\n                this.element.indeterminate = false;\n            }\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                wrapper.removeAttribute(key);\n            });\n            wrapper.innerHTML = '';\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        return this.element.parentElement.parentElement;\n    };\n    CheckBox.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    CheckBox.prototype.labelMouseHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, rippleEffect, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { addClass, getInstance, getUniqueID, isRippleEnabled, removeClass } from '@syncfusion/ej2-base';\nimport { detach, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-radio-wrapper';\n/**\n * The RadioButton is a graphical user interface element that allows you to select one option from the choices.\n * It contains checked and unchecked states.\n * ```html\n * <input type=\"radio\" id=\"radio\"/>\n * <script>\n * var radioObj = new RadioButton({ label: \"Default\" });\n * radioObj.appendTo(\"#radio\");\n * </script>\n * ```\n */\nvar RadioButton = /** @class */ (function (_super) {\n    __extends(RadioButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function RadioButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    RadioButton_1 = RadioButton;\n    RadioButton.prototype.changeHandler = function (event) {\n        this.checked = true;\n        this.dataBind();\n        var changeEventArgs = { value: this.value, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    RadioButton.prototype.updateChange = function (state) {\n        var input;\n        var name = this.element.getAttribute('name');\n        var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n        for (var i = 0; i < radioGrp.length; i++) {\n            input = radioGrp[i];\n            if (input !== this.element) {\n                getInstance(input, RadioButton_1).checked = false;\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    RadioButton.prototype.destroy = function () {\n        var _this = this;\n        var radioWrap = this.element.parentElement;\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            radioWrap.parentNode.insertBefore(this.element, radioWrap);\n            detach(radioWrap);\n            this.element.checked = false;\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                radioWrap.removeAttribute(key);\n            });\n            radioWrap.innerHTML = '';\n        }\n    };\n    RadioButton.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getLabel().classList.add('e-focus');\n        }\n    };\n    RadioButton.prototype.focusOutHandler = function () {\n        this.getLabel().classList.remove('e-focus');\n    };\n    RadioButton.prototype.getModuleName = function () {\n        return 'radio';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    RadioButton.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    RadioButton.prototype.getLabel = function () {\n        return this.element.nextElementSibling;\n    };\n    RadioButton.prototype.initialize = function () {\n        this.initWrapper();\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.element.checked = true;\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    RadioButton.prototype.initWrapper = function () {\n        var rippleSpan;\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        wrapper.appendChild(this.element);\n        wrapper.appendChild(label);\n        if (isRippleEnabled) {\n            rippleSpan = this.createElement('span', { className: (RIPPLE) });\n            label.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, {\n                duration: 400,\n                isCenterRipple: true\n            });\n        }\n        if (this.enableRtl) {\n            label.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([label], this.cssClass.split(' '));\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    RadioButton.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    RadioButton.prototype.labelRippleHandler = function (e) {\n        var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, ripple);\n    };\n    RadioButton.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var label = this.getLabel();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    if (newProp.checked) {\n                        this.updateChange(newProp.checked);\n                    }\n                    this.element.checked = newProp.checked;\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([label], oldProp.cssClass.split(' '));\n                    }\n                    addClass([label], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        label.classList.add(RTL);\n                    }\n                    else {\n                        label.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    if (newProp.labelPosition === 'Before') {\n                        label.classList.add('e-right');\n                    }\n                    else {\n                        label.classList.remove('e-right');\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize checked Property, Angular and React and Unique ID support.\n     * @private\n     */\n    RadioButton.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-RADIOBUTTON', 'radio', element, WRAPPER, 'radio');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'radio') {\n            this.element.setAttribute('type', 'radio');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    RadioButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    RadioButton.prototype.setDisabled = function () {\n        this.element.disabled = true;\n    };\n    RadioButton.prototype.setText = function (text) {\n        var label = this.getLabel();\n        var textLabel = label.getElementsByClassName(LABEL)[0];\n        if (textLabel) {\n            textLabel.textContent = text;\n        }\n        else {\n            textLabel = this.createElement('span', { className: LABEL, innerHTML: text });\n            label.appendChild(textLabel);\n        }\n        if (this.labelPosition === 'Before') {\n            this.getLabel().classList.add('e-right');\n        }\n        else {\n            this.getLabel().classList.remove('e-right');\n        }\n    };\n    RadioButton.prototype.unWireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n            EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n        }\n    };\n    RadioButton.prototype.wireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n            EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n        }\n    };\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RadioButton.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"value\", void 0);\n    RadioButton = RadioButton_1 = __decorate([\n        NotifyPropertyChanges\n    ], RadioButton);\n    return RadioButton;\n    var RadioButton_1;\n}(Component));\nexport { RadioButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { rippleMouseHandler, destroy, preRender } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-switch-disabled';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLE_CHECK = 'e-ripple-check';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-switch-wrapper';\nvar ACTIVE = 'e-switch-active';\n/**\n * The Switch is a graphical user interface element that allows you to toggle between checked and unchecked states.\n * ```html\n * <input type=\"checkbox\" id=\"switch\"/>\n * <script>\n * var switchObj = new Switch({});\n * switchObj.appendTo(\"#switch\");\n * </script>\n * ```\n */\nvar Switch = /** @class */ (function (_super) {\n    __extends(Switch, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function Switch(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        _this.isDrag = false;\n        return _this;\n    }\n    Switch.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var wrapper = this.getWrapper();\n        var bar = wrapper.querySelector('.e-switch-inner');\n        var handle = wrapper.querySelector('.e-switch-handle');\n        if (isRippleEnabled) {\n            rippleSpan = wrapper.getElementsByClassName(RIPPLE)[0];\n        }\n        if (state) {\n            addClass([bar, handle], ACTIVE);\n            ariaState = 'true';\n            this.element.checked = true;\n            this.checked = true;\n            if (rippleSpan) {\n                addClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        else {\n            removeClass([bar, handle], ACTIVE);\n            ariaState = 'false';\n            this.element.checked = false;\n            this.checked = false;\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        wrapper.setAttribute('aria-checked', ariaState);\n    };\n    Switch.prototype.clickHandler = function (evt) {\n        this.isDrag = false;\n        this.focusOutHandler();\n        this.changeState(!this.checked);\n        this.element.focus();\n        var changeEventArgs = { checked: this.element.checked, event: evt };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the Switch widget.\n     * @returns void\n     */\n    Switch.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        destroy(this, this.getWrapper(), this.tagName);\n    };\n    Switch.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    Switch.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    Switch.prototype.getModuleName = function () {\n        return 'switch';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    Switch.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    Switch.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    Switch.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState(true);\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n        if (this.onLabel || this.offLabel) {\n            this.setLabel(this.onLabel, this.offLabel);\n        }\n    };\n    Switch.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'switch', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var switchInner = this.createElement('span', { className: 'e-switch-inner' });\n        var onLabel = this.createElement('span', { className: 'e-switch-on' });\n        var offLabel = this.createElement('span', { className: 'e-switch-off' });\n        var handle = this.createElement('span', { className: 'e-switch-handle' });\n        wrapper.appendChild(this.element);\n        switchInner.appendChild(onLabel);\n        switchInner.appendChild(offLabel);\n        wrapper.appendChild(switchInner);\n        wrapper.appendChild(handle);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            handle.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    Switch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.changeState(newProp.checked);\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'onLabel':\n                case 'offLabel':\n                    this.setLabel(newProp.onLabel, newProp.offLabel);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    Switch.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        preRender(this, 'EJS-SWITCH', WRAPPER, element, this.getModuleName());\n    };\n    /**\n     * Initialize control rendering.\n     * @private\n     */\n    Switch.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    Switch.prototype.rippleHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n        if (e.type === 'mousedown' && e.currentTarget.classList.contains('e-switch-wrapper') && e.which === 1) {\n            this.isDrag = true;\n            this.isKeyPressed = false;\n        }\n    };\n    Switch.prototype.rippleTouchHandler = function (eventType) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var event_1 = document.createEvent('MouseEvents');\n            event_1.initEvent(eventType, false, true);\n            rippleSpan.dispatchEvent(event_1);\n        }\n    };\n    Switch.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    Switch.prototype.setLabel = function (onText, offText) {\n        var wrapper = this.getWrapper();\n        if (onText) {\n            wrapper.querySelector('.e-switch-on').textContent = onText;\n        }\n        if (offText) {\n            wrapper.querySelector('.e-switch-off').textContent = offText;\n        }\n    };\n    Switch.prototype.switchFocusHandler = function () {\n        this.isKeyPressed = true;\n    };\n    Switch.prototype.switchMouseUp = function (e) {\n        var target = e.target;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (e.type === 'touchmove') {\n            e.preventDefault();\n        }\n        if (e.type === 'touchstart') {\n            this.isDrag = true;\n            this.rippleTouchHandler('mousedown');\n        }\n        if (this.isDrag) {\n            if ((e.type === 'mouseup' && target.className.indexOf('e-switch') < 0) || e.type === 'touchend') {\n                this.clickHandler(e);\n                this.rippleTouchHandler('mouseup');\n                e.preventDefault();\n            }\n        }\n    };\n    /**\n     * Toggle the Switch component state into checked/unchecked.\n     * @returns void\n     */\n    Switch.prototype.toggle = function () {\n        this.clickHandler();\n    };\n    Switch.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(document, 'mouseup', this.switchMouseUp, this);\n        EventHandler.add(document, 'keydown', this.switchFocusHandler, this);\n        EventHandler.add(wrapper, 'mousedown mouseup', this.rippleHandler, this);\n        EventHandler.add(wrapper, 'touchstart touchmove touchend', this.switchMouseUp, this);\n    };\n    Switch.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(document, 'mouseup', this.switchMouseUp);\n        EventHandler.remove(document, 'keydown', this.switchFocusHandler);\n        EventHandler.remove(wrapper, 'mousedown mouseup', this.rippleHandler);\n        EventHandler.remove(wrapper, 'touchstart touchmove touchend', this.switchMouseUp);\n    };\n    __decorate([\n        Event()\n    ], Switch.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Switch.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"onLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"offLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"value\", void 0);\n    Switch = __decorate([\n        NotifyPropertyChanges\n    ], Switch);\n    return Switch;\n}(Component));\nexport { Switch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip Component\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n        var _a, _b;\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'none';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        this.tooltipEle.style.display = '';\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                var templateFunction = compile(this.content);\n                append(templateFunction(), tooltipContent);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = this.createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass.split(' '));\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(this.createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation, target);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation, target);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n            }\n            if (this.mouseTrail) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_ITEM = 'e-extended-item';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: true, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = popupCheck.children;\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        value ? rootEle.classList.add(CLS_DISABLE) : rootEle.classList.remove(CLS_DISABLE);\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        this.trigger('clicked', eventArgs);\n        if (!isNOU(this.popObj) && isPopupElement && !eventArgs.cancel && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.separator();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl });\n            this.scrollModule.createElement = this.createElement;\n            this.scrollModule.appendTo(innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += (el.offsetWidth + parseFloat(style.marginRight) + parseFloat(style.marginLeft));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth = innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /** @hidden */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n            }\n        }\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var eleInlineItem;\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ' )');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        popObj.offsetY = this.getElementOffsetY();\n        popObj.dataBind();\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((width + popNav.offsetWidth) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i], i);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = this.createElement('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var innerEle;\n        var dom;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            var tempDom = this.createElement('div', { innerHTML: item.tooltipText });\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                --this.popupPriCount;\n                            }\n                            if (isNOU(this.scrollModule)) {\n                                this.destroyMode();\n                            }\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass(innerEles, [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            tempArray = templateFn();\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","import { DataUtil } from './util';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        /** @hidden */\n        this.distincts = [];\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        cloned.distincts = this.distincts.slice(0);\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * @hidden\n     */\n    Query.prototype.distinct = function (fields) {\n        if (typeof fields === 'string') {\n            this.distincts = [].slice.call([fields], 0);\n        }\n        else {\n            this.distincts = fields.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        operator = operator || 'contains';\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                ignoreAccent: ignoreAccent,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        var order = 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.ignoreAccent = false;\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.ignoreAccent = ignoreAccent;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with “and” condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with “and” condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with “or” condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with “or” condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            ignoreAccent: this.ignoreAccent,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? DataUtil.toLowerCase(order) : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        for (var i = 0; i < fields.length; i++) {\n            newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            grouped[val].items.push(jsonData[i]);\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        return jsonData.length && groupedArray || jsonData;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (!from) {\n            return undefined;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * To set value for the nameSpace in desired object.\n     * @param {string} nameSpace - String value to the get the inner object.\n     * @param {Object} value - Value that you need to set.\n     * @param {Object} obj - Object to get the inner object value.\n     * @return { [key: string]: Object; } | Object\n     * @hidden\n     */\n    DataUtil.setValue = function (nameSpace, value, obj) {\n        var keys = nameSpace.toString().split('.');\n        var start = obj || {};\n        var fromObj = start;\n        var i;\n        var length = keys.length;\n        var key;\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            if (i + 1 === length) {\n                fromObj[key] = value === undefined ? undefined : value;\n            }\n            else if (isNullOrUndefined(fromObj[key])) {\n                fromObj[key] = {};\n            }\n            fromObj = fromObj[key];\n        }\n        return start;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.ignoreDiacritics = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        var result = value.split('');\n        var newValue = result.map(function (temp) { return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp; });\n        return newValue.join('');\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!isNullOrUndefined(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    DataUtil.getAddParams = function (adp, dm, query) {\n        var req = {};\n        DataUtil.callAdaptorFunction(adp, 'addParams', {\n            dm: dm,\n            query: query,\n            params: query.params,\n            reqParams: req\n        });\n        return req;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = DataUtil.getVal(json, index, fieldName);\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default null\n     */\n    DataUtil.serverTimezoneOffset = null;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.diacritics = {\n        '\\u24B6': 'A',\n        '\\uFF21': 'A',\n        '\\u00C0': 'A',\n        '\\u00C1': 'A',\n        '\\u00C2': 'A',\n        '\\u1EA6': 'A',\n        '\\u1EA4': 'A',\n        '\\u1EAA': 'A',\n        '\\u1EA8': 'A',\n        '\\u00C3': 'A',\n        '\\u0100': 'A',\n        '\\u0102': 'A',\n        '\\u1EB0': 'A',\n        '\\u1EAE': 'A',\n        '\\u1EB4': 'A',\n        '\\u1EB2': 'A',\n        '\\u0226': 'A',\n        '\\u01E0': 'A',\n        '\\u00C4': 'A',\n        '\\u01DE': 'A',\n        '\\u1EA2': 'A',\n        '\\u00C5': 'A',\n        '\\u01FA': 'A',\n        '\\u01CD': 'A',\n        '\\u0200': 'A',\n        '\\u0202': 'A',\n        '\\u1EA0': 'A',\n        '\\u1EAC': 'A',\n        '\\u1EB6': 'A',\n        '\\u1E00': 'A',\n        '\\u0104': 'A',\n        '\\u023A': 'A',\n        '\\u2C6F': 'A',\n        '\\uA732': 'AA',\n        '\\u00C6': 'AE',\n        '\\u01FC': 'AE',\n        '\\u01E2': 'AE',\n        '\\uA734': 'AO',\n        '\\uA736': 'AU',\n        '\\uA738': 'AV',\n        '\\uA73A': 'AV',\n        '\\uA73C': 'AY',\n        '\\u24B7': 'B',\n        '\\uFF22': 'B',\n        '\\u1E02': 'B',\n        '\\u1E04': 'B',\n        '\\u1E06': 'B',\n        '\\u0243': 'B',\n        '\\u0182': 'B',\n        '\\u0181': 'B',\n        '\\u24B8': 'C',\n        '\\uFF23': 'C',\n        '\\u0106': 'C',\n        '\\u0108': 'C',\n        '\\u010A': 'C',\n        '\\u010C': 'C',\n        '\\u00C7': 'C',\n        '\\u1E08': 'C',\n        '\\u0187': 'C',\n        '\\u023B': 'C',\n        '\\uA73E': 'C',\n        '\\u24B9': 'D',\n        '\\uFF24': 'D',\n        '\\u1E0A': 'D',\n        '\\u010E': 'D',\n        '\\u1E0C': 'D',\n        '\\u1E10': 'D',\n        '\\u1E12': 'D',\n        '\\u1E0E': 'D',\n        '\\u0110': 'D',\n        '\\u018B': 'D',\n        '\\u018A': 'D',\n        '\\u0189': 'D',\n        '\\uA779': 'D',\n        '\\u01F1': 'DZ',\n        '\\u01C4': 'DZ',\n        '\\u01F2': 'Dz',\n        '\\u01C5': 'Dz',\n        '\\u24BA': 'E',\n        '\\uFF25': 'E',\n        '\\u00C8': 'E',\n        '\\u00C9': 'E',\n        '\\u00CA': 'E',\n        '\\u1EC0': 'E',\n        '\\u1EBE': 'E',\n        '\\u1EC4': 'E',\n        '\\u1EC2': 'E',\n        '\\u1EBC': 'E',\n        '\\u0112': 'E',\n        '\\u1E14': 'E',\n        '\\u1E16': 'E',\n        '\\u0114': 'E',\n        '\\u0116': 'E',\n        '\\u00CB': 'E',\n        '\\u1EBA': 'E',\n        '\\u011A': 'E',\n        '\\u0204': 'E',\n        '\\u0206': 'E',\n        '\\u1EB8': 'E',\n        '\\u1EC6': 'E',\n        '\\u0228': 'E',\n        '\\u1E1C': 'E',\n        '\\u0118': 'E',\n        '\\u1E18': 'E',\n        '\\u1E1A': 'E',\n        '\\u0190': 'E',\n        '\\u018E': 'E',\n        '\\u24BB': 'F',\n        '\\uFF26': 'F',\n        '\\u1E1E': 'F',\n        '\\u0191': 'F',\n        '\\uA77B': 'F',\n        '\\u24BC': 'G',\n        '\\uFF27': 'G',\n        '\\u01F4': 'G',\n        '\\u011C': 'G',\n        '\\u1E20': 'G',\n        '\\u011E': 'G',\n        '\\u0120': 'G',\n        '\\u01E6': 'G',\n        '\\u0122': 'G',\n        '\\u01E4': 'G',\n        '\\u0193': 'G',\n        '\\uA7A0': 'G',\n        '\\uA77D': 'G',\n        '\\uA77E': 'G',\n        '\\u24BD': 'H',\n        '\\uFF28': 'H',\n        '\\u0124': 'H',\n        '\\u1E22': 'H',\n        '\\u1E26': 'H',\n        '\\u021E': 'H',\n        '\\u1E24': 'H',\n        '\\u1E28': 'H',\n        '\\u1E2A': 'H',\n        '\\u0126': 'H',\n        '\\u2C67': 'H',\n        '\\u2C75': 'H',\n        '\\uA78D': 'H',\n        '\\u24BE': 'I',\n        '\\uFF29': 'I',\n        '\\u00CC': 'I',\n        '\\u00CD': 'I',\n        '\\u00CE': 'I',\n        '\\u0128': 'I',\n        '\\u012A': 'I',\n        '\\u012C': 'I',\n        '\\u0130': 'I',\n        '\\u00CF': 'I',\n        '\\u1E2E': 'I',\n        '\\u1EC8': 'I',\n        '\\u01CF': 'I',\n        '\\u0208': 'I',\n        '\\u020A': 'I',\n        '\\u1ECA': 'I',\n        '\\u012E': 'I',\n        '\\u1E2C': 'I',\n        '\\u0197': 'I',\n        '\\u24BF': 'J',\n        '\\uFF2A': 'J',\n        '\\u0134': 'J',\n        '\\u0248': 'J',\n        '\\u24C0': 'K',\n        '\\uFF2B': 'K',\n        '\\u1E30': 'K',\n        '\\u01E8': 'K',\n        '\\u1E32': 'K',\n        '\\u0136': 'K',\n        '\\u1E34': 'K',\n        '\\u0198': 'K',\n        '\\u2C69': 'K',\n        '\\uA740': 'K',\n        '\\uA742': 'K',\n        '\\uA744': 'K',\n        '\\uA7A2': 'K',\n        '\\u24C1': 'L',\n        '\\uFF2C': 'L',\n        '\\u013F': 'L',\n        '\\u0139': 'L',\n        '\\u013D': 'L',\n        '\\u1E36': 'L',\n        '\\u1E38': 'L',\n        '\\u013B': 'L',\n        '\\u1E3C': 'L',\n        '\\u1E3A': 'L',\n        '\\u0141': 'L',\n        '\\u023D': 'L',\n        '\\u2C62': 'L',\n        '\\u2C60': 'L',\n        '\\uA748': 'L',\n        '\\uA746': 'L',\n        '\\uA780': 'L',\n        '\\u01C7': 'LJ',\n        '\\u01C8': 'Lj',\n        '\\u24C2': 'M',\n        '\\uFF2D': 'M',\n        '\\u1E3E': 'M',\n        '\\u1E40': 'M',\n        '\\u1E42': 'M',\n        '\\u2C6E': 'M',\n        '\\u019C': 'M',\n        '\\u24C3': 'N',\n        '\\uFF2E': 'N',\n        '\\u01F8': 'N',\n        '\\u0143': 'N',\n        '\\u00D1': 'N',\n        '\\u1E44': 'N',\n        '\\u0147': 'N',\n        '\\u1E46': 'N',\n        '\\u0145': 'N',\n        '\\u1E4A': 'N',\n        '\\u1E48': 'N',\n        '\\u0220': 'N',\n        '\\u019D': 'N',\n        '\\uA790': 'N',\n        '\\uA7A4': 'N',\n        '\\u01CA': 'NJ',\n        '\\u01CB': 'Nj',\n        '\\u24C4': 'O',\n        '\\uFF2F': 'O',\n        '\\u00D2': 'O',\n        '\\u00D3': 'O',\n        '\\u00D4': 'O',\n        '\\u1ED2': 'O',\n        '\\u1ED0': 'O',\n        '\\u1ED6': 'O',\n        '\\u1ED4': 'O',\n        '\\u00D5': 'O',\n        '\\u1E4C': 'O',\n        '\\u022C': 'O',\n        '\\u1E4E': 'O',\n        '\\u014C': 'O',\n        '\\u1E50': 'O',\n        '\\u1E52': 'O',\n        '\\u014E': 'O',\n        '\\u022E': 'O',\n        '\\u0230': 'O',\n        '\\u00D6': 'O',\n        '\\u022A': 'O',\n        '\\u1ECE': 'O',\n        '\\u0150': 'O',\n        '\\u01D1': 'O',\n        '\\u020C': 'O',\n        '\\u020E': 'O',\n        '\\u01A0': 'O',\n        '\\u1EDC': 'O',\n        '\\u1EDA': 'O',\n        '\\u1EE0': 'O',\n        '\\u1EDE': 'O',\n        '\\u1EE2': 'O',\n        '\\u1ECC': 'O',\n        '\\u1ED8': 'O',\n        '\\u01EA': 'O',\n        '\\u01EC': 'O',\n        '\\u00D8': 'O',\n        '\\u01FE': 'O',\n        '\\u0186': 'O',\n        '\\u019F': 'O',\n        '\\uA74A': 'O',\n        '\\uA74C': 'O',\n        '\\u01A2': 'OI',\n        '\\uA74E': 'OO',\n        '\\u0222': 'OU',\n        '\\u24C5': 'P',\n        '\\uFF30': 'P',\n        '\\u1E54': 'P',\n        '\\u1E56': 'P',\n        '\\u01A4': 'P',\n        '\\u2C63': 'P',\n        '\\uA750': 'P',\n        '\\uA752': 'P',\n        '\\uA754': 'P',\n        '\\u24C6': 'Q',\n        '\\uFF31': 'Q',\n        '\\uA756': 'Q',\n        '\\uA758': 'Q',\n        '\\u024A': 'Q',\n        '\\u24C7': 'R',\n        '\\uFF32': 'R',\n        '\\u0154': 'R',\n        '\\u1E58': 'R',\n        '\\u0158': 'R',\n        '\\u0210': 'R',\n        '\\u0212': 'R',\n        '\\u1E5A': 'R',\n        '\\u1E5C': 'R',\n        '\\u0156': 'R',\n        '\\u1E5E': 'R',\n        '\\u024C': 'R',\n        '\\u2C64': 'R',\n        '\\uA75A': 'R',\n        '\\uA7A6': 'R',\n        '\\uA782': 'R',\n        '\\u24C8': 'S',\n        '\\uFF33': 'S',\n        '\\u1E9E': 'S',\n        '\\u015A': 'S',\n        '\\u1E64': 'S',\n        '\\u015C': 'S',\n        '\\u1E60': 'S',\n        '\\u0160': 'S',\n        '\\u1E66': 'S',\n        '\\u1E62': 'S',\n        '\\u1E68': 'S',\n        '\\u0218': 'S',\n        '\\u015E': 'S',\n        '\\u2C7E': 'S',\n        '\\uA7A8': 'S',\n        '\\uA784': 'S',\n        '\\u24C9': 'T',\n        '\\uFF34': 'T',\n        '\\u1E6A': 'T',\n        '\\u0164': 'T',\n        '\\u1E6C': 'T',\n        '\\u021A': 'T',\n        '\\u0162': 'T',\n        '\\u1E70': 'T',\n        '\\u1E6E': 'T',\n        '\\u0166': 'T',\n        '\\u01AC': 'T',\n        '\\u01AE': 'T',\n        '\\u023E': 'T',\n        '\\uA786': 'T',\n        '\\uA728': 'TZ',\n        '\\u24CA': 'U',\n        '\\uFF35': 'U',\n        '\\u00D9': 'U',\n        '\\u00DA': 'U',\n        '\\u00DB': 'U',\n        '\\u0168': 'U',\n        '\\u1E78': 'U',\n        '\\u016A': 'U',\n        '\\u1E7A': 'U',\n        '\\u016C': 'U',\n        '\\u00DC': 'U',\n        '\\u01DB': 'U',\n        '\\u01D7': 'U',\n        '\\u01D5': 'U',\n        '\\u01D9': 'U',\n        '\\u1EE6': 'U',\n        '\\u016E': 'U',\n        '\\u0170': 'U',\n        '\\u01D3': 'U',\n        '\\u0214': 'U',\n        '\\u0216': 'U',\n        '\\u01AF': 'U',\n        '\\u1EEA': 'U',\n        '\\u1EE8': 'U',\n        '\\u1EEE': 'U',\n        '\\u1EEC': 'U',\n        '\\u1EF0': 'U',\n        '\\u1EE4': 'U',\n        '\\u1E72': 'U',\n        '\\u0172': 'U',\n        '\\u1E76': 'U',\n        '\\u1E74': 'U',\n        '\\u0244': 'U',\n        '\\u24CB': 'V',\n        '\\uFF36': 'V',\n        '\\u1E7C': 'V',\n        '\\u1E7E': 'V',\n        '\\u01B2': 'V',\n        '\\uA75E': 'V',\n        '\\u0245': 'V',\n        '\\uA760': 'VY',\n        '\\u24CC': 'W',\n        '\\uFF37': 'W',\n        '\\u1E80': 'W',\n        '\\u1E82': 'W',\n        '\\u0174': 'W',\n        '\\u1E86': 'W',\n        '\\u1E84': 'W',\n        '\\u1E88': 'W',\n        '\\u2C72': 'W',\n        '\\u24CD': 'X',\n        '\\uFF38': 'X',\n        '\\u1E8A': 'X',\n        '\\u1E8C': 'X',\n        '\\u24CE': 'Y',\n        '\\uFF39': 'Y',\n        '\\u1EF2': 'Y',\n        '\\u00DD': 'Y',\n        '\\u0176': 'Y',\n        '\\u1EF8': 'Y',\n        '\\u0232': 'Y',\n        '\\u1E8E': 'Y',\n        '\\u0178': 'Y',\n        '\\u1EF6': 'Y',\n        '\\u1EF4': 'Y',\n        '\\u01B3': 'Y',\n        '\\u024E': 'Y',\n        '\\u1EFE': 'Y',\n        '\\u24CF': 'Z',\n        '\\uFF3A': 'Z',\n        '\\u0179': 'Z',\n        '\\u1E90': 'Z',\n        '\\u017B': 'Z',\n        '\\u017D': 'Z',\n        '\\u1E92': 'Z',\n        '\\u1E94': 'Z',\n        '\\u01B5': 'Z',\n        '\\u0224': 'Z',\n        '\\u2C7F': 'Z',\n        '\\u2C6B': 'Z',\n        '\\uA762': 'Z',\n        '\\u24D0': 'a',\n        '\\uFF41': 'a',\n        '\\u1E9A': 'a',\n        '\\u00E0': 'a',\n        '\\u00E1': 'a',\n        '\\u00E2': 'a',\n        '\\u1EA7': 'a',\n        '\\u1EA5': 'a',\n        '\\u1EAB': 'a',\n        '\\u1EA9': 'a',\n        '\\u00E3': 'a',\n        '\\u0101': 'a',\n        '\\u0103': 'a',\n        '\\u1EB1': 'a',\n        '\\u1EAF': 'a',\n        '\\u1EB5': 'a',\n        '\\u1EB3': 'a',\n        '\\u0227': 'a',\n        '\\u01E1': 'a',\n        '\\u00E4': 'a',\n        '\\u01DF': 'a',\n        '\\u1EA3': 'a',\n        '\\u00E5': 'a',\n        '\\u01FB': 'a',\n        '\\u01CE': 'a',\n        '\\u0201': 'a',\n        '\\u0203': 'a',\n        '\\u1EA1': 'a',\n        '\\u1EAD': 'a',\n        '\\u1EB7': 'a',\n        '\\u1E01': 'a',\n        '\\u0105': 'a',\n        '\\u2C65': 'a',\n        '\\u0250': 'a',\n        '\\uA733': 'aa',\n        '\\u00E6': 'ae',\n        '\\u01FD': 'ae',\n        '\\u01E3': 'ae',\n        '\\uA735': 'ao',\n        '\\uA737': 'au',\n        '\\uA739': 'av',\n        '\\uA73B': 'av',\n        '\\uA73D': 'ay',\n        '\\u24D1': 'b',\n        '\\uFF42': 'b',\n        '\\u1E03': 'b',\n        '\\u1E05': 'b',\n        '\\u1E07': 'b',\n        '\\u0180': 'b',\n        '\\u0183': 'b',\n        '\\u0253': 'b',\n        '\\u24D2': 'c',\n        '\\uFF43': 'c',\n        '\\u0107': 'c',\n        '\\u0109': 'c',\n        '\\u010B': 'c',\n        '\\u010D': 'c',\n        '\\u00E7': 'c',\n        '\\u1E09': 'c',\n        '\\u0188': 'c',\n        '\\u023C': 'c',\n        '\\uA73F': 'c',\n        '\\u2184': 'c',\n        '\\u24D3': 'd',\n        '\\uFF44': 'd',\n        '\\u1E0B': 'd',\n        '\\u010F': 'd',\n        '\\u1E0D': 'd',\n        '\\u1E11': 'd',\n        '\\u1E13': 'd',\n        '\\u1E0F': 'd',\n        '\\u0111': 'd',\n        '\\u018C': 'd',\n        '\\u0256': 'd',\n        '\\u0257': 'd',\n        '\\uA77A': 'd',\n        '\\u01F3': 'dz',\n        '\\u01C6': 'dz',\n        '\\u24D4': 'e',\n        '\\uFF45': 'e',\n        '\\u00E8': 'e',\n        '\\u00E9': 'e',\n        '\\u00EA': 'e',\n        '\\u1EC1': 'e',\n        '\\u1EBF': 'e',\n        '\\u1EC5': 'e',\n        '\\u1EC3': 'e',\n        '\\u1EBD': 'e',\n        '\\u0113': 'e',\n        '\\u1E15': 'e',\n        '\\u1E17': 'e',\n        '\\u0115': 'e',\n        '\\u0117': 'e',\n        '\\u00EB': 'e',\n        '\\u1EBB': 'e',\n        '\\u011B': 'e',\n        '\\u0205': 'e',\n        '\\u0207': 'e',\n        '\\u1EB9': 'e',\n        '\\u1EC7': 'e',\n        '\\u0229': 'e',\n        '\\u1E1D': 'e',\n        '\\u0119': 'e',\n        '\\u1E19': 'e',\n        '\\u1E1B': 'e',\n        '\\u0247': 'e',\n        '\\u025B': 'e',\n        '\\u01DD': 'e',\n        '\\u24D5': 'f',\n        '\\uFF46': 'f',\n        '\\u1E1F': 'f',\n        '\\u0192': 'f',\n        '\\uA77C': 'f',\n        '\\u24D6': 'g',\n        '\\uFF47': 'g',\n        '\\u01F5': 'g',\n        '\\u011D': 'g',\n        '\\u1E21': 'g',\n        '\\u011F': 'g',\n        '\\u0121': 'g',\n        '\\u01E7': 'g',\n        '\\u0123': 'g',\n        '\\u01E5': 'g',\n        '\\u0260': 'g',\n        '\\uA7A1': 'g',\n        '\\u1D79': 'g',\n        '\\uA77F': 'g',\n        '\\u24D7': 'h',\n        '\\uFF48': 'h',\n        '\\u0125': 'h',\n        '\\u1E23': 'h',\n        '\\u1E27': 'h',\n        '\\u021F': 'h',\n        '\\u1E25': 'h',\n        '\\u1E29': 'h',\n        '\\u1E2B': 'h',\n        '\\u1E96': 'h',\n        '\\u0127': 'h',\n        '\\u2C68': 'h',\n        '\\u2C76': 'h',\n        '\\u0265': 'h',\n        '\\u0195': 'hv',\n        '\\u24D8': 'i',\n        '\\uFF49': 'i',\n        '\\u00EC': 'i',\n        '\\u00ED': 'i',\n        '\\u00EE': 'i',\n        '\\u0129': 'i',\n        '\\u012B': 'i',\n        '\\u012D': 'i',\n        '\\u00EF': 'i',\n        '\\u1E2F': 'i',\n        '\\u1EC9': 'i',\n        '\\u01D0': 'i',\n        '\\u0209': 'i',\n        '\\u020B': 'i',\n        '\\u1ECB': 'i',\n        '\\u012F': 'i',\n        '\\u1E2D': 'i',\n        '\\u0268': 'i',\n        '\\u0131': 'i',\n        '\\u24D9': 'j',\n        '\\uFF4A': 'j',\n        '\\u0135': 'j',\n        '\\u01F0': 'j',\n        '\\u0249': 'j',\n        '\\u24DA': 'k',\n        '\\uFF4B': 'k',\n        '\\u1E31': 'k',\n        '\\u01E9': 'k',\n        '\\u1E33': 'k',\n        '\\u0137': 'k',\n        '\\u1E35': 'k',\n        '\\u0199': 'k',\n        '\\u2C6A': 'k',\n        '\\uA741': 'k',\n        '\\uA743': 'k',\n        '\\uA745': 'k',\n        '\\uA7A3': 'k',\n        '\\u24DB': 'l',\n        '\\uFF4C': 'l',\n        '\\u0140': 'l',\n        '\\u013A': 'l',\n        '\\u013E': 'l',\n        '\\u1E37': 'l',\n        '\\u1E39': 'l',\n        '\\u013C': 'l',\n        '\\u1E3D': 'l',\n        '\\u1E3B': 'l',\n        '\\u017F': 'l',\n        '\\u0142': 'l',\n        '\\u019A': 'l',\n        '\\u026B': 'l',\n        '\\u2C61': 'l',\n        '\\uA749': 'l',\n        '\\uA781': 'l',\n        '\\uA747': 'l',\n        '\\u01C9': 'lj',\n        '\\u24DC': 'm',\n        '\\uFF4D': 'm',\n        '\\u1E3F': 'm',\n        '\\u1E41': 'm',\n        '\\u1E43': 'm',\n        '\\u0271': 'm',\n        '\\u026F': 'm',\n        '\\u24DD': 'n',\n        '\\uFF4E': 'n',\n        '\\u01F9': 'n',\n        '\\u0144': 'n',\n        '\\u00F1': 'n',\n        '\\u1E45': 'n',\n        '\\u0148': 'n',\n        '\\u1E47': 'n',\n        '\\u0146': 'n',\n        '\\u1E4B': 'n',\n        '\\u1E49': 'n',\n        '\\u019E': 'n',\n        '\\u0272': 'n',\n        '\\u0149': 'n',\n        '\\uA791': 'n',\n        '\\uA7A5': 'n',\n        '\\u01CC': 'nj',\n        '\\u24DE': 'o',\n        '\\uFF4F': 'o',\n        '\\u00F2': 'o',\n        '\\u00F3': 'o',\n        '\\u00F4': 'o',\n        '\\u1ED3': 'o',\n        '\\u1ED1': 'o',\n        '\\u1ED7': 'o',\n        '\\u1ED5': 'o',\n        '\\u00F5': 'o',\n        '\\u1E4D': 'o',\n        '\\u022D': 'o',\n        '\\u1E4F': 'o',\n        '\\u014D': 'o',\n        '\\u1E51': 'o',\n        '\\u1E53': 'o',\n        '\\u014F': 'o',\n        '\\u022F': 'o',\n        '\\u0231': 'o',\n        '\\u00F6': 'o',\n        '\\u022B': 'o',\n        '\\u1ECF': 'o',\n        '\\u0151': 'o',\n        '\\u01D2': 'o',\n        '\\u020D': 'o',\n        '\\u020F': 'o',\n        '\\u01A1': 'o',\n        '\\u1EDD': 'o',\n        '\\u1EDB': 'o',\n        '\\u1EE1': 'o',\n        '\\u1EDF': 'o',\n        '\\u1EE3': 'o',\n        '\\u1ECD': 'o',\n        '\\u1ED9': 'o',\n        '\\u01EB': 'o',\n        '\\u01ED': 'o',\n        '\\u00F8': 'o',\n        '\\u01FF': 'o',\n        '\\u0254': 'o',\n        '\\uA74B': 'o',\n        '\\uA74D': 'o',\n        '\\u0275': 'o',\n        '\\u01A3': 'oi',\n        '\\u0223': 'ou',\n        '\\uA74F': 'oo',\n        '\\u24DF': 'p',\n        '\\uFF50': 'p',\n        '\\u1E55': 'p',\n        '\\u1E57': 'p',\n        '\\u01A5': 'p',\n        '\\u1D7D': 'p',\n        '\\uA751': 'p',\n        '\\uA753': 'p',\n        '\\uA755': 'p',\n        '\\u24E0': 'q',\n        '\\uFF51': 'q',\n        '\\u024B': 'q',\n        '\\uA757': 'q',\n        '\\uA759': 'q',\n        '\\u24E1': 'r',\n        '\\uFF52': 'r',\n        '\\u0155': 'r',\n        '\\u1E59': 'r',\n        '\\u0159': 'r',\n        '\\u0211': 'r',\n        '\\u0213': 'r',\n        '\\u1E5B': 'r',\n        '\\u1E5D': 'r',\n        '\\u0157': 'r',\n        '\\u1E5F': 'r',\n        '\\u024D': 'r',\n        '\\u027D': 'r',\n        '\\uA75B': 'r',\n        '\\uA7A7': 'r',\n        '\\uA783': 'r',\n        '\\u24E2': 's',\n        '\\uFF53': 's',\n        '\\u00DF': 's',\n        '\\u015B': 's',\n        '\\u1E65': 's',\n        '\\u015D': 's',\n        '\\u1E61': 's',\n        '\\u0161': 's',\n        '\\u1E67': 's',\n        '\\u1E63': 's',\n        '\\u1E69': 's',\n        '\\u0219': 's',\n        '\\u015F': 's',\n        '\\u023F': 's',\n        '\\uA7A9': 's',\n        '\\uA785': 's',\n        '\\u1E9B': 's',\n        '\\u24E3': 't',\n        '\\uFF54': 't',\n        '\\u1E6B': 't',\n        '\\u1E97': 't',\n        '\\u0165': 't',\n        '\\u1E6D': 't',\n        '\\u021B': 't',\n        '\\u0163': 't',\n        '\\u1E71': 't',\n        '\\u1E6F': 't',\n        '\\u0167': 't',\n        '\\u01AD': 't',\n        '\\u0288': 't',\n        '\\u2C66': 't',\n        '\\uA787': 't',\n        '\\uA729': 'tz',\n        '\\u24E4': 'u',\n        '\\uFF55': 'u',\n        '\\u00F9': 'u',\n        '\\u00FA': 'u',\n        '\\u00FB': 'u',\n        '\\u0169': 'u',\n        '\\u1E79': 'u',\n        '\\u016B': 'u',\n        '\\u1E7B': 'u',\n        '\\u016D': 'u',\n        '\\u00FC': 'u',\n        '\\u01DC': 'u',\n        '\\u01D8': 'u',\n        '\\u01D6': 'u',\n        '\\u01DA': 'u',\n        '\\u1EE7': 'u',\n        '\\u016F': 'u',\n        '\\u0171': 'u',\n        '\\u01D4': 'u',\n        '\\u0215': 'u',\n        '\\u0217': 'u',\n        '\\u01B0': 'u',\n        '\\u1EEB': 'u',\n        '\\u1EE9': 'u',\n        '\\u1EEF': 'u',\n        '\\u1EED': 'u',\n        '\\u1EF1': 'u',\n        '\\u1EE5': 'u',\n        '\\u1E73': 'u',\n        '\\u0173': 'u',\n        '\\u1E77': 'u',\n        '\\u1E75': 'u',\n        '\\u0289': 'u',\n        '\\u24E5': 'v',\n        '\\uFF56': 'v',\n        '\\u1E7D': 'v',\n        '\\u1E7F': 'v',\n        '\\u028B': 'v',\n        '\\uA75F': 'v',\n        '\\u028C': 'v',\n        '\\uA761': 'vy',\n        '\\u24E6': 'w',\n        '\\uFF57': 'w',\n        '\\u1E81': 'w',\n        '\\u1E83': 'w',\n        '\\u0175': 'w',\n        '\\u1E87': 'w',\n        '\\u1E85': 'w',\n        '\\u1E98': 'w',\n        '\\u1E89': 'w',\n        '\\u2C73': 'w',\n        '\\u24E7': 'x',\n        '\\uFF58': 'x',\n        '\\u1E8B': 'x',\n        '\\u1E8D': 'x',\n        '\\u24E8': 'y',\n        '\\uFF59': 'y',\n        '\\u1EF3': 'y',\n        '\\u00FD': 'y',\n        '\\u0177': 'y',\n        '\\u1EF9': 'y',\n        '\\u0233': 'y',\n        '\\u1E8F': 'y',\n        '\\u00FF': 'y',\n        '\\u1EF7': 'y',\n        '\\u1E99': 'y',\n        '\\u1EF5': 'y',\n        '\\u01B4': 'y',\n        '\\u024F': 'y',\n        '\\u1EFF': 'y',\n        '\\u24E9': 'z',\n        '\\uFF5A': 'z',\n        '\\u017A': 'z',\n        '\\u1E91': 'z',\n        '\\u017C': 'z',\n        '\\u017E': 'z',\n        '\\u1E93': 'z',\n        '\\u1E95': 'z',\n        '\\u01B6': 'z',\n        '\\u0225': 'z',\n        '\\u0240': 'z',\n        '\\u2C6C': 'z',\n        '\\uA763': 'z',\n        '\\u0386': '\\u0391',\n        '\\u0388': '\\u0395',\n        '\\u0389': '\\u0397',\n        '\\u038A': '\\u0399',\n        '\\u03AA': '\\u0399',\n        '\\u038C': '\\u039F',\n        '\\u038E': '\\u03A5',\n        '\\u03AB': '\\u03A5',\n        '\\u038F': '\\u03A9',\n        '\\u03AC': '\\u03B1',\n        '\\u03AD': '\\u03B5',\n        '\\u03AE': '\\u03B7',\n        '\\u03AF': '\\u03B9',\n        '\\u03CA': '\\u03B9',\n        '\\u0390': '\\u03B9',\n        '\\u03CC': '\\u03BF',\n        '\\u03CD': '\\u03C5',\n        '\\u03CB': '\\u03C5',\n        '\\u03B0': '\\u03C5',\n        '\\u03C9': '\\u03C9',\n        '\\u03C2': '\\u03C3'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         * @param  {boolean} ignoreAccent?\n         */\n        equal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object' && jsonText !== null) {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object' && array[i] !== null) {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{(.)+:|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            var dupValue = value;\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                if (ms) {\n                    return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var arr = dupValue.split(/[^0-9]/);\n                    value = DataUtil.dateParse\n                        .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), DataUtil.serverTimezoneOffset).toJSON();\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        }\n    };\n    /**\n     * @hidden\n     */\n    DataUtil.dateParse = {\n        addSelfOffset: function (input) {\n            return new Date(+input - (input.getTimezoneOffset() * 60000));\n        },\n        toUTC: function (input) {\n            return new Date(+input + (input.getTimezoneOffset() * 60000));\n        },\n        toTimeZone: function (input, offset, utc) {\n            if (offset === null) {\n                return input;\n            }\n            var unix = utc ? DataUtil.dateParse.toUTC(input) : input;\n            return new Date(+unix - (offset * 3600000));\n        },\n        toLocalTime: function (input) {\n            var datefn = input;\n            var timeZone = -datefn.getTimezoneOffset();\n            var differenceString = timeZone >= 0 ? '+' : '-';\n            var localtimefn = function (num) {\n                var norm = Math.floor(Math.abs(num));\n                return (norm < 10 ? '0' : '') + norm;\n            };\n            var val = datefn.getFullYear() + '-' + localtimefn(datefn.getMonth() + 1) + '-' + localtimefn(datefn.getDate()) +\n                'T' + localtimefn(datefn.getHours()) +\n                ':' + localtimefn(datefn.getMinutes()) +\n                ':' + localtimefn(datefn.getSeconds()) +\n                differenceString + localtimefn(timeZone / 60) +\n                ':' + localtimefn(timeZone % 60);\n            return val;\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    /**\n     * Constructor for Adaptor class\n     * @param  {DataOptions} ds?\n     * @hidden\n     * @returns aggregates\n     */\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        var deletedRecordsLen = changes.deletedRecords.length;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < deletedRecordsLen; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase, e.ignoreAccent)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key = value[keyField];\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query));\n            var keys_1 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_2 = keys_1; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_3 = keys; _a < keys_3.length; _a++) {\n            var prop = keys_3[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.apply && query.distincts.length) {\n            req[options.apply] = 'onDistinct' in this ? DataUtil.callAdaptorFunction(this, 'onDistinct', query.distincts) : '';\n        }\n        if (!query.distincts.length && options.expand) {\n            req[options.expand] = 'onExpand' in this && 'onSelect' in singles ?\n                DataUtil.callAdaptorFunction(this, 'onExpand', { selects: DataUtil.getValue(singles.onSelect.fieldNames, query), expands: query.expands }, query) : query.expands;\n        }\n        req[options.select] = 'onSelect' in singles && !query.distincts.length ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data.groupDs;\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if ('count' in data) {\n            args.count = data.count;\n        }\n        args.result = data.result ? data.result : data;\n        this.getAggregateResult(pvt, data, args, groupDs, query);\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify(extend({}, {\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName, query) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: data,\n                table: tableName,\n                action: 'insert'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName, query) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName, query) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs, query) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        if (pvt && pvt.groups && pvt.groups.length) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                var groupQuery = Query.filterQueries(query.queries, 'onGroup')[i].e;\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs, groupQuery.comparer);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor(props) {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PUT'\n        });\n        _this.getModuleName = getValue('getModulename', _this);\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName)) {\n            if (this.getModuleName() === 'ODataV4Adaptor') {\n                operator = DataUtil.odv4UniOperator[predicate.operator];\n            }\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    ODataAdaptor.prototype.addParams = function (options) {\n        _super.prototype.addParams.call(this, options);\n        delete options.reqParams.params;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    ODataAdaptor.prototype.localTimeReplacer = function (key, convertObj) {\n        for (var _i = 0, _a = !isNullOrUndefined(convertObj) ? Object.keys(convertObj) : []; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((convertObj[prop] instanceof Date)) {\n                convertObj[prop] = DataUtil.dateParse.toLocalTime(convertObj[prop]);\n            }\n        }\n        return convertObj;\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data, this.options.localTime ? this.localTimeReplacer : null)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var url;\n        if (typeof value === 'string' && !DataUtil.parse.isGuid(value)) {\n            url = \"('\" + value + \"')\";\n        }\n        else {\n            url = \"(\" + value + \")\";\n        }\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + url\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName, query, original) {\n        if (this.options.updateType === 'PATCH' && !isNullOrUndefined(original)) {\n            value = this.compareAndRemove(value, original, keyField);\n        }\n        var url;\n        if (typeof value[keyField] === 'string' && !DataUtil.parse.isGuid(value[keyField])) {\n            url = \"('\" + value[keyField] + \"')\";\n        }\n        else {\n            url = \"(\" + value[keyField] + \")\";\n        }\n        return {\n            type: this.options.updateType,\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + url,\n            data: JSON.stringify(value, this.options.localTime ? this.localTimeReplacer : null),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args);\n        req += this.generateUpdateRequest(changes.changedRecords, args, original ? original.changedRecords : []);\n        req += this.generateDeleteRequest(changes.deletedRecords, args);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e, org) {\n        var _this = this;\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        arr.forEach(function (change) { return change = _this.compareAndRemove(change, org.filter(function (o) { return DataUtil.getObject(e.key, o) === DataUtil.getObject(e.key, change); })[0], e.key); });\n        var stat = {\n            'method': this.options.updateType + ' ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            req += e.url + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n';\n            if (!isNullOrUndefined(arr[i]['@odata.etag'])) {\n                req += 'If-Match: ' + arr[i]['@odata.etag'] + '\\n\\n';\n                delete arr[i]['@odata.etag'];\n            }\n            else {\n                req += '\\n';\n            }\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    ODataAdaptor.prototype.compareAndRemove = function (data, original, key) {\n        var _this = this;\n        if (isNullOrUndefined(original)) {\n            return data;\n        }\n        Object.keys(data).forEach(function (prop) {\n            if (prop !== key && prop !== '@odata.etag') {\n                if (DataUtil.isPlainObject(data[prop])) {\n                    _this.compareAndRemove(data[prop], original[prop]);\n                    var final = Object.keys(data[prop]).filter(function (data) { return data !== '@odata.etag'; });\n                    if (final.length === 0) {\n                        delete data[prop];\n                    }\n                }\n                else if (data[prop] === original[prop]) {\n                    delete data[prop];\n                }\n                else if (data[prop] && original[prop] && data[prop].valueOf() === original[prop].valueOf()) {\n                    delete data[prop];\n                }\n            }\n        });\n        return data;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor(props) {\n        var _this = _super.call(this, props) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PATCH',\n            localTime: false,\n            apply: '$apply'\n        });\n        getValue('getModulename', _this.getModulename());\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModulename = function () {\n        return 'ODataV4Adaptor';\n    };\n    ;\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Returns the expand query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onExpand = function (e) {\n        var _this = this;\n        var selected = {};\n        var expanded = {};\n        var expands = e.expands.slice();\n        var exArr = [];\n        var selects = e.selects.filter(function (item) { return item.indexOf('.') > -1; });\n        selects.forEach(function (select) {\n            var splits = select.split('.');\n            if (!(splits[0] in selected)) {\n                selected[splits[0]] = [];\n            }\n            selected[splits[0]].push(splits[1]);\n        });\n        //Auto expand from select query\n        Object.keys(selected).forEach(function (expand) {\n            if ((expands.indexOf(expand) === -1)) {\n                expands.push(expand);\n            }\n        });\n        expands.forEach(function (expand) {\n            expanded[expand] = expand in selected ? expand + \"(\" + _this.options.select + \"=\" + selected[expand].join(',') + \")\" : expand;\n        });\n        Object.keys(expanded).forEach(function (ex) { return exArr.push(expanded[ex]); });\n        return exArr.join(',');\n    };\n    /**\n     * Returns the groupby query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onDistinct = function (distinctFields) {\n        var fields = distinctFields.map(function (field) { return ODataAdaptor.getField(field); }).join(',');\n        return \"groupby((\" + fields + \"))\";\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataV4Adaptor.prototype.onSelect = function (e) {\n        return _super.prototype.onSelect.call(this, e.filter(function (item) { return item.indexOf('.') === -1; }));\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (settings.type === 'POST' || settings.type === 'PUT' || settings.type === 'PATCH') {\n            request.setRequestHeader('Prefer', 'return=representation');\n        }\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = !isNullOrUndefined(data.value) ? data.value : data;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args, null, query);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        return _this;\n    }\n    RemoteSaveAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.updateType = 'add';\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        _super.prototype.remove.call(this, dm, keyField, value);\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.updateType = 'update';\n        this.updateKey = keyField;\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes, e) {\n        var i;\n        if (this.updateType === 'add') {\n            _super.prototype.insert.call(this, ds, data);\n        }\n        if (this.updateType === 'update') {\n            _super.prototype.update.call(this, ds, this.updateKey, data);\n        }\n        if (data.added) {\n            for (i = 0; i < data.added.length; i++) {\n                _super.prototype.insert.call(this, ds, data.added[i]);\n            }\n        }\n        if (data.changed) {\n            for (i = 0; i < data.changed.length; i++) {\n                _super.prototype.update.call(this, ds, e.key, data.changed[i]);\n            }\n        }\n        if (data.deleted) {\n            for (i = 0; i < data.deleted.length; i++) {\n                _super.prototype.remove.call(this, ds, e.key, data.deleted[i]);\n            }\n        }\n        return data;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            })\n        };\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor ? false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && (this.dataSource.url !== undefined && this.dataSource.url !== '')) {\n            var result = this.adaptor.processQuery(this, query);\n            this.makeRequest(result, deffered, args, query);\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        if (done || fail) {\n            deffered.promise.then(done, fail);\n        }\n        if (always) {\n            deffered.promise.then(always, always);\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        req = ajax.send();\n        req.catch(function (e) { return true; }); // to handle failure remote requests.        \n        this.requests.push(ajax);\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query, original) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query, original);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        var deff = new Deferred();\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (data, request) {\n            deff.resolve(_this.adaptor.processResponse(DataUtil.parse.parseJson(data), _this, null, request.httpRequest, request, changes, args));\n        };\n        ajax.onFailure = function (e) {\n            deff.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.        \n        return deff.promise;\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        return this.doAjaxRequest(req);\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query, original) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query, original);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    DataManager.prototype.doAjaxRequest = function (res) {\n        var _this = this;\n        var defer = new Deferred();\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        var ajax = new Ajax(res);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (record, request) {\n            try {\n                DataUtil.parse.parseJson(record);\n            }\n            catch (e) {\n                record = [];\n            }\n            record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request);\n            defer.resolve(record);\n        };\n        ajax.onFailure = function (e) {\n            defer.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.\n        return defer.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, formatUnit, isNullOrUndefined, append, detach } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, prepend, closest, remove } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, Property, Complex, Event } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { Animation, rippleEffect, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase, getFieldValues } from '../common/list-base';\n// Effect Configuration Effect[] =  [fromViewBackward,fromViewForward,toViewBackward,toviewForward];\nvar effectsConfig = {\n    'None': [],\n    'SlideLeft': ['SlideRightOut', 'SlideLeftOut', 'SlideLeftIn', 'SlideRightIn'],\n    'SlideDown': ['SlideTopOut', 'SlideBottomOut', 'SlideBottomIn', 'SlideTopIn'],\n    'Zoom': ['FadeOut', 'FadeZoomOut', 'FadeZoomIn', 'FadeIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\nvar effectsRTLConfig = {\n    'None': [],\n    'SlideLeft': ['SlideLeftOut', 'SlideRightOut', 'SlideRightIn', 'SlideLeftIn'],\n    'SlideDown': ['SlideBottomOut', 'SlideTopOut', 'SlideTopIn', 'SlideBottomIn'],\n    'Zoom': ['FadeZoomOut', 'FadeOut', 'FadeIn', 'FadeZoomIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\n// don't use space in classnames.\nexport var classNames = {\n    root: 'e-listview',\n    hover: 'e-hover',\n    selected: 'e-active',\n    focused: 'e-focused',\n    parentItem: 'e-list-parent',\n    listItem: 'e-list-item',\n    listIcon: 'e-list-icon',\n    textContent: 'e-text-content',\n    listItemText: 'e-list-text',\n    groupListItem: 'e-list-group-item',\n    hasChild: 'e-has-child',\n    view: 'e-view',\n    header: 'e-list-header',\n    headerText: 'e-headertext',\n    headerTemplateText: 'e-headertemplate-text',\n    text: 'e-text',\n    disable: 'e-disabled',\n    content: 'e-content',\n    icon: 'e-icons',\n    backIcon: 'e-icon-back',\n    checkboxWrapper: 'e-checkbox-wrapper',\n    checkbox: 'e-checkbox',\n    checked: 'e-check',\n    checklist: 'e-checklist',\n    checkboxIcon: 'e-frame',\n    checkboxRight: 'e-checkbox-right',\n    checkboxLeft: 'e-checkbox-left',\n    listviewCheckbox: 'e-listview-checkbox',\n    itemCheckList: 'e-checklist'\n};\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('isVisible')\n    ], FieldSettings.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property('enabled')\n    ], FieldSettings.prototype, \"enabled\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('child')\n    ], FieldSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('groupBy')\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"sortBy\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('tableName')\n    ], FieldSettings.prototype, \"tableName\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Represents the EJ2 ListView control.\n * ```html\n * <div id=\"listview\">\n * <ul>\n * <li>Favourite</li>\n * <li>Documents</li>\n * <li>Downloads</li>\n * </ul>\n * </div>\n * ```\n * ```typescript\n *   var lvObj = new ListView({});\n *   lvObj.appendTo(\"#listview\");\n * ```\n */\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function ListView(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ListView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'htmlAttributes':\n                    this.setHTMLAttribute();\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'enable':\n                    this.setEnable();\n                    break;\n                case 'width':\n                case 'height':\n                    this.setSize();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'headerTitle':\n                    if (!this.curDSLevel.length) {\n                        this.header(this.headerTitle, false);\n                    }\n                    break;\n                case 'showHeader':\n                    this.header(this.headerTitle, false);\n                    break;\n                case 'enableVirtualization':\n                    detach(this.contentContainer);\n                    this.refresh();\n                    break;\n                case 'showCheckBox':\n                case 'checkBoxPosition':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.setCheckbox();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'sortOrder':\n                case 'showIcon':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.listBaseOption.showIcon = this.showIcon;\n                        this.curViewDS = this.getSubDS();\n                        this.resetCurrentList();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    // Model Changes\n    ListView.prototype.setHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            attributes(this.element, this.htmlAttributes);\n        }\n    };\n    ListView.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' ').filter(function (css) { return css; }));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' ').filter(function (css) { return css; }));\n        }\n    };\n    ListView.prototype.setSize = function () {\n        this.element.style.height = formatUnit(this.height);\n        this.element.style.width = formatUnit(this.width);\n        this.isWindow = this.element.getBoundingClientRect().height ? false : true;\n    };\n    ListView.prototype.setEnable = function () {\n        this.enableElement(this.element, this.enable);\n    };\n    ListView.prototype.setEnableRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    ListView.prototype.enableElement = function (element, isEnabled) {\n        if (isEnabled) {\n            element.classList.remove(classNames.disable);\n        }\n        else {\n            element.classList.add(classNames.disable);\n        }\n    };\n    //Suport Component Functions\n    ListView.prototype.header = function (text, showBack) {\n        if (this.headerEle === undefined && this.showHeader) {\n            this.headerEle = this.createElement('div', { className: classNames.header });\n            var innerHeaderEle = this.createElement('span', { className: classNames.headerText, innerHTML: this.headerTitle });\n            var textEle = this.createElement('div', { className: classNames.text, innerHTML: innerHeaderEle.outerHTML });\n            var hedBackButton = this.createElement('div', {\n                className: classNames.icon + ' ' + classNames.backIcon + ' e-but-back',\n                attrs: { style: 'display:none;' }\n            });\n            this.headerEle.appendChild(hedBackButton);\n            this.headerEle.appendChild(textEle);\n            if (this.headerTemplate) {\n                var compiledString = compile(this.headerTemplate);\n                var headerTemplateEle = this.createElement('div', { className: classNames.headerTemplateText });\n                append(compiledString({}), headerTemplateEle);\n                append([headerTemplateEle], this.headerEle);\n            }\n            if (this.headerTemplate && this.headerTitle) {\n                textEle.classList.add('header');\n            }\n            this.element.classList.add('e-has-header');\n            prepend([this.headerEle], this.element);\n        }\n        else if (this.headerEle) {\n            if (this.showHeader) {\n                this.headerEle.style.display = '';\n                var textEle = this.headerEle.querySelector('.' + classNames.headerText);\n                var hedBackButton = this.headerEle.querySelector('.' + classNames.backIcon);\n                textEle.innerHTML = text;\n                if (this.headerTemplate && showBack) {\n                    textEle.parentElement.classList.remove('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('nested-header');\n                }\n                if (this.headerTemplate && !showBack) {\n                    textEle.parentElement.classList.add('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.remove('nested-header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('header');\n                }\n                if (showBack === true) {\n                    hedBackButton.style.display = '';\n                }\n                else {\n                    hedBackButton.style.display = 'none';\n                }\n            }\n            else {\n                this.headerEle.style.display = 'none';\n            }\n        }\n    };\n    // Animation Related Functions\n    ListView.prototype.switchView = function (fromView, toView, reverse) {\n        var _this = this;\n        if (fromView && toView) {\n            var fPos_1 = fromView.style.position;\n            var overflow_1 = (this.element.style.overflow !== 'hidden') ? this.element.style.overflow : '';\n            fromView.style.position = 'absolute';\n            fromView.classList.add('e-view');\n            var anim = void 0;\n            var duration = this.animation.duration;\n            if (this.animation.effect) {\n                anim = (this.enableRtl ? effectsRTLConfig[this.animation.effect] : effectsConfig[this.animation.effect]);\n            }\n            else {\n                var slideLeft = 'SlideLeft';\n                anim = effectsConfig[slideLeft];\n                reverse = this.enableRtl;\n                duration = 0;\n            }\n            this.element.style.overflow = 'hidden';\n            this.aniObj.animate(fromView, {\n                name: (reverse === true ? anim[0] : anim[1]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function (model) {\n                    fromView.style.display = 'none';\n                    _this.element.style.overflow = overflow_1;\n                    fromView.style.position = fPos_1;\n                    fromView.classList.remove('e-view');\n                }\n            });\n            toView.style.display = '';\n            this.aniObj.animate(toView, {\n                name: (reverse === true ? anim[2] : anim[3]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function () {\n                    _this.trigger('actionComplete');\n                }\n            });\n            this.curUL = toView;\n        }\n    };\n    ListView.prototype.preRender = function () {\n        this.listBaseOption = {\n            template: this.template,\n            headerTemplate: this.headerTemplate,\n            groupTemplate: this.groupTemplate, expandCollapse: true, listClass: '',\n            ariaAttributes: {\n                itemRole: 'listitem', listRole: 'list', itemText: '',\n                groupItemRole: 'group', wrapperRole: 'presentation'\n            },\n            fields: this.fields.properties, sortOrder: this.sortOrder, showIcon: this.showIcon,\n            itemCreated: this.renderCheckbox.bind(this)\n        };\n        this.initialization();\n    };\n    ListView.prototype.initialization = function () {\n        this.curDSLevel = [];\n        this.animateOptions = {};\n        this.curViewDS = [];\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.selectedData = [];\n        this.selectedId = [];\n        this.aniObj = new Animation(this.animateOptions);\n    };\n    ListView.prototype.renderCheckbox = function (args) {\n        if (args.item.classList.contains(classNames.hasChild)) {\n            this.isNestedList = true;\n        }\n        if (this.showCheckBox && this.isValidLI(args.item)) {\n            var checkboxElement = void 0;\n            var fieldData = void 0;\n            checkboxElement = createCheckBox(this.createElement, false, {\n                checked: false, enableRtl: this.enableRtl,\n                cssClass: classNames.listviewCheckbox\n            });\n            checkboxElement.setAttribute('role', 'checkbox');\n            var frameElement_1 = checkboxElement.querySelector('.' + classNames.checkboxIcon);\n            args.item.classList.add(classNames.itemCheckList);\n            args.item.firstElementChild.classList.add(classNames.checkbox);\n            if (typeof this.dataSource[0] !== 'string' && typeof this.dataSource[0] !== 'number') {\n                fieldData = getFieldValues(args.curData, this.listBaseOption.fields);\n                if (fieldData[this.listBaseOption.fields.isChecked]) {\n                    this.checkInternally(args, checkboxElement);\n                }\n            }\n            else if (((typeof this.dataSource[0] === 'string' ||\n                typeof this.dataSource[0] === 'number') && this.selectedData.indexOf(args.text) !== -1)) {\n                this.checkInternally(args, checkboxElement);\n            }\n            checkboxElement.setAttribute('aria-checked', frameElement_1.classList.contains(classNames.checked) ? 'true' : 'false');\n            if (this.checkBoxPosition === 'Left') {\n                checkboxElement.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.insertBefore(checkboxElement, args.item.firstElementChild.childNodes[0]);\n            }\n            else {\n                checkboxElement.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.appendChild(checkboxElement);\n            }\n            this.currentLiElements.push(args.item);\n        }\n    };\n    ListView.prototype.checkInternally = function (args, checkboxElement) {\n        args.item.classList.add(classNames.selected);\n        args.item.setAttribute('aria-selected', 'true');\n        checkboxElement.querySelector('.' + classNames.checkboxIcon).classList.add(classNames.checked);\n        checkboxElement.setAttribute('aria-checked', 'true');\n    };\n    /**\n     * It is used to check the checkbox of an item.\n     * @param  {Fields | HTMLElement | Element} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.checkItem = function (item) {\n        this.toggleCheckBase(item, true);\n    };\n    ListView.prototype.toggleCheckBase = function (item, checked) {\n        if (this.showCheckBox) {\n            var liElement = item;\n            if (item instanceof Object && item.constructor !== HTMLLIElement) {\n                liElement = this.getLiFromObjOrElement(item);\n            }\n            if (!isNullOrUndefined(liElement)) {\n                var checkboxIcon = liElement.querySelector('.' + classNames.checkboxIcon);\n                checked ? liElement.classList.add(classNames.selected) : liElement.classList.remove(classNames.selected);\n                liElement.setAttribute('aria-selected', checked ? 'true' : 'false');\n                checked ? checkboxIcon.classList.add(classNames.checked) : checkboxIcon.classList.remove(classNames.checked);\n                checkboxIcon.parentElement.setAttribute('aria-checked', checked ? 'true' : 'false');\n            }\n            this.setSelectedItemData(liElement);\n        }\n    };\n    /**\n     * It is used to uncheck the checkbox of an item.\n     * @param  {Fields | HTMLElement | Element} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.uncheckItem = function (item) {\n        this.toggleCheckBase(item, false);\n    };\n    /**\n     * It is used to check all the items in ListView.\n     */\n    ListView.prototype.checkAllItems = function () {\n        this.toggleAllCheckBase(true);\n    };\n    /**\n     * It is used to un-check all the items in ListView.\n     */\n    ListView.prototype.uncheckAllItems = function () {\n        this.toggleAllCheckBase(false);\n    };\n    ListView.prototype.toggleAllCheckBase = function (checked) {\n        if (this.showCheckBox) {\n            for (var i = 0; i < this.liCollection.length; i++) {\n                var checkIcon = this.liCollection[i].querySelector('.' + classNames.checkboxIcon);\n                if (checkIcon) {\n                    if (checked) {\n                        if (!checkIcon.classList.contains(classNames.checked)) {\n                            this.checkItem(this.liCollection[i]);\n                        }\n                    }\n                    else {\n                        if (checkIcon.classList.contains(classNames.checked)) {\n                            this.uncheckItem(this.liCollection[i]);\n                        }\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.virtualizationModule.checkedItem(checked);\n            }\n        }\n    };\n    ListView.prototype.setCheckbox = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n            var args_1 = {\n                item: undefined, curData: undefined, dataSource: undefined, fields: undefined,\n                options: undefined, text: ''\n            };\n            liCollection.forEach(function (element) {\n                args_1.item = element;\n                args_1.curData = _this.getItemData(element);\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n                _this.renderCheckbox(args_1);\n                if (args_1.item.classList.contains(classNames.selected)) {\n                    _this.checkInternally(args_1, args_1.item.querySelector('.' + classNames.checkboxWrapper));\n                }\n            });\n        }\n        else {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.itemCheckList));\n            liCollection.forEach(function (element) {\n                element.classList.remove(classNames.selected);\n                element.firstElementChild.classList.remove(classNames.checkbox);\n                _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n            });\n            if (this.selectedItems) {\n                this.selectedItems.item.classList.add(classNames.selected);\n            }\n        }\n    };\n    ListView.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        if (classList.contains(classNames.backIcon) || classList.contains(classNames.headerText)) {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n        else {\n            var li = closest(target.parentNode, '.' + classNames.listItem);\n            if (li === null) {\n                li = target;\n            }\n            this.removeFocus();\n            if (this.enable && this.showCheckBox && this.isValidLI(li)) {\n                if (e.target.classList.contains(classNames.checkboxIcon)) {\n                    li.classList.add(classNames.focused);\n                    if (isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                        var args = {\n                            curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                            text: undefined, item: li\n                        };\n                        this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n                    }\n                    else {\n                        this.uncheckItem(li);\n                        li.classList.add(classNames.focused);\n                    }\n                    if (e) {\n                        var eventArgs = this.selectEventData(li, e);\n                        var checkIcon = li.querySelector('.' + classNames.checkboxIcon);\n                        merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n                        this.trigger('select', eventArgs);\n                    }\n                }\n                else if (li.classList.contains(classNames.hasChild)) {\n                    this.removeHover();\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.setSelectLI(li, e);\n                    li.classList.remove(classNames.selected);\n                }\n                else {\n                    this.setCheckboxLI(li, e);\n                }\n            }\n            else {\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.removeElement = function (element) {\n        return element && element.parentNode && element.parentNode.removeChild(element);\n    };\n    ListView.prototype.hoverHandler = function (e) {\n        var curLi = closest(e.target.parentNode, '.' + classNames.listItem);\n        this.setHoverLI(curLi);\n    };\n    ListView.prototype.leaveHandler = function (e) {\n        this.removeHover();\n    };\n    ;\n    ListView.prototype.homeKeyHandler = function (e, end) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelectorAll('.' + classNames.listItem);\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused) ||\n                this.curUL.querySelector('.' + classNames.selected);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.focused);\n                if (!this.showCheckBox) {\n                    focusedElement.classList.remove(classNames.selected);\n                }\n            }\n            var index = !end ? 0 : li.length - 1;\n            if (li[index].classList.contains(classNames.hasChild) || this.showCheckBox) {\n                li[index].classList.add(classNames.focused);\n            }\n            else {\n                this.setSelectLI(li[index], e);\n            }\n        }\n    };\n    ListView.prototype.onArrowKeyDown = function (e, prev) {\n        var siblingLI;\n        var li;\n        var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n        if (hasChild || this.showCheckBox) {\n            li = this.curUL.querySelector('.' + classNames.focused) || this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            if (!isNullOrUndefined(siblingLI)) {\n                if (li) {\n                    li.classList.remove(classNames.focused);\n                    if (!this.showCheckBox) {\n                        li.classList.remove(classNames.selected);\n                    }\n                }\n                if (siblingLI.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    siblingLI.classList.add(classNames.focused);\n                }\n                else {\n                    this.setSelectLI(siblingLI, e);\n                }\n            }\n        }\n        else {\n            li = this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            this.setSelectLI(siblingLI, e);\n        }\n        return siblingLI;\n    };\n    ListView.prototype.arrowKeyHandler = function (e, prev) {\n        var _this = this;\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var siblingLI = this.onArrowKeyDown(e, prev);\n            var elementTop = this.element.getBoundingClientRect().top;\n            var elementHeight = this.element.getBoundingClientRect().height;\n            var firstItemBounds = this.curUL.querySelector('.' + classNames.listItem).getBoundingClientRect();\n            var heightDiff = void 0;\n            var groupItemBounds = void 0;\n            if (this.fields.groupBy) {\n                groupItemBounds = this.curUL.querySelector('.' + classNames.groupListItem).getBoundingClientRect();\n            }\n            if (siblingLI) {\n                var siblingTop = siblingLI.getBoundingClientRect().top;\n                var siblingHeight = siblingLI.getBoundingClientRect().height;\n                if (!prev) {\n                    var height = this.isWindow ? window.innerHeight : elementHeight;\n                    heightDiff = this.isWindow ? (siblingTop + siblingHeight) :\n                        ((siblingTop - elementTop) + siblingHeight);\n                    if (heightDiff > height) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + (heightDiff - height)) :\n                            this.element.scrollTo(0, this.element.scrollTop + (heightDiff - height));\n                    }\n                }\n                else {\n                    heightDiff = this.isWindow ? siblingTop : (siblingTop - elementTop);\n                    if (heightDiff < 0) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                            this.element.scrollTo(0, this.element.scrollTop + heightDiff);\n                    }\n                }\n            }\n            else if (this.enableVirtualization && prev && this.virtualizationModule.uiFirstIndex) {\n                this.onUIScrolled = function () {\n                    _this.onArrowKeyDown(e, prev);\n                    _this.onUIScrolled = undefined;\n                };\n                heightDiff = this.virtualizationModule.listItemHeight;\n                this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff) :\n                    this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n            }\n            else if (prev) {\n                if (this.showHeader && this.headerEle) {\n                    var topHeight = groupItemBounds ? groupItemBounds.top : firstItemBounds.top;\n                    var headerBounds = this.headerEle.getBoundingClientRect();\n                    heightDiff = headerBounds.top < 0 ? (headerBounds.height - topHeight) : 0;\n                    this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff)\n                        : this.element.scrollTo(0, 0);\n                }\n                else if (this.fields.groupBy) {\n                    heightDiff = this.isWindow ? (groupItemBounds.top < 0 ? groupItemBounds.top : 0) :\n                        (elementTop - firstItemBounds.top) + groupItemBounds.height;\n                    this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                        this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n                }\n            }\n        }\n    };\n    ListView.prototype.enterKeyHandler = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (hasChild && li) {\n                li.classList.remove(classNames.focused);\n                if (this.showCheckBox) {\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.removeHover();\n                }\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.spaceKeyHandler = function (e) {\n        if (this.enable && this.showCheckBox && Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (!isNullOrUndefined(li) && isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                var args = {\n                    curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                    text: undefined, item: li\n                };\n                this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n            }\n            else {\n                this.uncheckItem(li);\n            }\n        }\n    };\n    ListView.prototype.keyActionHandler = function (e) {\n        e.preventDefault();\n        switch (e.keyCode) {\n            case 36:\n                this.homeKeyHandler(e);\n                break;\n            case 35:\n                this.homeKeyHandler(e, true);\n                break;\n            case 40:\n                this.arrowKeyHandler(e);\n                break;\n            case 38:\n                this.arrowKeyHandler(e, true);\n                break;\n            case 13:\n                this.enterKeyHandler(e);\n                break;\n            case 8:\n                if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                    this.uncheckAllItems();\n                }\n                this.back();\n                break;\n            case 9:\n                this.tabFocus(e);\n                break;\n            case 32:\n                this.spaceKeyHandler(e);\n                break;\n        }\n    };\n    ListView.prototype.swipeActionHandler = function (e) {\n        if (e.swipeDirection === 'Right') {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n    };\n    ListView.prototype.focusout = function () {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n            var activeElement = this.curUL.querySelector('[aria-selected = true]');\n            if (focusedElement && !this.showCheckBox) {\n                focusedElement.classList.remove(classNames.focused);\n                if (activeElement) {\n                    activeElement.classList.add(classNames.selected);\n                }\n            }\n        }\n    };\n    ListView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'keydown', this.keyActionHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.enableVirtualization) {\n            EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n            EventHandler.add(this.element, 'mouseout', this.leaveHandler, this);\n        }\n        EventHandler.add(this.element, 'focusout', this.focusout, this);\n        this.touchModule = new Touch(this.element, { swipe: this.swipeActionHandler.bind(this) });\n    };\n    ListView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!this.enableVirtualization) {\n            EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n            EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        }\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        this.touchModule.destroy();\n    };\n    ListView.prototype.tabFocus = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var selectedList = this.curUL.querySelector('.' + classNames.selected);\n            if ((!selectedList && this.curUL) || this.showCheckBox) {\n                var li = this.curUL.querySelector('.' + classNames.listItem);\n                if (li.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n                    if (isNullOrUndefined(focusedElement)) {\n                        li.classList.add(classNames.focused);\n                    }\n                }\n                else {\n                    this.setSelectLI(li, e);\n                }\n            }\n        }\n    };\n    ListView.prototype.removeFocus = function () {\n        var focusedLI = this.element.querySelectorAll('.' + classNames.focused);\n        for (var _i = 0, focusedLI_1 = focusedLI; _i < focusedLI_1.length; _i++) {\n            var ele = focusedLI_1[_i];\n            ele.classList.remove(classNames.focused);\n        }\n    };\n    ListView.prototype.removeHover = function () {\n        var hoverLI = this.element.querySelector('.' + classNames.hover);\n        if (hoverLI) {\n            hoverLI.classList.remove(classNames.hover);\n        }\n    };\n    ListView.prototype.removeSelect = function (li) {\n        if (isNullOrUndefined(li)) {\n            var selectedLI = this.element.querySelectorAll('.' + classNames.selected);\n            for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n                var ele = selectedLI_1[_i];\n                if (this.showCheckBox && ele.querySelector('.' + classNames.checked)) {\n                    continue;\n                }\n                else {\n                    ele.setAttribute('aria-selected', 'false');\n                    ele.classList.remove(classNames.selected);\n                }\n            }\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n    };\n    ListView.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(classNames.listItem)\n            && !li.classList.contains(classNames.groupListItem)\n            && !li.classList.contains(classNames.disable));\n    };\n    ListView.prototype.setCheckboxLI = function (li, e) {\n        if (this.isValidLI(li) && this.enable && this.showCheckBox) {\n            if (this.curUL.querySelector('.' + classNames.focused)) {\n                this.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n            }\n            li.classList.add(classNames.focused);\n            var checkboxElement = li.querySelector('.' + classNames.checkboxWrapper);\n            var checkIcon = checkboxElement.querySelector('.' + classNames.checkboxIcon + '.' + classNames.icon);\n            this.removeHover();\n            if (!checkIcon.classList.contains(classNames.checked)) {\n                checkIcon.classList.add(classNames.checked);\n                li.classList.add(classNames.selected);\n                li.setAttribute('aria-selected', 'true');\n            }\n            else {\n                checkIcon.classList.remove(classNames.checked);\n                li.classList.remove(classNames.selected);\n                li.setAttribute('aria-selected', 'false');\n            }\n            checkboxElement.setAttribute('aria-checked', checkIcon.classList.contains(classNames.checked) ?\n                'true' : 'false');\n            var eventArgs = this.selectEventData(li, e);\n            merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n            if (this.enableVirtualization) {\n                this.virtualizationModule.setCheckboxLI(li, e);\n            }\n            this.trigger('select', eventArgs);\n            this.setSelectedItemData(li);\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.selectEventData = function (li, e) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        var selectedItem;\n        if (!isNullOrUndefined(data)\n            && typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n            selectedItem = { item: li, text: li && li.innerText.trim(), data: this.dataSource };\n        }\n        else {\n            selectedItem = { item: li, text: fieldData && fieldData[this.listBaseOption.fields.text], data: data };\n        }\n        var eventArgs = {};\n        merge(eventArgs, selectedItem);\n        if (e) {\n            merge(eventArgs, { isInteracted: true, event: e, index: Array.prototype.indexOf.call(this.curUL.children, li) });\n        }\n        return eventArgs;\n    };\n    ListView.prototype.setSelectedItemData = function (li) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        if (!isNullOrUndefined(data) && ((typeof this.dataSource[0] === 'string') ||\n            (typeof this.dataSource[0] === 'number'))) {\n            this.selectedItems = {\n                item: li,\n                text: li && li.innerText.trim(),\n                data: this.dataSource\n            };\n        }\n        else {\n            this.selectedItems = {\n                item: li,\n                text: fieldData && fieldData[this.listBaseOption.fields.text],\n                data: data\n            };\n        }\n    };\n    ListView.prototype.setSelectLI = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.selected) && this.enable) {\n            if (!this.showCheckBox) {\n                this.removeSelect();\n            }\n            li.classList.add(classNames.selected);\n            li.setAttribute('aria-selected', 'true');\n            this.removeHover();\n            this.setSelectedItemData(li);\n            if (this.enableVirtualization) {\n                this.virtualizationModule.setSelectLI(li, e);\n            }\n            var eventArgs = this.selectEventData(li, e);\n            this.trigger('select', eventArgs);\n            this.selectedLI = li;\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.setHoverLI = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.hover) && this.enable) {\n            var lastLi = this.element.querySelectorAll('.' + classNames.hover);\n            if (lastLi && lastLi.length) {\n                removeClass(lastLi, classNames.hover);\n            }\n            if (!li.classList.contains(classNames.selected) || this.showCheckBox) {\n                li.classList.add(classNames.hover);\n            }\n        }\n    };\n    //Data Source Related Functions\n    ListView.prototype.getSubDS = function () {\n        var levelKeys = this.curDSLevel;\n        if (levelKeys.length) {\n            var ds = this.localData;\n            for (var _i = 0, levelKeys_1 = levelKeys; _i < levelKeys_1.length; _i++) {\n                var key = levelKeys_1[_i];\n                var field = {};\n                field[this.fields.id] = key;\n                this.curDSJSON = this.findItemFromDS(ds, field);\n                var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n                ds = this.curDSJSON ? fieldData[this.fields.child] : ds;\n            }\n            return ds;\n        }\n        return this.localData;\n    };\n    ListView.prototype.getItemData = function (li) {\n        var dataSource = this.dataSource instanceof DataManager ?\n            this.localData : this.dataSource;\n        var fields = this.getElementUID(li);\n        var curDS;\n        if (isNullOrUndefined(this.element.querySelector('.' + classNames.hasChild)) && this.fields.groupBy) {\n            curDS = this.curViewDS;\n        }\n        else {\n            curDS = dataSource;\n        }\n        return this.findItemFromDS(curDS, fields);\n    };\n    ListView.prototype.findItemFromDS = function (dataSource, fields, parent) {\n        var _this = this;\n        var resultJSON;\n        if (dataSource && dataSource.length && fields) {\n            dataSource.some(function (data) {\n                var fieldData = getFieldValues(data, _this.listBaseOption.fields);\n                //(!(fid) || id === fid) && (!(ftext) || text === ftext) && (!!fid || !!ftext)\n                if ((fields[_this.fields.id] || fields[_this.fields.text]) &&\n                    (!fields[_this.fields.id] || (!isNullOrUndefined(fieldData[_this.fields.id]) &&\n                        fieldData[_this.fields.id].toString()) === fields[_this.fields.id].toString()) &&\n                    (!fields[_this.fields.text] || fieldData[_this.fields.text] === fields[_this.fields.text])) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (typeof data !== 'object' && dataSource.indexOf(data) !== -1) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (!isNullOrUndefined(fields[_this.fields.id]) && isNullOrUndefined(fieldData[_this.fields.id])) {\n                    var li = _this.element.querySelector('[data-uid=\"'\n                        + fields[_this.fields.id] + '\"]');\n                    if (li && li.innerText.trim() === fieldData[_this.fields.text]) {\n                        resultJSON = data;\n                    }\n                }\n                else if (fieldData.hasOwnProperty(_this.fields.child) && fieldData[_this.fields.child].length) {\n                    resultJSON = _this.findItemFromDS(fieldData[_this.fields.child], fields, parent);\n                }\n                return !!resultJSON;\n            });\n        }\n        else {\n            resultJSON = dataSource;\n        }\n        return resultJSON;\n    };\n    ListView.prototype.getQuery = function () {\n        var columns = [];\n        var query = (this.query ? this.query : new Query());\n        if (!this.query) {\n            for (var _i = 0, _a = Object.keys(this.fields.properties); _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column !== 'tableName' && !!(this.fields[column]) &&\n                    this.fields[column] !==\n                        ListBase.defaultMappedFields[column]\n                    && columns.indexOf(this.fields[column]) === -1) {\n                    columns.push(this.fields[column]);\n                }\n            }\n            query.select(columns);\n            if (this.fields.properties.hasOwnProperty('tableName')) {\n                query.from(this.fields.tableName);\n            }\n        }\n        return query;\n    };\n    ListView.prototype.setViewDataSource = function (dataSource) {\n        if (dataSource === void 0) { dataSource = this.localData; }\n        if (dataSource && this.fields.groupBy) {\n            this.curViewDS = ListBase.groupDataSource(dataSource, this.listBaseOption.fields, this.sortOrder);\n        }\n        else if (dataSource && this.sortOrder !== 'None') {\n            this.curViewDS = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, this.fields.sortBy));\n        }\n        else {\n            this.curViewDS = dataSource;\n        }\n    };\n    ListView.prototype.isInAnimation = function () {\n        return this.curUL.classList.contains('.e-animate');\n    };\n    ListView.prototype.setLocalData = function () {\n        var _this = this;\n        this.trigger('actionBegin');\n        if (this.dataSource instanceof DataManager) {\n            this.dataSource.executeQuery(this.getQuery()).then(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.localData = e.result;\n                _this.renderList();\n                _this.trigger('actionComplete', e);\n            }).catch(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.trigger('actionFailure', e);\n            });\n        }\n        else if (!this.dataSource || !this.dataSource.length) {\n            var ul = this.element.querySelector('ul');\n            if (ul) {\n                remove(ul);\n                this.setProperties({ dataSource: ListBase.createJsonFromElement(ul) }, true);\n                this.localData = this.dataSource;\n                this.renderList();\n                this.trigger('actionComplete', { data: this.localData });\n            }\n        }\n        else {\n            this.localData = this.dataSource;\n            this.renderList();\n            this.trigger('actionComplete', { data: this.localData });\n        }\n    };\n    ListView.prototype.reRender = function () {\n        this.element.innerHTML = '';\n        this.headerEle = this.ulElement = this.liCollection = undefined;\n        this.setLocalData();\n        this.header();\n    };\n    ListView.prototype.resetCurrentList = function () {\n        this.setViewDataSource(this.curViewDS);\n        this.contentContainer.innerHTML = '';\n        this.createList();\n        this.renderIntoDom(this.curUL);\n    };\n    ListView.prototype.createList = function () {\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.ulElement = this.curUL = ListBase.createList(this.createElement, this.curViewDS, this.listBaseOption);\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n    };\n    ListView.prototype.renderSubList = function (li) {\n        var uID = li.getAttribute('data-uid');\n        if (li.classList.contains(classNames.hasChild) && uID) {\n            var ul = closest(li.parentNode, '.' + classNames.parentItem);\n            var ele = this.element.querySelector('[pid=\\'' + uID + '\\']');\n            this.curDSLevel.push(uID);\n            this.setViewDataSource(this.getSubDS());\n            if (!ele) {\n                var data = this.curViewDS;\n                ele = ListBase.createListFromJson(this.createElement, data, this.listBaseOption, this.curDSLevel.length);\n                ele.setAttribute('pID', uID);\n                ele.style.display = 'none';\n                this.renderIntoDom(ele);\n            }\n            this.switchView(ul, ele);\n            this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n            if (this.selectedItems) {\n                var fieldData = getFieldValues(this.selectedItems.data, this.listBaseOption.fields);\n                this.header((fieldData[this.listBaseOption.fields.text]), true);\n            }\n            this.selectedLI = undefined;\n        }\n    };\n    ListView.prototype.renderIntoDom = function (ele) {\n        this.contentContainer.appendChild(ele);\n    };\n    ListView.prototype.renderList = function (data) {\n        this.setViewDataSource(data);\n        if (this.enableVirtualization && Object.keys(this.dataSource).length) {\n            if ((this.template || this.groupTemplate) && !this.virtualizationModule.isNgTemplate()) {\n                this.listBaseOption.template = null;\n                this.listBaseOption.groupTemplate = null;\n                this.listBaseOption.itemCreated = this.virtualizationModule.createUIItem.bind(this.virtualizationModule);\n            }\n            this.virtualizationModule.uiVirtualization();\n        }\n        else {\n            this.createList();\n            this.contentContainer = this.createElement('div', { className: classNames.content });\n            this.element.appendChild(this.contentContainer);\n            this.renderIntoDom(this.ulElement);\n        }\n    };\n    ListView.prototype.getElementUID = function (obj) {\n        var fields = {};\n        if (obj instanceof Element) {\n            fields[this.fields.id] = obj.getAttribute('data-uid');\n        }\n        else {\n            fields = obj;\n        }\n        return fields;\n    };\n    /**\n     * It is used to Initialize the control rendering.\n     */\n    ListView.prototype.render = function () {\n        this.element.classList.add(classNames.root);\n        attributes(this.element, { role: 'list', tabindex: '0' });\n        this.setCSSClass();\n        this.setEnableRTL();\n        this.setEnable();\n        this.setSize();\n        this.wireEvents();\n        this.header();\n        this.setLocalData();\n        this.setHTMLAttribute();\n        this.rippleFn = rippleEffect(this.element, {\n            selector: '.' + classNames.listItem\n        });\n    };\n    /**\n     * It is used to destroy the ListView component.\n     */\n    ListView.prototype.destroy = function () {\n        this.unWireEvents();\n        var classAr = [classNames.root, classNames.disable, 'e-rtl',\n            'e-has-header', 'e-control'].concat(this.cssClass.split(' ').filter(function (css) { return css; }));\n        removeClass([this.element], classAr);\n        this.rippleFn();\n        this.element.removeAttribute('role');\n        this.element.removeAttribute('tabindex');\n        this.element.innerHTML = '';\n        this.curUL = this.ulElement = this.liCollection = this.headerEle = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * It helps to switch back from navigated sub list.\n     */\n    ListView.prototype.back = function () {\n        var pID = this.curDSLevel[this.curDSLevel.length - 1];\n        if (pID === undefined || this.isInAnimation()) {\n            return;\n        }\n        this.curDSLevel.pop();\n        this.setViewDataSource(this.getSubDS());\n        var toUL = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        var fromUL = this.curUL;\n        if (!toUL) {\n            this.createList();\n            this.renderIntoDom(this.ulElement);\n            toUL = this.curUL;\n        }\n        else {\n            toUL = toUL.parentElement;\n        }\n        var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n        var text = fieldData[this.fields.text];\n        this.switchView(fromUL, toUL, true);\n        this.removeFocus();\n        var li = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        li.classList.add(classNames.focused);\n        if (this.showCheckBox && li.querySelector('.' + classNames.checkboxIcon).classList.contains(classNames.checked)) {\n            li.setAttribute('aria-selected', 'true');\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n        this.header((this.curDSLevel.length ? text : this.headerTitle), (this.curDSLevel.length ? true : false));\n    };\n    /**\n     * It is used to select the list item from the ListView.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.selectItem = function (obj) {\n        if (this.enableVirtualization) {\n            this.virtualizationModule.selectItem(obj);\n        }\n        else if (this.showCheckBox) {\n            this.setCheckboxLI(this.getLiFromObjOrElement(obj));\n        }\n        else {\n            isNullOrUndefined(obj) ? this.removeSelect() : this.setSelectLI(this.getLiFromObjOrElement(obj));\n        }\n    };\n    ListView.prototype.getLiFromObjOrElement = function (obj) {\n        var li;\n        var dataSource = this.dataSource instanceof DataManager ?\n            this.localData : this.dataSource;\n        if (!isNullOrUndefined(obj)) {\n            if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                if (obj instanceof Element) {\n                    var uid = obj.getAttribute('data-uid').toString();\n                    for (var i = 0; i < this.liCollection.length; i++) {\n                        if (this.liCollection[i].getAttribute('data-uid').toString() === uid) {\n                            li = this.liCollection[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    Array.prototype.some.call(this.curUL.querySelectorAll('.' + classNames.listItem), function (item) {\n                        if (item.innerText.trim() === obj.toString()) {\n                            li = item;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n            }\n            else {\n                var resultJSON = this.getItemData(obj);\n                var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n                if (resultJSON) {\n                    li = this.element.querySelector('[data-uid=\"'\n                        + fieldData[this.fields.id] + '\"]');\n                    if (!this.enableVirtualization && isNullOrUndefined(li)) {\n                        var curLi = this.element.querySelectorAll('.' + classNames.listItem);\n                        for (var i = 0; i < curLi.length; i++) {\n                            if (curLi[i].innerText.trim() === fieldData[this.fields.text]) {\n                                li = curLi[i];\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return li;\n    };\n    /**\n     * It is used to select multiple list item from the ListView.\n     * @param  {Fields[] | HTMLElement[] | Element[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.selectMultipleItems = function (obj) {\n        if (!isNullOrUndefined(obj)) {\n            for (var i = 0; i < obj.length; i++) {\n                if (!isNullOrUndefined(obj[i])) {\n                    this.selectItem(obj[i]);\n                }\n            }\n        }\n    };\n    ListView.prototype.getParentId = function () {\n        var parentId = [];\n        if (this.isNestedList) {\n            for (var i = this.curDSLevel.length - 1; i >= 0; i--) {\n                parentId.push(this.curDSLevel[i]);\n            }\n        }\n        return parentId;\n    };\n    /**\n     * It is used to get the currently [here](./api-selectedItem.html)\n     *  item details from the list items.\n     */\n    ListView.prototype.getSelectedItems = function () {\n        this.selectedId = [];\n        var dataSource = this.dataSource instanceof DataManager ?\n            this.localData : this.dataSource;\n        if (this.enableVirtualization) {\n            return this.virtualizationModule.getSelectedItems();\n        }\n        else if (this.showCheckBox) {\n            var liCollection = this.curUL.getElementsByClassName(classNames.selected);\n            var liTextCollection = [];\n            var liDataCollection = [];\n            this.selectedId = [];\n            var dataParent = [];\n            for (var i = 0; i < liCollection.length; i++) {\n                if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                    liTextCollection.push(liCollection[i].innerText.trim());\n                }\n                else {\n                    var tempData = this.getItemData(liCollection[i]);\n                    var fieldData = getFieldValues(tempData, this.listBaseOption.fields);\n                    if (this.isNestedList) {\n                        dataParent.push({ data: tempData, parentId: this.getParentId() });\n                    }\n                    else {\n                        liDataCollection.push(tempData);\n                    }\n                    if (fieldData) {\n                        liTextCollection.push(fieldData[this.listBaseOption.fields.text]);\n                        this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    }\n                    else {\n                        liTextCollection.push(undefined);\n                        this.selectedId.push(undefined);\n                    }\n                }\n            }\n            if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                return { item: liCollection, data: dataSource, text: liTextCollection };\n            }\n            if (this.isNestedList) {\n                return { item: liCollection, data: dataParent, text: liTextCollection };\n            }\n            else {\n                return { item: liCollection, data: liDataCollection, text: liTextCollection };\n            }\n        }\n        else {\n            var liElement = this.element.getElementsByClassName(classNames.selected)[0];\n            var fieldData = getFieldValues(this.getItemData(liElement), this.listBaseOption.fields);\n            if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                return (!isNullOrUndefined(liElement)) ? {\n                    item: liElement, data: dataSource,\n                    text: liElement.innerText.trim()\n                } : undefined;\n            }\n            else {\n                if (isNullOrUndefined(fieldData) || isNullOrUndefined(liElement)) {\n                    return undefined;\n                }\n                else {\n                    this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    return {\n                        text: fieldData[this.listBaseOption.fields.text], item: liElement,\n                        data: this.getItemData(liElement)\n                    };\n                }\n            }\n        }\n    };\n    /**\n     * It is used to find out an item details from the current list.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.findItem = function (obj) {\n        return this.getItemData(obj);\n    };\n    /**\n     * A function that used to enable the disabled list items based on passed element.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.enableItem = function (obj) {\n        this.setItemState(obj, true);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.enableItem(obj);\n        }\n    };\n    /**\n     * It is used to disable the list items based on passed element.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.disableItem = function (obj) {\n        this.setItemState(obj, false);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.disableItem(obj);\n        }\n    };\n    //A function that used to set state of the list item like enable, disable.\n    ListView.prototype.setItemState = function (obj, isEnable) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (isEnable) {\n                if (li) {\n                    li.classList.remove(classNames.disable);\n                }\n                delete resultJSON[this.fields.enabled];\n            }\n            else if (!isEnable) {\n                if (li) {\n                    li.classList.add(classNames.disable);\n                }\n                resultJSON[this.fields.enabled] = false;\n            }\n        }\n    };\n    /**\n     * It is used to show an list item from the ListView.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.showItem = function (obj) {\n        this.showHideItem(obj, false, '');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.showItem(obj);\n        }\n    };\n    /**\n     * It is used to hide an item from the ListView.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.hideItem = function (obj) {\n        this.showHideItem(obj, true, 'none');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.hideItem(obj);\n        }\n    };\n    ListView.prototype.showHideItem = function (obj, isHide, display) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (li) {\n                li.style.display = display;\n            }\n            if (isHide) {\n                resultJSON[this.fields.isVisible] = false;\n            }\n            else {\n                delete resultJSON[this.fields.isVisible];\n            }\n        }\n    };\n    /**\n     * It adds new item to current ListView.\n     * To add a new item in the list view, we need to pass ‘data’ as array or object and ‘fields’ as object.\n     * For example fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {{[key:string]:Object}[]} data - Array JSON Data that need to add.\n     * @param  {Fields} fields - Fields as an Object with ID and Text fields.\n     */\n    ListView.prototype.addItem = function (data, fields) {\n        var _this = this;\n        if (fields === void 0) { fields = undefined; }\n        if (!(this.dataSource instanceof DataManager)) {\n            if (data instanceof Array) {\n                if (this.enableVirtualization) {\n                    this.virtualizationModule.addItem(data, fields);\n                }\n                else {\n                    var ds = this.findItemFromDS(this.dataSource, fields);\n                    var fieldData = getFieldValues(ds, this.listBaseOption.fields);\n                    var child = fieldData[this.fields.child];\n                    if (!child) {\n                        child = [];\n                    }\n                    child = child.concat(data);\n                    if (ds instanceof Array) {\n                        data.forEach(function (dataSource) {\n                            _this.dataSource.push(dataSource);\n                            _this.setViewDataSource(_this.dataSource);\n                            if (_this.ulElement) {\n                                var index = _this.curViewDS.indexOf(dataSource);\n                                _this.addListItem(dataSource, index);\n                                var curViewDS = _this.curViewDS[index - 1];\n                                if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                                    _this.addListItem(curViewDS, (index - 1));\n                                }\n                            }\n                            else {\n                                _this.reRender();\n                            }\n                        });\n                        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n                    }\n                    else {\n                        ds[this.fields.child] = child;\n                        this.reRender();\n                    }\n                }\n            }\n        }\n    };\n    ListView.prototype.addListItem = function (dataSource, index) {\n        var target = this.getLiFromObjOrElement(this.curViewDS[index + 1]) ||\n            this.getLiFromObjOrElement(this.curViewDS[index + 2]) || null;\n        var li = ListBase.createListItemFromJson(this.createElement, [dataSource], this.listBaseOption);\n        this.ulElement.insertBefore(li[0], target);\n    };\n    /**\n     * A function that removes the item from data source based on passed element like fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.removeItem = function (obj) {\n        if (!(this.dataSource instanceof DataManager)) {\n            if (this.enableVirtualization) {\n                this.virtualizationModule.removeItem(obj);\n            }\n            else {\n                this.removeItemFromList(obj);\n            }\n        }\n    };\n    ListView.prototype.removeItemFromList = function (obj) {\n        var fields = obj instanceof Element ? this.getElementUID(obj) : obj;\n        var dataSource;\n        dataSource = this.findItemFromDS(this.dataSource, fields, true);\n        if (dataSource) {\n            var data = void 0;\n            data = this.findItemFromDS(dataSource, fields);\n            var index = this.curViewDS.indexOf(data);\n            var li = this.getLiFromObjOrElement(obj);\n            var groupLi = void 0;\n            if (this.fields.groupBy && this.curViewDS[index - 1] &&\n                this.curViewDS[index - 1].isHeader &&\n                (this.curViewDS[index - 1])\n                    .items.length === 1) {\n                if (li && li.previousElementSibling.classList.contains(classNames.groupListItem) &&\n                    (isNullOrUndefined(li.nextElementSibling) || (li.nextElementSibling &&\n                        li.nextElementSibling.classList.contains(classNames.groupListItem)))) {\n                    groupLi = li.previousElementSibling;\n                }\n            }\n            if (li) {\n                detach(li);\n            }\n            if (groupLi) {\n                detach(groupLi);\n            }\n            var dsIndex = dataSource.indexOf(data);\n            dataSource.splice(dsIndex, 1);\n            this.setViewDataSource(this.dataSource);\n            this.liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n        }\n    };\n    /**\n     * A function that removes multiple item from list view based on given input.\n     * @param  {Fields[] | HTMLElement[] | Element[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.removeMultipleItems = function (obj) {\n        if (!(this.dataSource instanceof DataManager)) {\n            if (obj.length) {\n                for (var i = 0; i < obj.length; i++) {\n                    if (this.enableVirtualization) {\n                        this.removeItem(obj[i]);\n                    }\n                    else {\n                        this.removeItemFromList(obj[i]);\n                    }\n                }\n            }\n        }\n    };\n    // Module Required function\n    ListView.prototype.getModuleName = function () {\n        return 'listview';\n    };\n    ListView.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'virtualization' });\n        }\n        return modules;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    ListView.prototype.getPersistData = function () {\n        return this.addOnPersist(['cssClass', 'enableRtl', 'htmlAttributes',\n            'enable', 'fields', 'animation', 'headerTitle',\n            'sortOrder', 'showIcon', 'height', 'width', 'showCheckBox', 'checkBoxPosition']);\n    };\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property({})\n    ], ListView.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], ListView.prototype, \"enable\", void 0);\n    __decorate([\n        Property([])\n    ], ListView.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], ListView.prototype, \"query\", void 0);\n    __decorate([\n        Complex(ListBase.defaultMappedFields, FieldSettings)\n    ], ListView.prototype, \"fields\", void 0);\n    __decorate([\n        Property({ effect: 'SlideLeft', duration: 400, easing: 'ease' })\n    ], ListView.prototype, \"animation\", void 0);\n    __decorate([\n        Property('None')\n    ], ListView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property('Left')\n    ], ListView.prototype, \"checkBoxPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"headerTitle\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showHeader\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"template\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionFailure\", void 0);\n    ListView = __decorate([\n        NotifyPropertyChanges\n    ], ListView);\n    return ListView;\n}(Component));\nexport { ListView };\n","import { createElement, attributes, addClass, removeClass, detach, classList, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     * @param args\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) && args.properties.showClearButton) {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons)) {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        inputObject = setPropertyValue(args, inputObject);\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        addClass([label], CLASSNAMES.LABELTOP);\n        if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n            removeClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if (parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputElement;\n        var floatLinelement;\n        var floatLabelElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerHTML = args.element.placeholder;\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerHTML = args.properties.placeholder;\n        }\n        if (!floatLabelElement.innerHTML) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        inputObject.container.appendChild(args.element);\n        inputObject.container.appendChild(floatLinelement);\n        inputObject.container.appendChild(floatLabelElement);\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label) {\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = element.parentNode;\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    function wireClearBtnEvents(element, button, container) {\n        button.addEventListener('click', function (event) {\n            if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                event.preventDefault();\n                if (element !== document.activeElement) {\n                    element.focus();\n                }\n                element.value = '';\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        });\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () { addClass([button], CLASSNAMES.CLEARICONHIDE); }, 200);\n        });\n    }\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     * @param value - Specify the value of the input element.\n     * @param element - The element on which the specified value is updated.\n     * @param floatLabelType - Specify the float label type of the input element.\n     * @param clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n            if (element.value && parentElement.classList.contains('e-input-focus')) {\n                removeClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n            else {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        }\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     * @param cssClass - Css class names which are needed to add.\n     * @param elements - The elements which are needed to add / remove classes.\n     * @param oldClass - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     * @param placeholder - Placeholder value which is need to add.\n     * @param element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        var parentElement;\n        parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     * @param isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     * @param isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     * @param isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            inputObject.clearButton.remove();\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     * @param attrs\n     *  - Array of attributes which are need to removed from the element.\n     * @param element\n     *  - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     * @param attrs\n     * - Array of attributes which is added to element.\n     * @param element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton) {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type, customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            if (isNullOrUndefined(iconEle)) {\n                iconEle = container.querySelector('.e-input-group-icon');\n            }\n            if (isNullOrUndefined(iconEle)) {\n                container.classList.remove(CLASSNAMES.INPUTGROUP);\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                container.insertBefore(input, iconEle);\n                container.insertBefore(floatLine, iconEle);\n                container.insertBefore(floatText, iconEle);\n            }\n        }\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     * @param isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param inputObject\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        var ele = this;\n        setTimeout(function () { ele.classList.remove('e-input-btn-ripple'); }, 500);\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        container.appendChild(button);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n})(Input || (Input = {}));\n","import { classNames } from './list-view';\nimport { EventHandler, append, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { ListBase } from '../common/list-base';\nvar Virtualization = /** @class */ (function () {\n    function Virtualization(instance) {\n        this.listViewInstance = instance;\n    }\n    Virtualization.prototype.isNgTemplate = function () {\n        return !isNullOrUndefined(this.listViewInstance.templateRef) && typeof this.listViewInstance.templateRef !== 'string'\n            && isNullOrUndefined(this.listViewInstance.fields.groupBy);\n    };\n    Virtualization.prototype.uiVirtualization = function () {\n        var curViewDS = this.listViewInstance.curViewDS;\n        var firstDs = curViewDS.slice(0, 1);\n        this.listViewInstance.ulElement = this.listViewInstance.curUL = ListBase.createList(this.listViewInstance.createElement, firstDs, this.listViewInstance.listBaseOption);\n        this.listViewInstance.contentContainer = this.listViewInstance.createElement('div', { className: classNames.content });\n        this.listViewInstance.element.appendChild(this.listViewInstance.contentContainer);\n        this.listViewInstance.contentContainer.appendChild(this.listViewInstance.ulElement);\n        this.listItemHeight = this.listViewInstance.ulElement.firstElementChild.getBoundingClientRect().height;\n        this.expectedDomItemCount = this.ValidateItemCount(10000);\n        this.domItemCount = this.ValidateItemCount(Object.keys(this.listViewInstance.curViewDS).length);\n        this.uiFirstIndex = 0;\n        this.uiLastIndex = this.domItemCount - 1;\n        this.wireScrollEvent(false);\n        var otherDs = curViewDS.slice(1, this.domItemCount);\n        var listItems = ListBase.createListItemFromJson(this.listViewInstance.createElement, otherDs, this.listViewInstance.listBaseOption);\n        append(listItems, this.listViewInstance.ulElement);\n        this.listViewInstance.liCollection = this.listViewInstance.curUL.querySelectorAll('li');\n        this.topElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.topElement, this.listViewInstance.ulElement.firstElementChild);\n        this.bottomElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.bottomElement, null);\n        this.totalHeight = (Object.keys(curViewDS).length * this.listItemHeight) - (this.domItemCount * this.listItemHeight);\n        this.topElement.style.height = 0 + 'px';\n        this.bottomElement.style.height = this.totalHeight + 'px';\n        this.topElementHeight = 0;\n        this.bottomElementHeight = this.totalHeight;\n        this.listDiff = 0;\n        this.uiIndicesInitialization();\n    };\n    Virtualization.prototype.wireScrollEvent = function (destroy) {\n        if (!destroy) {\n            if (this.listViewInstance.isWindow) {\n                this.onVirtualScroll = this.onVirtualUiScroll.bind(this);\n                window.addEventListener('scroll', this.onVirtualScroll);\n            }\n            else {\n                EventHandler.add(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll, this);\n            }\n        }\n        else {\n            this.listViewInstance.isWindow ? window.removeEventListener('scroll', this.onVirtualScroll) :\n                EventHandler.remove(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll);\n        }\n    };\n    Virtualization.prototype.ValidateItemCount = function (dataSourceLength) {\n        var itemCount = this.listViewInstance.isWindow ? Math.round((window.innerHeight / this.listItemHeight) * 3) :\n            Math.round((this.listViewInstance.height / this.listItemHeight) * 1.5);\n        if (itemCount > dataSourceLength) {\n            itemCount = dataSourceLength;\n        }\n        return itemCount;\n    };\n    Virtualization.prototype.uiIndicesInitialization = function () {\n        var _this = this;\n        this.uiIndices = { 'activeIndices': [], 'disabledItemIndices': [], 'hiddenItemIndices': [] };\n        this.listViewInstance.curViewDS.forEach(function (ds, index) {\n            if (_this.listViewInstance.showCheckBox && ds[_this.listViewInstance.fields.isChecked]) {\n                _this.uiIndices.activeIndices.push(index);\n            }\n            if (!isNullOrUndefined(ds[_this.listViewInstance.fields.enabled]) && !ds[_this.listViewInstance.fields.enabled]) {\n                _this.uiIndices.disabledItemIndices.push(index);\n            }\n        });\n        if (this.isNgTemplate()) {\n            Array.prototype.forEach.call(this.listViewInstance.element.querySelectorAll('.' + classNames.listItem), function (item, index) {\n                item.context = _this.listViewInstance.viewContainerRef._embeddedViews[index].context;\n            });\n        }\n    };\n    Virtualization.prototype.getscrollerHeight = function () {\n        return this.listViewInstance.isWindow ? (((pageYOffset - this.startingHeight) <= 0) ? 0 :\n            (pageYOffset - this.startingHeight)) : ((this.listViewInstance.element.scrollTop - this.startingHeight) <= 0) ? 0 :\n            (this.listViewInstance.element.scrollTop - this.startingHeight);\n    };\n    Virtualization.prototype.onVirtualUiScroll = function () {\n        if (isNullOrUndefined(this.startingHeight)) {\n            if (this.listViewInstance.isWindow) {\n                this.startingHeight = document.documentElement.getBoundingClientRect().height -\n                    this.listViewInstance.ulElement.getBoundingClientRect().height;\n            }\n            else {\n                this.startingHeight = this.listViewInstance.headerEle ? this.listViewInstance.headerEle.getBoundingClientRect().height : 0;\n            }\n            this.scrollPosition = 0;\n        }\n        var scroll = this.getscrollerHeight();\n        this.topElementHeight = this.listItemHeight * Math.floor(scroll / this.listItemHeight);\n        this.bottomElementHeight = this.totalHeight - this.topElementHeight;\n        _a = scroll <= this.totalHeight ?\n            [this.topElementHeight, this.bottomElementHeight] : [this.totalHeight, 0], this.topElementHeight = _a[0], this.bottomElementHeight = _a[1];\n        if (this.topElementHeight !== parseFloat(this.topElement.style.height)) {\n            this.topElement.style.height = this.topElementHeight + 'px';\n            this.bottomElement.style.height = this.bottomElementHeight + 'px';\n            if (scroll > this.scrollPosition) {\n                var listDiff = ((this.topElementHeight / this.listItemHeight) - this.listDiff);\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, true);\n                }\n                else {\n                    this.onNormalScroll(listDiff, true);\n                }\n            }\n            else {\n                var listDiff = (this.listDiff - (this.topElementHeight / this.listItemHeight));\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, false);\n                }\n                else {\n                    this.onNormalScroll(listDiff, false);\n                }\n            }\n            this.listDiff = this.topElementHeight / this.listItemHeight;\n            if (typeof this.listViewInstance.onUIScrolled === 'function') {\n                this.listViewInstance.onUIScrolled();\n            }\n        }\n        this.scrollPosition = scroll;\n        var _a;\n    };\n    Virtualization.prototype.onLongScroll = function (listDiff, isScrollingDown) {\n        var _this = this;\n        var index = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n        Array.prototype.forEach.call(this.listViewInstance.ulElement.querySelectorAll('li'), function (element) {\n            _this.updateUI(element, index);\n            index++;\n        });\n        this.uiLastIndex = isScrollingDown ? (this.uiLastIndex + listDiff) : (this.uiLastIndex - listDiff);\n        this.uiFirstIndex = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n    };\n    Virtualization.prototype.onNormalScroll = function (listDiff, isScrollingDown) {\n        if (isScrollingDown) {\n            for (var i = 0; i < listDiff; i++) {\n                var index = ++this.uiLastIndex;\n                this.updateUI(this.topElement.nextElementSibling, index, this.bottomElement);\n                this.uiFirstIndex++;\n            }\n        }\n        else {\n            for (var i = 0; i < listDiff; i++) {\n                var index = --this.uiFirstIndex;\n                var target = this.topElement.nextSibling;\n                this.updateUI(this.bottomElement.previousElementSibling, index, target);\n                this.uiLastIndex--;\n            }\n        }\n    };\n    Virtualization.prototype.updateUiContent = function (element, index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n            typeof this.listViewInstance.dataSource[0] === 'number') {\n            element.dataset.uid = ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                this.listViewInstance.curViewDS[index].toString();\n        }\n        else {\n            element.dataset.uid = curViewDs[index][this.listViewInstance.fields.id] ?\n                curViewDs[index][this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                curViewDs[index][this.listViewInstance.fields.text].toString();\n        }\n        if (this.listViewInstance.showIcon) {\n            if (element.querySelector('.' + classNames.listIcon)) {\n                detach(element.querySelector('.' + classNames.listIcon));\n            }\n            if (this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]) {\n                var textContent = element.querySelector('.' + classNames.textContent);\n                var target = this.listViewInstance.createElement('div', {\n                    className: classNames.listIcon + ' ' +\n                        this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]\n                });\n                textContent.insertBefore(target, element.querySelector('.' + classNames.listItemText));\n            }\n        }\n        if (this.listViewInstance.showCheckBox && this.listViewInstance.fields.groupBy) {\n            if (!this.checkListWrapper) {\n                this.checkListWrapper = this.listViewInstance.curUL.querySelector('.' + classNames.checkboxWrapper).cloneNode(true);\n            }\n            var textContent = element.querySelector('.' + classNames.textContent);\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.remove(classNames.checklist);\n                    textContent.classList.remove(classNames.checkbox);\n                    detach(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n            }\n            else {\n                if (!element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.add(classNames.checklist);\n                    textContent.classList.add(classNames.checkbox);\n                    textContent.insertBefore(this.checkListWrapper.cloneNode(true), element.querySelector('.' + classNames.listItemText));\n                }\n            }\n        }\n    };\n    Virtualization.prototype.changeElementAttributes = function (element, index) {\n        element.classList.remove(classNames.disable);\n        if (this.uiIndices.disabledItemIndices.length && this.uiIndices.disabledItemIndices.indexOf(index) !== -1) {\n            element.classList.add(classNames.disable);\n        }\n        element.style.display = '';\n        if (this.uiIndices.hiddenItemIndices.length && this.uiIndices.hiddenItemIndices.indexOf(index) !== -1) {\n            element.style.display = 'none';\n        }\n        if (this.listViewInstance.showCheckBox) {\n            var checklistElement = element.querySelector('.' + classNames.checkboxWrapper);\n            element.classList.remove(classNames.selected);\n            element.classList.remove(classNames.focused);\n            if (checklistElement) {\n                checklistElement.removeAttribute('aria-checked');\n                checklistElement.firstElementChild.classList.remove(classNames.checked);\n            }\n            if (this.uiIndices.activeIndices.length && this.uiIndices.activeIndices.indexOf(index) !== -1 &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                checklistElement.firstElementChild.classList.add(classNames.checked);\n                checklistElement.setAttribute('aria-checked', 'true');\n                if (this.activeIndex === index) {\n                    element.classList.add(classNames.focused);\n                }\n            }\n        }\n        else {\n            element.classList.remove(classNames.selected);\n            element.removeAttribute('aria-selected');\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex === index &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                element.setAttribute('aria-selected', 'true');\n            }\n        }\n        if (this.listViewInstance.fields.groupBy) {\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.classList.contains(classNames.listItem)) {\n                    element.classList.remove(classNames.listItem);\n                    element.setAttribute('role', 'group');\n                    element.classList.add(classNames.groupListItem);\n                }\n            }\n            else {\n                if (element.classList.contains(classNames.groupListItem)) {\n                    element.classList.remove(classNames.groupListItem);\n                    element.setAttribute('role', 'listitem');\n                    element.classList.add(classNames.listItem);\n                }\n            }\n        }\n    };\n    Virtualization.prototype.findDSAndIndexFromId = function (ds, fields) {\n        var _this = this;\n        var resultJSON = {};\n        fields = this.listViewInstance.getElementUID(fields);\n        if (!isNullOrUndefined(fields)) {\n            ds.some(function (data, index) {\n                if ((fields[_this.listViewInstance.fields.id] &&\n                    fields[_this.listViewInstance.fields.id].toString()\n                        === (data[_this.listViewInstance.fields.id] && data[_this.listViewInstance.fields.id].toString())) || fields === data) {\n                    resultJSON.index = index;\n                    resultJSON.data = data;\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            });\n        }\n        return resultJSON;\n    };\n    Virtualization.prototype.getSelectedItems = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.activeIndex) || (this.listViewInstance.showCheckBox && this.uiIndices.activeIndices.length)) {\n            var dataCollection_1 = [];\n            var textCollection_1 = [];\n            if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                typeof this.listViewInstance.dataSource[0] === 'number') {\n                var curViewDS_1 = this.listViewInstance.curViewDS;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        dataCollection_1.push(curViewDS_1[index]);\n                    });\n                    return {\n                        text: dataCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return _this.listViewInstance.dataSource.indexOf(curViewDS_1[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_1[this.activeIndex],\n                        data: curViewDS_1[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_1[this.activeIndex])\n                    };\n                }\n            }\n            else {\n                var curViewDS_2 = this.listViewInstance.curViewDS;\n                var text_1 = this.listViewInstance.fields.text;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        textCollection_1.push(curViewDS_2[index][text_1]);\n                        dataCollection_1.push(curViewDS_2[index]);\n                    });\n                    return {\n                        text: textCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return (_this.listViewInstance.dataSource).indexOf(curViewDS_2[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_2[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS_2[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_2[this.activeIndex])\n                    };\n                }\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    Virtualization.prototype.selectItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            var isSelected = this.activeIndex === resutJSON.index;\n            var isChecked = void 0;\n            this.activeIndex = resutJSON.index;\n            if (this.listViewInstance.showCheckBox) {\n                if (this.uiIndices.activeIndices.indexOf(resutJSON.index) === -1) {\n                    isChecked = true;\n                    this.uiIndices.activeIndices.push(resutJSON.index);\n                }\n                else {\n                    isChecked = false;\n                    this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(resutJSON.index), 1);\n                }\n                if (this.listViewInstance.curUL.querySelector('.' + classNames.focused)) {\n                    this.listViewInstance.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n                }\n            }\n            if (this.listViewInstance.getLiFromObjOrElement(obj)) {\n                if (this.listViewInstance.showCheckBox) {\n                    this.listViewInstance.setCheckboxLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n                else {\n                    this.listViewInstance.setSelectLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n            }\n            else {\n                var eventArgs = void 0;\n                if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                    typeof this.listViewInstance.dataSource[0] === 'number') {\n                    eventArgs = {\n                        text: this.listViewInstance.curViewDS[this.activeIndex],\n                        data: this.listViewInstance.curViewDS[this.activeIndex],\n                        index: this.activeIndex\n                    };\n                }\n                else {\n                    var curViewDS = this.listViewInstance.curViewDS;\n                    eventArgs = {\n                        text: curViewDS[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS[this.activeIndex],\n                        index: this.activeIndex\n                    };\n                }\n                if (this.listViewInstance.showCheckBox) {\n                    eventArgs.isChecked = isChecked;\n                    this.listViewInstance.trigger('select', eventArgs);\n                }\n                else if (!isSelected) {\n                    this.listViewInstance.trigger('select', eventArgs);\n                }\n            }\n        }\n        else if (isNullOrUndefined(obj) && !this.listViewInstance.showCheckBox) {\n            this.listViewInstance.removeSelect();\n            this.activeIndex = undefined;\n        }\n    };\n    Virtualization.prototype.enableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.disableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.disabledItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.disabledItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.showItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.hideItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.hiddenItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.removeItem = function (obj) {\n        var dataSource;\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            dataSource = resutJSON.data;\n            if (this.listViewInstance.curViewDS[resutJSON.index - 1] &&\n                this.listViewInstance.curViewDS[resutJSON.index - 1].isHeader &&\n                (this.listViewInstance.curViewDS[resutJSON.index - 1])\n                    .items.length === 1) {\n                this.removeUiItem(resutJSON.index - 1);\n                this.removeUiItem(resutJSON.index - 1);\n            }\n            else {\n                this.removeUiItem(resutJSON.index);\n            }\n        }\n        var index = this.listViewInstance.dataSource.indexOf(dataSource);\n        if (index !== -1) {\n            this.listViewInstance.dataSource.splice(index, 1);\n            this.listViewInstance.setViewDataSource(this.listViewInstance.dataSource);\n        }\n    };\n    Virtualization.prototype.setCheckboxLI = function (li, e) {\n        var index = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        if (li.classList.contains(classNames.selected)) {\n            if (this.uiIndices.activeIndices.indexOf(index) === -1) {\n                this.uiIndices.activeIndices.push(index);\n            }\n        }\n        else {\n            this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n        }\n    };\n    Virtualization.prototype.setSelectLI = function (li, e) {\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n    };\n    Virtualization.prototype.checkedItem = function (checked) {\n        var _this = this;\n        if (checked) {\n            this.uiIndices.activeIndices = [];\n            this.activeIndex = undefined;\n            this.listViewInstance.curViewDS.forEach(function (ds, index) {\n                if (!ds.isHeader) {\n                    _this.uiIndices.activeIndices.push(index);\n                }\n            });\n        }\n        else {\n            this.activeIndex = undefined;\n            this.uiIndices.activeIndices = [];\n        }\n    };\n    Virtualization.prototype.addUiItem = function (index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        this.changeUiIndices(index, true);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex++;\n        }\n        if (this.listViewInstance.showCheckBox &&\n            curViewDs[index][this.listViewInstance.fields.isChecked]) {\n            this.uiIndices.activeIndices.push(index);\n        }\n        if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n            this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n        }\n        if (parseFloat(this.bottomElement.style.height)) {\n            var liItem = this.listViewInstance.curUL.lastElementChild.previousSibling;\n            var target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            if (target) {\n                this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n                this.updateUI(liItem, index, target);\n            }\n        }\n        else {\n            var liItem = this.listViewInstance.curUL.firstElementChild.nextSibling;\n            var target = void 0;\n            if ((Object.keys(this.listViewInstance.curViewDS).length - 1) === index) {\n                target = this.listViewInstance.curUL.lastElementChild;\n            }\n            else {\n                target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                    this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            }\n            this.topElement.style.height = parseFloat(this.topElement.style.height) + this.listItemHeight + 'px';\n            this.uiFirstIndex++;\n            this.uiLastIndex++;\n            if (target) {\n                this.updateUI(liItem, index, target);\n                this.listViewInstance.isWindow ? window.scrollTo(0, (pageYOffset + this.listItemHeight)) :\n                    this.listViewInstance.element.scrollTop += this.listItemHeight;\n            }\n        }\n        this.totalHeight += this.listItemHeight;\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.removeUiItem = function (index) {\n        this.totalHeight -= this.listItemHeight;\n        var curViewDS = this.listViewInstance.curViewDS[index];\n        var liItem = this.listViewInstance.getLiFromObjOrElement(curViewDS);\n        this.listViewInstance.curViewDS.splice(index, 1);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex--;\n        }\n        if (liItem) {\n            if (this.domItemCount > Object.keys(this.listViewInstance.curViewDS).length) {\n                detach(liItem);\n                this.domItemCount--;\n                this.uiLastIndex--;\n                this.totalHeight = 0;\n            }\n            else {\n                if (liItem.classList.contains(classNames.disable)) {\n                    liItem.classList.remove(classNames.disable);\n                    this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(index), 1);\n                }\n                if (liItem.style.display === 'none') {\n                    liItem.style.display = '';\n                    this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(index), 1);\n                }\n                if (this.listViewInstance.showCheckBox && liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n                    var checklistElement = liItem.querySelector('.' + classNames.checkboxWrapper);\n                    checklistElement.removeAttribute('aria-checked');\n                    checklistElement.firstElementChild.classList.remove(classNames.checked);\n                    if (liItem.classList.contains(classNames.focused)) {\n                        liItem.classList.remove(classNames.focused);\n                        this.activeIndex = undefined;\n                    }\n                }\n                else if (liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.activeIndex = undefined;\n                }\n                if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else if (parseFloat(this.bottomElement.style.height)) {\n                    this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else {\n                    this.topElement.style.height = parseFloat(this.topElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, (this.uiFirstIndex - 1), this.topElement.nextSibling);\n                    this.uiLastIndex--;\n                    this.uiFirstIndex--;\n                }\n            }\n        }\n        this.changeUiIndices(index, false);\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.changeUiIndices = function (index, increment) {\n        var _this = this;\n        Object.keys(this.uiIndices).forEach(function (key) {\n            _this.uiIndices[key] = _this.uiIndices[key].map(function (i) {\n                if (i >= index) {\n                    return increment ? ++i : --i;\n                }\n                else {\n                    return i;\n                }\n            });\n        });\n    };\n    Virtualization.prototype.addItem = function (data, fields) {\n        var _this = this;\n        data.forEach(function (dataSource) {\n            _this.listViewInstance.dataSource.push(dataSource);\n            _this.listViewInstance.setViewDataSource(_this.listViewInstance.dataSource);\n            if (!_this.domItemCount) {\n                _this.uiVirtualization();\n            }\n            else if (_this.domItemCount < _this.expectedDomItemCount) {\n                _this.wireScrollEvent(true);\n                detach(_this.listViewInstance.contentContainer);\n                _this.uiVirtualization();\n            }\n            else {\n                var index = _this.listViewInstance.curViewDS.indexOf(dataSource);\n                _this.addUiItem(index);\n                var curViewDS = _this.listViewInstance.curViewDS[index - 1];\n                if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                    _this.addUiItem(index - 1);\n                }\n            }\n        });\n    };\n    Virtualization.prototype.createUIItem = function (args) {\n        var template = this.listViewInstance.createElement('div');\n        var commonTemplate = '<div class=\"e-text-content\" role=\"presentation\"> ' +\n            '<span class=\"e-list-text\"> ${' + this.listViewInstance.fields.text + '} </span></div>';\n        template.innerHTML = this.listViewInstance.template || commonTemplate;\n        var templateElements = template.getElementsByTagName('*');\n        var groupTemplate = this.listViewInstance.createElement('div');\n        if (this.listViewInstance.fields.groupBy) {\n            groupTemplate.innerHTML = this.listViewInstance.groupTemplate || commonTemplate;\n        }\n        var groupTemplateElements = groupTemplate.getElementsByTagName('*');\n        if (args.curData.isHeader) {\n            this.headerData = args.curData;\n        }\n        this.templateData = args.curData.isHeader ? args.curData.items[0] :\n            args.curData;\n        args.item.innerHTML = '';\n        args.item.context = { data: args.curData, nodes: { flatTemplateNodes: [], groupTemplateNodes: [] } };\n        for (var i = 0; i < templateElements.length; i++) {\n            this.compileTemplate(templateElements[i], args.item, false);\n        }\n        for (var i = 0; i < groupTemplateElements.length; i++) {\n            this.compileTemplate(groupTemplateElements[i], args.item, true);\n        }\n        args.item.context.template = args.curData.isHeader ? template.firstElementChild :\n            groupTemplate.firstElementChild;\n        args.item.context.type = args.curData.isHeader ? 'flatList' : 'groupList';\n        var element = args.curData.isHeader ? groupTemplate : template;\n        args.item.insertBefore(element.firstElementChild, null);\n    };\n    Virtualization.prototype.compileTemplate = function (element, item, isHeader) {\n        this.textProperty(element, item, isHeader);\n        this.classProperty(element, item, isHeader);\n        this.attributeProperty(element, item, isHeader);\n    };\n    Virtualization.prototype.onChange = function (newData, listElement) {\n        listElement.context.data = newData;\n        var groupTemplateNodes = listElement.context.nodes.groupTemplateNodes;\n        var flatTemplateNodes = listElement.context.nodes.flatTemplateNodes;\n        if (!isNullOrUndefined(newData.isHeader) && newData.isHeader && listElement.context.type === 'groupList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'flatList';\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader && listElement.context.type === 'flatList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'groupList';\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader) {\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else {\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n    };\n    Virtualization.prototype.updateContextData = function (listElement, node, isHeader) {\n        if (isHeader) {\n            listElement.context.nodes.groupTemplateNodes.push(node);\n        }\n        else {\n            listElement.context.nodes.flatTemplateNodes.push(node);\n        }\n    };\n    Virtualization.prototype.classProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.className);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        if (resultantOutput && resultantOutput.length) {\n            resultantOutput.forEach(function (classNameMatch) {\n                var classFunction;\n                if (classNameMatch[1].indexOf('?') !== -1 && classNameMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + classNameMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + 'data.' + classNameMatch[1]);\n                }\n                var subNode = {};\n                if (isHeader) {\n                    subNode.bindedvalue = classFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = classFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.classList.remove(subNode.bindedvalue);\n                    element.classList.add(classFunction(value));\n                    subNode.bindedvalue = classFunction(value);\n                };\n                classNameMatch[0].split(' ').forEach(function (className) {\n                    element.classList.remove(className);\n                });\n                element.classList.add(subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.attributeProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var attributeNames = [];\n        for (var i = 0; i < element.attributes.length; i++) {\n            attributeNames.push(element.attributes[i].nodeName);\n        }\n        if (attributeNames.indexOf('class') !== -1) {\n            attributeNames.splice(attributeNames.indexOf('class'), 1);\n        }\n        attributeNames.forEach(function (attributeName) {\n            var attrNameMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(attributeName) || [];\n            var attrValueMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(element.getAttribute(attributeName))\n                || [];\n            var attributeNameFunction;\n            var attributeValueFunction;\n            if (attrNameMatch.length || attrValueMatch.length) {\n                if (attrNameMatch[1]) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    attributeNameFunction = new Function('data', 'return ' + 'data.' + attrNameMatch[1]);\n                }\n                if (attrValueMatch[1]) {\n                    if (attrValueMatch[1].indexOf('?') !== -1 && attrValueMatch[1].indexOf(':') !== -1) {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + attrValueMatch[1].replace(/\\$/g, 'data.'));\n                    }\n                    else {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + 'data.' + attrValueMatch[1]);\n                    }\n                }\n                var subNode_1 = {};\n                if (isHeader) {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.headerData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.headerData)];\n                }\n                else {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.templateData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.templateData)];\n                }\n                subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ?\n                    attributeName : subNode_1.bindedvalue[0];\n                subNode_1.onChange = function (value) {\n                    var bindedvalue = subNode_1.bindedvalue[1] === undefined ?\n                        element.getAttribute(subNode_1.attrName) : attributeValueFunction(value);\n                    element.removeAttribute(subNode_1.attrName);\n                    subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ? subNode_1.attrName : attributeNameFunction(value);\n                    element.setAttribute(subNode_1.attrName, bindedvalue);\n                    subNode_1.bindedvalue = [subNode_1.bindedvalue[0] === undefined ? undefined : attributeNameFunction(value),\n                        subNode_1.bindedvalue[1] === undefined ? undefined : attributeValueFunction(value)];\n                };\n                var attributeValue = subNode_1.bindedvalue[1] === undefined ? element.getAttribute(attributeName) :\n                    subNode_1.bindedvalue[1];\n                element.removeAttribute(attributeName);\n                element.setAttribute(subNode_1.attrName, attributeValue);\n                _this.updateContextData(listElement, subNode_1, isHeader);\n            }\n        });\n    };\n    Virtualization.prototype.textProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.innerText);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        var isChildHasTextContent = Array.prototype.some.call(element.children, function (element) {\n            if (new RegExp('\\\\${([^}]*)}', 'g').exec(element.innerText)) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        if (resultantOutput && resultantOutput.length && !isChildHasTextContent) {\n            resultantOutput.forEach(function (textPropertyMatch) {\n                var subNode = {};\n                var textFunction;\n                if (textPropertyMatch[1].indexOf('?') !== -1 && textPropertyMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + textPropertyMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + 'data.' + textPropertyMatch[1]);\n                }\n                if (isHeader) {\n                    subNode.bindedvalue = textFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = textFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.innerText = element.innerText.replace(subNode.bindedvalue, textFunction(value));\n                    subNode.bindedvalue = textFunction(value);\n                };\n                element.innerText = element.innerText.replace(textPropertyMatch[0], subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.reRenderUiVirtualization = function () {\n        this.wireScrollEvent(true);\n        if (this.listViewInstance.contentContainer) {\n            detach(this.listViewInstance.contentContainer);\n        }\n        this.listViewInstance.preRender();\n        this.listViewInstance.localData = this.listViewInstance.dataSource;\n        this.listViewInstance.renderList();\n    };\n    Virtualization.prototype.updateUI = function (element, index, targetElement) {\n        var onChange = this.isNgTemplate() ? this.onNgChange : this.onChange;\n        if (this.listViewInstance.template || this.listViewInstance.groupTemplate) {\n            var curViewDS = this.listViewInstance.curViewDS[index];\n            element.dataset.uid = curViewDS[this.listViewInstance.fields.id] ?\n                curViewDS[this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            onChange(curViewDS, element);\n        }\n        else {\n            this.updateUiContent(element, index);\n        }\n        this.changeElementAttributes(element, index);\n        if (targetElement) {\n            this.listViewInstance.ulElement.insertBefore(element, targetElement);\n        }\n    };\n    Virtualization.prototype.onNgChange = function (newData, listElement) {\n        listElement.context.$implicit = newData;\n    };\n    Virtualization.prototype.getModuleName = function () {\n        return 'virtualization';\n    };\n    Virtualization.prototype.destroy = function () {\n        this.wireScrollEvent(true);\n    };\n    return Virtualization;\n}());\nexport { Virtualization };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible, Complex } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { getZindexPartial, calculatePosition, isCollide, fit } from '@syncfusion/ej2-popups';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * @private\n * Base class for Menu and ContextMenu components.\n */\nvar MenuBase = /** @class */ (function (_super) {\n    __extends(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     * @private\n     */\n    MenuBase.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = this.createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            wrapper.style.display = 'block';\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.ngElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    MenuBase.prototype.render = function () {\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            wrapper.classList.add(this.cssClass);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': this.isMenu ? 'menubar' : 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.moverHandler, this);\n            EventHandler.add(document, 'mousedown', this.mouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n        }\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var actionNeeded = this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 1;\n        e.preventDefault();\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    MenuBase.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var sli = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                ul = wrapper.children[cnt - 1];\n                if (this.isMenu && ul.classList.contains('e-menu')) {\n                    sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    break;\n                }\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n            ul.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n        }\n        navIdx = this.getIndex(li ? li.id : null, true);\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left\n        };\n        this.trigger('beforeOpen', eventArgs);\n        top = eventArgs.top;\n        left = eventArgs.left;\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (!isNullOrUndefined(left) && !isNullOrUndefined(top))) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            var offset = void 0;\n            var isRelative = this.isMenu && this.element.offsetParent.tagName !== 'BODY';\n            if (!this.isMenu && Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = 'right';\n                var y = 'top';\n                if (this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 2) {\n                    x = this.enableRtl ? 'right' : 'left';\n                    y = 'bottom';\n                }\n                else {\n                    x = this.enableRtl ? 'left' : 'right';\n                }\n                offset = calculatePosition(li, x, y);\n                top = offset.top;\n                left = offset.left;\n            }\n            var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n            var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n            var yCollision = collide.indexOf('bottom') > -1;\n            if (xCollision) {\n                offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                left = offset.left;\n            }\n            if (this.enableRtl || xCollision) {\n                left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                if (this.isMenu && xCollision && !this.element.classList.contains('e-vertical') && this.navIdx && this.navIdx.length < 2) {\n                    left = this.enableRtl ? left - li.getBoundingClientRect().width : left + li.getBoundingClientRect().width;\n                }\n            }\n            if (yCollision) {\n                offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top;\n            }\n            collide = isCollide(ul, null, left, top);\n            xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n            if (xCollision) {\n                offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                top = offset.top;\n                left = offset.left;\n            }\n            if (isRelative) {\n                var boundRect = ul.offsetParent.getBoundingClientRect();\n                top -= boundRect.top + pageYOffset;\n                left -= boundRect.left + pageXOffset;\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        if (this.isMenu) {\n            if (this.element.classList.contains('e-vertical') && this.navIdx && this.navIdx[this.navIdx.length - 1] === 0) {\n                top = top - 1;\n            }\n            else {\n                if (this.navIdx && this.navIdx[this.navIdx.length - 1] === 0) {\n                    if (this.navIdx.length === 1) {\n                        left = left - 1;\n                    }\n                    else {\n                        top = top - 1;\n                    }\n                }\n            }\n        }\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var id = 'id';\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: this.getFields(level),\n            template: this.template,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[id]]) {\n                    args.curData[args.fields[id]] = getUniqueID('menuitem');\n                    _this.clearChanges();\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!_this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper')) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        if (this.isMenu && trgt.parentElement !== wrapper && !cli && this.navIdx.length) {\n            this.closeMenu(null, e);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString() : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item[this.getField('children', idx.length - 1)] &&\n                                item[this.getField('children', idx.length - 1)].length) {\n                                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                if (this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 2) {\n                                    var collision = isCollide(cli, this.element);\n                                    if (collision.length) {\n                                        var boundRect = cli.getBoundingClientRect();\n                                        this.element.scroll((collision.indexOf('right') > -1 ? boundRect.right : boundRect.left), 0);\n                                    }\n                                }\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {MenuBaseModel} newProp\n     * @param {MenuBaseModel} oldProp\n     * @returns void\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        wrapper.classList.add(newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    MenuBase.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.moverHandler);\n            EventHandler.remove(document, 'mousedown', this.mouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n        this.rippleFn();\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = {\n                element: ul, parentItem: item, items: item ? item.items : this.items\n            };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     * @returns Element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     * @param items Text items that needs to be shown.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     * @param items Text items that needs to be hidden.\n     * @returns void\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     * @param items Text items that needs to be removed.\n     * @returns void\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item after that the element to be inserted.\n     * @returns void\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item before that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, this.getField('iconCss', navIdx.length - 1));\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    MenuBase.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement && !this.isMenu) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                    if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                        _this.element.classList.remove('e-vertical');\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            if (this.isMenu && this.ngElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n        }\n    };\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\nexport { MenuBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { MenuBase, MenuItem } from '../common/menu-base';\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top - To specify ContextMenu vertical positioning.\n     * @param left - To specify ContextMenu horizontal positioning.\n     * @param target - To calculate z-index for ContextMenu based upon the specified target.\n     * @method open\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, Complex } from '@syncfusion/ej2-base';\nimport { MenuBase, FieldSettings } from '../common/menu-base';\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    /**\n     * Constructor for creating the component.\n     * @private\n     */\n    function Menu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.tempItems = [];\n        return _this;\n    }\n    /**\n     * Get module name.\n     * @returns string\n     * @private\n     */\n    Menu.prototype.getModuleName = function () {\n        return 'menu';\n    };\n    /**\n     * For internal use only - prerender processing.\n     * @private\n     */\n    Menu.prototype.preRender = function () {\n        this.isMenu = true;\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.template = document.querySelector(this.template).innerHTML.trim();\n                    this.clearChanges();\n                }\n            }\n            catch (e) {\n                /* action on catch */\n            }\n        }\n        else {\n            this.tempItems = this.items;\n            this.items = [];\n            this.tempItems.map(this.createMenuItems, this);\n            this.setProperties({ items: this.items }, true);\n            this.tempItems = [];\n        }\n        _super.prototype.preRender.call(this);\n    };\n    Menu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        if (this.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n            this.element.setAttribute('aria-orientation', 'vertical');\n        }\n        else {\n            if (Browser.isDevice) {\n                this.element.classList.add(SCROLLABLE);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {MenuModel} newProp\n     * @param {MenuModel} oldProp\n     * @returns void\n     */\n    Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'orientation':\n                    if (newProp.orientation === 'Vertical') {\n                        this.element.classList.add(VMENU);\n                        this.element.setAttribute('aria-orientation', 'vertical');\n                    }\n                    else {\n                        this.element.classList.remove(VMENU);\n                        this.element.removeAttribute('aria-orientation');\n                    }\n                    break;\n            }\n        }\n    };\n    Menu.prototype.createMenuItems = function (item, index) {\n        var pIdField;\n        var record = { items: [] };\n        var idx;\n        var i;\n        var items = this.items;\n        var fields = ['itemId', 'text', 'iconCss', 'url', 'separator', 'children'];\n        pIdField = this.getField('parentId');\n        for (i = 0; i < fields.length; i++) {\n            var field = this.getField(fields[i]);\n            if (item[field]) {\n                record[field] = item[field];\n            }\n        }\n        if (item[pIdField]) {\n            idx = this.getIndex(item[pIdField].toString(), true);\n            for (i = 0; i < idx.length; i++) {\n                if (!items[idx[i]].items) {\n                    items[idx[i]].items = [];\n                }\n                items = items[idx[i]].items;\n            }\n            items.push(record);\n        }\n        else {\n            this.items.push(record);\n        }\n    };\n    __decorate([\n        Property('Horizontal')\n    ], Menu.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(null)\n    ], Menu.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, FieldSettings)\n    ], Menu.prototype, \"fields\", void 0);\n    Menu = __decorate([\n        NotifyPropertyChanges\n    ], Menu);\n    return Menu;\n}(MenuBase));\nexport { Menu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.lastIndex = 0;\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(this.createElement('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        var txtWrapEle;\n        items.forEach(function (item, i) {\n            if (isNOU(item.header) || isNOU(item.header.text)) {\n                _this.items.splice(i, 0);\n                return;\n            }\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            _this.lastIndex = ((tbCount === 0) ? i : ((_this.isReplace) ? (index + i) : (_this.lastIndex + 1)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tCont.insertBefore(icon, tCont.firstElementChild);\n                    }\n                    else {\n                        tCont.appendChild(icon);\n                    }\n                    tEle = txtWrapEle;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrapEle : icon);\n                    if (tEle === icon) {\n                        detach(txtWrapEle);\n                        tCont.appendChild(icon);\n                    }\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        this.prevActiveEle = newCnt.id;\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content');\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop) {\n        if (typeof val === 'string') {\n            val = val.trim();\n        }\n        var templateFn = compile(val);\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text) {\n        this.compileElement(element, text, 'headerText');\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType) {\n        var eleStr;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, trg.id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains('e-hidden')) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_HEADER + ' .' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        if (!this.isReplace) {\n            this.trigger('adding', { addedItems: items });\n        }\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            return;\n        }\n        var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        if (itemsCount !== 0) {\n            lastEleIndex = this.lastIndex + 1;\n        }\n        if (isNOU(index)) {\n            index = itemsCount - 1;\n        }\n        if (itemsCount < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n            this.hdrEle.style.display = '';\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            _this.items.splice((index + place), 0, item);\n            if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n                var no = lastEleIndex + place;\n                var ele = _this.createElement('div', {\n                    id: CLS_CONTENT + '_' + no, className: CLS_ITEM, attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                });\n                _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                _this.getContent(eleTrg, item.content, 'render');\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        if (!this.isReplace) {\n            this.trigger('added', { addedItems: items });\n        }\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removeArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removeArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.items.splice(index, 1);\n        this.itemIndexArray.splice(index, 1);\n        this.refreshActiveBorder();\n        var cntTrg = select('#' + CLS_CONTENT + '_' + this.extIndex(trg.id), select('.' + CLS_CONTENT, this.element));\n        if (!isNOU(cntTrg)) {\n            detach(cntTrg);\n        }\n        this.trigger('removed', removeArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.selectedItem = index;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains('e-hidden')) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length === 0) {\n                this.select(index);\n            }\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        var trg = this.tbItem[args];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectingItem: trg,\n            selectingIndex: args,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selecting', eventArg);\n        }\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.itemIndexArray.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                                detach(hdrItem);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                if (isHiddenEle) {\n                                    this.hideTab(index);\n                                }\n                                this.isReplace = false;\n                            }\n                            if (property === 'content' && !isNOU(cntItem)) {\n                                var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                                if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                                    var eleVal = document.querySelector(newVal);\n                                    cntItem.appendChild(eleVal);\n                                    eleVal.style.display = '';\n                                }\n                                else if (newVal === '' && oldVal[0] === '#') {\n                                    document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                                    cntItem.innerHTML = newVal;\n                                }\n                                else {\n                                    cntItem.innerHTML = newVal;\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        this.lastIndex = 0;\n                        if (isNOU(this.tbObj)) {\n                            this.reRenderItems();\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            if (this.templateEle.length > 0) {\n                                this.expTemplateContent();\n                            }\n                            this.templateEle = [];\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    function NumericTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = { incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: '' };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.checkAttributes();\n        this.prevValue = this.value;\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            if (!isNullOrUndefined(this.width)) {\n                setStyleAttribute(this.container, { 'width': formatUnit(this.width) });\n            }\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ? null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function () {\n        var attributes = ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        var enabled = this.element.getAttribute(prop) === 'disabled' ||\n                            this.element.getAttribute(prop) === 'true' ? false : true;\n                        this.setProperties({ enabled: enabled }, true);\n                        break;\n                    case 'readonly':\n                        var readonly = this.element.getAttribute(prop) === 'readonly'\n                            || this.element.getAttribute(prop) === 'true' ? true : false;\n                        this.setProperties({ readonly: readonly }, true);\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                        if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                            this.setProperties(setValue(prop, value, {}), true);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'hidden', 'validateHidden': 'true' } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide'))) {\n            this.clear(e);\n        }\n    };\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var ignoreKeyCode = void 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.inputHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    ;\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var valueText = value.toString();\n        var stepText = step.toString();\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    ;\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    ;\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = void 0;\n            var decimalPart = value.toString().split('.')[1];\n            numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n            if (this.decimals !== null) {\n                numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n            }\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    ;\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = value;\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    ;\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals;\n        var currentValue = this.value;\n        var decimalPart = currentValue.toString().split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    ;\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    ;\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    ;\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    ;\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusIn = function (event) {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                setTimeout(function () {\n                    _this.element.setSelectionRange(0, formatValue_1.length);\n                }, delay);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    ;\n    NumericTextBox.prototype.focusOut = function (event) {\n        var _this = this;\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var focusEvent = document.createEvent('FocusEvent');\n            focusEvent.initEvent('focusout', true, true);\n            element.dispatchEvent(focusEvent);\n        }\n    };\n    ;\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () { _this.isCalled = true; _this.action(action, event); }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target = document.elementFromPoint(event.clientX, event.clientY);\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        this.container.parentElement.appendChild(this.cloneElement);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var elementVal;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.container, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(newProp.cssClass, [this.container], oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    if (newProp.showSpinButton) {\n                        this.spinBtnCreation();\n                    }\n                    else {\n                        detach(this.spinUp);\n                        detach(this.spinDown);\n                    }\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.updateValue(newProp.value);\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    if (!isNullOrUndefined(this.spinDown)) {\n                        attributes(this.spinDown, {\n                            'title': this.l10n.getConstant('decrementTitle'),\n                            'aria-label': this.l10n.getConstant('decrementTitle')\n                        });\n                    }\n                    if (!isNullOrUndefined(this.spinUp)) {\n                        attributes(this.spinUp, {\n                            'title': this.l10n.getConstant('incrementTitle'),\n                            'aria-label': this.l10n.getConstant('incrementTitle')\n                        });\n                    }\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    var propVal = getValue(prop, newProp);\n                    this.setProperties({ currencyCode: propVal }, true);\n                    this.updateCurrency(prop, propVal);\n                    break;\n                case 'currencyCode':\n                    var propValue = getValue(prop, newProp);\n                    this.setProperties({ currency: propValue }, true);\n                    this.updateCurrency('currency', propValue);\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { selectAll, select, createElement, Base } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Event } from '@syncfusion/ej2-base';\n/**\n * global declarations\n */\nvar VALIDATE_EMAIL = new RegExp('^[A-Za-z0-9._%+-]{1,}@[a-zA-Z0-9]{1,}([.]{1}[a-zA-Z]{2,5}' +\n    '|[.]{1}[a-zA-Z]{2,4}[.]{1}[a-zA-Z]{2,4})$');\nvar VALIDATE_URL = new RegExp('^((ftp|http|https):\\/\\/)?www\\.([A-z]{2,})\\.([A-z]{2,})$');\nvar VALIDATE_DATE_ISO = new RegExp('^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$');\nvar VALIDATE_DIGITS = new RegExp('^[0-9]*$');\nvar VALIDATE_PHONE = new RegExp('^[+]?[0-9]{9,13}$');\nvar VALIDATE_CREDITCARD = new RegExp('^\\\\d{13,16}$');\n/**\n * ErrorOption values\n * @private\n */\nexport var ErrorOption;\n(function (ErrorOption) {\n    ErrorOption[ErrorOption[\"Message\"] = 0] = \"Message\";\n    ErrorOption[ErrorOption[\"Label\"] = 1] = \"Label\";\n})(ErrorOption || (ErrorOption = {}));\n/**\n * FormValidator class enables you to validate the form fields based on your defined rules\n * ```html\n * <form id='formId'>\n *  <input type='text' name='Name' />\n *  <input type='text' name='Age' />\n * </form>\n * <script>\n *   let formObject = new FormValidator('#formId', {\n *      rules: { Name: { required: true }, Age: { range: [18, 30] } };\n *   });\n *   formObject.validate();\n * </script>\n * ```\n */\nvar FormValidator = /** @class */ (function (_super) {\n    __extends(FormValidator, _super);\n    // Initializes the FormValidator \n    function FormValidator(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.validated = [];\n        _this.errorRules = [];\n        _this.allowSubmit = false;\n        _this.required = 'required';\n        _this.infoElement = null;\n        _this.inputElement = null;\n        _this.selectQuery = 'input:not([type=reset]):not([type=button]), select, textarea';\n        /**\n         * Specifies the default messages for validation rules.\n         * @default : { List of validation message };\n         */\n        _this.defaultMessages = {\n            required: 'This field is required.',\n            email: 'Please enter a valid email address.',\n            url: 'Please enter a valid URL.',\n            date: 'Please enter a valid date.',\n            dateIso: 'Please enter a valid date ( ISO ).',\n            creditcard: 'Please enter valid card number',\n            number: 'Please enter a valid number.',\n            digits: 'Please enter only digits.',\n            maxLength: 'Please enter no more than {0} characters.',\n            minLength: 'Please enter at least {0} characters.',\n            rangeLength: 'Please enter a value between {0} and {1} characters long.',\n            range: 'Please enter a value between {0} and {1}.',\n            max: 'Please enter a value less than or equal to {0}.',\n            min: 'Please enter a value greater than or equal to {0}.',\n            regex: 'Please enter a correct value.',\n            tel: 'Please enter a valid phone number.',\n            pattern: 'Please enter a correct pattern value.',\n            equalTo: 'Please enter the valid match text',\n        };\n        if (typeof _this.rules === 'undefined') {\n            _this.rules = {};\n        }\n        element = typeof element === 'string' ? select(element, document) : element;\n        // Set novalidate to prevent default HTML5 form validation\n        if (_this.element != null) {\n            _this.element.setAttribute('novalidate', '');\n            _this.inputElements = selectAll(_this.selectQuery, _this.element);\n            _this.createHTML5Rules();\n            _this.wireEvents();\n        }\n        else {\n            return undefined;\n        }\n        return _this;\n    }\n    FormValidator_1 = FormValidator;\n    /**\n     * Add validation rules to the corresponding input element based on `name` attribute.\n     * @param {string} name `name` of form field.\n     * @param {Object} rules Validation rules for the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.addRules = function (name, rules) {\n        if (name) {\n            if (this.rules.hasOwnProperty(name)) {\n                extend(this.rules[name], rules, {});\n            }\n            else {\n                this.rules[name] = rules;\n            }\n        }\n    };\n    /**\n     * Remove validation to the corresponding field based on name attribute.\n     * When no parameter is passed, remove all the validations in the form.\n     * @param {string} name Input name attribute value.\n     * @param {string[]} rules List of validation rules need to be remove from the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.removeRules = function (name, rules) {\n        if (!name && !rules) {\n            this.rules = {};\n        }\n        else if (this.rules[name] && !rules) {\n            delete this.rules[name];\n        }\n        else if (!isNullOrUndefined(this.rules[name] && rules)) {\n            for (var i = 0; i < rules.length; i++) {\n                delete this.rules[name][rules[i]];\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Validate the current form values using defined rules.\n     * Returns `true` when the form is valid otherwise `false`\n     * @param {string} selected - Optional parameter to validate specified element.\n     * @return {boolean}\n     */\n    FormValidator.prototype.validate = function (selected) {\n        var rules = Object.keys(this.rules);\n        if (selected && rules.length) {\n            this.validateRules(selected);\n            //filter the selected element it don't have any valid input element\n            return rules.indexOf(selected) !== -1 && this.errorRules.filter(function (data) {\n                return data.name === selected;\n            }).length === 0;\n        }\n        else {\n            this.errorRules = [];\n            for (var _i = 0, rules_1 = rules; _i < rules_1.length; _i++) {\n                var name_1 = rules_1[_i];\n                this.validateRules(name_1);\n            }\n            return this.errorRules.length === 0;\n        }\n    };\n    /**\n     * Reset the value of all the fields in form.\n     * @return {void}\n     */\n    FormValidator.prototype.reset = function () {\n        this.element.reset();\n        this.clearForm();\n    };\n    /**\n     * Get input element by name.\n     * @param {string} name - Input element name attribute value.\n     * @return {HTMLInputElement}\n     */\n    FormValidator.prototype.getInputElement = function (name) {\n        this.inputElement = (select('[name=' + name + ']', this.element));\n        return this.inputElement;\n    };\n    /**\n     * Destroy the form validator object and error elements.\n     * @return {void}\n     */\n    FormValidator.prototype.destroy = function () {\n        this.reset();\n        this.unwireEvents();\n        this.rules = {};\n        var elements = selectAll('.' + this.errorClass + ', .' + this.validClass, this.element);\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            element.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * @private\n     */\n    FormValidator.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    /**\n     * @private\n     */\n    FormValidator.prototype.getModuleName = function () {\n        return 'formValidator';\n    };\n    FormValidator.prototype.clearForm = function () {\n        this.errorRules = [];\n        this.validated = [];\n        var elements = selectAll(this.selectQuery, this.element);\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            var input = element;\n            input.removeAttribute('aria-invalid');\n            input.classList.remove(this.errorClass);\n            if (input.name.length > 0) {\n                this.getInputElement(input.name);\n                this.getErrorElement(input.name);\n                this.hideMessage(input.name);\n            }\n            input.classList.remove(this.validClass);\n        }\n    };\n    FormValidator.prototype.createHTML5Rules = function () {\n        var defRules = ['required', 'validateHidden', 'regex', 'rangeLength', 'maxLength', 'minLength', 'dateIso', 'digits',\n            'pattern', 'data-val-required', 'type', 'data-validation', 'min', 'max', 'range', 'equalTo', 'data-val-minlength-min',\n            'data-val-equalto-other', 'data-val-maxlength-max', 'data-val-range-min', 'data-val-regex-pattern', 'data-val-length-max',\n            'data-val-creditcard', 'data-val-phone'];\n        var acceptedTypes = ['hidden', 'email', 'url', 'date', 'number', 'tel'];\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            // Default attribute rules \n            var allRule = {};\n            for (var _b = 0, defRules_1 = defRules; _b < defRules_1.length; _b++) {\n                var rule = defRules_1[_b];\n                if (input.getAttribute(rule) !== null) {\n                    switch (rule) {\n                        case 'required':\n                            this.defRule(input, allRule, rule, input.required);\n                            break;\n                        case 'data-validation':\n                            rule = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, true);\n                            break;\n                        case 'type':\n                            if (acceptedTypes.indexOf(input.type) !== -1) {\n                                this.defRule(input, allRule, input.type, true);\n                            }\n                            break;\n                        case 'rangeLength':\n                        case 'range':\n                            this.defRule(input, allRule, rule, JSON.parse(input.getAttribute(rule)));\n                            break;\n                        case 'equalTo':\n                            var id = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, id);\n                            break;\n                        default:\n                            if (input.getAttribute('data-val') === 'true') {\n                                this.annotationRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                            else {\n                                this.defRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                    }\n                }\n            }\n            //adding pattern type validation\n            if (Object.keys(allRule).length !== 0) {\n                this.addRules(input.name, allRule);\n            }\n        }\n    };\n    FormValidator.prototype.annotationRule = function (input, ruleCon, ruleName, value) {\n        var annotationRule = ruleName.split('-');\n        var rulesList = ['required', 'creditcard', 'phone', 'maxlength', 'minlength', 'range', 'regex', 'equalto'];\n        var ruleFirstName = annotationRule[annotationRule.length - 1];\n        var ruleSecondName = annotationRule[annotationRule.length - 2];\n        if (rulesList.indexOf(ruleFirstName) !== -1) {\n            switch (ruleFirstName) {\n                case 'required':\n                    this.defRule(input, ruleCon, 'required', value);\n                    break;\n                case 'creditcard':\n                    this.defRule(input, ruleCon, 'creditcard', value);\n                    break;\n                case 'phone':\n                    this.defRule(input, ruleCon, 'tel', value);\n                    break;\n            }\n        }\n        else if (rulesList.indexOf(ruleSecondName) !== -1) {\n            switch (ruleSecondName) {\n                case 'maxlength':\n                    this.defRule(input, ruleCon, 'maxLength', value);\n                    break;\n                case 'minlength':\n                    this.defRule(input, ruleCon, 'minLength', value);\n                    break;\n                case 'range':\n                    var minvalue = input.getAttribute('data-val-range-min');\n                    var maxvalue = input.getAttribute('data-val-range-max');\n                    this.defRule(input, ruleCon, 'range', [minvalue, maxvalue]);\n                    break;\n                case 'equalto':\n                    var id = input.getAttribute(ruleName).split('.');\n                    this.defRule(input, ruleCon, 'equalTo', id[id.length - 1]);\n                    break;\n                case 'regex':\n                    this.defRule(input, ruleCon, 'regex', value);\n                    break;\n            }\n        }\n    };\n    FormValidator.prototype.defRule = function (input, ruleCon, ruleName, value) {\n        var message = input.getAttribute('data-' + ruleName + '-message');\n        var annotationMessage = input.getAttribute('data-val-' + ruleName);\n        if (message) {\n            value = [value, message];\n        }\n        else if (annotationMessage) {\n            value = [value, annotationMessage];\n        }\n        ruleCon[ruleName] = value;\n    };\n    // Wire events to the form elements\n    FormValidator.prototype.wireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            if (FormValidator_1.isCheckable(input)) {\n                EventHandler.add(input, 'click', this.clickHandler, this);\n            }\n            else if (input.tagName === 'SELECT') {\n                EventHandler.add(input, 'change', this.changeHandler, this);\n            }\n            else {\n                EventHandler.add(input, 'focusout', this.focusOutHandler, this);\n                EventHandler.add(input, 'keyup', this.keyUpHandler, this);\n            }\n        }\n        EventHandler.add(this.element, 'submit', this.submitHandler, this);\n        EventHandler.add(this.element, 'reset', this.resetHandler, this);\n    };\n    // UnWire events to the form elements\n    FormValidator.prototype.unwireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            EventHandler.clearEvents(input);\n        }\n        EventHandler.remove(this.element, 'submit', this.submitHandler);\n        EventHandler.remove(this.element, 'reset', this.resetHandler);\n    };\n    // Handle input element focusout event\n    FormValidator.prototype.focusOutHandler = function (e) {\n        this.trigger('focusout', e);\n        //FormValidator.triggerCallback(this.focusout, e);\n        var element = e.target;\n        if (this.rules[element.name]) {\n            if (this.rules[element.name][this.required] || element.value.length > 0) {\n                this.validate(element.name);\n            }\n            else if (this.validated.indexOf(element.name) === -1) {\n                this.validated.push(element.name);\n            }\n        }\n    };\n    // Handle input element keyup event\n    FormValidator.prototype.keyUpHandler = function (e) {\n        this.trigger('keyup', e);\n        var element = e.target;\n        // List of keys need to prevent while validation\n        var excludeKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n        if (e.which === 9 && (!this.rules[element.name] || (this.rules[element.name] && !this.rules[element.name][this.required]))) {\n            return;\n        }\n        if (this.validated.indexOf(element.name) !== -1 && this.rules[element.name] && excludeKeys.indexOf(e.which) === -1) {\n            this.validate(element.name);\n        }\n    };\n    // Handle input click event\n    FormValidator.prototype.clickHandler = function (e) {\n        this.trigger('click', e);\n        var element = e.target;\n        // If element type is not submit allow validation\n        if (element.type !== 'submit') {\n            this.validate(element.name);\n        }\n        else if (element.getAttribute('formnovalidate') !== null) {\n            // Prevent form validation, if submit button has formnovalidate attribute\n            this.allowSubmit = true;\n        }\n    };\n    // Handle input change event\n    FormValidator.prototype.changeHandler = function (e) {\n        this.trigger('change', e);\n        var element = e.target;\n        this.validate(element.name);\n    };\n    // Handle form submit event\n    FormValidator.prototype.submitHandler = function (e) {\n        this.trigger('submit', e);\n        //FormValidator.triggerCallback(this.submit, e);\n        // Prevent form submit if validation failed\n        if (!this.allowSubmit && !this.validate()) {\n            e.preventDefault();\n        }\n        else {\n            this.allowSubmit = false;\n        }\n    };\n    // Handle form reset\n    FormValidator.prototype.resetHandler = function () {\n        this.clearForm();\n    };\n    // Validate each rule based on input element name\n    FormValidator.prototype.validateRules = function (name) {\n        if (!this.rules[name]) {\n            return;\n        }\n        var rules = Object.keys(this.rules[name]);\n        var hiddenType = false;\n        var validateHiddenType = false;\n        var vhPos = rules.indexOf('validateHidden');\n        var hPos = rules.indexOf('hidden');\n        this.getInputElement(name);\n        if (hPos !== -1) {\n            hiddenType = true;\n        }\n        if (vhPos !== -1) {\n            validateHiddenType = true;\n        }\n        if (!hiddenType || (hiddenType && validateHiddenType)) {\n            if (vhPos !== -1) {\n                rules.splice(vhPos, 1);\n            }\n            if (hPos !== -1) {\n                rules.splice((hPos - 1), 1);\n            }\n            this.getErrorElement(name);\n            for (var _i = 0, rules_2 = rules; _i < rules_2.length; _i++) {\n                var rule = rules_2[_i];\n                var errorMessage = this.getErrorMessage(this.rules[name][rule], rule);\n                var errorRule = { name: name, message: errorMessage };\n                var eventArgs = {\n                    inputName: name,\n                    element: this.inputElement,\n                    message: errorMessage\n                };\n                if (!this.isValid(name, rule) && !this.inputElement.classList.contains(this.ignore)) {\n                    this.removeErrorRules(name);\n                    this.errorRules.push(errorRule);\n                    // Set aria attributes to invalid elements\n                    this.inputElement.setAttribute('aria-invalid', 'true');\n                    this.inputElement.setAttribute('aria-describedby', this.inputElement.id + '-info');\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    if (!this.infoElement) {\n                        this.createErrorElement(name, errorRule.message, this.inputElement);\n                    }\n                    else {\n                        this.showMessage(errorRule);\n                    }\n                    eventArgs.errorElement = this.infoElement;\n                    eventArgs.status = 'failure';\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    this.optionalValidationStatus(name, eventArgs);\n                    this.trigger('validationComplete', eventArgs);\n                    // Set aria-required to required rule elements\n                    if (rule === 'required') {\n                        this.inputElement.setAttribute('aria-required', 'true');\n                    }\n                    break;\n                }\n                else {\n                    this.hideMessage(name);\n                    eventArgs.status = 'success';\n                    this.trigger('validationComplete', eventArgs);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    // Update the optional validation status\n    FormValidator.prototype.optionalValidationStatus = function (name, refer) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            refer.status = '';\n            this.hideMessage(name);\n        }\n    };\n    // Check the input element whether it's value satisfy the validation rule or not\n    FormValidator.prototype.isValid = function (name, rule) {\n        var params = this.rules[name][rule];\n        var param = (params instanceof Array && typeof params[1] === 'string') ? params[0] : params;\n        var currentRule = this.rules[name][rule];\n        var args = { value: this.inputElement.value, param: param, element: this.inputElement, formElement: this.element };\n        this.trigger('validationBegin', args);\n        if (currentRule && typeof currentRule[0] === 'function') {\n            var fn = currentRule[0];\n            return fn.call(this, { element: this.inputElement, value: this.inputElement.value });\n        }\n        else if (FormValidator_1.isCheckable(this.inputElement)) {\n            if (rule !== 'required') {\n                return true;\n            }\n            return selectAll('input[name=' + name + ']:checked', this.element).length > 0;\n        }\n        else {\n            return FormValidator_1.checkValidator[rule](args);\n        }\n    };\n    // Return default error message or custom error message \n    FormValidator.prototype.getErrorMessage = function (ruleValue, rule) {\n        var message = (ruleValue instanceof Array && typeof ruleValue[1] === 'string') ? ruleValue[1] : this.defaultMessages[rule];\n        var formats = message.match(/{(\\d)}/g);\n        if (!isNullOrUndefined(formats)) {\n            for (var i = 0; i < formats.length; i++) {\n                var value = ruleValue instanceof Array ? ruleValue[i] : ruleValue;\n                message = message.replace(formats[i], value);\n            }\n        }\n        return message;\n    };\n    // Create error element based on name and error message\n    FormValidator.prototype.createErrorElement = function (name, message, input) {\n        var errorElement = createElement(this.errorElement, {\n            className: this.errorClass,\n            innerHTML: message,\n            attrs: { for: name }\n        });\n        // Create message design if errorOption is message\n        if (this.errorOption === ErrorOption.Message) {\n            errorElement.classList.remove(this.errorClass);\n            errorElement.classList.add('e-message');\n            errorElement = createElement(this.errorContainer, { className: this.errorClass, innerHTML: errorElement.outerHTML });\n        }\n        errorElement.id = this.inputElement.name + '-info';\n        // Append error message into MVC error message element\n        if (this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]')) {\n            this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]').appendChild(errorElement);\n        }\n        else if (input.hasAttribute('data-msg-containerid') === true) {\n            // Append error message into custom div element\n            var containerId = input.getAttribute('data-msg-containerid');\n            var divElement = this.element.querySelector('#' + containerId);\n            divElement.appendChild(errorElement);\n        }\n        else if (this.customPlacement != null) {\n            // Call custom placement function if customPlacement is not null\n            this.customPlacement.call(this, this.inputElement, errorElement);\n        }\n        else {\n            this.inputElement.parentNode.insertBefore(errorElement, this.inputElement.nextSibling);\n        }\n        errorElement.style.display = 'block';\n        this.getErrorElement(name);\n        this.validated.push(name);\n        this.checkRequired(name);\n    };\n    // Get error element by name\n    FormValidator.prototype.getErrorElement = function (name) {\n        this.infoElement = select(this.errorElement + '.' + this.errorClass, this.inputElement.parentElement);\n        if (!this.infoElement) {\n            this.infoElement = select(this.errorElement + '.' + this.errorClass + '[for=\"' + name + '\"]', this.element);\n        }\n        return this.infoElement;\n    };\n    // Remove existing rule from errorRules object\n    FormValidator.prototype.removeErrorRules = function (name) {\n        for (var i = 0; i < this.errorRules.length; i++) {\n            var rule = this.errorRules[i];\n            if (rule.name === name) {\n                this.errorRules.splice(i, 1);\n            }\n        }\n    };\n    // Show error message to the input element\n    FormValidator.prototype.showMessage = function (errorRule) {\n        this.infoElement.style.display = 'block';\n        this.infoElement.innerHTML = errorRule.message;\n        this.checkRequired(errorRule.name);\n    };\n    // Hide error message based on input name\n    FormValidator.prototype.hideMessage = function (name) {\n        if (this.infoElement) {\n            this.infoElement.style.display = 'none';\n            this.removeErrorRules(name);\n            this.inputElement.classList.add(this.validClass);\n            this.inputElement.classList.remove(this.errorClass);\n            this.inputElement.setAttribute('aria-invalid', 'false');\n        }\n    };\n    // Check whether the input element have required rule and its value is not empty\n    FormValidator.prototype.checkRequired = function (name) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            this.hideMessage(name);\n        }\n    };\n    // Return boolean result if the input have chekcable or submit types\n    FormValidator.isCheckable = function (input) {\n        var inputType = input.getAttribute('type');\n        return inputType && (inputType === 'checkbox' || inputType === 'radio' || inputType === 'submit');\n    };\n    // List of function to validate the rules\n    FormValidator.checkValidator = {\n        required: function (option) {\n            return option.value.length > 0;\n        },\n        email: function (option) {\n            return VALIDATE_EMAIL.test(option.value);\n        },\n        url: function (option) {\n            return VALIDATE_URL.test(option.value);\n        },\n        dateIso: function (option) {\n            return VALIDATE_DATE_ISO.test(option.value);\n        },\n        tel: function (option) {\n            return VALIDATE_PHONE.test(option.value);\n        },\n        creditcard: function (option) {\n            return VALIDATE_CREDITCARD.test(option.value);\n        },\n        number: function (option) {\n            return !isNaN(Number(option.value)) && option.value.indexOf(' ') === -1;\n        },\n        digits: function (option) {\n            return VALIDATE_DIGITS.test(option.value);\n        },\n        maxLength: function (option) {\n            return option.value.length <= option.param;\n        },\n        minLength: function (option) {\n            return option.value.length >= option.param;\n        },\n        rangeLength: function (option) {\n            var param = option.param;\n            return option.value.length >= param[0] && option.value.length <= param[1];\n        },\n        range: function (option) {\n            var param = option.param;\n            return !isNaN(Number(option.value)) && Number(option.value) >= param[0] && Number(option.value) <= param[1];\n        },\n        date: function (option) {\n            return !isNaN(new Date(option.value).getTime());\n        },\n        max: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Maximum rule validation for number\n                return +option.value <= option.param;\n            }\n            // Maximum rule validation for date\n            return new Date(option.value).getTime() <= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        min: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Minimum rule validation for number\n                return +option.value >= option.param;\n            }\n            // Minimum rule validation for date\n            return new Date(option.value).getTime() >= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        regex: function (option) {\n            return new RegExp(option.param).test(option.value);\n        },\n        equalTo: function (option) {\n            var compareTo = option.formElement.querySelector('#' + option.param);\n            option.param = compareTo.value;\n            return option.param === option.value;\n        },\n    };\n    __decorate([\n        Property('e-hidden')\n    ], FormValidator.prototype, \"ignore\", void 0);\n    __decorate([\n        Property()\n    ], FormValidator.prototype, \"rules\", void 0);\n    __decorate([\n        Property('e-error')\n    ], FormValidator.prototype, \"errorClass\", void 0);\n    __decorate([\n        Property('e-valid')\n    ], FormValidator.prototype, \"validClass\", void 0);\n    __decorate([\n        Property('label')\n    ], FormValidator.prototype, \"errorElement\", void 0);\n    __decorate([\n        Property('div')\n    ], FormValidator.prototype, \"errorContainer\", void 0);\n    __decorate([\n        Property(ErrorOption.Label)\n    ], FormValidator.prototype, \"errorOption\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"focusout\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"keyup\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"submit\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationBegin\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationComplete\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"customPlacement\", void 0);\n    FormValidator = FormValidator_1 = __decorate([\n        NotifyPropertyChanges\n    ], FormValidator);\n    return FormValidator;\n    var FormValidator_1;\n}(Base));\nexport { FormValidator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, Property, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, setValue, addClass, detach } from '@syncfusion/ej2-base';\nimport { removeClass } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nimport { regularExpressions, createMask, applyMask, wireEvents, unwireEvents, unstrippedValue, strippedValue } from '../base/index';\nimport { setMaskValue, setElementValue, bindClearEvent } from '../base/index';\nimport { maskInputBlurHandler } from '../base/mask-base';\nvar ROOT = 'e-widget e-control-wrapper e-mask';\nvar INPUT = 'e-input';\nvar COMPONENT = 'e-maskedtextbox';\nvar CONTROL = 'e-control';\n/**\n * The MaskedTextBox allows the user to enter the valid input only based on the provided mask.\n * ```html\n * <input id=\"mask\" type=\"text\" />\n * ```\n * ```typescript\n * <script>\n * var maskObj = new MaskedTextBox({ mask: \"(999) 9999-999\" });\n * maskObj.appendTo('#mask');\n * </script>\n * ```\n */\nvar MaskedTextBox = /** @class */ (function (_super) {\n    __extends(MaskedTextBox, _super);\n    function MaskedTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Gets the component name\n     * @private\n     */\n    MaskedTextBox.prototype.getModuleName = function () {\n        return 'maskedtextbox';\n    };\n    /**\n     * Initializes the event handler\n     * @private\n     */\n    MaskedTextBox.prototype.preRender = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.regExpCollec = regularExpressions;\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        this.changeEventArgs = {};\n        this.focusEventArgs = {};\n        this.maskKeyPress = false;\n        this.isFocus = false;\n        this.isInitial = false;\n        this.isIosInvalid = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-MASKEDTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                input.setAttribute(this.element.attributes[i].nodeName, this.element.attributes[i].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-maskedtextbox');\n            this.element.classList.add('e-mask-container');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Initializes the component rendering.\n     * @private\n     */\n    MaskedTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            if (this.floatLabelType === 'Never') {\n                addClass([this.element], INPUT);\n            }\n            this.createWrapper();\n            if (this.element.name === '') {\n                this.element.setAttribute('name', this.element.id);\n            }\n            this.isInitial = true;\n            this.resetMaskedTextBox();\n            this.isInitial = false;\n            this.setMaskPlaceholder(true, false);\n            this.setWidth(this.width);\n            this.preEleVal = this.element.value;\n        }\n    };\n    MaskedTextBox.prototype.resetMaskedTextBox = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        if (this.promptChar.length > 1) {\n            this.promptChar = this.promptChar[0];\n        }\n        createMask.call(this);\n        applyMask.call(this);\n        if (this.mask === null || this.mask === '' && this.value !== undefined) {\n            setElementValue.call(this, this.value);\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (!this.isInitial) {\n            unwireEvents.call(this);\n        }\n        wireEvents.call(this);\n    };\n    MaskedTextBox.prototype.setMaskPlaceholder = function (setVal, dynamicPlaceholder) {\n        if (dynamicPlaceholder || this.placeholder) {\n            Input.setPlaceholder(this.placeholder, this.element);\n            if (this.element.value === this.promptMask && setVal && this.floatLabelType !== 'Always') {\n                setElementValue.call(this, '');\n            }\n            if (this.floatLabelType === 'Never') {\n                maskInputBlurHandler.call(this);\n            }\n        }\n    };\n    MaskedTextBox.prototype.setCssClass = function (cssClass, element) {\n        if (cssClass) {\n            addClass(element, cssClass);\n        }\n    };\n    MaskedTextBox.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            this.element.style.width = formatUnit(width);\n            this.inputObj.container.style.width = formatUnit(width);\n        }\n    };\n    MaskedTextBox.prototype.createWrapper = function () {\n        this.inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enableRtl: this.enableRtl,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('class', ROOT + ' ' + this.inputObj.container.getAttribute('class'));\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @hidden\n     */\n    MaskedTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    setMaskValue.call(this, this.value);\n                    if (this.placeholder) {\n                        this.setMaskPlaceholder(false, false);\n                    }\n                    break;\n                case 'placeholder':\n                    this.setMaskPlaceholder(true, true);\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, [this.inputObj.container]);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.inputObj.container]);\n                    break;\n                case 'customCharacters':\n                    this.customCharacters = newProp.customCharacters;\n                    this.resetMaskedTextBox();\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputObj, undefined, this.createElement);\n                    bindClearEvent.call(this);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'mask':\n                    var strippedValue_1 = this.value;\n                    this.mask = newProp.mask;\n                    this.updateValue(strippedValue_1);\n                    break;\n                case 'promptChar':\n                    if (newProp.promptChar.length > 1) {\n                        newProp.promptChar = newProp.promptChar[0];\n                    }\n                    if (newProp.promptChar) {\n                        this.promptChar = newProp.promptChar;\n                    }\n                    else {\n                        this.promptChar = '_';\n                    }\n                    var value = this.element.value.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    if (this.promptMask === this.element.value) {\n                        value = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    }\n                    this.promptMask = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    this.undoCollec = this.redoCollec = [];\n                    setElementValue.call(this, value);\n                    break;\n            }\n        }\n    };\n    MaskedTextBox.prototype.updateValue = function (strippedVal) {\n        this.resetMaskedTextBox();\n        setMaskValue.call(this, strippedVal);\n    };\n    /**\n     * Gets the value of the MaskedTextBox with the masked format.\n     * By using `value` property, you can get the raw value of maskedtextbox without literals and prompt characters.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getMaskedValue = function () {\n        return unstrippedValue.call(this, this.element);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    MaskedTextBox.prototype.destroy = function () {\n        unwireEvents.call(this);\n        this.inputObj.container.parentElement.appendChild(this.cloneElement);\n        detach(this.inputObj.container);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('Never')\n    ], MaskedTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(true)\n    ], MaskedTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"mask\", void 0);\n    __decorate([\n        Property('_')\n    ], MaskedTextBox.prototype, \"promptChar\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"customCharacters\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"focus\", void 0);\n    MaskedTextBox = __decorate([\n        NotifyPropertyChanges\n    ], MaskedTextBox);\n    return MaskedTextBox;\n}(Component));\nexport { MaskedTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the limit data in slider.\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    ;\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    ;\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    ;\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n            [this.firstTooltipElement, this.secondTooltipElement];\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderDisabled);\n                });\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderDisabled);\n                });\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n        this.sliderContainer.appendChild(this.element);\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n        this.element.appendChild(this.sliderTrack);\n        this.element.tabIndex = -1;\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap';\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setOrientClass();\n        this.hiddenInput = (this.createElement('input', {\n            attrs: {\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n            }\n        }));\n        this.hiddenInput.tabIndex = -1;\n        this.sliderContainer.appendChild(this.hiddenInput);\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        if (this.readonly) {\n            addClass([this.sliderContainer], [classNames.readonly]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.readonly]);\n        }\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n            classNames.limitBarFirst;\n        firstElementClassName += ' ' + classNames.limits;\n        this.limitBarFirst = (this.createElement('div', {\n            attrs: { class: firstElementClassName }\n        }));\n        this.element.appendChild(this.limitBarFirst);\n        if (this.type === 'Range') {\n            this.limitBarSecond = (this.createElement('div', {\n                attrs: {\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\n                }\n            }));\n            this.element.appendChild(this.limitBarSecond);\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        this.secondHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\n        this.element.appendChild(this.secondHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.secondMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.secondMaterialHandle);\n        }\n    };\n    Slider.prototype.createFirstHandle = function () {\n        this.firstHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\n        this.element.appendChild(this.firstHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.firstMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.firstMaterialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (pos === 0 && this.type !== 'Range') {\n            this.getHandle().classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial && this.tooltip.isVisible) {\n                this.firstMaterialHandle.classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        this.handleStart();\n        this.getHandle().style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (!this.isMaterial) {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.tooltipAnimation();\n            }\n            else {\n                if (!tooltipElement.classList.contains(classNames.materialTooltipOpen) && e.propertyName !== 'transform') {\n                    this.openMaterialTooltip();\n                }\n                else {\n                    if (this.type === 'Default') {\n                        tooltipElement.style.transition = this.transition.handle;\n                    }\n                    this.refreshTooltip();\n                }\n            }\n        }\n        if (this.tooltip.showOn !== 'Always') {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n        }\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.open(this.firstHandle);\n            }\n            else {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n            removeClass([this.sliderContainer], classNames.rtl);\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (this.enableRtl) {\n            this.horDir = 'right';\n            this.verDir = 'bottom';\n        }\n        else {\n            this.horDir = 'left';\n            this.verDir = 'bottom';\n        }\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (preDir !== currDir) {\n            if (this.orientation === 'Horizontal') {\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                if (this.type === 'Range') {\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipValue = function () {\n        var text;\n        var value1;\n        var value2;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        this.setTooltipContent();\n        args.text = text = this.firstTooltipObj.content;\n        this.trigger('tooltipChange', args);\n        this.addTooltipClass(args.text);\n        if (text !== args.text) {\n            this.customAriaText = args.text;\n            this.firstTooltipObj.content = args.text;\n            this.setAriaAttrValue(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.content = args.text;\n                this.setAriaAttrValue(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        if (this.type === 'Range') {\n            content = this.formatContent(this.tooltipFormatInfo, false);\n            this.firstTooltipObj.content = content;\n            this.secondTooltipObj.content = content;\n        }\n        else {\n            if (!isNullOrUndefined(this.handleVal1)) {\n                content = this.formatContent(this.tooltipFormatInfo, false);\n                this.firstTooltipObj.content = content;\n            }\n        }\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        var _this = this;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var count_1 = content.toString().length;\n            var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                [this.firstTooltipElement, this.secondTooltipElement];\n            tooltipElement.forEach(function (element, index) {\n                if (!element) {\n                    var cssClass = count_1 > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                    !index ? _this.firstTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass :\n                        _this.secondTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n                }\n                else {\n                    if (count_1 > 4) {\n                        element.classList.remove(classNames.sliderMaterialDefault);\n                        if (!element.classList.contains(classNames.sliderMaterialRange)) {\n                            element.classList.add(classNames.sliderMaterialRange);\n                            element.style.transform = 'scale(1)';\n                        }\n                    }\n                    else {\n                        element.classList.remove(classNames.sliderMaterialRange);\n                        if (!element.classList.contains(classNames.sliderMaterialDefault)) {\n                            element.classList.add(classNames.sliderMaterialDefault);\n                            element.style.transform = _this.getTooltipTransformProperties(_this.previousTooltipClass).rotate;\n                        }\n                    }\n                }\n            });\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        var tooltipPosition;\n        if (this.orientation === 'Horizontal') {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'TopCenter' : tooltipPosition = 'BottomCenter';\n        }\n        else {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'LeftCenter' : tooltipPosition = 'RightCenter';\n        }\n        this.firstTooltipObj.position = tooltipPosition;\n        if (this.type === 'Range') {\n            this.secondTooltipObj.position = tooltipPosition;\n        }\n        if (this.isMaterial) {\n            this.firstTooltipObj.showTipPointer = true;\n            this.setProperties({ tooltip: { showOn: 'Always' } }, true);\n            this.firstTooltipObj.height = 30;\n            if (this.type === 'Range') {\n                this.secondTooltipObj.showTipPointer = true;\n                this.secondTooltipObj.height = 30;\n            }\n        }\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        var tooltipElement = args.target === this.firstHandle ? this.firstTooltipElement = args.element :\n            this.secondTooltipElement = args.element;\n        if (this.tooltip.cssClass !== '') {\n            addClass([tooltipElement], this.tooltip.cssClass.split(' '));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n            tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            if (tooltipElement.firstElementChild.innerText.length > 4) {\n                tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n            }\n            else {\n                tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n            }\n        }\n        if (this.isBootstrap) {\n            switch (this.bootstrapCollisionArgs.collidedPosition) {\n                case 'TopCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'BottomCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                case 'LeftCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'RightCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterial && this.tooltip.isVisible) {\n            if (!destroy) {\n                EventHandler.add(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                if (this.type === 'Range') {\n                    EventHandler.add(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                }\n            }\n            else {\n                EventHandler.remove(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown);\n                if (this.type === 'Range') {\n                    EventHandler.remove(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown);\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        if (this.firstTooltipElement) {\n            var position = void 0;\n            if (this.orientation === 'Horizontal') {\n                position = (this.firstTooltipElement.clientHeight + 14) - (this.firstTooltipElement.clientHeight / 2);\n            }\n            else {\n                position = (this.firstTooltipElement.clientWidth + 14) - (this.firstTooltipElement.clientWidth / 2);\n            }\n            var transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n            return transformProperties;\n        }\n        return undefined;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        this.refreshTooltip();\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        var handle = this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle;\n        if (tooltipElement.firstChild.classList.contains(classNames.materialTooltipHide)) {\n            tooltipElement.firstChild.classList.remove(classNames.materialTooltipHide);\n        }\n        tooltipElement.firstChild.classList.add(classNames.materialTooltipShow);\n        this.getHandle().style.cursor = 'default';\n        tooltipElement.style.transition = this.scaleTransform;\n        tooltipElement.classList.add(classNames.materialTooltipOpen);\n        handle.style.transform = 'scale(0)';\n        if (tooltipElement.firstElementChild.innerText.length > 4) {\n            tooltipElement.style.transform = 'scale(1)';\n        }\n        else {\n            tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n        }\n        if (this.type === 'Default') {\n            setTimeout(function () { tooltipElement.style.transition = _this.transition.handle; }, 2500);\n        }\n        else {\n            setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        var tooltipPosition = args.target === this.firstHandle ? this.firstHandleTooltipPosition :\n            this.secondHandleTooltipPosition;\n        if (this.isMaterial && (tooltipPosition === undefined || tooltipPosition !== args.collidedPosition)) {\n            var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n            args.element.classList.remove(this.previousTooltipClass);\n            args.element.classList.add(tooltipClass);\n            this.previousTooltipClass = tooltipClass;\n            if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                args.element.firstElementChild.innerText.length < 4) {\n                args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (args.target === this.firstHandle) {\n                this.firstHandleTooltipPosition = args.collidedPosition;\n            }\n            else {\n                this.secondHandleTooltipPosition = args.collidedPosition;\n            }\n        }\n        this.bootstrapCollisionArgs = args;\n    };\n    Slider.prototype.renderTooltip = function () {\n        if (this.tooltip.showOn === 'Auto') {\n            this.setProperties({ tooltip: { showOn: 'Hover' } }, true);\n        }\n        var tooltipPointer = this.isBootstrap ? true : false;\n        this.firstTooltipObj = new Tooltip({\n            showTipPointer: tooltipPointer,\n            cssClass: classNames.sliderTooltip,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            afterClose: this.tooltipAfterClose.bind(this)\n        });\n        this.firstTooltipObj.appendTo(this.firstHandle);\n        if (this.type === 'Range') {\n            this.secondTooltipObj = new Tooltip({\n                showTipPointer: tooltipPointer,\n                cssClass: classNames.sliderTooltip,\n                animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n                opensOn: 'Custom',\n                beforeOpen: this.tooltipBeforeOpen.bind(this),\n                beforeCollision: this.checkTooltipPosition.bind(this),\n                afterClose: this.tooltipAfterClose.bind(this)\n            });\n            this.secondTooltipObj.appendTo(this.secondHandle);\n        }\n        this.tooltipPlacement();\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        if (this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            this.tooltipValue();\n            this.firstTooltipObj.open(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.tooltipAfterClose = function (args) {\n        if (args.element === this.firstTooltipElement) {\n            this.firstTooltipElement = undefined;\n        }\n        else {\n            this.secondTooltipElement = undefined;\n        }\n    };\n    Slider.prototype.setButtons = function () {\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.firstBtn.tabIndex = -1;\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.secondBtn.tabIndex = -1;\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\n        this.sliderContainer.appendChild(this.firstBtn);\n        this.sliderContainer.appendChild(this.secondBtn);\n        this.sliderContainer.appendChild(this.element);\n        this.buttonTitle();\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var buttonElement = args.target.parentElement;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (!tooltipElement && this.tooltip.isVisible) {\n            this.openTooltip();\n        }\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.refreshTooltipOnMove();\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n            this.closeTooltip();\n        }\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    Slider.prototype.renderScale = function () {\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        this.ul = this.createElement('ul', {\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        this.element.appendChild(this.ul);\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start);\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n            }\n            this.ul.appendChild(li);\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.tickesAlignment(orien, tickWidth);\n    };\n    Slider.prototype.tickesAlignment = function (orien, tickWidth) {\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        this.trigger('renderedTicks', eventArgs);\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        span.innerHTML = isNullOrUndefined(this.customValues) ? this.formatTicksValue(li, start) : start;\n    };\n    Slider.prototype.formatTicksValue = function (li, start) {\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs);\n        li.setAttribute('title', eventArgs.text.toString());\n        return eventArgs.text.toString();\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            var otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.left = this.firstHandle.style.left;\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    this.firstChild.children[0].style.left =\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    if (this.ticks.placement === 'Both') {\n                        this.firstChild.children[1].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    }\n                }\n            }\n            if (this.orientation === 'Vertical') {\n                this.firstChild.classList.remove(classNames.sliderLastTick);\n            }\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipAnimation();\n        this.getHandle().focus();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipAnimation = function () {\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() : this.refreshTooltip();\n            }\n            else {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.openTooltip();\n            }\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (this.tooltip.isVisible) {\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition();\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed');\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                }\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                }\n            }\n        }\n        else if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement) {\n            this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function () {\n        var _this = this;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var val = (this.activeHandle === 1) ? this.handleVal1 : this.handleVal2;\n        var handle;\n        var tooltipElement;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            handle = [this.getHandle(), (this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle)];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        if (this.tooltip.isVisible && pos === 0 && this.type !== 'Range') {\n            handle[0].classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial) {\n                handle[1].classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        else {\n            handle[0].classList.remove(classNames.sliderHandleStart);\n            if (this.tooltip.isVisible && this.isMaterial) {\n                handle[1].classList.remove(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n        });\n        this.changeEvent('change');\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        var temp = this.activeHandle;\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.firstTooltipObj.content\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString))\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    Slider.prototype.onResize = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.enableRtl ? this.firstMaterialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.firstMaterialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.enableRtl ? this.secondMaterialHandle.style.right =\n                        this.handlePos2 + \"px\" : this.secondMaterialHandle.style.left = this.handlePos2 + \"px\";\n                }\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.firstMaterialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.secondMaterialHandle.style.bottom = this.handlePos2 + \"px\";\n                }\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            this.removeElement(this.ul);\n            this.renderScale();\n        }\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        this.refreshTooltip();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition();\n        }\n    };\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.round = function (a) {\n        var f = this.step.toString().split('.');\n        return f[1] ? parseFloat(a.toFixed(f[1].length)) : Math.round(a);\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.tooltipAnimation();\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition();\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.refreshTooltipOnMove = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            this.activeHandle === 1 ? this.firstTooltipObj.refresh(this.firstHandle) :\n                this.secondTooltipObj.refresh(this.secondHandle);\n        }\n    };\n    Slider.prototype.sliderDown = function (event) {\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.getHandle().focus();\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n        else {\n            this.sliderBarClick(event);\n            EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n        }\n        var _a, _b;\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.firstTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.firstTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.secondTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.secondTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.setRangeBar();\n        var _a, _b;\n    };\n    Slider.prototype.sliderBarUp = function () {\n        this.changeEvent('changed');\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always') {\n                this.closeTooltip();\n            }\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.tooltip.isVisible) {\n                var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n                tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition();\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !tooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                this.activeHandle = 1;\n                this.firstTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n                this.activeHandle = 2;\n                this.secondTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            if (this.isMaterial) {\n                this.openMaterialTooltip();\n            }\n            else {\n                if (this.activeHandle === 1) {\n                    this.firstTooltipObj.open(this.firstHandle);\n                }\n                else {\n                    this.secondTooltipObj.open(this.secondHandle);\n                }\n            }\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.onResize.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'mousedown touchstart', this.sliderDown, this);\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown touchstart', this.sliderDown);\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipAnimation();\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n            }\n        }\n        this.changeEvent('changed');\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        var _this = this;\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            if (this.isMaterial && this.tooltip.isVisible) {\n                var transformProperties_1 = this.getTooltipTransformProperties(this.previousTooltipClass);\n                var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                    [this.firstTooltipElement, this.secondTooltipElement];\n                var hiddenHandle_1 = this.type !== 'Range' ? [this.firstHandle] : [this.firstHandle, this.secondHandle];\n                var handle_1 = this.type !== 'Range' ? [this.firstMaterialHandle] :\n                    [this.firstMaterialHandle, this.secondMaterialHandle];\n                tooltipElement.forEach(function (tooltipElement, index) {\n                    if (tooltipElement) {\n                        tooltipElement.style.transition = _this.scaleTransform;\n                        tooltipElement.firstChild.classList.remove(classNames.materialTooltipShow);\n                        tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n                        hiddenHandle_1[index].style.cursor = '-webkit-grab';\n                        hiddenHandle_1[index].style.cursor = 'grab';\n                        handle_1[index].style.transform = 'scale(1)';\n                        tooltipElement.classList.remove(classNames.materialTooltipOpen);\n                        if (tooltipElement.firstElementChild.innerText.length > 4) {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' + 'scale(0.01)';\n                        }\n                        else {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' +\n                                transformProperties_1.rotate + ' ' + 'scale(0.01)';\n                        }\n                        setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n                    }\n                });\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            if (this.activeHandle === 1) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type) {\n        if (this.isMaterial && this.firstMaterialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.firstMaterialHandle);\n            this.firstTooltipElement = undefined;\n            this.firstHandleTooltipPosition = undefined;\n            if (this.secondMaterialHandle) {\n                this.removeElement(this.secondMaterialHandle);\n                this.secondTooltipElement = undefined;\n                this.secondHandleTooltipPosition = undefined;\n            }\n        }\n        if (this.tooltip.isVisible && this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n        }\n        this.removeElement(this.firstHandle);\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n            }\n            this.removeElement(this.rangeBar);\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.firstTooltipObj)) {\n            this.firstTooltipObj.destroy();\n            if (type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        if (this.limits.enabled && type === 'MinRange' || type === 'Default') {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                this.removeElement(this.limitBarFirst);\n            }\n        }\n        if (type === 'Range') {\n            if (this.limits.enabled) {\n                if (!isNullOrUndefined(this.limitBarFirst) && !isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.removeElement(this.limitBarSecond);\n                }\n            }\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.updateConfig();\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type);\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.refreshTooltip();\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Prepares the slider for safe removal from the DOM.\n     * Detaches all event handlers, attributes, and classes to avoid memory leaks.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n        detach(this.sliderContainer);\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.destroy();\n            if (this.type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        this.element.innerHTML = '';\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    var value = isNullOrUndefined(newProp.value) ?\n                        (this.type === 'Range' ? [this.min, this.max] : this.min) : newProp.value;\n                    this.setProperties({ 'value': value }, true);\n                    if (oldProp.value.toString() !== value.toString()) {\n                        this.setValue();\n                        this.refreshTooltip();\n                        if (this.type === 'Range') {\n                            if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\n                                this.activeHandle = 1;\n                            }\n                            else {\n                                this.activeHandle = 2;\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    this.setMinMaxValue();\n                    break;\n                case 'tooltip':\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip();\n                    }\n                    break;\n                case 'type':\n                    this.changeSliderType(oldProp.type);\n                    this.setZindex();\n                    break;\n                case 'enableRtl':\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    this.changeOrientation();\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        detach(this.ul);\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.onResize();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (this.firstBtn && this.secondBtn) {\n                            this.sliderContainer.removeChild(this.firstBtn);\n                            this.sliderContainer.removeChild(this.secondBtn);\n                            this.firstBtn = undefined;\n                            this.secondBtn = undefined;\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    break;\n                case 'customValue':\n                    this.setValue();\n                    this.onResize();\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        this.refreshTooltip();\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function () {\n        this.changeSliderType(this.type);\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax, getUniqueID } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-uploader';\nvar CONTROL_WRAPPER = 'e-upload';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar REMOVE_ICON = 'e-file-remove-btn';\nvar DELETE_ICON = 'e-file-delete-btn';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.fileList = [];\n        _this.filesData = [];\n        _this.uploadedFilesData = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        _this.tabIndex = '0';\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.setDropArea();\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'directoryUpload':\n                    this.updateDirectoryAttributes();\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'template':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                /* istanbul ignore next */\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (this.fileList[i].querySelector('.e-file-play-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('resume'));\n                }\n                if (this.fileList[i].querySelector('.e-file-remove-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                if (this.fileList[i].querySelector('.e-file-reload-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('retry'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.uploadButton.setAttribute('title', this.localizedTexts('Upload'));\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                    this.clearButton.setAttribute('title', this.localizedTexts('Clear'));\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.checkHTMLAttributes();\n        if (this.asyncSettings.saveUrl === '' && this.asyncSettings.removeUrl === '' && !this.autoUpload) {\n            var parentEle = this.element.parentElement;\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n        // tslint:disable-next-line\n        var ejInstance = getValue('ej2_instances', this.element);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-UPLOADER') {\n            var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            if (!inputElement.hasAttribute('name')) {\n                inputElement.setAttribute('name', 'UploadFiles');\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        /* istanbul ignore next */\n        if (ejInstance[0].isPureReactComponent) {\n            if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.name);\n            }\n            else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.id);\n            }\n            else {\n                this.element.setAttribute('name', 'UploadFiles');\n            }\n        }\n        if (isNullOrUndefined(this.element.getAttribute('name'))) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (!this.element.hasAttribute('type')) {\n            this.element.setAttribute('type', 'file');\n        }\n        this.updateDirectoryAttributes();\n        this.keyConfigs = {\n            previous: 'shift+tab',\n            enter: 'enter',\n            next: 'tab'\n        };\n        if (this.element.hasAttribute('tabindex')) {\n            this.tabIndex = this.element.getAttribute('tabindex');\n        }\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Return the module name of the component.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    Uploader.prototype.updateDirectoryAttributes = function () {\n        if (this.directoryUpload) {\n            this.element.setAttribute('directory', 'true');\n            this.element.setAttribute('webkitdirectory', 'true');\n        }\n        else {\n            this.element.removeAttribute('directory');\n            this.element.removeAttribute('webkitdirectory');\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Uploader.prototype.render = function () {\n        this.renderBrowseButton();\n        this.initializeUpload();\n        this.wireEvents();\n        this.setMultipleSelection();\n        this.setExtensions(this.allowedExtensions);\n        this.setRTL();\n        this.renderPreLoadFiles();\n        this.setControlStatus();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        this.browseButton.setAttribute('tabindex', this.tabIndex);\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n        this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.actionButtons.appendChild(this.clearButton);\n        this.actionButtons.appendChild(this.uploadButton);\n        this.renderButtonTemplates();\n        this.uploadWrapper.appendChild(this.actionButtons);\n        this.browseButton.blur();\n        this.uploadButton.focus();\n        this.wireActionButtonEvents();\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            detach(this.actionButtons);\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = void 0;\n            uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.innerText);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = void 0;\n            clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.innerText);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        var fileDropArea = this.createElement('span', { className: DROP_AREA });\n        fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n        this.dropAreaWrapper.appendChild(fileDropArea);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER, attrs: { 'aria-activedescendant': 'li-focused' } });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (isNullOrUndefined(this.files[0].size) || !isNullOrUndefined(this.template)) {\n            return;\n        }\n        var files = [].slice.call(this.files);\n        var filesData = [];\n        if (!this.multiple) {\n            this.clearData();\n            files = [files[0]];\n        }\n        for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n            var data = files_1[_i];\n            var fileData = {\n                name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                rawFile: '',\n                size: data.size,\n                status: this.localizedTexts('uploadSuccessMessage'),\n                type: data.type,\n                validationMessages: { minSize: '', maxSize: '' },\n                statusCode: '2'\n            };\n            filesData.push(fileData);\n            this.filesData.push(fileData);\n        }\n        this.createFileList(filesData);\n        if (!this.autoUpload && this.listParent && !this.actionButtons && !this.isForm && this.showFileList) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                document.querySelector(this.dropArea);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n                }\n            }\n            if (!enableDropText) {\n                dropTextArea.textContent = '';\n            }\n        }\n        else {\n            this.dropZoneElement = this.uploadWrapper;\n            dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            this.upload(fileData);\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        this.keyboardModule.destroy();\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'next':\n                if (e.target === this.browseButton && isNullOrUndefined(this.listParent)) {\n                    this.browseButton.blur();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButton.blur();\n                }\n                else {\n                    this.setTabFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (e.target === this.clearButton && this.uploadButton.hasAttribute('disabled')) {\n                        this.clearButton.blur();\n                    }\n                }\n                break;\n            case 'previous':\n                if (e.target === this.browseButton) {\n                    this.browseButton.blur();\n                }\n                else {\n                    this.setReverseFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '1';\n                    metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                    this.chunkUpload(metaData.file);\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = this.uploadWrapper.querySelector('.' + ICON_FOCUSED).parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.setReverseFocus = function (e) {\n        var target = e.target;\n        if (target === this.uploadButton) {\n            this.uploadButton.blur();\n            this.clearButton.focus();\n        }\n        else if (target === this.clearButton && this.listParent && this.listParent.querySelector('.e-icons')) {\n            this.clearButton.blur();\n            var items = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            items[items.length - 1].classList.add(ICON_FOCUSED);\n            items[items.length - 1].focus();\n        }\n        else {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index > 0) {\n                this.removeFocus();\n                iconElements[index - 1].classList.add(ICON_FOCUSED);\n                iconElements[index - 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.browseButton.focus();\n            }\n        }\n    };\n    Uploader.prototype.setTabFocus = function (e) {\n        var target = e.target;\n        if (target === this.clearButton) {\n            this.removeFocus();\n            if (this.uploadButton.hasAttribute('disabled')) {\n                return;\n            }\n            this.uploadButton.focus();\n        }\n        else if (target.classList.contains('e-icons')) {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index < (iconElements.length - 1)) {\n                this.removeFocus();\n                iconElements[index + 1].classList.add(ICON_FOCUSED);\n                iconElements[index + 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.clearButton.focus();\n            }\n        }\n        else {\n            this.browseButton.blur();\n            var iconElement = this.listParent.querySelectorAll('span.e-icons')[0];\n            iconElement.focus();\n            iconElement.classList.add(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        this.upload(this.filesData);\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n            EventHandler.add(this.dropZoneElement, 'paste', this.onPasteFile, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n        }\n    };\n    Uploader.prototype.onDragLeave = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.dropElement = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.onPasteFile = function (event) {\n        var item = event.clipboardData.items;\n        if (item.length !== 1) {\n            return;\n        }\n        var pasteFile = [].slice.call(item)[0];\n        if ((pasteFile.kind === 'file') && pasteFile.type.match('^image/')) {\n            this.renderSelectedFiles(event, [pasteFile.getAsFile()], false, true);\n        }\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var fileData = this.filesData[index];\n        if (args.target.classList.contains(ABORT_ICON)) {\n            fileData.statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n        }\n        else {\n            this.remove(fileData, false, false, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        detach(selectedElement);\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.removeActionButtons();\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var name = this.element.getAttribute('name');\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        var formData = new FormData();\n        var liElement = this.getLiElement(file);\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs);\n            }\n            if (eventArgs.cancel) {\n                e.cancel = true;\n                return;\n            }\n            if (!isNullOrUndefined(liElement) && (!isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON)) ||\n                !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON)))) {\n                var spinnerTarget = void 0;\n                spinnerTarget = liElement.querySelector('.' + DELETE_ICON) ? liElement.querySelector('.' + DELETE_ICON) :\n                    liElement.querySelector('.' + REMOVE_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n            if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n                formData.append(name, selectedFiles.rawFile);\n            }\n            else {\n                formData.append(name, selectedFiles.name);\n            }\n            _this.updateFormData(formData, eventArgs.customFormData);\n        };\n        ajax.onLoad = function (e) { _this.removeCompleted(e, selectedFiles, custom); return {}; };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.removeFailed(e, selectedFiles, custom); return {}; };\n        ajax.send(formData);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // tslint:disable-next-line\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n        };\n        this.trigger('success', args);\n        this.removeFilesData(files, customTemplate);\n        var index = this.uploadedFilesData.indexOf(files);\n        this.uploadedFilesData.splice(index, 1);\n        this.trigger('change', { files: this.uploadedFilesData });\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                statusElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                statusElement.classList.add(UPLOAD_FAILED);\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFilesFromFolder = function (event) {\n        this.filesEntries = [];\n        var items;\n        items = this.multiple ? event.dataTransfer.items : [event.dataTransfer.items[0]];\n        var validDirectoryUpload = this.checkDirectoryUpload(items);\n        if (!validDirectoryUpload) {\n            return;\n        }\n        var _loop_2 = function (i) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isFile) {\n                var files_2 = [];\n                // tslint:disable-next-line\n                item.file(function (fileObj) {\n                    var path = item.fullPath;\n                    files_2.push({ 'path': path, 'file': fileObj });\n                });\n                this_1.renderSelectedFiles(event, files_2, true);\n            }\n            else if (item.isDirectory) {\n                this_1.traverseFileTree(item, event);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < items.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.checkDirectoryUpload = function (items) {\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isDirectory) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // tslint:disable\n    /* istanbul ignore next */\n    Uploader.prototype.traverseFileTree = function (item, event) {\n        var _this = this;\n        if (typeof (item) === 'boolean') {\n            var files_3 = [];\n            var _loop_3 = function (i) {\n                this_2.filesEntries[i].file(function (fileObj) {\n                    var path = _this.filesEntries[i].fullPath;\n                    files_3.push({ 'path': path, 'file': fileObj });\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i < this.filesEntries.length; i++) {\n                _loop_3(i);\n            }\n            this.renderSelectedFiles(event, files_3, true);\n        }\n        else if (item.isFile) {\n            this.filesEntries.push(item);\n        }\n        else if (item.isDirectory) {\n            var directoryReader = item.createReader();\n            directoryReader.readEntries(function (entries) {\n                for (var i = 0; i < entries.length; i++) {\n                    _this.traverseFileTree(entries[i]);\n                }\n                ;\n                _this.traverseFileTree(true);\n                _this.filesEntries = [];\n            });\n        }\n    };\n    // tslint:enable\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var targetFiles;\n        if (args.type === 'drop') {\n            /* istanbul ignore next */\n            if (this.directoryUpload) {\n                this.getFilesFromFolder(args);\n            }\n            else {\n                var files = args.dataTransfer.files;\n                targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n                this.renderSelectedFiles(args, targetFiles);\n            }\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n            this.renderSelectedFiles(args, targetFiles);\n        }\n    };\n    Uploader.prototype.renderSelectedFiles = function (args, \n        // tslint:disable-next-line\n        targetFiles, directory, paste) {\n        if (targetFiles.length < 1) {\n            return;\n        }\n        var fileData = [];\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = directory ? targetFiles[i].file : targetFiles[i];\n            var fileName = directory ? targetFiles[i].path.substring(1, targetFiles[i].path.length) : paste ?\n                getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name) :\n                this.directoryUpload ? targetFiles[i].webkitRelativePath : file.name;\n            var eventArgs_1 = {\n                name: fileName,\n                rawFile: file,\n                size: file.size,\n                status: this.localizedTexts('readyToUploadMessage'),\n                type: this.getFileType(file.name),\n                validationMessages: this.validatedFileSize(file.size),\n                statusCode: '1'\n            };\n            if (paste) {\n                eventArgs_1.fileSource = 'paste';\n            }\n            eventArgs_1.status = eventArgs_1.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                eventArgs_1.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : eventArgs_1.status;\n            if (eventArgs_1.validationMessages.minSize !== '' || eventArgs_1.validationMessages.maxSize !== '') {\n                eventArgs_1.statusCode = '0';\n            }\n            fileData.push(eventArgs_1);\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: fileData,\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: ''\n        };\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.showFileList) {\n            if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                    this.checkExtension(eventArgs.modifiedFilesData);\n                this.updateSortedFileList(dataFiles);\n                this.filesData = dataFiles;\n                if (!this.isForm) {\n                    this.checkAutoUpload(dataFiles);\n                }\n            }\n            else {\n                this.createFileList(fileData);\n                this.filesData = this.filesData.concat(fileData);\n                if (!this.isForm) {\n                    this.checkAutoUpload(fileData);\n                }\n            }\n            if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                this.progressInterval = eventArgs.progressInterval;\n            }\n        }\n        else {\n            this.filesData = this.filesData.concat(fileData);\n            if (this.autoUpload) {\n                this.upload(this.filesData, true);\n            }\n        }\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (Browser.info.name !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        this.removeActionButtons();\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (!this.isBlank(this.allowedExtensions)) {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            this.listParent.appendChild(liElement);\n            var fromElements = [].slice.call(this.uploadTemplateFn(listItem));\n            append(fromElements, liElement);\n            this.fileList.push(liElement);\n        }\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    Uploader.prototype.createFileList = function (fileData) {\n        this.createParentUL();\n        if (this.template !== '' && !isNullOrUndefined(this.template)) {\n            this.createCustomfileList(fileData);\n        }\n        else {\n            for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n                var listItem = fileData_2[_i];\n                var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n                var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                fileExtension.innerHTML = '.' + this.getFileType(listItem.name);\n                if (!this.enableRtl) {\n                    textContainer.appendChild(textElement);\n                    textContainer.appendChild(fileExtension);\n                }\n                else {\n                    var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                    rtlContainer.appendChild(fileExtension);\n                    rtlContainer.appendChild(textElement);\n                    textContainer.appendChild(rtlContainer);\n                }\n                var fileSize = this.createElement('span', { className: FILE_SIZE });\n                fileSize.innerHTML = this.bytesToSize(listItem.size);\n                textContainer.appendChild(fileSize);\n                var statusElement = this.createElement('span', { className: STATUS });\n                textContainer.appendChild(statusElement);\n                statusElement.innerHTML = listItem.status;\n                liElement.appendChild(textContainer);\n                var iconElement = this.createElement('span', { className: ' e-icons', attrs: { 'tabindex': '-1' } });\n                /* istanbul ignore next */\n                if (Browser.info.name === 'msie') {\n                    iconElement.classList.add('e-msie');\n                }\n                iconElement.setAttribute('title', this.localizedTexts('remove'));\n                liElement.appendChild(iconElement);\n                EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                if (listItem.statusCode === '2') {\n                    statusElement.classList.add(UPLOAD_SUCCESS);\n                    iconElement.classList.add(DELETE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else if (listItem.statusCode !== '1') {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(VALIDATION_FAILS);\n                }\n                if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                    statusElement.innerHTML = '';\n                }\n                if (!iconElement.classList.contains(DELETE_ICON)) {\n                    iconElement.classList.add(REMOVE_ICON);\n                }\n                this.listParent.appendChild(liElement);\n                this.fileList.push(liElement);\n                this.truncateName(textElement);\n            }\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        var text;\n        if (nameElement.offsetWidth < nameElement.scrollWidth) {\n            text = nameElement.textContent;\n            nameElement.dataset.tail = text.slice(text.length - 10);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode) {\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            files.status = status;\n            files.statusCode = statusCode;\n        }\n        var li = this.getLiElement(files);\n        if (!isNullOrUndefined(li)) {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                li.querySelector('.' + STATUS).textContent = status;\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index;\n        for (var i = 0; i < this.filesData.length; i++) {\n            if (this.filesData[i].name === files.name) {\n                index = i;\n            }\n        }\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI)) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                this.cancelUploadingFile(files, e, request, li);\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + REMOVE_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(REMOVE_ICON);\n            }\n        }\n        else {\n            this.cancelUploadingFile(files, e, request);\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.cancelUploadingFile = function (files, e, request, li) {\n        var _this = this;\n        if (files.statusCode === '5') {\n            var eventArgs = {\n                event: e,\n                fileData: files,\n                cancel: false\n            };\n            this.trigger('canceling', eventArgs);\n            if (eventArgs.cancel) {\n                files.statusCode = '3';\n                if (!isNullOrUndefined(li)) {\n                    var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(li.querySelector('.e-spinner-pane'));\n                    }\n                }\n                return;\n            }\n            request.emitError = false;\n            request.httpRequest.abort();\n            var formData = new FormData();\n            if (files.statusCode === '5') {\n                var name_1 = this.element.getAttribute('name');\n                formData.append(name_1, files.name);\n                formData.append('cancel-uploading', files.name);\n                var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                ajax.onLoad = function (e) { _this.removecanceledFile(e, files); return {}; };\n                ajax.send(formData);\n            }\n        }\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n        var args = { event: e, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(REMOVE_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement, false); }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement, custom) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        if (!custom) {\n            liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n                detach(liElement.querySelector('.' + RETRY_ICON));\n            }\n            this.pauseButton = null;\n        }\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(DELETE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadSuccessMessage'), '2') };\n        this.trigger('success', args);\n        this.uploadedFilesData.push(file);\n        this.trigger('change', { file: this.uploadedFilesData });\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var li = this.getLiElement(file);\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () { _this.animateProgressBar(li, callType); }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        this.element.setAttribute('accept', extensions);\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            var exception = void 0;\n            try {\n                if (document.querySelectorAll(uploadTemplate).length) {\n                    return compile(document.querySelector(uploadTemplate).innerHTML.trim());\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        this.enableRtl ? addClass([this.uploadWrapper], RTL) : removeClass([this.uploadWrapper], RTL);\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function () {\n        if (this.element.hasAttribute('accept')) {\n            this.allowedExtensions = this.element.getAttribute('accept');\n            this.initialAttr.accept = this.allowedExtensions;\n        }\n        if (this.element.hasAttribute('multiple')) {\n            this.multiple = true;\n            this.initialAttr.multiple = true;\n        }\n        if (this.element.hasAttribute('disabled')) {\n            this.enabled = false;\n            this.initialAttr.disabled = true;\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom);\n    };\n    Uploader.prototype.sendRequest = function (file, metaData, custom) {\n        var _this = this;\n        var formData = new FormData();\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append('chunkFile', blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.onLoad = function (e) { _this.chunkUploadComplete(e, metaData, custom); return {}; };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            if (metaData.chunkIndex !== 0) {\n                return;\n            }\n            eventArgs.currentRequest = ajax.httpRequest;\n            _this.trigger('uploading', eventArgs);\n            if (eventArgs.cancel) {\n                _this.eventCancelByArgs(e, eventArgs, file);\n            }\n            else {\n                _this.updateFormData(formData, eventArgs.customFormData);\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.chunkUploadFailed(e, metaData, custom); return {}; };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        var liElement = this.getLiElement(eventArgs.fileData);\n        liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n        liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + REMOVE_ICON));\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        /* istanbul ignore next */\n        this.pauseButton.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_2 = { event: e, fileData: metaData.file, cancel: false };\n                this.trigger('canceling', eventArgs_2);\n                if (eventArgs_2.cancel) {\n                    metaData.file.statusCode = '3';\n                    var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(liElement.querySelector('.e-spinner-pane'));\n                    }\n                    this.sendNextRequest(metaData);\n                    return;\n                }\n                metaData.request.emitError = false;\n                response.abort();\n                var formData = new FormData();\n                var name_2 = this.element.getAttribute('name');\n                formData.append(name_2, metaData.file.name);\n                formData.append('cancel-uploading', metaData.file.name);\n                var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                ajax.onLoad = function (e) { _this.removeChunkFile(e, metaData, custom); return {}; };\n                ajax.send(formData);\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                this.sendNextRequest(metaData);\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon.classList.add(REMOVE_ICON);\n            deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        metaData.request.emitError = false;\n        metaData.request.httpRequest.abort();\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n            targetElement.nextElementSibling.classList.add(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.remove(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('remove'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n            targetElement.nextElementSibling.classList.remove(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.add(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('abort'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(DELETE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize,\n            cancel: false\n        };\n        this.trigger('chunkFailure', eventArgs);\n        /* tslint:disable */\n        var eventArgsData = eventArgs;\n        var values = Object.keys(eventArgsData).map(function (e) {\n            return eventArgsData[e];\n        });\n        /* tslint:enable */\n        // To prevent triggering of failure event\n        if (!values[values.length - 2]) {\n            if (metaData.retryCount < this.asyncSettings.retryCount) {\n                setTimeout(function () { _this.retryRequest(liElement, metaData, custom); }, this.asyncSettings.retryAfterDelay);\n            }\n            else {\n                if (!isNullOrUndefined(liElement)) {\n                    var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                        liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                    if (!isNullOrUndefined(pauseButton)) {\n                        pauseButton.classList.add(RETRY_ICON);\n                        pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                    }\n                    this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                    this.removeProgressbar(liElement, 'failure');\n                    liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                    var iconElement = liElement.querySelector('.' + ABORT_ICON);\n                    iconElement.classList.remove(ABORT_ICON);\n                    if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                        detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                    }\n                    if (metaData.start > 0) {\n                        iconElement.classList.add(DELETE_ICON);\n                        iconElement.setAttribute('title', this.localizedTexts('delete'));\n                    }\n                    else {\n                        iconElement.classList.add(REMOVE_ICON);\n                        iconElement.setAttribute('title', this.localizedTexts('remove'));\n                    }\n                }\n                metaData.retryCount = 0;\n                var file = metaData.file;\n                var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n                this.trigger('failure', args);\n            }\n        }\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            this.pauseUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            this.resumeUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n    };\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var target;\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + REMOVE_ICON) ? liElement.querySelector('.' + REMOVE_ICON) :\n                    liElement.querySelector('.' + DELETE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(REMOVE_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var loadedSize = (metaData.chunkIndex * this.asyncSettings.chunkSize);\n                var value = Math.min((((loadedSize + e.loaded) / metaData.file.size) * 100), 100);\n                this.changeProgressValue(liElement, Math.round(value).toString() + '%');\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': '-1' } });\n            if (Browser.info.name === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + ABORT_ICON));\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) { _this.checkPausePlayAction(e); }, false);\n        }\n    };\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     * @param { number } bytes - specifies the file size in bytes.\n     * @returns string\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        var size;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns File[]\n     */\n    Uploader.prototype.sortFileList = function (filesData) {\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        var index = 0;\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_3 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_3 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        this.clearAll();\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        this.uploadWrapper.parentElement.appendChild(this.cloneElement);\n        this.cloneElement.classList.remove('e-control', ROOT);\n        detach(this.uploadWrapper);\n        this.uploadWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     * @param { FileInfo | FileInfo[] } files - specifies the files data for upload.\n     * @returns void\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var uploadFiles = this.validateFileType(files);\n        this.uploadFiles(uploadFiles, custom);\n    };\n    Uploader.prototype.validateFileType = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var _this = this;\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        var chunkEnabled = this.checkChunkUpload();\n        var _loop_4 = function (i) {\n            var ajax = new Ajax(this_3.asyncSettings.saveUrl, 'POST', true, null);\n            var eventArgs = {\n                fileData: selectedFiles[i],\n                customFormData: [],\n                cancel: false\n            };\n            var formData = new FormData();\n            ajax.beforeSend = function (e) {\n                eventArgs.currentRequest = ajax.httpRequest;\n                _this.trigger('uploading', eventArgs);\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            };\n            if (selectedFiles[i].statusCode === '1') {\n                var name_4 = this_3.element.getAttribute('name');\n                formData.append(name_4, selectedFiles[i].rawFile, selectedFiles[i].name);\n                if (chunkEnabled && selectedFiles[i].size > this_3.asyncSettings.chunkSize) {\n                    this_3.chunkUpload(selectedFiles[i], custom);\n                }\n                else {\n                    ajax.onLoad = function (e) { _this.uploadComplete(e, selectedFiles[i], custom); return {}; };\n                    ajax.onUploadProgress = function (e) {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    };\n                    /* istanbul ignore next */\n                    ajax.onError = function (e) { _this.uploadFailed(e, selectedFiles[i]); return {}; };\n                    ajax.send(formData);\n                }\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < selectedFiles.length; i++) {\n            _loop_4(i);\n        }\n    };\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (“file_data”).\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @returns void\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, args) {\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: true\n        };\n        if (this.isForm) {\n            eventArgs.filesData = this.getFilesData();\n            this.trigger('removing', eventArgs);\n            if (!eventArgs.cancel) {\n                this.clearAll();\n            }\n            return;\n        }\n        var removeFiles = [];\n        fileData = !isNullOrUndefined(fileData) ? fileData : this.filesData;\n        if (fileData instanceof Array) {\n            removeFiles = fileData;\n        }\n        else {\n            removeFiles.push(fileData);\n        }\n        eventArgs.filesData = removeFiles;\n        var removeUrl = this.asyncSettings.removeUrl;\n        var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n        for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n            var files = removeFiles_1[_i];\n            if ((files.statusCode === '2' || files.statusCode === '4') && validUrl) {\n                this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n            }\n            else {\n                if (!removeDirectly) {\n                    this.trigger('removing', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    return;\n                }\n                this.removeFilesData(files, customTemplate);\n            }\n        }\n    };\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     * @returns void\n     */\n    Uploader.prototype.clearAll = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            if (Browser.info.name !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.clearData();\n    };\n    /**\n     * Get the data of files which are shown in file list.\n     * @returns FileInfo[]\n     */\n    Uploader.prototype.getFilesData = function () {\n        return this.filesData;\n    };\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @returns void\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage, custom);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = void 0;\n                    if (!custom) {\n                        liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    }\n                    this.reloadcanceledFile(null, files[i], liElement, custom);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns void\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        var cancelingFiles = this.validateFileType(fileData);\n        this.cancelUpload(cancelingFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        if (this.asyncSettings.chunkSize > 0) {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    var metaData = this.getCurrentMetaData(files[i], null);\n                    metaData.file.statusCode = '5';\n                    metaData.file.status = this.localizedTexts('fileUploadCancel');\n                    this.updateMetaData(metaData);\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    files[i].statusCode = '5';\n                    files[i].status = this.localizedTexts('fileUploadCancel');\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.showHideUploadSpinner = function (files) {\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n            var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"directoryUpload\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { getModel, Item } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ``````html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {DropDownButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function DropDownButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     * @returns void\n     */\n    DropDownButton.prototype.toggle = function () {\n        this.canOpen() ? this.openPopUp() : this.closePopup();\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['role'] = 'menu',\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        var _a;\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (items) {\n        var showIcon = this.hasIcon(items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.createElement('ul', {\n            attrs: { 'tabindex': '0' }\n        });\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : item.text,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                li.insertBefore(span, li.childNodes[0]);\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        return ul;\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: item.text, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, iconPosition: this.iconPosition, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.createElement = this.createElement;\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.appendArrowSpan();\n        this.createPopup();\n        this.setActiveElem([this.element]);\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        return this.getPopUpElement().classList.contains('e-popup-close');\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        if (this.element.querySelector('span.e-caret')) {\n            detach(this.element.querySelector('span.e-caret'));\n        }\n        _super.prototype.destroy.call(this);\n        this.button.destroy();\n        ['role', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n            _this.element.removeAttribute(key);\n        });\n        removeClass([this.element], ['e-btn']);\n        removeClass(this.activeElem, ['e-active']);\n        this.dropDown.destroy();\n        var popupEle = document.getElementById(this.getPopUpElement().id);\n        if (popupEle) {\n            removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n            detach(popupEle);\n        }\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        return this.dropDown.element;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        return this.getPopUpElement().children[0];\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(popupElement, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n        EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        var ul = this.getULElement();\n        var defaultIdx = e.keyCode === 40 ? 0 : ul.childElementCount - 1;\n        var liIdx = defaultIdx;\n        var li = null;\n        this.removeCustomSelection();\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classNames.FOCUS)) {\n                li = ul.children[i];\n                liIdx = i;\n                li.classList.remove(classNames.FOCUS);\n                e.keyCode === 40 ? liIdx++ : liIdx--;\n                if (liIdx === (e.keyCode === 40 ? ul.childElementCount : -1)) {\n                    liIdx = defaultIdx;\n                }\n            }\n        }\n        li = ul.children[liIdx];\n        liIdx = this.isValidLI(li, liIdx, e.keyCode);\n        if (liIdx !== -1) {\n            addClass([ul.children[liIdx]], classNames.FOCUS);\n            ul.children[liIdx].focus();\n        }\n    };\n    DropDownButton.prototype.removeCustomSelection = function () {\n        var selectedLi = this.getULElement().querySelector('.e-selected');\n        if (selectedLi) {\n            selectedLi.classList.remove('e-selected');\n        }\n    };\n    DropDownButton.prototype.isValidLI = function (li, index, keyCode, count) {\n        if (count === void 0) { count = 0; }\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            if (index === (keyCode === 40 ? this.items.length - 1 : 0)) {\n                index = keyCode === 40 ? 0 : this.items.length - 1;\n            }\n            else {\n                keyCode === 40 ? index++ : index--;\n            }\n        }\n        li = this.getULElement().children[index];\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            count++;\n            if (count === this.items.length) {\n                return index = -1;\n            }\n            index = this.isValidLI(li, index, keyCode, count);\n        }\n        return index;\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (!this.canOpen() && !(closest(trgt, '#' + this.getPopUpElement().id) || closest(trgt, '#' + this.element.id))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var canOpen = this.canOpen();\n        if (closest(trgt, '#' + this.element.id)) {\n            if (canOpen) {\n                this.openPopUp(e);\n            }\n            else {\n                this.closePopup(e, this.activeElem[0]);\n            }\n        }\n        else {\n            if (closest(trgt, '#' + this.getPopUpElement().id)) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        if (e === void 0) { e = null; }\n        if (!this.target) {\n            this.getPopUpElement().appendChild(this.createItems(this.items));\n        }\n        var ul = this.getULElement();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        if (!beforeOpenArgs.cancel) {\n            this.dropDown.show(null, this.element);\n            addClass([this.element], 'e-active');\n            this.element.setAttribute('aria-expanded', 'true');\n            ul.focus();\n            var openArgs = { element: ul, items: this.items };\n            this.trigger('open', openArgs);\n        }\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        if (!beforeCloseArgs.cancel) {\n            this.removeCustomSelection();\n            this.dropDown.hide();\n            removeClass(this.activeElem, 'e-active');\n            this.element.setAttribute('aria-expanded', 'false');\n            if (focusEle) {\n                focusEle.focus();\n            }\n            var closeArgs = { element: ul, items: this.items };\n            this.trigger('close', closeArgs);\n            if (!this.target && ul) {\n                detach(ul);\n            }\n        }\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        this.rippleFn();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {DropDownButtonModel} newProp\n     * @param  {DropDownButtonModel} oldProp\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n        this.button.setProperties(getModel(newProp, btnModel));\n        var popupElement = this.getPopUpElement();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (!this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (oldProp.cssClass) {\n                        removeClass([popupElement], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([popupElement], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    popupElement.classList.toggle(classNames.RTL);\n                    break;\n                case 'target':\n                    this.target = newProp.target;\n                    detach(this.getULElement());\n                    popupElement.appendChild(this.getTargetElement());\n                    this.dropDown.content = this.getTargetElement();\n                    break;\n                case 'items':\n                    this.dropDown.refresh();\n                    if (popupElement.classList.contains('e-popup-open')) {\n                        classList(popupElement, ['e-popup-close'], ['e-popup-open']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"created\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {SplitButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     * @private\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            iconPosition: this.iconPosition,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel);\n        this.primaryBtnObj.createElement = this.createElement;\n        this.primaryBtnObj.appendTo(this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        var dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            beforeItemRender: function (args) {\n                _this.trigger('beforeItemRender', args);\n            },\n            beforeOpen: function (args) {\n                _this.trigger('beforeOpen', args);\n            },\n            beforeClose: function (args) {\n                _this.trigger('beforeClose', args);\n            },\n            open: function (args) {\n                _this.trigger('open', args);\n            },\n            close: function (args) {\n                _this.trigger('close', args);\n            },\n            select: function (args) {\n                _this.trigger('select', args);\n            }\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n        this.secondaryBtnObj.createElement = this.createElement;\n        this.secondaryBtnObj.appendTo(btnElem);\n        this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n        this.dropDown = this.secondaryBtnObj.dropDown;\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.secondaryBtnObj.keyBoardHandler);\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'role': 'listbox', 'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.secondaryBtnObj.dropDown.element.id\n        });\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     * @returns void\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        var element = document.getElementById(this.element.id);\n        if (element && element.parentElement === this.wrapper) {\n            if (this.wrapper.tagName === TAGNAME) {\n                this.wrapper.innerHTML = '';\n                removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                removeClass([this.wrapper], this.cssClass.split(' '));\n            }\n            else {\n                removeClass([this.element], ['e-' + this.getModuleName(), RTL]);\n                ['role', 'aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n                this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                remove(this.wrapper);\n            }\n            this.unWireEvents();\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        EventHandler.add(this.getPopUpElement(), 'keydown', this.keyBoardHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {SplitButtonModel} newProp\n     * @param  {SplitButtonModel} oldProp\n     * @returns void\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['items', 'beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl'];\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"created\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { EventHandler, Property, NotifyPropertyChanges, Animation, attributes } from '@syncfusion/ej2-base';\nimport { Event, remove, removeClass } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar HIDESPINNER = 'e-hide-spinner';\nvar PROGRESS = 'e-progress';\nvar PROGRESSACTIVE = 'e-progress-active';\nvar CONTENTCLS = 'e-btn-content';\n/**\n * The ProgressButton visualizes the progression of an operation to indicate the user\n * that a process is happening in the background with visual representation.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var progressButtonObj = new ProgressButton({ content: 'Progress Button' });\n * progressButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar ProgressButton = /** @class */ (function (_super) {\n    __extends(ProgressButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ProgressButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function ProgressButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.step = 1;\n        return _this;\n    }\n    ProgressButton.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    ProgressButton.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.init();\n        this.wireEvents();\n        this.setAria();\n    };\n    /**\n     * Starts the button progress at the specified percent.\n     * @param percent Starts the button progress at this percent.\n     * @returns void\n     */\n    ProgressButton.prototype.start = function (percent) {\n        this.isPaused = false;\n        this.startProgress(percent ? percent : this.percent, this.progressTime);\n    };\n    /**\n     * Stops the button progress.\n     * @returns void\n     */\n    ProgressButton.prototype.stop = function () {\n        this.isPaused = true;\n        cancelAnimationFrame(this.timerId);\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ProgressButton.prototype.getModuleName = function () {\n        return 'progress-btn';\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ProgressButton.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        removeClass([this.element], [HIDESPINNER, PROGRESSACTIVE, 'e-round-corner', 'e-' + _super.prototype.getModuleName.call(this)]);\n    };\n    ProgressButton.prototype.init = function () {\n        this.element.classList.add('e-' + _super.prototype.getModuleName.call(this));\n        this.setContent();\n        this.createSpinner();\n        if (this.enableProgress) {\n            this.createProgress();\n        }\n    };\n    ProgressButton.prototype.createSpinner = function () {\n        var spinner = this.createElement('span', { className: 'e-spinner' });\n        this.setSpinPosition(spinner);\n        createSpinner({\n            target: spinner, width: this.spinSettings.width || 16, template: this.spinSettings.template\n        }, this.createElement);\n    };\n    ProgressButton.prototype.setSpinPosition = function (ele) {\n        var position = this.spinSettings.position || 'Left';\n        if (position === 'Left' || position === 'Top') {\n            this.element.insertBefore(ele, this.element.getElementsByClassName(CONTENTCLS)[0]);\n        }\n        else {\n            this.element.appendChild(ele);\n        }\n        this.element.classList.add('e-spin-' + position.toLowerCase());\n    };\n    ProgressButton.prototype.createProgress = function () {\n        this.element.appendChild(this.createElement('span', { className: PROGRESS }));\n    };\n    ProgressButton.prototype.setContent = function () {\n        var cont = this.element.innerHTML;\n        this.element.innerHTML = '';\n        this.element.appendChild(this.createElement('span', { className: CONTENTCLS, innerHTML: cont }));\n    };\n    ProgressButton.prototype.clickHandler = function () {\n        if (this.element.classList.contains(PROGRESSACTIVE)) {\n            return;\n        }\n        this.startProgress();\n    };\n    ProgressButton.prototype.startProgress = function (percent, progressTime) {\n        var _this = this;\n        var clsList = this.element.classList;\n        var isVertical = clsList.contains('e-vertical');\n        clsList.add(PROGRESSACTIVE);\n        if (!(clsList.contains(HIDESPINNER))) {\n            showSpinner(this.element);\n            if (!this.enableProgress) {\n                setTimeout(function () {\n                    _this.hideSpin();\n                    // tslint:disable-next-line\n                }, this.duration);\n            }\n        }\n        if (this.enableProgress) {\n            this.startAnimate(Date.now(), progressTime ? progressTime : 0, progressTime ? Date.now() - (this.duration * 1 / 100) : Date.now(), percent ? percent : 0, 0, this.step, 0, isVertical);\n        }\n        this.startContAnimate();\n    };\n    ProgressButton.prototype.startAnimate = function (timestamp, progressTime, prevTime, percent, prevPercent, step, prevProgressTime, isVertical) {\n        var _this = this;\n        try {\n            var args_1;\n            var timeDiff = timestamp - prevTime;\n            var stepTime = this.duration * step / 100;\n            var timeDiffBuffer = timeDiff ? (timeDiff < stepTime ? timeDiff - stepTime : timeDiff % stepTime) : 0;\n            this.progressTime = progressTime = progressTime + timeDiff - timeDiffBuffer;\n            prevTime = timestamp - timeDiffBuffer;\n            percent = percent + (timeDiff - timeDiffBuffer) / this.duration * 100;\n            prevPercent = ((progressTime - prevProgressTime) % stepTime === 0 || percent === 100) ? percent : prevPercent;\n            args_1 = { percent: prevPercent, currentDuration: progressTime, step: step };\n            if (percent === 0) {\n                this.trigger('begin', args_1);\n            }\n            else if (percent === 100 || progressTime === this.duration) {\n                this.trigger('end', args_1);\n            }\n            else {\n                this.trigger('progress', args_1);\n            }\n            if (percent !== args_1.percent && args_1.percent !== prevPercent) {\n                percent = args_1.percent;\n            }\n            this.percent = percent;\n            this.step = args_1.step;\n            if ((progressTime - prevProgressTime) % (this.duration * args_1.step / 100) === 0 || percent === 100) {\n                this.timerId = requestAnimationFrame(function () {\n                    _this.element.getElementsByClassName(PROGRESS)[0]\n                        .style[isVertical ? 'height' : 'width'] = percent + '%';\n                    _this.element.setAttribute('aria-valuenow', percent.toString());\n                });\n                prevPercent = percent;\n                prevProgressTime = progressTime;\n            }\n            if (!this.isPaused) {\n                if (progressTime < this.duration && percent < 100) {\n                    setTimeout(function () {\n                        _this.startAnimate(Date.now(), progressTime, prevTime, percent, prevPercent, args_1.step, prevProgressTime, isVertical);\n                        // tslint:disable-next-line\n                    }, (this.duration / 100) - timeDiffBuffer);\n                }\n                else {\n                    setTimeout(function () {\n                        _this.progressTime = _this.percent = 0;\n                        _this.element.getElementsByClassName(PROGRESS)[0].style[isVertical ? 'height' : 'width'] = '0%';\n                        _this.element.setAttribute('aria-valuenow', '0');\n                        _this.hideSpin();\n                        // tslint:disable-next-line\n                    }, 100);\n                }\n            }\n        }\n        catch (e) {\n            cancelAnimationFrame(this.timerId);\n            this.trigger('fail', e);\n        }\n    };\n    ProgressButton.prototype.startContAnimate = function () {\n        var _this = this;\n        var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (this.animationSettings.effect !== 'None') {\n            (new Animation({})).animate(ele, {\n                duration: this.animationSettings.duration,\n                name: 'Progress' + this.animationSettings.effect,\n                timingFunction: this.animationSettings.easing,\n                begin: function () {\n                    if (_this.spinSettings.position === 'Center') {\n                        _this.setSpinnerSize();\n                    }\n                },\n                end: function () {\n                    ele.classList.add('e-animate-end');\n                }\n            });\n        }\n        else if (this.spinSettings.position === 'Center') {\n            this.setSpinnerSize();\n        }\n    };\n    ProgressButton.prototype.setSpinnerSize = function () {\n        var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        var spinner = this.element.getElementsByClassName('e-spinner')[0];\n        spinner.style.width = Math.max(spinner.offsetWidth, ele.offsetWidth) + 'px';\n        spinner.style.height = Math.max(spinner.offsetHeight, ele.offsetHeight) + 'px';\n        ele.classList.add('e-cont-animate');\n    };\n    ProgressButton.prototype.hideSpin = function () {\n        var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (!(this.element.classList.contains(HIDESPINNER))) {\n            hideSpinner(this.element);\n        }\n        this.element.classList.remove(PROGRESSACTIVE);\n        if (this.animationSettings.effect !== 'None') {\n            cont.classList.remove('e-animate-end');\n        }\n        if (this.spinSettings.position === 'Center') {\n            var ele = this.element.getElementsByClassName('e-spinner')[0];\n            cont.classList.remove('e-cont-animate');\n            ele.style.width = 'auto';\n            ele.style.height = 'auto';\n        }\n    };\n    ProgressButton.prototype.setIconSpan = function () {\n        var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        var iconSpan = this.element.getElementsByClassName('e-btn-icon')[0];\n        if (cont.childNodes[0] && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n            cont.insertBefore(iconSpan, cont.childNodes[0]);\n        }\n        else {\n            cont.appendChild(iconSpan);\n        }\n    };\n    ProgressButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'aria-label': this.element.textContent + ' progress', 'aria-valuemin': '0', 'aria-valuemax': '100', 'aria-valuenow': '0'\n        });\n    };\n    ProgressButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n    };\n    ProgressButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ProgressButton} newProp\n     * @param  {ProgressButton} oldProp\n     * @returns void\n     * @private\n     */\n    ProgressButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    this.setContent();\n                    this.createSpinner();\n                    if (this.enableProgress) {\n                        this.createProgress();\n                    }\n                    this.element.setAttribute('aria-label', this.element.textContent + ' progress');\n                    break;\n                case 'iconCss':\n                    if (!oldProp.iconCss) {\n                        this.setIconSpan();\n                    }\n                    break;\n                case 'iconPosition':\n                    this.setIconSpan();\n                    break;\n                case 'enableProgress':\n                    if (newProp.enableProgress) {\n                        this.createProgress();\n                    }\n                    else {\n                        remove(this.element.getElementsByClassName(PROGRESS)[0]);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"enableProgress\", void 0);\n    __decorate([\n        Property(2000)\n    ], ProgressButton.prototype, \"duration\", void 0);\n    __decorate([\n        Property('Left')\n    ], ProgressButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property({ template: null, width: 16, position: 'Left' })\n    ], ProgressButton.prototype, \"spinSettings\", void 0);\n    __decorate([\n        Property({ duration: 400, effect: 'None', easing: 'ease' })\n    ], ProgressButton.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"fail\", void 0);\n    ProgressButton = __decorate([\n        NotifyPropertyChanges\n    ], ProgressButton);\n    return ProgressButton;\n}(Button));\nexport { ProgressButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n    };\n    /**\n     * To Initialize the component rendering\n     * @private\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n        if (!this.enableOpacity) {\n            addClass([this.container.parentElement], HIDEOPACITY);\n        }\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n        this.element.value = value.slice(0, 7);\n        this.setProperties({ 'value': value }, true);\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        this.isRgb = true;\n        this.createInput();\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            beforeOpen: this.beforeOpenFn.bind(this),\n            open: this.onOpen.bind(this),\n            beforeClose: this.beforePopupClose.bind(this),\n            click: function (args) {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }\n                });\n            }\n        });\n        this.splitBtn.createElement = this.createElement;\n        this.splitBtn.appendTo(splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n            popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n        }\n    };\n    ColorPicker.prototype.onOpen = function (args) {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.beforeOpenFn = function (args) {\n        var beforeOpenArgs = { element: this.container, event: args.event, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        args.cancel = beforeOpenArgs.cancel;\n        if (!args.cancel) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.display = 'block';\n            this.createWidget();\n            popupEle.style.display = '';\n            if (Browser.isDevice) {\n                this.modal = this.createElement('div');\n                this.modal.className = 'e-' + this.getModuleName() + ' e-modal';\n                this.modal.style.display = 'none';\n                document.body.insertBefore(this.modal, popupEle);\n                document.body.className += ' e-colorpicker-overflow';\n                this.modal.style.display = 'block';\n                this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n            }\n        }\n    };\n    ColorPicker.prototype.beforePopupClose = function (args) {\n        if (!isNullOrUndefined(args.event)) {\n            var beforeCloseArgs = { element: this.container, event: args.event, cancel: false };\n            this.trigger('beforeClose', beforeCloseArgs);\n            if (Browser.isDevice && args.event.target === this.modal) {\n                beforeCloseArgs.cancel = true;\n            }\n            args.cancel = beforeCloseArgs.cancel;\n            if (!args.cancel) {\n                this.onPopupClose();\n            }\n        }\n    };\n    ColorPicker.prototype.onPopupClose = function () {\n        this.unWireEvents();\n        this.destroyOtherComp();\n        this.container.style.width = '';\n        select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n        this.container.innerHTML = '';\n        removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n        if (Browser.isDevice && this.modal) {\n            removeClass([document.body], 'e-colorpicker-overflow');\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        var roundedColor;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'row' }\n                });\n                palette.appendChild(row);\n            }\n            roundedColor = this.roundValue(colors[i]).toLowerCase();\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': roundedColor, 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value === roundedColor) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = selectAll('.e-row')[0].children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        refEle ? this.container.insertBefore(ele, refEle) : this.container.appendChild(ele);\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        });\n        this.hueSlider.createElement = this.createElement;\n        this.hueSlider.appendTo(slider);\n        if (this.enableOpacity) {\n            slider = this.createElement('div', { className: 'e-opacity-slider' });\n            sliderWrapper.appendChild(slider);\n            this.createOpacitySlider(slider);\n        }\n    };\n    ColorPicker.prototype.createOpacitySlider = function (slider) {\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        });\n        this.opacitySlider.createElement = this.createElement;\n        this.opacitySlider.appendTo(slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        select('.e-slider-track', this.opacitySlider.element).style.background =\n            'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            getInstance(select('.' + OPACITY, this.container), NumericTextBox).value = value;\n        }\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n        var _this = this;\n        var numericInput = new NumericTextBox({\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        });\n        numericInput.createElement = this.createElement;\n        numericInput.appendTo(element);\n    };\n    ColorPicker.prototype.createInput = function () {\n        var isPicker = this.isPicker();\n        var wrapper = this.getWrapper();\n        if ((isPicker && !wrapper.classList.contains(HIDEVALUE)) || (!isPicker && wrapper.classList.contains(SHOWVALUE))) {\n            var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n            isPicker ? this.appendElement(inputWrap, 2) : this.appendElement(inputWrap, 1);\n            var container = this.createElement('div', { className: 'e-input-container' });\n            inputWrap.appendChild(container);\n            if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n                this.appendValueSwitchBtn(inputWrap);\n            }\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                var hexInput = this.createElement('input', {\n                    className: HEX,\n                    attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n                });\n                container.appendChild(hexInput);\n                Input.createInput({\n                    element: hexInput,\n                    floatLabelType: 'Always',\n                    properties: {\n                        placeholder: 'HEX',\n                        enableRtl: this.enableRtl,\n                        enabled: !this.disabled,\n                        readonly: this.isPicker() ? false : true\n                    }\n                }, this.createElement);\n                Input.setValue(this.value.slice(0, 7), hexInput);\n                hexInput.addEventListener('input', this.inputHandler.bind(this));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                var label = void 0;\n                var value = void 0;\n                if (this.isRgb) {\n                    label = 'RGB';\n                    value = this.rgb;\n                }\n                else {\n                    label = 'HSV';\n                    value = this.hsv;\n                }\n                var clsName = ['rh', 'gs', 'bv'];\n                for (var i = 0; i < 3; i++) {\n                    this.createNumericInput(container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })), value[i], label[i], 255);\n                }\n                if (this.enableOpacity) {\n                    this.appendOpacityValue(container);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.appendOpacityValue = function (container) {\n        this.createNumericInput(container.appendChild(this.createElement('input', { className: OPACITY })), this.rgb[3] * 100, 'A', 100);\n    };\n    ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n        var valueSwitchBtn = this.createElement('button', { className: 'e-icons e-btn e-flat e-icon-btn ' + FORMATSWITCH });\n        targetEle.appendChild(valueSwitchBtn);\n        if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n            valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n        }\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.createElement = this.createElement;\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        enable ? this.getWrapper().classList.add(DISABLED) : this.getWrapper().classList.remove(DISABLED);\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                enable ? attributes(ele, { 'disabled': '' }) : ele.removeAttribute('disabled');\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        var wrapper = this.getWrapper();\n        if (!wrapper.classList.contains(HIDEVALUE)) {\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                if (this.isRgb) {\n                    this.updateValue(this.rgb, false);\n                }\n                else {\n                    this.updateValue(this.hsv, false);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        if (this.enableOpacity) {\n            this.updateOpacitySliderBg();\n        }\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     * @param value - Specify the color value.\n     * @param type - Specify the type to which the specified color needs to be converted.\n     * @method getValue\n     * @return {string}\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     * @method toggle\n     * @return {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        this.splitBtn.toggle();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        EventHandler.add(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler, this);\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13:\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue, e);\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value, e) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.closePopup = function (e) {\n        var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        if (!beforeCloseArgs.cancel) {\n            this.toggle();\n            this.onPopupClose();\n        }\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }\n        });\n        this.setProperties({ 'value': value }, true);\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        var left = parseInt(dragHandler.style.left, 10);\n        var top = parseInt(dragHandler.style.top, 10);\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.closePopup(e);\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target, e);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            remove(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function (e) {\n        var target = e.target.parentElement;\n        if (this.isRgb) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            this.isRgb = false;\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            this.isRgb = true;\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n            this.updateOpacitySliderBg();\n        }\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.closePopup(e);\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target, e);\n                }\n                else {\n                    if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler(e);\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains(SHOWVALUE)) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '', e);\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        idx < 0 ? idx += n + emptyCount : idx %= n + emptyCount;\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX':\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        var eventArgs = {\n            currentValue: { hex: hex, rgba: rgba },\n            previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n        };\n        if (!this.showButtons && !isKey) {\n            eventArgs.previousValue = { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) };\n            this.trigger('change', eventArgs);\n            this.setProperties({ 'value': cValue }, true);\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', eventArgs);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        detach(this.element.nextElementSibling);\n        wrapper.parentElement.insertBefore(this.element, wrapper);\n        detach(wrapper);\n        this.container = null;\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            if (this.enableOpacity) {\n                this.opacitySlider.destroy();\n                this.opacitySlider = null;\n            }\n            this.hueSlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var wrapper = this.getWrapper();\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var s;\n        var v = max;\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        var i;\n        var f;\n        var p;\n        var q;\n        var t;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        i = Math.floor(h);\n        f = h - i;\n        p = v * (1 - s);\n        q = v * (1 - s * f);\n        t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateInput(newProp);\n        }\n        else {\n            this.removeTileSelection();\n            this.addTileSelection(select('span[aria-label=\"' + this.roundValue(newProp) + '\"]', this.container));\n        }\n        this.element.value = newProp.slice(0, 7);\n    };\n    ColorPicker.prototype.setInputEleProps = function (prop) {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps(newProp);\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    ColorPicker.prototype.changeOpacityProps = function (newProp) {\n        var wrapper = this.getWrapper();\n        if (newProp) {\n            removeClass([this.container.parentElement], HIDEOPACITY);\n            this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', { className: 'e-opacity-slider' })));\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                this.appendOpacityValue(select('.e-input-container', this.container));\n            }\n        }\n        else {\n            addClass([this.container.parentElement], HIDEOPACITY);\n            this.opacitySlider.destroy();\n            remove(this.opacitySlider.element);\n            this.opacitySlider = null;\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                remove(select('.' + OPACITY, this.container).parentElement);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ColorPickerModel} newProp\n     * @param  {ColorPickerModel} oldProp\n     * @returns void\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                if (newProp.value) {\n                    select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor = newProp.value;\n                }\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this_1.getWrapper().appendChild(this_1.container);\n                        this_1.splitBtn.destroy();\n                        detach(this_1.element.nextElementSibling);\n                        if (!this_1.container.children.length) {\n                            this_1.createWidget();\n                        }\n                    }\n                    else {\n                        this_1.destroyOtherComp();\n                        this_1.unWireEvents();\n                        this_1.container.innerHTML = '';\n                        this_1.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass':\n                    this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n                    props = props.reduce(function (a, b) { if (a.indexOf(b) < 0) {\n                        a.push(b);\n                    } return a; }, []);\n                    var count_1 = 0;\n                    props.forEach(function (cls) {\n                        if (count_1 === 0 &&\n                            (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                            var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                            if (inputWrap) {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                            _this.createInput();\n                            count_1++;\n                        }\n                    });\n                    break;\n                case 'enableRtl':\n                    if (this_1.isPicker()) {\n                        this_1.hueSlider.enableRtl = newProp.enableRtl;\n                        if (this_1.enableOpacity) {\n                            this_1.opacitySlider.enableRtl = newProp.enableRtl;\n                        }\n                        this_1.setInputEleProps(newProp.enableRtl);\n                    }\n                    this_1.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this_1.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    this_1.changeValueProp(newProp.value);\n                    break;\n                case 'showButtons':\n                    this_1.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this_1.switchToPicker();\n                    }\n                    else {\n                        this_1.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this_1.isPicker()) {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n                            this_1.setNoColor();\n                        }\n                    }\n                    else {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'enableOpacity':\n                    this_1.changeOpacityProps(newProp.enableOpacity);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    __decorate([\n        Property('#008000ff')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"created\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, setValue, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, Internationalization, getUniqueID } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-textbox';\nvar CONTROL = 'e-control';\nvar HIDE_CLEAR = 'e-clear-icon-hide';\n/**\n * Represents the TextBox component that allows the user to enter the values based on it's type.\n * ```html\n * <input name='images' id='textbox'/>\n * ```\n * ```typescript\n * <script>\n *   var textboxObj = new TextBox();\n *   textboxObj.appendTo('#textbox');\n * </script>\n * ```\n */\nvar TextBox = /** @class */ (function (_super) {\n    __extends(TextBox, _super);\n    function TextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    TextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'floatLabelType':\n                    Input.removeFloating(this.textboxWrapper);\n                    Input.addFloating(this.element, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.element, this.floatLabelType, this.textboxWrapper.container);\n                    break;\n                case 'value':\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    if (!this.isBlank(this.value)) {\n                        this.value = this.value.toString();\n                    }\n                    this.isProtectedOnChange = prevOnChange;\n                    Input.setValue(this.value, this.element, this.floatLabelType, this.showClearButton);\n                    this.raiseChangeEvent();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.element);\n                    break;\n                case 'type':\n                    this.element.setAttribute('type', this.type);\n                    this.raiseChangeEvent();\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.element, this.textboxWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.textboxWrapper.container]);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(this.cssClass, [this.textboxWrapper.container]);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    TextBox.prototype.getModuleName = function () {\n        return 'textbox';\n    };\n    TextBox.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    TextBox.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-TEXTBOX') {\n            var ejInstance = getValue('ej2_instances', this.element);\n            var inputElement = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        var attributes = this.element.attributes;\n        this.checkAttributes(attributes);\n        this.element.setAttribute('type', this.type);\n        this.globalize = new Internationalization(this.locale);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('textbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        if (!this.element.hasAttribute('id')) {\n            this.element.setAttribute('id', getUniqueID('textbox'));\n        }\n    };\n    TextBox.prototype.checkAttributes = function (attrs) {\n        for (var i = 0; i < attrs.length; i++) {\n            var key = attrs[i].nodeName;\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attrs[i].nodeValue }, true);\n            }\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TextBox.prototype.render = function () {\n        this.textboxWrapper = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                cssClass: this.cssClass,\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        });\n        this.wireEvents();\n    };\n    TextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n        }\n    };\n    TextBox.prototype.focusHandler = function (args) {\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('focus', eventArgs);\n    };\n    TextBox.prototype.focusOutHandler = function (args) {\n        if (!(this.previousValue === null && this.value === null && this.element.value === '') &&\n            (this.previousValue !== this.element.value)) {\n            this.raiseChangeEvent(args, true);\n        }\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('blur', eventArgs);\n    };\n    TextBox.prototype.inputHandler = function (args) {\n        var eventArgs = {\n            event: args,\n            value: this.element.value,\n            previousValue: this.value,\n            container: this.textboxWrapper.container\n        };\n        this.trigger('input', eventArgs);\n    };\n    TextBox.prototype.changeHandler = function (args) {\n        this.setProperties({ value: this.element.value }, true);\n        this.raiseChangeEvent(args, true);\n    };\n    TextBox.prototype.raiseChangeEvent = function (event, interaction) {\n        var eventArgs = {\n            event: event,\n            value: this.value,\n            previousValue: this.previousValue,\n            container: this.textboxWrapper.container,\n            isInteraction: interaction ? interaction : false\n        };\n        this.trigger('change', eventArgs);\n        this.previousValue = this.value;\n    };\n    TextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler, this);\n        }\n    };\n    TextBox.prototype.resetInputHandler = function (event) {\n        event.preventDefault();\n        if (!(this.textboxWrapper.clearButton.classList.contains(HIDE_CLEAR))) {\n            Input.setValue('', this.element, this.floatLabelType, this.showClearButton);\n        }\n    };\n    TextBox.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also, it maintains the initial TextBox element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    TextBox.prototype.destroy = function () {\n        this.unWireEvents();\n        this.textboxWrapper.container.parentElement.appendChild(this.cloneElement);\n        detach(this.textboxWrapper.container);\n        this.textboxWrapper = null;\n        this.cloneElement.classList.remove(ROOT, CONTROL);\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    TextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Adding the multiple attributes as key-value pair to the TextBox element.\n     * @param { { [key: string]: string } } attributes - Specifies the attributes to be add to TextBox element.\n     * @return {void}\n     */\n    TextBox.prototype.addAttributes = function (attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n                Input.setEnabled(this.enabled, this.element, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n                Input.setReadonly(this.readonly, this.element);\n            }\n            else if (key === 'class') {\n                this.element.classList.add(attributes[key]);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attributes[key] }, true);\n                Input.setPlaceholder(this.placeholder, this.element);\n            }\n            else {\n                this.element.setAttribute(key, attributes[key]);\n            }\n        }\n    };\n    /**\n     * Removing the multiple attributes as key-value pair to the TextBox element.\n     * @param { string[] } attributes - Specifies the attributes name to be removed from TextBox element.\n     * @return {void}\n     */\n    TextBox.prototype.removeAttributes = function (attributes) {\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var key = attributes_1[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: true }, true);\n                Input.setEnabled(this.enabled, this.element, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: false }, true);\n                Input.setReadonly(this.readonly, this.element);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: null }, true);\n                Input.setPlaceholder(this.placeholder, this.element);\n            }\n            else {\n                this.element.removeAttribute(key);\n            }\n        }\n    };\n    __decorate([\n        Property('text')\n    ], TextBox.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('Never')\n    ], TextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property('')\n    ], TextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], TextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"input\", void 0);\n    TextBox = __decorate([\n        NotifyPropertyChanges\n    ], TextBox);\n    return TextBox;\n}(Component));\nexport { TextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventExpand = false;\n        _this.checkedElement = [];\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.index = 0;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNOU(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n        this.initialRender = false;\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                _this.treeList.pop();\n                _this.treeData = e.result;\n                _this.isNumberTypeId = _this.getType();\n                _this.setRootData();\n                _this.renderItems(true);\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (var i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n        this.doExpandAction();\n    };\n    TreeView.prototype.doExpandAction = function () {\n        var eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (var i = 0; i < eUids.length; i++) {\n                    var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNOU(eNode)) {\n                        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNOU(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    };\n    TreeView.prototype.expandGivenNodes = function (arr) {\n        var proxy = this;\n        this.expandCallback(arr[this.index], function () {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    };\n    TreeView.prototype.expandCallback = function (eUid, callback) {\n        var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNOU(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNOU(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    };\n    TreeView.prototype.afterFinalized = function () {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (this.preventExpand !== true) {\n            removeClass([icon], EXPANDABLE);\n            addClass([icon], COLLAPSIBLE);\n            var start_1 = 0;\n            var end_1 = 0;\n            var proxy_1 = this;\n            var ul_1 = select('.' + PARENTITEM, currLi);\n            var liEle_1 = currLi;\n            this.setHeight(liEle_1, ul_1);\n            if (this.isAnimate) {\n                this.aniObj.animate(ul_1, {\n                    name: this.animation.expand.effect,\n                    duration: this.animation.expand.duration,\n                    timingFunction: this.animation.expand.easing,\n                    begin: function (args) {\n                        liEle_1.style.overflow = 'hidden';\n                        start_1 = liEle_1.offsetHeight;\n                        end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    },\n                    progress: function (args) {\n                        args.element.style.display = 'block';\n                        proxy_1.animateHeight(args, start_1, end_1);\n                    },\n                    end: function (args) {\n                        args.element.style.display = 'block';\n                        _this.expandedNode(liEle_1, ul_1, icon);\n                    }\n                });\n            }\n            else {\n                this.expandedNode(liEle_1, ul_1, icon);\n            }\n        }\n        else {\n            var ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.isLoaded && this.expandArgs) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.addExpand = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: function (args) {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'none';\n                    _this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    };\n    TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    };\n    TreeView.prototype.removeExpand = function (liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.disableExpandAttr = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                _this.treeList.pop();\n                childItems = e.result;\n                _this.currentLoadData = childItems;\n                if (isNOU(childItems) || childItems.length === 0) {\n                    detach(eicon);\n                    _this.removeExpand(parentLi, true);\n                }\n                else {\n                    _this.updateListProp(mapper_1);\n                    if (_this.fields.dataSource instanceof DataManager && !(_this.fields.dataSource.dataSource.offline &&\n                        _this.fields.dataSource.dataSource.dataType !== 'json')) {\n                        var id = parentLi.getAttribute('data-uid');\n                        var nodeData = _this.getNodeObject(id);\n                        setValue('child', childItems, nodeData);\n                    }\n                    _this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                    parentLi.appendChild(ListBase.createList(_this.createElement, childItems, _this.listBaseOption));\n                    _this.expandNode(parentLi, eicon);\n                    _this.ensureCheckNode(parentLi);\n                    _this.finalizeNode(parentLi);\n                    _this.renderSubChild(parentLi, expandChild);\n                }\n                if (callback) {\n                    callback();\n                }\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            this.ensureChildCheckState(element);\n            this.ensureParentCheckState(element);\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.expandArgs = this.getExpandEvent(curLi, null);\n                this.trigger('nodeExpanding', this.expandArgs);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild, callback);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n            (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (var length_1 = 0; length_1 < child.length; length_1++) {\n                var childId = getValue(this.fields.id, child[length_1]);\n                var check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNOU(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length_1][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length_1][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNOU(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length_1]) === true ||\n                    getValue(this.fields.child.toString(), child[length_1])) {\n                    var id = getValue(this.fields.id, child[length_1]);\n                    var childId_1 = this.getChildNodes(this.treeData, id.toString());\n                    if (childId_1) {\n                        (isNOU(validateCheck)) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNOU(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNOU(fNode) ? (isNOU(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains('e-text-content')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs);\n        newText = eventArgs.cancel ? eventArgs.oldText : eventArgs.newText;\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        if (eventArgs.oldText !== newText) {\n            this.triggerEvent();\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getId = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return ele.getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            enableAutoScroll: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var listItem = closest(e.target, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    eventArgs.cancel = true;\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                    _this.dragStartAction = false;\n                }\n                else {\n                    _this.dragStartAction = true;\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var preventTargetExpand = false;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var listItem = closest(dropTarget, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                _this.trigger('nodeDragStop', eventArgs);\n                _this.dragParent = eventArgs.draggedParentNode;\n                _this.preventExpand = eventArgs.preventTargetExpand;\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var level;\n        var drop = false;\n        var dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                for (var i = 0; i < sNodes.length; i++) {\n                    if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                        continue;\n                    }\n                    this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        this.triggerEvent();\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (!dragLi.classList.contains('e-disable') && !dropLi.classList.contains('e-disable')) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            var childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n        var dropParentLi = closest(dropUl, '.' + LISTITEM);\n        var id = this.getId(dragLi);\n        var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        var refId = this.getId(dropLi);\n        var index = this.getDataPos(this.treeData, this.fields, refId);\n        var parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            var pos = isNOU(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNOU(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                var childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (var i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl) && this.preventExpand === true) {\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            icon.classList.add('e-icon-expandable');\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            removeClass([icon], COLLAPSIBLE);\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNOU(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            var parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', null);\n            this.removeExpand(dragParentLi, true);\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        var dragLiParent = obj.dragLi.parentElement;\n        var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        var targetParent = null;\n        var indexValue = null;\n        var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        var iconClass = null;\n        var node = (drop === true) ? draggedNode : dropLi;\n        var index = node ? closest(node, '.e-list-parent') : null;\n        var i = 0;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            var dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                var parent_1 = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent_1) ? parent_1.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent_1 === null && targetParent) {\n                    var parent_2 = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent_2) ? parent_2.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n        this.removeData(node);\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.updateExpandedNodes = function () {\n        this.setProperties({ expandedNodes: [] }, true);\n        var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    };\n    TreeView.prototype.removeData = function (node) {\n        if (this.dataType === 1) {\n            var dm = new DataManager(this.treeData);\n            var id = this.getId(node);\n            var data = {};\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            var id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    };\n    TreeView.prototype.removeChildNodes = function (parentId) {\n        var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        var childData = [];\n        if (cNodes) {\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var dm = new DataManager(this.treeData);\n                var id = getValue(this.fields.id, cNodes[i]).toString();\n                var data = {};\n                var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                var nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n        var sNodes = this.getSortedData(nodes);\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        var dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        var id = this.getId(dropLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            var refId = this.getId(refNode);\n            var pos = isNOU(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (var j = 0; j < nodes.length; j++) {\n                if (!isNOU(id)) {\n                    var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.getDataPos = function (obj, mapper, id) {\n        var pos = null;\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    };\n    TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n        var updated;\n        if (isNOU(id)) {\n            index = isNOU(index) ? obj.length : index;\n            for (var k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && obj[i].hasOwnProperty(mapper.child)) ||\n                    (this.fields.dataSource instanceof DataManager && obj[i].hasOwnProperty('child'))) {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    var childData = getValue(key, obj[i]);\n                    index = isNOU(index) ? childData.length : index;\n                    for (var k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.updatePersistProp = function () {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        var sleNodes = this.selectedNodes;\n        for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        var enodes = this.expandedNodes;\n        for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            var cnodes = this.checkedNodes;\n            for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    };\n    TreeView.prototype.removeField = function (obj, mapper, names) {\n        if (isNOU(obj) || isNOU(mapper)) {\n            return;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            for (var j = 0; j < names.length; j++) {\n                var field = this.getMapperProp(mapper, names[j]);\n                if (!isNOU(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    };\n    TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNOU(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNOU(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNOU(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNOU(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    };\n    TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n        var childNodes;\n        if (isNOU(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    };\n    TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove) {\n        var removedData;\n        if (isNOU(obj)) {\n            return removedData;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    };\n    TreeView.prototype.triggerEvent = function () {\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataSourceChanged', eventArgs);\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_2.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    e.originalEvent.preventDefault();\n                    proxy_3.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_4 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_4.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNOU(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None') {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.initialRender = true;\n                    this.updateListProp(this.fields);\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        var dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            var dropUl_1;\n            var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n            var proxy_5 = this;\n            if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n                dropLi.querySelector('.' + PARENTITEM) === null) {\n                proxy_5.renderChildNodes(dropLi, null, function () {\n                    dropUl_1 = dropLi.querySelector('.' + PARENTITEM);\n                    proxy_5.addGivenNodes(nodes, dropLi, index, true, dropUl_1);\n                    proxy_5.triggerEvent();\n                });\n            }\n            else {\n                this.addGivenNodes(nodes, dropLi, index, true);\n                this.triggerEvent();\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    TreeView.prototype.getAllCheckedNodes = function () {\n        var checkNodes = this.checkedNodes;\n        var newCheck = [];\n        var i = 0;\n        var id = this.fields.id;\n        for (i; i < this.treeData.length; i++) {\n            //Checks if isChecked is enabled while node is not loaded in DOM\n            var checked = null;\n            var childNode = null;\n            var isLoaded = this.element.querySelector('[data-uid=\"' + this.treeData[i][id].toString() + '\"]');\n            if (isLoaded && isLoaded.querySelector('.e-list-item') === null) {\n                //Checks if isChecked is enabled for parent\n                if (this.treeData[i][this.fields.isChecked] === true\n                    && this.checkedElement.indexOf(this.treeData[i][id].toString()) === -1) {\n                    newCheck.push(this.treeData[i][id].toString());\n                    checked = 2;\n                }\n                //Checks for child nodes with isChecked enabled\n                if (checked !== 2) {\n                    checked = 1;\n                }\n                childNode = this.getChildNodes(this.treeData, this.treeData[i][id].toString());\n                (childNode !== null) ? this.allCheckNode(childNode, newCheck, checked) : childNode = null;\n            }\n        }\n        i = 0;\n        //Gets checked nodes based on UI interaction\n        while (i < checkNodes.length) {\n            if (newCheck.indexOf(checkNodes[i]) !== -1) {\n                i++;\n                continue;\n            }\n            newCheck.push(checkNodes[i]);\n            //Gets all child which is not loaded while parent is checked\n            var parentNode = this.element.querySelector('[data-uid=\"' + checkNodes[i] + '\"]');\n            if (parentNode && parentNode.querySelector('.e-list-item') === null) {\n                var child = this.getChildNodes(this.treeData, checkNodes[i].toString());\n                (child) ? this.allCheckNode(child, newCheck) : child = null;\n            }\n            i++;\n        }\n        return newCheck;\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getTreeData = function (node) {\n        var id = this.getId(node);\n        this.updatePersistProp();\n        if (isNOU(id)) {\n            return this.treeData;\n        }\n        else {\n            var data = this.getNodeObject(id);\n            return isNOU(data) ? [] : [data];\n        }\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent();\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"expandedNodes\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n    var TreeView_1;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        this.enableRtl ? (addClass([this.element], RTL)) :\n            (removeClass([this.element], RTL));\n    };\n    Sidebar.prototype.setTarget = function () {\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        var closeArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('close', closeArguments);\n        if (!closeArguments.cancel) {\n            if (this.element.classList.contains(CLOSE)) {\n                return;\n            }\n            if (this.element.classList.contains(OPEN)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], CLOSE);\n            removeClass([this.element], OPEN);\n            this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n                setStyle(this.element, { 'width': formatUnit(this.width) });\n            this.setDock();\n            this.setType(this.type);\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            if (!this.enableDock && sibling) {\n                sibling.style.transform = 'translateX(' + 0 + 'px)';\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n            this.destroyBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.remove('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: false }, true);\n        }\n    };\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        var openArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('open', openArguments);\n        if (!openArguments.cancel) {\n            removeClass([this.element], VISIBILITY);\n            if (this.element.classList.contains(OPEN)) {\n                return;\n            }\n            if (this.element.classList.contains(CLOSE)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], [OPEN, TRASITION]);\n            setStyle(this.element, { 'transform': '' });\n            removeClass([this.element], CLOSE);\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n            var elementWidth = this.element.getBoundingClientRect().width;\n            this.setType(this.type);\n            this.createBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.add('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: true }, true);\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.getState()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    this.isOpen ? this.show() : this.hide();\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                    this.setProperties({ isOpen: true }, true);\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property('en-US')\n    ], Sidebar.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["createInstance","classFunction","params","arrayParam","unshift","undefined","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","length","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","value","splits","split","i","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","indexOf","Array","isArray","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","queryParams","array","keys_2","push","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","document","parentNode","throwError","message","Error","e","stack","print","element","printWindow","div","createElement","links","slice","getElementsByTagName","querySelectorAll","reference","open","appendChild","cloneNode","len","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","uniqueID","ret","tagName","properties","SVG_REG","test","createElementNS","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","contains","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","nodeType","matches","siblings","childNodes_1","childNodes","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getComponent","comp","ej2_instances","getModuleName","getObject","curKey","defaultValue","type","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","pattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","varCOunt","localKeys","replace","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","ELSEIF_STMT","WORD","trim","addNameSpace","QUOTES","IF_STMT","strs","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_SVG","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","tempAnchor","offsetParent","position","offsetLeft","offsetTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","popupRect","fixedParent","parentDocument","ownerDocument","pos","updatePosition","toLowerCase","setPosx","setPosy","posX","posY","elementRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","getBodyScrollLeft","height","width","fit","viewPortElement","axis","X","Y","elemData","targetContainer","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","elemOffset","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","flip","tEdge","TL","TR","BL","BR","eEdge","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parentStyle","overflow","overflowY","overflowX","getZindexPartial","parentZindex","index","defaultView","childrenZindex","children","isEqualNode","siblingsZindex","finalValue","concat","getMaxZindex","maxZindex","i_1","wrapperInitialize","tag","WRAPPER","role","input","ejInstance","nodeName","nodeValue","class","aria-checked","getTextNode","childnode","destroy","ejInst","wrapper","checked","preRender","proxy","control","moduleName","createCheckBox","options","cssClass","rippleSpan","frameSpan","label","labelSpan","rippleMouseHandler","event_1","createEvent","initEvent","dispatchEvent","createSpinner","internalCreateElement","makeElement","container","create_spinner_container","wrap","spinTemplate","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","CLS_SPINTEMPLATE","replaceContent","spinCSSClass","CLS_HIDESPIN","labelEle","CLS_SPINLABEL","textContent","createMaterialSpinner","random_generator","globalTimeOut","timeOut","create_material_element","mat_calculate_attributes","startMatAnimate","globalObject","globalVariables","animateMaterial","globalInfo","timeOutVar","createFabricSpinner","create_fabric_element","CLS_FABRICSPIN","fb_calculate_attributes","createHighContrastSpinner","CLS_HIGHCONTRASTSPIN","innerContainer","CLS_SPININWRAP","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","CLS_BOOTSPIN","firstChild","item","bootCircle","CLS_SPINCIRCLE","defaultRadius","startArc","defineArcPoints","circleEle","generateSeries","begin","stop","formSeries","series","end","count","increment","parseFloat","toFixed","animateBootstrap","circle","boot_animate","isAnimate","defaultSize","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","previousId","random","combine","charAt","floor","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","CLS_SPINARC","svgMaterial","CLS_MATERIALSPIN","matCirclePath","spinnerContainer","CLS_SPINWRAP","spinnerInnerContainer","spinnerInfo","createCircle","easeAnimation","easing","mat_animation","currentTime","min","Date","getTime","startTime","updatePath","change","path","getDashOffset","strokeSize","getSize","getStrokeSize","rotate","transformOrigin","drawArc","PI","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","defineCircle","defineArc","angle","radians","cos","sin","endArc","showSpinner","showHideSpinner","isHide","spinnerWrap","inner","CLS_SHOWSPIN","svgEle","hideSpinner","setSpinner","ensureTemplate","makeEle","replaceTheme","svgElement","getFieldValues","dataItem","fields","fieldData","isHeader","dataField","createMask","autocomplete","autocorrect","autocapitalize","spellcheck","aria-live","aria-valuenow","mask","splitMask","splitInnerMask","j","pushIntoRegExpCollec","chkSpace","customRegExpCollec","hiddenMask","promptChar","escapeMaskValue","promptMask","customCharacters","RegExp","escapeNumber","substring","aria-invalid","applyMask","setElementValue","setMaskValue","wireEvents","maskInputKeyDownHandler","maskInputKeyPressHandler","maskInputKeyUpHandler","maskInputHandler","maskInputFocusHandler","maskInputBlurHandler","maskInputPasteHandler","maskInputCutHandler","maskInputDropHandler","enabled","bindClearEvent","unwireEvents","showClearButton","inputObj","clearButton","resetHandler","preventDefault","clear","redoCollec","startIndex","selectionStart","endIndex","selectionEnd","triggerMaskChangeEvent","setSelectionRange","unstrippedValue","strippedValue","maskValues","k","checkMask","maskValue","regExpCollec","focusEventArgs","trigger","isFocus","isDevice","info","version","isIos","placeholder","floatLabelType","labelElement","TOPLABEL","sIndex_1","eIndex_1","oldValue_1","_callPasteHandler","maskKeyPress","validateValue","preValue_1","sIndex_2","eIndex","undoCollec","value_1","isIE","ctrlKey","keyCode","removeMaskInputValues","addedValues","preEleVal","val","prevValue","startValue","collec","splice","mobileRemoveFunction","sIndex","autoFillMaskInputValues","isRemove","oldEventVal","isDeleted","initStartIndex","initEndIndex","curMask","multipleDel","preValue","prompt_1","elementValue","code","String","fromCharCode","isIosInvalid","changeEventArgs","isInitial","maskedValue","isInteraction","removeMaskError","val_1","startIndex_1","isSpace","isAndroid","preventUnsupportedValues","temp_1","mobileSwipeCheck","mobileValidation","isCtrlKey","eventOldVal","allowText","prevSupport","isEqualVal","keyValue","customValArr","applySupportedValues","addMaskErrorClass","changeToLowerUpperCase","sIdx","idx","ctrl","chkSupport","timer","INPUTGROUP","FLOATINPUT","ERROR","curVal","caseCount","toUpperCase","newVal","BOTTOMLABEL","Input","maskInput","inputEle","getMaskInput","UTILMASK","regularExpressions","getVal","getUtilMaskEle","getMaskedVal","getModel","model","headerRegex","defaultType","Ajax","async","contentType","mode","emitError","url","send","cancel","Promise","resolve","reject","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onload","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","setRequestHeader","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","header","headers","exec","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","name","some","copyData","shift","eventProp","eventData_1","Observer","ranArray","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","indexLocation","argument","curObject_1","cur","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","language","navigator","getEvent","isTouch","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","uA","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","__extends","extendStatics","setPrototypeOf","__proto__","d","b","p","__","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","_super","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","elements_1","element_1","delayAnimation","animation","animationId","frameId","parseInt","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","prevTimeStamp","startAnimation","avg","timingFunction","progress","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","getElementById","size","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","save","beginPath","stroke","moveTo","x1","y1","lineTo","x2","y2","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","rx","globalAlpha","rect","drawCornerRadius","fill","fillStyle","fillRect","arcTo","closePath","drawPath","canvasTranslate","dataSplit","borderWidth","flag","translate","innerR","cx","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","cy","drawText","fontWeight","fontSize","fontFamily","font","textAlign","baseline","textBaseline","labelRotation","fillText","drawCircle","drawPolyline","points","point","drawEllipse","circumference","ry","scaleX","scaleY","scale","drawImage","imageObj","Image","href","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","color","newColorStop","stopColor","addColorStop","setElementAttributes","values","map","updateCanvasAttributes","img_1","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","parentObj","controlParent","isParentArray","updateChange","updateTimeOut","changeTime_1","clearUpdate","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","base","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","format","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","lastIndexOf","primary","s","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","text","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","substr","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","curMatch","currencyFormatRegex","curCode","hasNegativePattern","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","cPattern","minDigits","maxDigits","a","diff","integer","no","getWeekData","firstDay","defaultFirstDay","iCulture","firstDayMapper","G","M","L","H","'"," a","yy","EEEE","E","sun","mon","tue","wed","thu","fri","sat","curWithoutNumberRegex","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","scientificFormats-numberSystem-latn","monthIndex","month","C","P","N","A","lastPageID","weekdayKey","timeSetter","m","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","getDate","intDateFormatter","matches_1","length_1","curval","processNumber","curstr","getMonth","getDay","getFullYear","desig","getHours","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","getFirstDayOfWeek","componentCount","lastHistoryLen","Component","randomId","needsID","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","refresh","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","getItem","setItem","getPersistData","clearTemplate","templateName","isHistoryChanged","pageID","location","history","hash","charCodeAt","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","DialogUtility","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","scope","isUnWire","handle","initialize","evt","currentTarget","abort","changedTouches","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","getMousePosition","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetHeight","pageYOffset","pageXOffset","queryPositionInfo","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","dragData","intOver","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","dragValue","enableAutoScroll","scrollIntoView","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","parent_1","drop","eleInst","eleInst_1","Droppable","mouseOver","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","backspace","tab","enter","alt","pause","capslock","space","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SvgRenderer","svgLink","createSvg","svgObj","setSVGSize","line","rectangle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","createText","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","HScroll","browser","browserCheck","customStep","ieCheck","uniqueId","touchModule","scroll","touchHandler","swipe","swipeHandler","scrollEle","scrollHandler","createOverlay","createNavIcon","scrollStep","scrollDiv","innerEle_1","ele_1","scrollItems","keyEntity","nav","disable","navEles","rightOverlayEle","CLS_OVERLAY","clsRight","rightEle","navItem","CLS_NAVRIGHTARROW","leftEle","eventBinding","clsLeft","navEle","navLeftItem","CLS_NAVLEFTARROW","onKeyPress","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","onKeyUp","click","tapHold","tabHoldHandler","repeatScroll","clickEventHandler","timeout","trgt","timeoutFun","scrollDis","isContinuous","rootEle","frameScrollRequest","swipeEle","scrollUpdating","scrollVal","arrowDisabling","addDisable","removeDisable","arrowIcon","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","disEle","PositionData","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","zIndex","setEnableRtl","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","orientationOnChange","getRelateToElement","scrollRefresh","parent_2","relateToElement","relateTo","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","scrollElement","parent_3","isElementVisible","checkGetBoundingClientRect","win","windowView","scrollY","scrollX","outerWidth","outerHeight","elementView","parent_4","reposition","content","collision","checkFixedParent","checkCollision","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","param","callFit","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","showAnimation","hideAnimation","cssClassName","BUTTON","PRIMARY","ICONBTN","Button","isPrimary","setIconCss","disabled","controlStatus","removeRippleEffect","iconCss","span","iconPosition","isToggle","btnClickHandler","unWireEvents","RIPPLE","CheckBox","isKeyPressed","changeState","state","ariaState","getWrapper","indeterminate","clickHandler","focusOutHandler","focusHandler","setDisabled","initWrapper","for","labelPosition","setText","keyDownHandler","labelMouseHandler","mouseDownHandler","labelWrap","RadioButton","RadioButton_1","changeHandler","radioGrp","radioWrap","getLabel","nextElementSibling","labelRippleHandler","textLabel","rippleLabel","Switch","bar","onLabel","offLabel","setLabel","switchInner","rippleTouchHandler","eventType","onText","offText","switchFocusHandler","switchMouseUp","toggle","ButtonProps","AnimationSettings","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","Dialog","initRender","headerContent","classArray","clonedEle","closeIconClickEventHandler","dlgOverlayClickEventHandler","localeText","l10n","prevOnChange","keyDown","isModal","buttonObj","btnObj","activeElement","focusableElements","isTagName","isContentEdit","hasAttribute","closeOnEscape","primaryButtonEle","buttonIndex_1","buttons","buttonModel","targetEle","setCSSClass","setMaxHeight","initialRender","setzIndex","calculatezIndex","setTargetContent","setHeader","showCloseIcon","renderCloseIcon","footerTemplate","setButton","setFooterTemplate","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","focusContent","dlgOverlay","unBindEvent","closeArgs","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","zIndexValue","setPopupPosition","dragObj","buttonContent","buttonType","btn","ftrTemplateContent","aria-describedby","contentEle","innerContentElement","HTMLElement","setTemplate","maxHeight","isContent","headerEle","createHeaderContent","aria-labelledby","closeIcon","closeIconBtnObj","DLG_CLOSE_ICON","closeIconTitle","oldCSSClass","getValidFocusNode","items","u","clientHeight","tabIndex","disableElement","getAutoFocusNode","validNode","t","elementMatch","Element","bindEvent","updateIsModal","setPopupZindex","isFullScreen","fullScreen","openAnimation","animationSettings","effect","dialogOpen","closeAnimation","getButtons","alert","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","formOptions","setAlertButtonModel","setConfirmButtonModel","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","icon","ListBase","Tooltip","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","ARROW_TIP","tipClass","ARROW_TIP_OUTER","ARROW_TIP_INNER","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","tooltipEventArgs","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","isSticky","tipClose","ICON","onStickyClose","addDescribedBy","describedby","data-tooltip-id","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","targetList_1","ctrlId","target_1","restoreElement","showTooltip","wireMouseEvents","showTimer","hideTimer","isHidden","TOOLTIP_WRAP","aria-hidden","maxWidth","PopupAnimation","openDelay","horizontal","vertical","affectedPos","newpos","collidedPosition","eleOffset","arrowleft","targetElement","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","touches","colpos","touchEnd","opensOn","triggerList_1","getTriggerList","wireFocusEvents","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","findTarget","CLS_ITEMS","CLS_ITEM","CLS_POPUP","Item","Toolbar","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tempId","isNOU","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","enableCollision","scrollModule","tbarItemsCol","popupPriCount","resize","keyModule","keyActionHandler","docKeyDown","popCheck","overflowMode","destroyHScroll","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","destroyItems","tbarItems","destroyMode","popupRefresh","elementFocus","fChild","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","eleFocus","nodes","popupCheck","popFrstEle","lastElementChild","activeEle","activeEleRemove","tbarScrollChk","sib","skipEle","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","CLS_RTL","getElementOffsetY","minHeight","renderControl","separator","setStyle","ariaAttr","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","itemWidthCal","innerItem","eleWidth","itemWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","removePositioning","createPopupEle","eleInlineItem","eleItem","multiVar","extendVar","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","nodeIndex","nodePri","tbResize","tbarElement","sepItem","extendEle","CLS_POPUPCLASS","popupEle","popupInit","eleStyles","popup","borderRightWidth","tbarPopupHandler","isOpen","toolEle","popupElePos","popIcon","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","CLS_POPUPDOWN","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","root","tbarWidth","tbarItemsWid","elWidth","btnText","eleSplice","align","sepBeforePri_1","refreshPositioning","tbarWid","popWid","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","itemEleDom","innerPos","renderSubComponent","setAttr","attr","enableItems","isEnable","enable","addItems","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","removeItems","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","templateFn","tempStr","templateCompiler","tempArray","buttonRendering","dom","iconPos","textStr","btnTxt","prefixIcon","suffixIcon","htmlAttributes","tooltipText","tempDom","itemClick","showTextOn","sTxt","curEle","tEle","changedProb","newProperty","popupPriCheck","booleanCheck","hideItem","CLS_HEADER","CLS_CONTENT","AccordionActionSettings","AccordionAnimationSettings","AccordionItem","Accordion","isDestroy","templateEle","eleStr","nested","isNested","expandedItems","aria-multiselectable","initExpand","expandMode","initItemExpand","focusIn","focusOut","innerEles","tabindex","aria-level","toggleIconGenerate","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","headerEleGenerate","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","hdrIcon","temString","eleVal","itemcnt","ctn","trgtItemEle","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","trgtHgt","lastActiveItemId","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","enableItem","eleHeader","isExpand","itemExpand","expandedItem","updateItem","acrdn","changedProp","Query","from","subQuery","isChild","distincts","queries","fKey","fromTable","lookups","expands","sortedColumns","groupedColumns","setKey","field","using","dataManager","execute","always","executeQuery","DataUtil","executeLocal","cloned","subQuerySelector","isCountRequired","tableName","addParams","fn","distinct","tables","where","fieldName","operator","ignoreCase","ignoreAccent","predicate","Predicate","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sorts","order","endsWith","fnSort","filterQueries","sortByDesc","page","pageIndex","pageSize","take","nos","skip","hierarchy","query","selectorFn","foreignKey","requiresCount","aggregate","q","filterQueryLists","singles","filtered","isComplex","processOperator","condition","predicates","and","combinePredicates","or","fromJson","json","fromJSONData","pred","validate","record","isAnd","toJson","preds","consts","GroupGuid","startsWith","fnAscending","fnDescending","localeCompare","extractFields","jsonArray","newData","aggregates","level","groupDs","jsonData","childLevels","grouped","groupedArray","records","this_2","tempObj","aggs","buildHierarchy","lookup","pKey","grp","fKeyData","getFieldList","copyObj","sort","ds","middle","ignoreDiacritics","diacritics","callAdaptorFunction","adaptor","fnName","param1","param2","getAddParams","adp","dm","req","reqParams","isPlainObject","isCors","xhr","getGuid","rand","arr","Uint8Array","isNull","getItemFromComparer","castRequired","requiresCompleteRecord","tmp","serverTimezoneOffset","sum","average","truecount","DataManager","falsecount","operatorSymbols","<",">","<=",">=","==","!=","*=","$=","^=","odBiOperator","lessthan","lessthanorequal","greaterthan","greaterthanorequal","equal","notequal","odUniOperator","endswith","startswith","odv4UniOperator","Ⓐ","Ａ","À","Á","Â","Ầ","Ấ","Ẫ","Ẩ","Ã","Ā","Ă","Ằ","Ắ","Ẵ","Ẳ","Ȧ","Ǡ","Ä","Ǟ","Ả","Å","Ǻ","Ǎ","Ȁ","Ȃ","Ạ","Ậ","Ặ","Ḁ","Ą","Ⱥ","Ɐ","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ⓑ","Ｂ","Ḃ","Ḅ","Ḇ","Ƀ","Ƃ","Ɓ","Ⓒ","Ｃ","Ć","Ĉ","Ċ","Č","Ç","Ḉ","Ƈ","Ȼ","Ꜿ","Ⓓ","Ｄ","Ḋ","Ď","Ḍ","Ḑ","Ḓ","Ḏ","Đ","Ƌ","Ɗ","Ɖ","Ꝺ","Ǳ","Ǆ","ǲ","ǅ","Ⓔ","Ｅ","È","É","Ê","Ề","Ế","Ễ","Ể","Ẽ","Ē","Ḕ","Ḗ","Ĕ","Ė","Ë","Ẻ","Ě","Ȅ","Ȇ","Ẹ","Ệ","Ȩ","Ḝ","Ę","Ḙ","Ḛ","Ɛ","Ǝ","Ⓕ","Ｆ","Ḟ","Ƒ","Ꝼ","Ⓖ","Ｇ","Ǵ","Ĝ","Ḡ","Ğ","Ġ","Ǧ","Ģ","Ǥ","Ɠ","Ꞡ","Ᵹ","Ꝿ","Ⓗ","Ｈ","Ĥ","Ḣ","Ḧ","Ȟ","Ḥ","Ḩ","Ḫ","Ħ","Ⱨ","Ⱶ","Ɥ","Ⓘ","Ｉ","Ì","Í","Î","Ĩ","Ī","Ĭ","İ","Ï","Ḯ","Ỉ","Ǐ","Ȉ","Ȋ","Ị","Į","Ḭ","Ɨ","Ⓙ","Ｊ","Ĵ","Ɉ","Ⓚ","Ｋ","Ḱ","Ǩ","Ḳ","Ķ","Ḵ","Ƙ","Ⱪ","Ꝁ","Ꝃ","Ꝅ","Ꞣ","Ⓛ","Ｌ","Ŀ","Ĺ","Ľ","Ḷ","Ḹ","Ļ","Ḽ","Ḻ","Ł","Ƚ","Ɫ","Ⱡ","Ꝉ","Ꝇ","Ꞁ","Ǉ","ǈ","Ⓜ","Ｍ","Ḿ","Ṁ","Ṃ","Ɱ","Ɯ","Ⓝ","Ｎ","Ǹ","Ń","Ñ","Ṅ","Ň","Ṇ","Ņ","Ṋ","Ṉ","Ƞ","Ɲ","Ꞑ","Ꞥ","Ǌ","ǋ","Ⓞ","Ｏ","Ò","Ó","Ô","Ồ","Ố","Ỗ","Ổ","Õ","Ṍ","Ȭ","Ṏ","Ō","Ṑ","Ṓ","Ŏ","Ȯ","Ȱ","Ö","Ȫ","Ỏ","Ő","Ǒ","Ȍ","Ȏ","Ơ","Ờ","Ớ","Ỡ","Ở","Ợ","Ọ","Ộ","Ǫ","Ǭ","Ø","Ǿ","Ɔ","Ɵ","Ꝋ","Ꝍ","Ƣ","Ꝏ","Ȣ","Ⓟ","Ｐ","Ṕ","Ṗ","Ƥ","Ᵽ","Ꝑ","Ꝓ","Ꝕ","Ⓠ","Ｑ","Ꝗ","Ꝙ","Ɋ","Ⓡ","Ｒ","Ŕ","Ṙ","Ř","Ȑ","Ȓ","Ṛ","Ṝ","Ŗ","Ṟ","Ɍ","Ɽ","Ꝛ","Ꞧ","Ꞃ","Ⓢ","Ｓ","ẞ","Ś","Ṥ","Ŝ","Ṡ","Š","Ṧ","Ṣ","Ṩ","Ș","Ş","Ȿ","Ꞩ","Ꞅ","Ⓣ","Ｔ","Ṫ","Ť","Ṭ","Ț","Ţ","Ṱ","Ṯ","Ŧ","Ƭ","Ʈ","Ⱦ","Ꞇ","Ꜩ","Ⓤ","Ｕ","Ù","Ú","Û","Ũ","Ṹ","Ū","Ṻ","Ŭ","Ü","Ǜ","Ǘ","Ǖ","Ǚ","Ủ","Ů","Ű","Ǔ","Ȕ","Ȗ","Ư","Ừ","Ứ","Ữ","Ử","Ự","Ụ","Ṳ","Ų","Ṷ","Ṵ","Ʉ","Ⓥ","Ｖ","Ṽ","Ṿ","Ʋ","Ꝟ","Ʌ","Ꝡ","Ⓦ","Ｗ","Ẁ","Ẃ","Ŵ","Ẇ","Ẅ","Ẉ","Ⱳ","Ⓧ","Ｘ","Ẋ","Ẍ","Ⓨ","Ｙ","Ỳ","Ý","Ŷ","Ỹ","Ȳ","Ẏ","Ÿ","Ỷ","Ỵ","Ƴ","Ɏ","Ỿ","Ⓩ","Ｚ","Ź","Ẑ","Ż","Ž","Ẓ","Ẕ","Ƶ","Ȥ","Ɀ","Ⱬ","Ꝣ","ⓐ","ａ","ẚ","à","á","â","ầ","ấ","ẫ","ẩ","ã","ā","ă","ằ","ắ","ẵ","ẳ","ȧ","ǡ","ä","ǟ","ả","å","ǻ","ǎ","ȁ","ȃ","ạ","ậ","ặ","ḁ","ą","ⱥ","ɐ","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ⓑ","ｂ","ḃ","ḅ","ḇ","ƀ","ƃ","ɓ","ⓒ","ｃ","ć","ĉ","ċ","č","ç","ḉ","ƈ","ȼ","ꜿ","ↄ","ⓓ","ｄ","ḋ","ď","ḍ","ḑ","ḓ","ḏ","đ","ƌ","ɖ","ɗ","ꝺ","ǳ","ǆ","ⓔ","ｅ","è","é","ê","ề","ế","ễ","ể","ẽ","ē","ḕ","ḗ","ĕ","ė","ë","ẻ","ě","ȅ","ȇ","ẹ","ệ","ȩ","ḝ","ę","ḙ","ḛ","ɇ","ɛ","ǝ","ⓕ","ｆ","ḟ","ƒ","ꝼ","ⓖ","ｇ","ǵ","ĝ","ḡ","ğ","ġ","ǧ","ģ","ǥ","ɠ","ꞡ","ᵹ","ꝿ","ⓗ","ｈ","ĥ","ḣ","ḧ","ȟ","ḥ","ḩ","ḫ","ẖ","ħ","ⱨ","ⱶ","ɥ","ƕ","ⓘ","ｉ","ì","í","î","ĩ","ī","ĭ","ï","ḯ","ỉ","ǐ","ȉ","ȋ","ị","į","ḭ","ɨ","ı","ⓙ","ｊ","ĵ","ǰ","ɉ","ⓚ","ｋ","ḱ","ǩ","ḳ","ķ","ḵ","ƙ","ⱪ","ꝁ","ꝃ","ꝅ","ꞣ","ⓛ","ｌ","ŀ","ĺ","ľ","ḷ","ḹ","ļ","ḽ","ḻ","ſ","ł","ƚ","ɫ","ⱡ","ꝉ","ꞁ","ꝇ","ǉ","ⓜ","ｍ","ḿ","ṁ","ṃ","ɱ","ɯ","ⓝ","ｎ","ǹ","ń","ñ","ṅ","ň","ṇ","ņ","ṋ","ṉ","ƞ","ɲ","ŉ","ꞑ","ꞥ","ǌ","ⓞ","ｏ","ò","ó","ô","ồ","ố","ỗ","ổ","õ","ṍ","ȭ","ṏ","ō","ṑ","ṓ","ŏ","ȯ","ȱ","ö","ȫ","ỏ","ő","ǒ","ȍ","ȏ","ơ","ờ","ớ","ỡ","ở","ợ","ọ","ộ","ǫ","ǭ","ø","ǿ","ɔ","ꝋ","ꝍ","ɵ","ƣ","ȣ","ꝏ","ⓟ","ｐ","ṕ","ṗ","ƥ","ᵽ","ꝑ","ꝓ","ꝕ","ⓠ","ｑ","ɋ","ꝗ","ꝙ","ⓡ","ｒ","ŕ","ṙ","ř","ȑ","ȓ","ṛ","ṝ","ŗ","ṟ","ɍ","ɽ","ꝛ","ꞧ","ꞃ","ⓢ","ｓ","ß","ś","ṥ","ŝ","ṡ","š","ṧ","ṣ","ṩ","ș","ş","ȿ","ꞩ","ꞅ","ẛ","ⓣ","ｔ","ṫ","ẗ","ť","ṭ","ț","ţ","ṱ","ṯ","ŧ","ƭ","ʈ","ⱦ","ꞇ","ꜩ","ⓤ","ｕ","ù","ú","û","ũ","ṹ","ū","ṻ","ŭ","ü","ǜ","ǘ","ǖ","ǚ","ủ","ů","ű","ǔ","ȕ","ȗ","ư","ừ","ứ","ữ","ử","ự","ụ","ṳ","ų","ṷ","ṵ","ʉ","ⓥ","ｖ","ṽ","ṿ","ʋ","ꝟ","ʌ","ꝡ","ⓦ","ｗ","ẁ","ẃ","ŵ","ẇ","ẅ","ẘ","ẉ","ⱳ","ⓧ","ｘ","ẋ","ẍ","ⓨ","ｙ","ỳ","ý","ŷ","ỹ","ȳ","ẏ","ÿ","ỷ","ẙ","ỵ","ƴ","ɏ","ỿ","ⓩ","ｚ","ź","ẑ","ż","ž","ẓ","ẕ","ƶ","ȥ","ɀ","ⱬ","ꝣ","Ά","Έ","Ή","Ί","Ϊ","Ό","Ύ","Ϋ","Ώ","ά","έ","ή","ί","ϊ","ΐ","ό","ύ","ϋ","ΰ","ω","ς","expected","notnull","isnull","processSymbols","parseJson","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","dupValue","dateParse","toTimeZone","isJson","isGuid","replacer","jsonReplacer","arrayReplacer","keys_3","addSelfOffset","toJSON","date","toUTC","utc","unix","toLocalTime","datefn","differenceString","localtimefn","norm","getSeconds","Adaptor","requestType","dataSource","pvt","processResponse","JsonAdaptor","processQuery","countFlg","agg","batchRequest","changes","deletedRecordsLen","deletedRecords","addedRecords","changedRecords","update","onWhere","onAggregates","onSearch","onSortBy","fnCompare","onGroup","aggQuery","onPage","onRange","onTake","onSkip","onSelect","keyField","UrlAdaptor","hierarchyFilters","getQueryRequest","request","groups","filters","searches","getFiltersFrom","getRequestQuery","pvtData","convertToQueryString","request1","selects","requests","getAggregateResult","original","batchUrl","crudUrl","removeUrl","changed","added","deleted","table","insertUrl","keyColumn","updateUrl","predicats","aggregateData","groupQuery","ODataAdaptor","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","updateType","onPredicate","requiresCast","guid","returnValue","getField","onComplexPredicate","onEachWhere","onEachSearch","onEachSort","reverse","onCount","settings","overrideMimeType","dataCopy","results","emptyAndBatch","processBatchResponse","versionCheck","requiresFormat","keys_4","localTimeReplacer","convertObj","localTime","compareAndRemove","initialGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","stat","method","generateBodyContent","org","o","cIdx","jsonObj","exVal","changeGuid","valueOf","ODataV4Adaptor","getModulename","isDate","onExpand","selected","exArr","ex","onDistinct","distinctFields","WebApiAdaptor","Count","Items","WebMethodAdaptor","RemoteSaveAdaptor","updateKey","CacheAdaptor","isCrudAction","isInsertAction","cacheAdaptor","guidId","forDel","requestTime","generateKey","currentFilter","newQuery","cachedItems","crossDomain","offline","timeTillExpiration","cachingPageSize","enableCaching","jsonp","defaultQuery","isDataAvailable","then","setDefaultQuery","deffered","Deferred","nextTick","getDeferedArgs","makeRequest","promise","extendRequest","fnSuccess","fnFail","cache","processData","isSelector","process","virtualSelectRecords","fnQueryChild","subDeffer","childArgs","subUrl","childReq","subData","virtualRecords","ajax","catch","all","pResult","cResult","deff","doAjaxRequest","defer","li","ul","check","hasChild","collapsible","image","iconWrapper","createList","isSingleLevel","curOpt","defaultListBaseOptions","ariaAttributes","defaultAriaAttributes","typeofData","typeof","createListFromArray","createListFromJson","generateUL","createListItemFromArray","subChild","getModuleClass","generateId","itemCreating","generateSingleLevelLI","generateLI","itemCreated","createListItemFromJson","defaultMappedFields","curItem","showCheckBox","showIcon","itemClass","tooltip","imageUrl","imageAttributes","processSubChild","listClass","getSiblingLI","elementArray","isPrevious","siblingLI","liIndex","liCollections","groupDataSource","sortOrder","curFields","cusQuery","groupBy","getDataSource","addSorting","grpItem","createJsonFromElement","jsonAr","childs","hasChildNodes","attributes_1","getAllAttributes","urlAttributes","elementAttributes","renderContentTemplate","ulElement","compiledString","liCollection","innerText","renderGroupTemplate","groupTemplate","headerItems","category","headerItems_1","headerData","subDS","hasChildren","subLi","expandCollapse","expandIconPosition","expandIconClass","innerElements","grpLI","elementID","groupItemRole","itemRole","anchorTag","createTextNode","uID","innerDiv","wrapperRole","itemText","liElement","listRole","generateIcon","isChecked","headerTemplate","effectsConfig","None","SlideLeft","SlideDown","Zoom","Fade","effectsRTLConfig","classNames","hover","focused","parentItem","listItem","listIcon","listItemText","groupListItem","view","headerText","headerTemplateText","backIcon","checkboxWrapper","checkbox","checklist","checkboxIcon","checkboxRight","checkboxLeft","listviewCheckbox","itemCheckList","FieldSettings","ListView","setHTMLAttribute","setEnable","setSize","listBaseOption","enableVirtualization","virtualizationModule","reRenderUiVirtualization","reRender","curDSLevel","headerTitle","contentContainer","setCheckbox","curViewDS","getSubDS","resetCurrentList","css","isWindow","enableElement","isEnabled","showBack","showHeader","innerHeaderEle","textEle","hedBackButton","headerTemplateEle","switchView","fromView","toView","fPos_1","overflow_1","anim","aniObj","curUL","renderCheckbox","initialization","animateOptions","currentLiElements","isNestedList","selectedData","selectedId","isValidLI","checkboxElement","frameElement_1","checkInternally","checkBoxPosition","checkItem","toggleCheckBase","HTMLLIElement","getLiFromObjOrElement","setSelectedItemData","uncheckItem","checkAllItems","toggleAllCheckBase","uncheckAllItems","checkIcon","checkedItem","args_1","getItemData","removeElement","selectedItems","back","removeFocus","selectEventData","removeHover","removeSelect","setSelectLI","setCheckboxLI","hoverHandler","curLi","setHoverLI","leaveHandler","homeKeyHandler","focusedElement","onArrowKeyDown","prev","arrowKeyHandler","elementTop","elementHeight","firstItemBounds","heightDiff","groupItemBounds","siblingTop","siblingHeight","scrollTo","uiFirstIndex","onUIScrolled","listItemHeight","topHeight","headerBounds","enterKeyHandler","spaceKeyHandler","tabFocus","swipeActionHandler","focusout","focusedLI_1","hoverLI","selectedLI_1","renderSubList","isInteracted","selectedLI","lastLi","levelKeys","localData","levelKeys_1","curDSJSON","findItemFromDS","curDS","getElementUID","resultJSON","getQuery","columns","column","setViewDataSource","isInAnimation","setLocalData","renderList","renderIntoDom","isNgTemplate","createUIItem","uiVirtualization","rippleFn","classAr","pID","pop","toUL","fromUL","selectItem","selectMultipleItems","getParentId","parentId","getSelectedItems","liTextCollection","liDataCollection","dataParent","tempData","findItem","setItemState","disableItem","showItem","showHideItem","addListItem","removeItemFromList","groupLi","dsIndex","removeMultipleItems","Virtualization","listViewInstance","templateRef","firstDs","expectedDomItemCount","ValidateItemCount","domItemCount","uiLastIndex","wireScrollEvent","otherDs","topElement","bottomElement","totalHeight","topElementHeight","bottomElementHeight","listDiff","uiIndicesInitialization","onVirtualScroll","onVirtualUiScroll","dataSourceLength","round","uiIndices","activeIndices","disabledItemIndices","hiddenItemIndices","viewContainerRef","_embeddedViews","getscrollerHeight","startingHeight","scrollPosition","onLongScroll","onNormalScroll","isScrollingDown","updateUI","nextSibling","updateUiContent","curViewDs","dataset","checkListWrapper","changeElementAttributes","checklistElement","activeIndex","findDSAndIndexFromId","dataCollection_1","textCollection_1","curViewDS_1","curViewDS_2","text_1","resutJSON","isSelected","removeUiItem","addUiItem","changeUiIndices","liItem","previousSibling","commonTemplate","templateElements","groupTemplateElements","templateData","flatTemplateNodes","groupTemplateNodes","compileTemplate","textProperty","classProperty","attributeProperty","onChange","listElement","updateContextData","regexMatch","resultantOutput","classNameMatch","subNode","bindedvalue","attributeNames","attributeName","attributeNameFunction","attributeValueFunction","attrNameMatch","attrValueMatch","subNode_1","attrName","attributeValue","isChildHasTextContent","textPropertyMatch","textFunction","onNgChange","$implicit","FOCUSED","HEADER","SELECTED","HIDE","MenuItem","MenuBase","navIdx","isTapHold","ngElement","isMenu","createItems","targetElems","cmenuHandler","moverHandler","delegateClickHandler","keyBoardHandler","closeMenu","actionName","actionNeeded","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","openMenu","sli","canOpen","ulIndex","isMenuVisible","beforeCloseArgs","toggleAnimation","lastChild","ICONS","hdata","hli","getIndex","toggleVisiblity","collide","isRelative","xCollision","yCollision","boundRect","hasField","listBaseOptions","getFields","getLI","showItemOnClick","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","classname","getItems","skipHdr","getChangedItemIndex","insertAfter","uls","keyboardModule","isMenuOpen","isUniqueId","nIndex","isCallBack","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","ContextMenu","VMENU","Menu","tempItems","createMenuItems","orientation","pIdField","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","animObj","lastIndex","tbObj","expTemplateContent","isTemplate","cntEle","prevIndex","isPopup","isSwipeed","itemIndexArray","setCssClass","aria-activedescendant","btnCls","CLS_ICONS","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","hdrItems","aria-controls","txt","cont","parseObject","clicked","setCloseButton","showCloseButton","hdrItem","contents","reRenderItems","txtWrapEle","tbCount","tItems","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","tItem","removeActiveClass","hdrActEle","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compileElement","templateFUN","getContent","callType","place","heightAdjustMode","getHeight","cs","hsCnt","tbWidth","setActive","trg_1","enableAnimation","eleTrg","itemIndex","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","isReplace","refreshActiveBorder","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeTab","actEle","nxtSib","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","closeButtonTitle","enableTab","addTab","lastEleIndex","addedItems","itemsCount","removeArgs","removedItem","removedIndex","cntTrg","hideTab","selectingItem","selectingIndex","cntItem","isHiddenEle","tempHdrEle","DISABLE","INPUT","FLOATLINE","FLOATTEXT","CLEARICON","CLEARICONHIDE","LABELTOP","LABELBOTTOM","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","createInput","inputObject","createInputContainer","createFloatingInput","getParentNode","setClearButton","appendSpan","setPropertyValue","_focusFn","_blurFn","wireFloatingEvents","unwireFloatingEvents","floatLinelement","floatLabelElement","customTag","updateLabelState","setEnabled","setPlaceholder","setReadonly","readonly","updateIconState","button","createClearButton","initial","insertAdjacentElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","oldClass","aria-placeholder","isReadonly","isRtl","inputContainer","disabledAttrs","considerWrapper","removeAttributes","addAttributes","isClear","removeFloating","addFloating","iconEle","floatLine","floatText","setRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","iconClass","ErrorOption","SPINICON","INTREGEXP","NumericTextBox","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","incrementTitle","decrementTitle","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","checkAttributes","validateMinMax","validateStep","updatePlaceholder","createWrapper","showSpinButton","spinBtnCreation","changeValue","strictMode","trimValue","decimals","roundNumber","inputWrapper","aria-readonly","hiddenInput","validateHidden","spinDown","aria-label","spinUp","wireSpinBtnEvents","MAX_VALUE","formattedValue","aria-valuemin","aria-valuemax","operation","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","keyUpHandler","inputHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveOnSpinner","unwireSpinBtnEvents","parsedInput","updateValue","previousValue","beforeUpdate","preventHandler","iOS","platform","currentPos","prevPos","ignoreKeyCode","valArray","prevVal","nextEle","cursorPosChanged","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","stepCount","roundValue","precision","divide","pow","updateCurrency","propVal","numberOfDecimals","decimalPart","modifyText","validateState","result1","result2","metaKey","currentChar","stopPropagation","fractionRule","validateDecimalOnType","mouseWheel","delta","rawEvent","wheelDelta","detail","formatValue_1","focusEvent","getElementData","mouseUpClick","floatLabelTypeUpdate","decrement","getText","propValue","#","?","&","MaskUndo","MaskedTextBox","resetMaskedTextBox","setMaskPlaceholder","setWidth","setVal","dynamicPlaceholder","strippedValue_1","strippedVal","getMaskedValue","TicksData","LimitData","TooltipData","rtl","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","horDir","verDir","transition","transitionOnMaterialTooltip","scaleTransform","customAriaText","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","internationalization","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","setZindex","tooltipElement","firstTooltipElement","secondTooltipElement","showOn","isMaterial","isBootstrap","setHandler","createRangeBar","createLimitBar","setOrientClass","showButtons","setButtons","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","firstElementClassName","firstHandle","secondHandle","setAriaAttributes","customValues","createSecondHandle","secondMaterialHandle","createFirstHandle","firstMaterialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","activeHandle","handlePos1","handlePos2","getHandle","tooltipObj","firstTooltipObj","secondTooltipObj","refreshTooltip","openMaterialTooltip","tooltipAnimation","closeTooltip","handleFocusOut","tooltipValue","preDir","setTooltipContent","addTooltipClass","setAriaAttrValue","formatContent","handleVal1","ariaContent","handle1","handle2","handleVal2","count_1","getTooltipTransformProperties","previousTooltipClass","tooltipPlacement","tooltipPosition","tooltipBeforeOpen","transformProperties","bootstrapCollisionArgs","wireMaterialTooltipEvent","sliderDown","tooltipPositionCalculation","cursor","checkTooltipPosition","firstHandleTooltipPosition","secondHandleTooltipPosition","tooltipClass","tooltipPointer","beforeOpen","beforeCollision","afterClose","tooltipAfterClose","firstBtn","secondBtn","buttonTitle","enabledRTL","buttonFocusOut","repeatButton","openTooltip","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","refreshTooltipOnMove","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","orien","smallStep","showSmallTicks","largeStep","steps","islargeTick","tickWidth","largestep","repeat","createTick","formatTicksValue","decimalPoints","tickesAlignment","ticksWrapper","tickElements","scaleAlignment","tickText","tickElement","tickValuePosition","other","otherChild","ariaValueText","isTickFormatted","valuenow","aria-valuetext","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","focusSliderElement","buttonUp","setRangeBar","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","minValue","maxValue","limitBar","preHandlePos1","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","setPreviousVal","preHandlePos2","values_1","tempStartEnd","onResize","startHandleFixed","endHandleFixed","xyToPosition","top_1","stepValueCalculation","percentStep","addition","f","positionToValue","sliderBarClick","handlepos","handleVal","checkRepeatedValue","xPostion","yPostion","firstPartRemain","secondPartRemain","minDiff","dragRangeBarMove","dragRangeBarUp","sliderBarMove","sliderBarUp","handleValueAdjust","handleValue","assignValue","handleNumber","valueAndPostion","wireButtonEvt","sliderFocusOut","onresize","keyUp","relatedTarget","transformProperties_1","hiddenHandle_1","handle_1","blur","changeSliderType","updateConfig","changeRtl","changeOrientation","limitsPropertyChange","setMinMaxValue","setTooltip","setReadOnly","VALIDATE_EMAIL","VALIDATE_URL","VALIDATE_DATE_ISO","VALIDATE_DIGITS","VALIDATE_PHONE","VALIDATE_CREDITCARD","FormValidator","validated","errorRules","allowSubmit","required","infoElement","inputElement","selectQuery","defaultMessages","email","dateIso","creditcard","number","maxLength","minLength","rangeLength","tel","equalTo","rules","inputElements","createHTML5Rules","FormValidator_1","addRules","removeRules","validateRules","rules_1","name_1","clearForm","getInputElement","errorClass","validClass","elements_2","getErrorElement","hideMessage","defRules","acceptedTypes","allRule","defRules_1","rule","defRule","annotationRule","ruleCon","ruleName","rulesList","ruleFirstName","ruleSecondName","minvalue","maxvalue","annotationMessage","isCheckable","submitHandler","excludeKeys","hiddenType","validateHiddenType","vhPos","hPos","rules_2","errorMessage","getErrorMessage","errorRule","isValid","removeErrorRules","showMessage","createErrorElement","errorElement","optionalValidationStatus","refer","currentRule","formElement","checkValidator","ruleValue","formats","errorOption","Message","errorContainer","containerId","customPlacement","checkRequired","inputType","compareTo","Label","FILE","STATUS","REMOVE_ICON","DELETE_ICON","ABORT_ICON","RETRY_ICON","PROGRESS_WRAPPER","PROGRESSBAR","UPLOAD_SUCCESS","UPLOAD_FAILED","ICON_FOCUSED","PAUSE_UPLOAD","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","multiple","fileList","filesData","uploadedFilesData","isForm","allTypes","pausedData","uploadMetaData","setExtensions","allowedExtensions","clearAll","setControlStatus","setMultipleSelection","reRenderFileList","browse","renderButtonTemplates","unBindDropEvents","setDropArea","renderPreLoadFiles","updateDirectoryAttributes","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","autoUpload","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Clear","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","pauseUpload","resume","retry","fileUploadCancel","checkHTMLAttributes","asyncSettings","saveUrl","isPureReactComponent","directoryUpload","renderBrowseButton","initializeUpload","wireActionButtonEvents","uploadButtonClick","clearButtonClick","unwireActionButtonEvents","uploadText","clearText","dropAreaWrapper","fileDropArea","files","clearData","files_1","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","showFileList","dropTextArea","dropArea","dropZoneElement","enableDropText","bindDropEvents","newAttr","createAttribute","setAttributeNode","checkAutoUpload","browseButtonClick","onSelectFiles","resetForm","setTabFocus","setReverseFocus","metaData","getCurrentMetaData","file","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","iconElements","iconElement","dropElement","dragHover","onDragLeave","onPasteFile","clipboardData","pasteFile","kind","renderSelectedFiles","getAsFile","selectedElement","spinnerTarget","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","selectedFiles","formData","FormData","currentRequest","postRawFile","updateFormData","customFormData","removeCompleted","removeFailed","customData","updateStatus","rootElement","statusElement","getFilesFromFolder","filesEntries","dataTransfer","checkDirectoryUpload","webkitGetAsEntry","isFile","files_2","fileObj","fullPath","isDirectory","traverseFileTree","files_3","createReader","readEntries","entries","targetFiles","sortFileList","directory","paste","eventArgs_1","getFileType","webkitRelativePath","validatedFileSize","fileSource","isModified","modifiedFilesData","progressInterval","checkExtension","dataFiles","updateSortedFileList","singleUpload","removedList","previousListClone","removedList_1","oldList","createParentUL","isBlank","dropFiles","extensions_1","extension","toLocaleLowerCase","fileSize","minSizeError","maxSizeError","minFileSize","maxFileSize","createCustomfileList","fileData_1","data-file-name","uploadTemplateFn","templateComplier","fileData_2","textContainer","textElement","getFileNameOnly","fileExtension","rtlContainer","bytesToSize","truncateName","nameElement","tail","setInitialAttributes","filterfileList","filterFiles","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","total","changeProgressValue","progressValue","uploadInProgress","customUI","cancelUploadingFile","updateProgressBarClasses","removecanceledFile","renderFailureState","removeProgressbar","deleteIcon","pauseButton","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","progressAnimation","animateProgressBar","extensions","uploadTemplate","exception","chunkSize","chunkIndex","blob","retryCount","sendRequest","totalChunk","chunkUploadComplete","chunkUploadInProgress","eventCancelByArgs","chunkUploadFailed","checkChunkUpload","response","updateMetaData","eventArgs_2","sendNextRequest","name_2","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","eventArgsData","retryRequest","retryAfterDelay","checkPausePlayAction","retryUpload","fromcanceledStage","retryElement","clearIcon","loadedSize","bytes","fileNames","sortedFilesData","sortedFileNames_1","name_3","uploadFiles","validateFileType","chunkEnabled","this_3","name_4","getFilesData","validUrl","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelingFiles","cancelUpload","showHideUploadSpinner","DISABLED","FOCUS","ITEM","POPUP","SEPARATOR","VERTICAL","DropDownButton","openPopUp","closePopup","dropDown","getTargetElement","getPopUpElement","hasIcon","createAnchor","appendArrowSpan","setActiveElem","activeElem","getULElement","popupElement","delegateMousedownHandler","mousedownHandler","keyEventHandler","liIdx","removeCustomSelection","selectedLi","beforeOpenArgs","openArgs","focusEle","btnModel","TAGNAME","SplitButton","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","btnElem","dropDownBtnModel","beforeItemRender","beforeClose","aria-owns","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","CONTENTCLS","ProgressButton","init","percent","isPaused","startProgress","progressTime","enableProgress","createProgress","spinner","setSpinPosition","spinSettings","isVertical","hideSpin","startAnimate","startContAnimate","prevTime","prevPercent","prevProgressTime","timeDiff","stepTime","timeDiffBuffer","currentDuration","setSpinnerSize","setIconSpan","iconSpan","CTRLSWITCH","HIDEHEX","HIDERGBA","HIDEVALUE","HSVAREA","INPUTWRAPPER","MODESWITCH","NOCOLOR","OPACITY","PREVIEW","SHOWVALUE","SELECT","TILE","presets","default","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","enableOpacity","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isRgb","createCtrlBtn","toggleDisabled","refreshPopupPos","splitButton","splitBtn","beforeOpenFn","onOpen","beforePopupClose","hex","rgba","convertToRgbString","hexToRgb","preview","backgroundColor","getPopupEle","popupInst","getPopupInst","modal","onPopupClose","destroyOtherComp","presetColors","paletteGroup","appendElement","appendPalette","modeSwitcher","noColor","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","refEle","palette","row","tile","roundedColor","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","hueChange","createOpacitySlider","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","background","convertToOtherFormat","pValue","rgbToHex","cValue","updatePreview","triggerEvent","previewContainer","colorValue","isPicker","createNumericInput","numericInput","inputWrap","appendValueSwitchBtn","hexInput","maxlength","clsName","appendOpacityValue","valueSwitchBtn","formatSwitchHandler","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","removeTileSelection","convertRgbToNumberArray","n","pickerKeyDown","handlerDown","addCtrlSwitchEvent","previewHandler","paletteClickHandler","paletteKeyDown","handlerDragPosition","triggerChangeEvent","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","noColorTile","switchToPicker","grpEle","selectedEle","tiles","prevSelectedEle","tilePosition","keySelectionChanges","newEle","emptyCount","inputValueChange","isPopupOpen","tooltipInst","len_1","bigInt","g","v","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","changeOpacityProps","otherCompModel","reduce","TextBox","textboxWrapper","globalize","interaction","resetInputHandler","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","TEXTWRAP","SIBLING","DROPNEXT","CHECK","CHECKBOXWRAP","treeAriaAttr","treeRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","preventExpand","checkedElement","mouseDownStatus","TreeView_1","checkActionNodes","dragStartAction","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","beforeNodeCreate","updateListProp","treeList","isLoaded","isInitalExpand","setTouchClass","selectedNodes","checkedNodes","expandedNodes","setDataBinding","setExpandOnType","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setFullRow","fullRowSelect","nodeTemplateFn","nodeTemplate","iconModel","rippleIconFn","setMultiSelect","firstUl","treeData","isNumberTypeId","getType","setRootData","finalize","rootData","col","parentID","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","getSortedData","finalizeNode","checkboxEle","touchClass","checkValue","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","nodeData","actionValue","iNodes","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","ensureParentCheckState","checkBoxEle","parentUL","currentParent","ensureChildCheckState","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","checkBox","validateCheckNode","isPrevent","isAdd","currLi","getCheckEvent","removeCheck","getNodeData","firstNode","updateIdAttr","hasPid","doExpandAction","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","start_1","end_1","proxy_1","ul_1","liEle_1","setHeight","animateHeight","expandedNode","addExpand","expandArgs","getExpandEvent","colArgs","collapsedNode","removeExpand","toRemove","currentHeight","parentLi","expandChild","eicon","childItems","parents","mapper_1","getChildFields","getNodeObject","ensureCheckNode","renderSubChild","nodeLevel","dataLevel","getChildMapper","isRoot","getChildGroup","objlen","dataId","cIcons","multiSelect","isActive","unselectNode","getSelectEvent","removeSelectAll","startNode","liList","currNode","addSelect","focusedNode","getFocusedNode","expandOnType","expandOn","expandHandler","expandCollapseAction","inpEle","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","getScrollParent","parentPos","isVisibleInViewport","txtWrap","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","allCheckNode","newCheck","childCheck","validateCheck","childId","childId_1","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","pNode","pid","reRenderNodes","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","getId","getChildNodeObject","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","getDragEvent","draggedNode","targetTouches","dragAction","removeVirtualEle","dropTarget","dropRoot","preventTargetExpand","dragParent","draggedParentNode","dropObj","over","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","dropIndicator","dragInstance","appendNode","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","updateField","currPid","removeChildNodes","addChildData","dropIcon","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","dropTar","clonedNode","droppedNode","droppedNodeData","dropIndex","dropLevel","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","removeData","updateSelectedNodes","updateExpandedNodes","newId","currId","doGivenAction","toExpand","addGivenNodes","isRemote","dropEle","updateMapper","refNode","navigateUrl","nodeId","updated","childObj","doDisableAction","doEnableAction","updatePersistProp","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","names","getMapperProp","resultData","proxy_2","touchEditObj","wireClickEvent","proxy_3","touchClickObj","wireExpandOnEvent","proxy_4","touchExpandObj","matched","setCheckedNodes","uncheckAll","checkAll","collapseAll","addNodes","dropUl_1","proxy_5","beginEdit","disableNodes","enableNodes","ensureVisible","expandAll","getAllCheckedNodes","checkNodes","childNode","getNode","getTreeData","moveNodes","sourceNodes","removeNodes","updateNode","RIGHT","LEFT","OVER","PUSH","CONTEXT","Sidebar","setTarget","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","z-index","classELement","destroyBackDrop","sibling","showBackdrop","closeArguments","changeArguments","setAnimation","openArguments","createBackDrop","getState","mediaQuery","enableGestureHandler","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","elementWidth"],"mappings":"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ACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IA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B,IACI/uB,GAAS,SACVurK,EAAS35K,UAAW,gBAAa,IACpCm9B,IACI/uB,IAAS,IACVurK,EAAS35K,UAAW,mBAAgB,IACvCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,cAAW,IAClCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,gBAAa,IACpCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,wBAAqB,IAC5Cm9B,IACIluB,MACD0qK,EAAS35K,UAAW,eAAY,IACnCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,gBAAa,IACpCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,eAAY,IACnCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,kBAAe,IACtCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,mBAAgB,IACvCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,kBAAe,IACtCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,oBAAiB,IACxCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,qBAAkB,IACzCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,mBAAgB,IACvCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,oBAAiB,IACxCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,mBAAgB,IACvCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,kBAAe,IACtCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,iBAAc,IACrCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,kBAAe,IACtCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,mBAAgB,IACvCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,oBAAiB,IACxCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,mBAAgB,IACvCm9B,IACIluB,MACD0qK,EAAS35K,UAAW,oBAAiB,IACxC25K,EAAWI,EAAa58I,IACpB5tB,IACDoqK,EAEH,IAAII,IACN/2H,IC73GErmB,GAAwC,WACxC,GAAIC,GAAgB35B,OAAO45B,iBACpBC,uBAA2B35B,QAAS,SAAU45B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC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"}