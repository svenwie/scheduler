{"version":3,"file":"ej2-excel-export.min.js","sources":["../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/encoding.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/util.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/dom.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/animation.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/internationalization.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/template-engine.js","../src/es5/cell-style.js","../src/es5/cell.js","../src/es5/column.js","../src/es5/row.js","../src/es5/worksheets.js","../src/es5/worksheet.js","../../node_modules/@syncfusion/ej2-file-utils/dist/src/es5/save.js","../../node_modules/@syncfusion/ej2-compression/dist/src/es5/compression-writer.js","../../node_modules/@syncfusion/ej2-compression/dist/src/es5/zip-archive.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/ajax.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/event-handler.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/observer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/browser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/module-loader.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/child-property.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/component.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/draggable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/droppable.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/keyboard.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/l10n.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/dist/src/es5/touch.js","../src/es5/value-formatter.js","../src/es5/csv-helper.js","../src/es5/blob-helper.js","../src/es5/workbook.js"],"sourcesContent":["/**\n * Encoding class: Contains the details about encoding type, whether to write a Unicode byte order mark (BOM).\n * ```typescript\n * let encoding : Encoding = new Encoding();\n * encoding.type = 'Utf8';\n * encoding.getBytes('Encoding', 0, 5);\n * ```\n */\nvar Encoding = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the Encoding class. A parameter specifies whether to write a Unicode byte order mark\n     * @param  {boolean} includeBom?-true to specify that a Unicode byte order mark is written; otherwise, false.\n     */\n    function Encoding(includeBom) {\n        this.emitBOM = true;\n        this.encodingType = 'Ansi';\n        this.initBOM(includeBom);\n    }\n    Object.defineProperty(Encoding.prototype, \"includeBom\", {\n        /**\n         * Gets a value indicating whether to write a Unicode byte order mark\n         * @returns boolean- true to specify that a Unicode byte order mark is written; otherwise, false\n         */\n        get: function () {\n            return this.emitBOM;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Encoding.prototype, \"type\", {\n        /**\n         * Gets the encoding type.\n         * @returns EncodingType\n         */\n        get: function () {\n            return this.encodingType;\n        },\n        /**\n         * Sets the encoding type.\n         * @param  {EncodingType} value\n         */\n        set: function (value) {\n            this.encodingType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Initialize the includeBom to emit BOM or Not\n     * @param  {boolean} includeBom\n     */\n    Encoding.prototype.initBOM = function (includeBom) {\n        if (includeBom === undefined || includeBom === null) {\n            this.emitBOM = true;\n        }\n        else {\n            this.emitBOM = includeBom;\n        }\n    };\n    /**\n     * Calculates the number of bytes produced by encoding the characters in the specified string\n     * @param  {string} chars - The string containing the set of characters to encode\n     * @returns {number} - The number of bytes produced by encoding the specified characters\n     */\n    Encoding.prototype.getByteCount = function (chars) {\n        var byteCount = 0;\n        validateNullOrUndefined(chars, 'string');\n        if (chars === '') {\n            var byte = this.utf8Len(chars.charCodeAt(0));\n            return byte;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        return this.getByteCountInternal(chars, 0, chars.length);\n    };\n    /**\n     * Return the Byte of character\n     * @param  {number} codePoint\n     * @returns {number}\n     */\n    Encoding.prototype.utf8Len = function (codePoint) {\n        var bytes = codePoint <= 0x7F ? 1 :\n            codePoint <= 0x7FF ? 2 :\n                codePoint <= 0xFFFF ? 3 :\n                    codePoint <= 0x1FFFFF ? 4 : 0;\n        return bytes;\n    };\n    /**\n     * for 4 byte character return surrogate pair true, otherwise false\n     * @param  {number} codeUnit\n     * @returns {boolean}\n     */\n    Encoding.prototype.isHighSurrogate = function (codeUnit) {\n        return codeUnit >= 0xD800 && codeUnit <= 0xDBFF;\n    };\n    /**\n     * for 4byte character generate the surrogate pair\n     * @param  {number} highCodeUnit\n     * @param  {number} lowCodeUnit\n     */\n    Encoding.prototype.toCodepoint = function (highCodeUnit, lowCodeUnit) {\n        highCodeUnit = (0x3FF & highCodeUnit) << 10;\n        var u = highCodeUnit | (0x3FF & lowCodeUnit);\n        return u + 0x10000;\n    };\n    /**\n     * private method to get the byte count for specific charindex and count\n     * @param  {string} chars\n     * @param  {number} charIndex\n     * @param  {number} charCount\n     */\n    Encoding.prototype.getByteCountInternal = function (chars, charIndex, charCount) {\n        var byteCount = 0;\n        if (this.encodingType === 'Utf8' || this.encodingType === 'Unicode') {\n            var isUtf8 = this.encodingType === 'Utf8';\n            for (var i = 0; i < charCount; i++) {\n                var charCode = chars.charCodeAt(isUtf8 ? charIndex : charIndex++);\n                if (this.isHighSurrogate(charCode)) {\n                    if (isUtf8) {\n                        var high = charCode;\n                        var low = chars.charCodeAt(++charIndex);\n                        byteCount += this.utf8Len(this.toCodepoint(high, low));\n                    }\n                    else {\n                        byteCount += 4;\n                        ++i;\n                    }\n                }\n                else {\n                    if (isUtf8) {\n                        byteCount += this.utf8Len(charCode);\n                    }\n                    else {\n                        byteCount += 2;\n                    }\n                }\n                if (isUtf8) {\n                    charIndex++;\n                }\n            }\n            return byteCount;\n        }\n        else {\n            byteCount = charCount;\n            return byteCount;\n        }\n    };\n    /**\n     * Encodes a set of characters from the specified string into the ArrayBuffer.\n     * @param  {string} s- The string containing the set of characters to encode\n     * @param  {number} charIndex-The index of the first character to encode.\n     * @param  {number} charCount- The number of characters to encode.\n     * @returns {ArrayBuffer} - The ArrayBuffer that contains the resulting sequence of bytes.\n     */\n    Encoding.prototype.getBytes = function (s, charIndex, charCount) {\n        validateNullOrUndefined(s, 'string');\n        validateNullOrUndefined(charIndex, 'charIndex');\n        validateNullOrUndefined(charCount, 'charCount');\n        if (charIndex < 0 || charCount < 0) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex or charCount is less than zero');\n        }\n        if (s.length - charIndex < charCount) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string');\n        }\n        var bytes;\n        if (s === '') {\n            bytes = new ArrayBuffer(0);\n            return bytes;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var byteCount = this.getByteCountInternal(s, charIndex, charCount);\n        switch (this.type) {\n            case 'Utf8':\n                bytes = this.getBytesOfUtf8Encoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            case 'Unicode':\n                bytes = this.getBytesOfUnicodeEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            default:\n                bytes = this.getBytesOfAnsiEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n        }\n    };\n    /**\n     * Decodes a sequence of bytes from the specified ArrayBuffer into the string.\n     * @param  {ArrayBuffer} bytes- The ArrayBuffer containing the sequence of bytes to decode.\n     * @param  {number} index- The index of the first byte to decode.\n     * @param  {number} count- The number of bytes to decode.\n     * @returns {string} - The string that contains the resulting set of characters.\n     */\n    Encoding.prototype.getString = function (bytes, index, count) {\n        validateNullOrUndefined(bytes, 'bytes');\n        validateNullOrUndefined(index, 'index');\n        validateNullOrUndefined(count, 'count');\n        if (index < 0 || count < 0) {\n            throw new RangeError('Argument Out Of Range Exception: index or count is less than zero');\n        }\n        if (bytes.byteLength - index < count) {\n            throw new RangeError('Argument Out Of Range Exception: index and count do not denote a valid range in bytes');\n        }\n        if (bytes.byteLength === 0 || count === 0) {\n            return '';\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var out = '';\n        var byteCal = new Uint8Array(bytes);\n        switch (this.type) {\n            case 'Utf8':\n                var s = this.getStringOfUtf8Encoding(byteCal, index, count);\n                return s;\n            case 'Unicode':\n                var byteUnicode = new Uint16Array(bytes);\n                out = this.getStringofUnicodeEncoding(byteUnicode, index, count);\n                return out;\n            default:\n                var j = index;\n                for (var i = 0; i < count; i++) {\n                    var c = byteCal[j];\n                    out += String.fromCharCode(c); // 1 byte(ASCII) character                  \n                    j++;\n                }\n                return out;\n        }\n    };\n    Encoding.prototype.getBytesOfAnsiEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var bufview = new Uint8Array(bytes);\n        var k = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(charIndex++);\n            if (charcode < 0x800) {\n                bufview[k] = charcode;\n            }\n            else {\n                bufview[k] = 63; //replacement character '?'\n            }\n            k++;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUtf8Encoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint = new Uint8Array(bytes);\n        var index = charIndex;\n        var j = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(index);\n            if (charcode <= 0x7F) {\n                uint[j] = charcode;\n            }\n            else if (charcode < 0x800) {\n                uint[j] = 0xc0 | (charcode >> 6);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else if ((charcode < 0xd800 || charcode >= 0xe000)) {\n                uint[j] = 0xe0 | (charcode >> 12);\n                uint[++j] = 0x80 | ((charcode >> 6) & 0x3f);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else {\n                uint[j] = 0xef;\n                uint[++j] = 0xbf;\n                uint[++j] = 0xbd; // U+FFFE \"replacement character\"\n            }\n            ++j;\n            ++index;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUnicodeEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint16 = new Uint16Array(bytes);\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(i);\n            uint16[i] = charcode;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getStringOfUtf8Encoding = function (byteCal, index, count) {\n        var j = 0;\n        var i = index;\n        var s = '';\n        for (j; j < count; j++) {\n            var c = byteCal[i++];\n            while (i > byteCal.length) {\n                return s;\n            }\n            if (c > 127) {\n                if (c > 191 && c < 224 && i < count) {\n                    c = (c & 31) << 6 | byteCal[i] & 63;\n                }\n                else if (c > 223 && c < 240 && i < byteCal.byteLength) {\n                    c = (c & 15) << 12 | (byteCal[i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                else if (c > 239 && c < 248 && i < byteCal.byteLength) {\n                    c = (c & 7) << 18 | (byteCal[i] & 63) << 12 | (byteCal[++i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                ++i;\n            }\n            s += String.fromCharCode(c); // 1 byte(ASCII) character                          \n        }\n        return s;\n    };\n    Encoding.prototype.getStringofUnicodeEncoding = function (byteUni, index, count) {\n        if (count > byteUni.length) {\n            throw new RangeError('ArgumentOutOfRange_Count');\n        }\n        var byte16 = new Uint16Array(count);\n        var out = '';\n        for (var i = 0; i < count && i < byteUni.length; i++) {\n            byte16[i] = byteUni[index++];\n        }\n        out = String.fromCharCode.apply(null, byte16);\n        return out;\n    };\n    /**\n     * To clear the encoding instance\n     * @return {void}\n     */\n    Encoding.prototype.destroy = function () {\n        this.emitBOM = undefined;\n        this.encodingType = undefined;\n    };\n    return Encoding;\n}());\nexport { Encoding };\n/**\n * To check the object is null or undefined and throw error if it is null or undefined\n * @param {Object} value - object to check is null or undefined\n * @return {boolean}\n * @throws {ArgumentException} - if the value is null or undefined\n * @private\n */\nexport function validateNullOrUndefined(value, message) {\n    if (value === null || value === undefined) {\n        throw new Error('ArgumentException: ' + message + ' cannot be null or undefined');\n    }\n}\n","var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    result[key] = extend({}, clone, copy, deep);\n                }\n                else {\n                    clone = src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n * @return {any}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function uniqueID() {\n    // tslint:disable-next-line:no-any\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // tslint:disable-next-line:no-any\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    //tslint:disable-next-line\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    for (i = 0; i < elem.ej2_instances.length; i++) {\n        instance = elem.ej2_instances[i];\n        var compName = instance.getModuleName();\n        if (comp === compName) {\n            return instance;\n        }\n    }\n    return undefined;\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i], instance);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue, this);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (strs) {\n                    strs = strs.trim();\n                    return addNameSpace(strs, !(QUOTES.test(strs)) && (localKeys.indexOf(strs) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * CellStyle class\n * @private\n */\nvar CellStyle = /** @class */ (function () {\n    function CellStyle() {\n        this.numFmtId = 0;\n        this.backColor = 'none';\n        this.fontName = 'Calibri';\n        this.fontSize = 14;\n        this.fontColor = '#000000';\n        this.italic = false;\n        this.bold = false;\n        this.underline = false;\n        this.wrapText = false;\n        this.hAlign = 'general';\n        this.vAlign = 'bottom';\n        this.indent = 0;\n        this.numberFormat = 'GENERAL';\n        this.type = 'datetime';\n        this.borders = new Borders();\n        this.isGlobalStyle = false;\n    }\n    return CellStyle;\n}());\nexport { CellStyle };\n/**\n * Font Class\n * @private\n */\nvar Font = /** @class */ (function () {\n    function Font() {\n        this.sz = 14;\n        this.name = 'Calibri';\n        this.u = false;\n        this.b = false;\n        this.i = false;\n        this.color = 'FF000000';\n    }\n    return Font;\n}());\nexport { Font };\n/**\n * CellXfs class\n * @private\n */\nvar CellXfs = /** @class */ (function () {\n    function CellXfs() {\n    }\n    return CellXfs;\n}());\nexport { CellXfs };\n/**\n * Alignment class\n * @private\n */\nvar Alignment = /** @class */ (function () {\n    function Alignment() {\n    }\n    return Alignment;\n}());\nexport { Alignment };\n/**\n * CellStyleXfs class\n * @private\n */\nvar CellStyleXfs = /** @class */ (function () {\n    function CellStyleXfs() {\n    }\n    return CellStyleXfs;\n}());\nexport { CellStyleXfs };\n/**\n * CellStyles class\n * @private\n */\nvar CellStyles = /** @class */ (function () {\n    function CellStyles() {\n        this.name = 'Normal';\n        this.xfId = 0;\n    }\n    return CellStyles;\n}());\nexport { CellStyles };\n/**\n * NumFmt class\n * @private\n */\nvar NumFmt = /** @class */ (function () {\n    function NumFmt(id, code) {\n        this.numFmtId = id;\n        this.formatCode = code;\n    }\n    return NumFmt;\n}());\nexport { NumFmt };\n/**\n * Border class\n * @private\n */\nvar Border = /** @class */ (function () {\n    function Border(mLine, mColor) {\n        this.lineStyle = mLine;\n        this.color = mColor;\n    }\n    return Border;\n}());\nexport { Border };\n/**\n * Borders class\n * @private\n */\nvar Borders = /** @class */ (function () {\n    function Borders() {\n        this.left = new Border('none', '#FFFFFF');\n        this.right = new Border('none', '#FFFFFF');\n        this.top = new Border('none', '#FFFFFF');\n        this.bottom = new Border('none', '#FFFFFF');\n        this.all = new Border('none', '#FFFFFF');\n    }\n    return Borders;\n}());\nexport { Borders };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n * @private\n */\nvar Cell = /** @class */ (function () {\n    function Cell() {\n    }\n    return Cell;\n}());\nexport { Cell };\n/**\n * Cells class\n * @private\n */\nvar Cells = /** @class */ (function (_super) {\n    __extends(Cells, _super);\n    function Cells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (cell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.index === cell.index) {\n                    _this[count] = cell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(cell);\n            }\n        };\n        return _this;\n    }\n    return Cells;\n}(Array));\nexport { Cells };\n","/**\n * Column class\n * @private\n */\nvar Column = /** @class */ (function () {\n    function Column() {\n    }\n    return Column;\n}());\nexport { Column };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Row class\n * @private\n */\nvar Row = /** @class */ (function () {\n    function Row() {\n    }\n    return Row;\n}());\nexport { Row };\n/**\n * Rows class\n * @private\n */\nvar Rows = /** @class */ (function (_super) {\n    __extends(Rows, _super);\n    function Rows() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (row) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var r = _a[_i];\n                if (r.index === row.index) {\n                    _this[count] = row;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(row);\n            }\n        };\n        return _this;\n    }\n    return Rows;\n}(Array));\nexport { Rows };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheets class\n * @private\n */\nvar Worksheets = /** @class */ (function (_super) {\n    __extends(Worksheets, _super);\n    function Worksheets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Worksheets;\n}(Array));\nexport { Worksheets };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n * @private\n */\nvar Worksheet = /** @class */ (function () {\n    function Worksheet() {\n        this.isSummaryRowBelow = true;\n        this.showGridLines = true;\n    }\n    return Worksheet;\n}());\nexport { Worksheet };\n/**\n * Hyperlink class\n * @private\n */\nvar HyperLink = /** @class */ (function () {\n    function HyperLink() {\n    }\n    return HyperLink;\n}());\nexport { HyperLink };\n/**\n * Grouping class\n * @private\n */\nvar Grouping = /** @class */ (function () {\n    function Grouping() {\n    }\n    return Grouping;\n}());\nexport { Grouping };\n/**\n * FreezePane class\n * @private\n */\nvar FreezePane = /** @class */ (function () {\n    function FreezePane() {\n    }\n    return FreezePane;\n}());\nexport { FreezePane };\n/**\n * MergeCell\n * @private\n */\nvar MergeCell = /** @class */ (function () {\n    function MergeCell() {\n    }\n    return MergeCell;\n}());\nexport { MergeCell };\n/**\n * MergeCells class\n * @private\n */\nvar MergeCells = /** @class */ (function (_super) {\n    __extends(MergeCells, _super);\n    function MergeCells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (mergeCell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var mCell = _a[_i];\n                if (MergeCells.isIntersecting(mCell, mergeCell)) {\n                    var intersectingCell = new MergeCell();\n                    intersectingCell.x = Math.min(mCell.x, mergeCell.x);\n                    intersectingCell.y = Math.min(mCell.Y, mergeCell.y);\n                    intersectingCell.width = Math.max(mCell.Width + mCell.X, mergeCell.width + mergeCell.x);\n                    intersectingCell.height = Math.max(mCell.Height + mCell.Y, mergeCell.height + mergeCell.y);\n                    intersectingCell.ref = (_this[count].ref.split(':')[0]) + ':' + (mergeCell.ref.split(':')[1]);\n                    _this[count] = intersectingCell;\n                    mergeCell = intersectingCell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(mergeCell);\n            }\n            return mergeCell;\n        };\n        return _this;\n    }\n    MergeCells.isIntersecting = function (base, compare) {\n        return (base.x <= compare.x + compare.width)\n            && (compare.x <= base.x + base.width)\n            && (base.y <= compare.y + compare.height)\n            && (compare.y <= base.y + base.height);\n    };\n    return MergeCells;\n}(Array));\nexport { MergeCells };\n","/**\n * Save class provide method to save file\n * ```typescript\n * let blob : Blob = new Blob([''], { type: 'text/plain' });\n * Save.save('fileName.txt',blob);\n */\nvar Save = /** @class */ (function () {\n    /**\n     * Initialize new instance of {save}\n     */\n    function Save() {\n        // tslint:disable\n    }\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     * @param  {boolean} isMicrosoftBrowser- specify whether microsoft browser or not\n     * @returns {void}\n     */\n    Save.save = function (fileName, buffer) {\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('ArgumentException: fileName cannot be undefined, null or empty');\n        }\n        var extension = fileName.substring(fileName.lastIndexOf('.') + 1, fileName.length);\n        var mimeType = this.getMimeType(extension);\n        if (mimeType !== '') {\n            buffer = new Blob([buffer], { type: mimeType });\n        }\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(buffer, fileName);\n        }\n        else {\n            var downloadLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            this.saveInternal(fileName, extension, buffer, downloadLink, 'download' in downloadLink);\n        }\n    };\n    Save.saveInternal = function (fileName, extension, buffer, downloadLink, hasDownloadAttribute) {\n        if (hasDownloadAttribute) {\n            downloadLink.download = fileName;\n            var dataUrl_1 = window.URL.createObjectURL(buffer);\n            downloadLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            downloadLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n                dataUrl_1 = undefined;\n            });\n        }\n        else {\n            if (extension !== 'docx' && extension !== 'xlsx') {\n                var url = window.URL.createObjectURL(buffer);\n                var isPopupBlocked = window.open(url, '_blank');\n                if (!isPopupBlocked) {\n                    window.location.href = url;\n                }\n            }\n            else {\n                var reader_1 = new FileReader();\n                reader_1.onloadend = function () {\n                    var isPopupBlocked = window.open(reader_1.result, '_blank');\n                    if (!isPopupBlocked) {\n                        window.location.href = reader_1.result;\n                    }\n                };\n                reader_1.readAsDataURL(buffer);\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} extension - get mime type of the specified extension\n     * @private\n     */\n    Save.getMimeType = function (extension) {\n        var mimeType = '';\n        switch (extension) {\n            case 'html':\n                mimeType = 'text/html';\n                break;\n            case 'pdf':\n                mimeType = 'application/pdf';\n                break;\n            case 'docx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n                break;\n            case 'xlsx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n                break;\n            case 'txt':\n                mimeType = 'text/plain';\n                break;\n        }\n        return mimeType;\n    };\n    return Save;\n}());\nexport { Save };\n","import { Encoding } from '@syncfusion/ej2-file-utils';\n/**\n * array literal codes\n */\nvar arrLiteralCodes = new Int16Array(286);\nvar arrLiteralLengths = new Uint8Array(286);\nvar arrDistanceCodes = new Int16Array(30);\nvar arrDistanceLengths = new Uint8Array(30);\n/**\n * represent compression stream writer\n * ```typescript\n * let compressedWriter = new CompressedStreamWriter();\n * let text: string = 'Hello world!!!';\n * compressedWriter.write(text, 0, text.length);\n * compressedWriter.close();\n * ```\n */\nvar CompressedStreamWriter = /** @class */ (function () {\n    /**\n     * Initializes compressor and writes ZLib header if needed.\n     * @param {boolean} noWrap - optional if true, ZLib header and checksum will not be written.\n     */\n    function CompressedStreamWriter(noWrap) {\n        this.pendingBuffer = new Uint8Array(1 << 16);\n        this.pendingBufLength = 0;\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.currentHash = 0;\n        this.matchStart = 0;\n        this.matchLength = 0;\n        this.matchPrevAvail = false;\n        this.blockStart = 0;\n        this.stringStart = 0;\n        this.lookAhead = 0;\n        this.totalBytesIn = 0;\n        this.inputOffset = 0;\n        this.inputEnd = 0;\n        this.windowSize = 1 << 15;\n        this.windowMask = this.windowSize - 1;\n        this.hashSize = 1 << 15;\n        this.hashMask = this.hashSize - 1;\n        this.hashShift = Math.floor((15 + 3 - 1) / 3);\n        this.maxDist = this.windowSize - 262;\n        this.checkSum = 1;\n        this.noWrap = false;\n        this.treeLiteral = new CompressorHuffmanTree(this, 286, 257, 15);\n        this.treeDistances = new CompressorHuffmanTree(this, 30, 1, 15);\n        this.treeCodeLengths = new CompressorHuffmanTree(this, 19, 4, 7);\n        this.arrDistances = new Uint16Array((1 << 14));\n        this.arrLiterals = new Uint8Array((1 << 14));\n        this.stream = [];\n        this.dataWindow = new Uint8Array(2 * this.windowSize);\n        this.hashHead = new Int16Array(this.hashSize);\n        this.hashPrevious = new Int16Array(this.windowSize);\n        this.blockStart = this.stringStart = 1;\n        this.noWrap = noWrap;\n        if (!noWrap) {\n            this.writeZLibHeader();\n        }\n    }\n    Object.defineProperty(CompressedStreamWriter.prototype, \"compressedData\", {\n        /**\n         * get compressed data\n         */\n        get: function () {\n            return this.stream;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressedStreamWriter.prototype, \"getCompressedString\", {\n        get: function () {\n            var compressedString = '';\n            if (this.stream !== undefined) {\n                for (var i = 0; i < this.stream.length; i++) {\n                    compressedString += String.fromCharCode.apply(null, this.stream[i]);\n                }\n            }\n            return compressedString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Compresses data and writes it to the stream.\n     * @param {Uint8Array} data - data to compress\n     * @param {number} offset - offset in data\n     * @param {number} length - length of the data\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.write = function (data, offset, length) {\n        if (data === undefined || data === null) {\n            throw new Error('ArgumentException: data cannot null or undefined');\n        }\n        var end = offset + length;\n        if (0 > offset || offset > end || end > data.length) {\n            throw new Error('ArgumentOutOfRangeException: Offset or length is incorrect');\n        }\n        if (typeof data === 'string') {\n            var encode = new Encoding(false);\n            encode.type = 'Utf8';\n            data = new Uint8Array(encode.getBytes(data, 0, data.length));\n            end = offset + data.length;\n        }\n        this.inputBuffer = data;\n        this.inputOffset = offset;\n        this.inputEnd = end;\n        if (!this.noWrap) {\n            this.checkSum = ChecksumCalculator.checksumUpdate(this.checkSum, this.inputBuffer, this.inputOffset, end);\n        }\n        while (!(this.inputEnd === this.inputOffset) || !(this.pendingBufLength === 0)) {\n            this.pendingBufferFlush();\n            this.compressData(false);\n        }\n    };\n    /**\n     * write ZLib header to the compressed data\n     * @return {void}\n     */\n    CompressedStreamWriter.prototype.writeZLibHeader = function () {\n        /* Initialize header.*/\n        var headerDate = (8 + (7 << 4)) << 8;\n        /* Save compression level.*/\n        headerDate |= ((5 >> 2) & 3) << 6;\n        /* Align header.*/\n        headerDate += 31 - (headerDate % 31);\n        /* Write header to stream.*/\n        this.pendingBufferWriteShortBytes(headerDate);\n    };\n    /**\n     *  Write Most Significant Bytes in to stream\n     * @param {number} s - check sum value\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteShortBytes = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s >> 8;\n        this.pendingBuffer[this.pendingBufLength++] = s;\n    };\n    CompressedStreamWriter.prototype.compressData = function (finish) {\n        var success;\n        do {\n            this.fillWindow();\n            var canFlush = (finish && this.inputEnd === this.inputOffset);\n            success = this.compressSlow(canFlush, finish);\n        } while (this.pendingBufLength === 0 && success);\n        return success;\n    };\n    CompressedStreamWriter.prototype.compressSlow = function (flush, finish) {\n        if (this.lookAhead < 262 && !flush) {\n            return false;\n        }\n        while (this.lookAhead >= 262 || flush) {\n            if (this.lookAhead === 0) {\n                return this.lookAheadCompleted(finish);\n            }\n            if (this.stringStart >= 2 * this.windowSize - 262) {\n                this.slideWindow();\n            }\n            var prevMatch = this.matchStart;\n            var prevLen = this.matchLength;\n            if (this.lookAhead >= 3) {\n                this.discardMatch();\n            }\n            if (prevLen >= 3 && this.matchLength <= prevLen) {\n                prevLen = this.matchPreviousBest(prevMatch, prevLen);\n            }\n            else {\n                this.matchPreviousAvailable();\n            }\n            if (this.bufferPosition >= (1 << 14)) {\n                return this.huffmanIsFull(finish);\n            }\n        }\n        return true;\n    };\n    CompressedStreamWriter.prototype.discardMatch = function () {\n        var hashHead = this.insertString();\n        if (hashHead !== 0 && this.stringStart - hashHead <= this.maxDist && this.findLongestMatch(hashHead)) {\n            if (this.matchLength <= 5 && (this.matchLength === 3 && this.stringStart - this.matchStart > 4096)) {\n                this.matchLength = 3 - 1;\n            }\n        }\n    };\n    CompressedStreamWriter.prototype.matchPreviousAvailable = function () {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = true;\n        this.stringStart++;\n        this.lookAhead--;\n    };\n    CompressedStreamWriter.prototype.matchPreviousBest = function (prevMatch, prevLen) {\n        this.huffmanTallyDist(this.stringStart - 1 - prevMatch, prevLen);\n        prevLen -= 2;\n        do {\n            this.stringStart++;\n            this.lookAhead--;\n            if (this.lookAhead >= 3) {\n                this.insertString();\n            }\n        } while (--prevLen > 0);\n        this.stringStart++;\n        this.lookAhead--;\n        this.matchPrevAvail = false;\n        this.matchLength = 3 - 1;\n        return prevLen;\n    };\n    CompressedStreamWriter.prototype.lookAheadCompleted = function (finish) {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = false;\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, this.stringStart - this.blockStart, finish);\n        this.blockStart = this.stringStart;\n        return false;\n    };\n    CompressedStreamWriter.prototype.huffmanIsFull = function (finish) {\n        var len = this.stringStart - this.blockStart;\n        if (this.matchPrevAvail) {\n            len--;\n        }\n        var lastBlock = (finish && this.lookAhead === 0 && !this.matchPrevAvail);\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, len, lastBlock);\n        this.blockStart += len;\n        return !lastBlock;\n    };\n    CompressedStreamWriter.prototype.fillWindow = function () {\n        if (this.stringStart >= this.windowSize + this.maxDist) {\n            this.slideWindow();\n        }\n        while (this.lookAhead < 262 && this.inputOffset < this.inputEnd) {\n            var more = 2 * this.windowSize - this.lookAhead - this.stringStart;\n            if (more > this.inputEnd - this.inputOffset) {\n                more = this.inputEnd - this.inputOffset;\n            }\n            this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset, this.inputOffset + more), this.stringStart + this.lookAhead);\n            this.inputOffset += more;\n            this.totalBytesIn += more;\n            this.lookAhead += more;\n        }\n        if (this.lookAhead >= 3) {\n            this.updateHash();\n        }\n    };\n    CompressedStreamWriter.prototype.slideWindow = function () {\n        this.dataWindow.set(this.dataWindow.subarray(this.windowSize, this.windowSize + this.windowSize), 0);\n        this.matchStart -= this.windowSize;\n        this.stringStart -= this.windowSize;\n        this.blockStart -= this.windowSize;\n        for (var i = 0; i < this.hashSize; ++i) {\n            var m = this.hashHead[i] & 0xffff;\n            this.hashHead[i] = (((m >= this.windowSize) ? (m - this.windowSize) : 0));\n        }\n        for (var i = 0; i < this.windowSize; i++) {\n            var m = this.hashPrevious[i] & 0xffff;\n            this.hashPrevious[i] = ((m >= this.windowSize) ? (m - this.windowSize) : 0);\n        }\n    };\n    CompressedStreamWriter.prototype.insertString = function () {\n        var match;\n        var hash = ((this.currentHash << this.hashShift) ^ this.dataWindow[this.stringStart + (3 - 1)]) & this.hashMask;\n        this.hashPrevious[this.stringStart & this.windowMask] = match = this.hashHead[hash];\n        this.hashHead[hash] = this.stringStart;\n        this.currentHash = hash;\n        return match & 0xffff;\n    };\n    CompressedStreamWriter.prototype.findLongestMatch = function (curMatch) {\n        var chainLen = 4096;\n        var niceLen = 258;\n        var scan = this.stringStart;\n        var match;\n        var bestEnd = this.stringStart + this.matchLength;\n        var bestLength = Math.max(this.matchLength, 3 - 1);\n        var limit = Math.max(this.stringStart - this.maxDist, 0);\n        var stringEnd = this.stringStart + 258 - 1;\n        var scanEnd1 = this.dataWindow[bestEnd - 1];\n        var scanEnd = this.dataWindow[bestEnd];\n        var data = this.dataWindow;\n        if (bestLength >= 32) {\n            chainLen >>= 2;\n        }\n        if (niceLen > this.lookAhead) {\n            niceLen = this.lookAhead;\n        }\n        do {\n            if (data[curMatch + bestLength] !== scanEnd ||\n                data[curMatch + bestLength - 1] !== scanEnd1 ||\n                data[curMatch] !== data[scan] ||\n                data[curMatch + 1] !== data[scan + 1]) {\n                continue;\n            }\n            match = curMatch + 2;\n            scan += 2;\n            /* tslint:disable */\n            while (data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] && scan < stringEnd) {\n                /* tslint:disable */\n            }\n            if (scan > bestEnd) {\n                this.matchStart = curMatch;\n                bestEnd = scan;\n                bestLength = scan - this.stringStart;\n                if (bestLength >= niceLen) {\n                    break;\n                }\n                scanEnd1 = data[bestEnd - 1];\n                scanEnd = data[bestEnd];\n            }\n            scan = this.stringStart;\n        } while ((curMatch = (this.hashPrevious[curMatch & this.windowMask] & 0xffff)) > limit && --chainLen !== 0);\n        this.matchLength = Math.min(bestLength, this.lookAhead);\n        return this.matchLength >= 3;\n    };\n    CompressedStreamWriter.prototype.updateHash = function () {\n        this.currentHash = (this.dataWindow[this.stringStart] << this.hashShift) ^ this.dataWindow[this.stringStart + 1];\n    };\n    CompressedStreamWriter.prototype.huffmanTallyLit = function (literal) {\n        this.arrDistances[this.bufferPosition] = 0;\n        this.arrLiterals[this.bufferPosition++] = literal;\n        this.treeLiteral.codeFrequencies[literal]++;\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanTallyDist = function (dist, len) {\n        this.arrDistances[this.bufferPosition] = dist;\n        this.arrLiterals[this.bufferPosition++] = (len - 3);\n        var lc = this.huffmanLengthCode(len - 3);\n        this.treeLiteral.codeFrequencies[lc]++;\n        if (lc >= 265 && lc < 285) {\n            this.extraBits += Math.floor((lc - 261) / 4);\n        }\n        var dc = this.huffmanDistanceCode(dist - 1);\n        this.treeDistances.codeFrequencies[dc]++;\n        if (dc >= 4) {\n            this.extraBits += Math.floor((dc / 2 - 1));\n        }\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanFlushBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.treeLiteral.codeFrequencies[256]++;\n        this.treeLiteral.buildTree();\n        this.treeDistances.buildTree();\n        this.treeLiteral.calculateBLFreq(this.treeCodeLengths);\n        this.treeDistances.calculateBLFreq(this.treeCodeLengths);\n        this.treeCodeLengths.buildTree();\n        var blTreeCodes = 4;\n        for (var i = 18; i > blTreeCodes; i--) {\n            if (this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[i]] > 0) {\n                blTreeCodes = i + 1;\n            }\n        }\n        var opt_len = 14 + blTreeCodes * 3 + this.treeCodeLengths.getEncodedLength() +\n            this.treeLiteral.getEncodedLength() + this.treeDistances.getEncodedLength() + this.extraBits;\n        var static_len = this.extraBits;\n        for (var i = 0; i < 286; i++) {\n            static_len += this.treeLiteral.codeFrequencies[i] * arrLiteralLengths[i];\n        }\n        for (var i = 0; i < 30; i++) {\n            static_len += this.treeDistances.codeFrequencies[i] * arrDistanceLengths[i];\n        }\n        if (opt_len >= static_len) {\n            // Force static trees.\n            opt_len = static_len;\n        }\n        if (storedOffset >= 0 && storedLength + 4 < opt_len >> 3) {\n            this.huffmanFlushStoredBlock(stored, storedOffset, storedLength, lastBlock);\n        }\n        else if (opt_len == static_len) {\n            // Encode with static tree.\n            this.pendingBufferWriteBits((1 << 1) + (lastBlock ? 1 : 0), 3);\n            this.treeLiteral.setStaticCodes(arrLiteralCodes, arrLiteralLengths);\n            this.treeDistances.setStaticCodes(arrDistanceCodes, arrDistanceLengths);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n        else {\n            this.pendingBufferWriteBits((2 << 1) + (lastBlock ? 1 : 0), 3);\n            this.huffmanSendAllTrees(blTreeCodes);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n    };\n    CompressedStreamWriter.prototype.huffmanFlushStoredBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.pendingBufferWriteBits((0 << 1) + (lastBlock ? 1 : 0), 3);\n        this.pendingBufferAlignToByte();\n        this.pendingBufferWriteShort(storedLength);\n        this.pendingBufferWriteShort(~storedLength);\n        this.pendingBufferWriteByteBlock(stored, storedOffset, storedLength);\n        this.huffmanReset();\n    };\n    CompressedStreamWriter.prototype.huffmanLengthCode = function (len) {\n        if (len === 255) {\n            return 285;\n        }\n        var code = 257;\n        while (len >= 8) {\n            code += 4;\n            len >>= 1;\n        }\n        return code + len;\n    };\n    CompressedStreamWriter.prototype.huffmanDistanceCode = function (distance) {\n        var code = 0;\n        while (distance >= 4) {\n            code += 2;\n            distance >>= 1;\n        }\n        return code + distance;\n    };\n    CompressedStreamWriter.prototype.huffmanSendAllTrees = function (blTreeCodes) {\n        this.treeCodeLengths.buildCodes();\n        this.treeLiteral.buildCodes();\n        this.treeDistances.buildCodes();\n        this.pendingBufferWriteBits(this.treeLiteral.treeLength - 257, 5);\n        this.pendingBufferWriteBits(this.treeDistances.treeLength - 1, 5);\n        this.pendingBufferWriteBits(blTreeCodes - 4, 4);\n        for (var rank = 0; rank < blTreeCodes; rank++) {\n            this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[rank]], 3);\n        }\n        this.treeLiteral.writeTree(this.treeCodeLengths);\n        this.treeDistances.writeTree(this.treeCodeLengths);\n    };\n    CompressedStreamWriter.prototype.huffmanReset = function () {\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.treeLiteral.reset();\n        this.treeDistances.reset();\n        this.treeCodeLengths.reset();\n    };\n    CompressedStreamWriter.prototype.huffmanCompressBlock = function () {\n        for (var i = 0; i < this.bufferPosition; i++) {\n            var literalLen = this.arrLiterals[i] & 255;\n            var dist = this.arrDistances[i];\n            if (dist-- !== 0) {\n                var lc = this.huffmanLengthCode(literalLen);\n                this.treeLiteral.writeCodeToStream(lc);\n                var bits = Math.floor((lc - 261) / 4);\n                if (bits > 0 && bits <= 5) {\n                    this.pendingBufferWriteBits(literalLen & ((1 << bits) - 1), bits);\n                }\n                var dc = this.huffmanDistanceCode(dist);\n                this.treeDistances.writeCodeToStream(dc);\n                bits = Math.floor(dc / 2 - 1);\n                if (bits > 0) {\n                    this.pendingBufferWriteBits(dist & ((1 << bits) - 1), bits);\n                }\n            }\n            else {\n                this.treeLiteral.writeCodeToStream(literalLen);\n            }\n        }\n        this.treeLiteral.writeCodeToStream(256);\n    };\n    /**\n     * write bits in to internal buffer\n     * @param {number} b - source of bits\n     * @param {number} count - count of bits to write\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteBits = function (b, count) {\n        var uint = new Uint32Array(1);\n        uint[0] = this.pendingBufCache | (b << this.pendingBufBitsInCache);\n        this.pendingBufCache = uint[0];\n        this.pendingBufBitsInCache += count;\n        this.pendingBufferFlushBits();\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlush = function (isClose) {\n        this.pendingBufferFlushBits();\n        if (this.pendingBufLength > 0) {\n            var array = new Uint8Array(this.pendingBufLength);\n            array.set(this.pendingBuffer.subarray(0, this.pendingBufLength), 0);\n            this.stream.push(array);\n        }\n        this.pendingBufLength = 0;\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlushBits = function () {\n        var result = 0;\n        while (this.pendingBufBitsInCache >= 8 && this.pendingBufLength < (1 << 16)) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n            this.pendingBufCache >>= 8;\n            this.pendingBufBitsInCache -= 8;\n            result++;\n        }\n        return result;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteByteBlock = function (data, offset, length) {\n        var array = data.subarray(offset, offset + length);\n        this.pendingBuffer.set(array, this.pendingBufLength);\n        this.pendingBufLength += length;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteShort = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s;\n        this.pendingBuffer[this.pendingBufLength++] = (s >> 8);\n    };\n    CompressedStreamWriter.prototype.pendingBufferAlignToByte = function () {\n        if (this.pendingBufBitsInCache > 0) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n        }\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n    };\n    /**\n     * close the stream and write all pending buffer in to stream\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.close = function () {\n        do {\n            this.pendingBufferFlush(true);\n            if (!this.compressData(true)) {\n                this.pendingBufferFlush(true);\n                this.pendingBufferAlignToByte();\n                if (!this.noWrap) {\n                    this.pendingBufferWriteShortBytes(this.checkSum >> 16);\n                    this.pendingBufferWriteShortBytes(this.checkSum & 0xffff);\n                }\n                this.pendingBufferFlush(true);\n            }\n        } while (!(this.inputEnd === this.inputOffset) ||\n            !(this.pendingBufLength === 0));\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.destroy = function () {\n        this.stream = [];\n        this.stream = undefined;\n        this.pendingBuffer = undefined;\n        this.treeLiteral = undefined;\n        this.treeDistances = undefined;\n        this.treeCodeLengths = undefined;\n        this.arrLiterals = undefined;\n        this.arrDistances = undefined;\n        this.hashHead = undefined;\n        this.hashPrevious = undefined;\n        this.dataWindow = undefined;\n        this.inputBuffer = undefined;\n        this.pendingBufLength = undefined;\n        this.pendingBufCache = undefined;\n        this.pendingBufBitsInCache = undefined;\n        this.bufferPosition = undefined;\n        this.extraBits = undefined;\n        this.currentHash = undefined;\n        this.matchStart = undefined;\n        this.matchLength = undefined;\n        this.matchPrevAvail = undefined;\n        this.blockStart = undefined;\n        this.stringStart = undefined;\n        this.lookAhead = undefined;\n        this.totalBytesIn = undefined;\n        this.inputOffset = undefined;\n        this.inputEnd = undefined;\n        this.windowSize = undefined;\n        this.windowMask = undefined;\n        this.hashSize = undefined;\n        this.hashMask = undefined;\n        this.hashShift = undefined;\n        this.maxDist = undefined;\n        this.checkSum = undefined;\n        this.noWrap = undefined;\n    };\n    return CompressedStreamWriter;\n}());\nexport { CompressedStreamWriter };\n/**\n * represent the Huffman Tree\n */\nvar CompressorHuffmanTree = /** @class */ (function () {\n    /**\n     * Create new Huffman Tree\n     * @param {CompressedStreamWriter} writer instance\n     * @param {number} elementCount - element count\n     * @param {number} minCodes - minimum count\n     * @param {number} maxLength - maximum count\n     */\n    function CompressorHuffmanTree(writer, elementCount, minCodes, maxLength) {\n        this.writer = writer;\n        this.codeMinCount = minCodes;\n        this.maxLength = maxLength;\n        this.codeFrequency = new Uint16Array(elementCount);\n        this.lengthCount = new Int32Array(maxLength);\n    }\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"treeLength\", {\n        get: function () {\n            return this.codeCount;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeLengths\", {\n        get: function () {\n            return this.codeLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeFrequencies\", {\n        get: function () {\n            return this.codeFrequency;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompressorHuffmanTree.prototype.setStaticCodes = function (codes, lengths) {\n        var temp = new Int16Array(codes.length);\n        temp.set(codes, 0);\n        this.codes = temp;\n        var lengthTemp = new Uint8Array(lengths.length);\n        lengthTemp.set(lengths, 0);\n        this.codeLength = lengthTemp;\n    };\n    /**\n     * reset all code data in tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.reset = function () {\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            this.codeFrequency[i] = 0;\n        }\n        this.codes = undefined;\n        this.codeLength = undefined;\n    };\n    /**\n     * write code to the compressor output stream\n     * @param {number} code - code to be written\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeCodeToStream = function (code) {\n        this.writer.pendingBufferWriteBits(this.codes[code] & 0xffff, this.codeLength[code]);\n    };\n    /**\n     * calculate code from their frequencies\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildCodes = function () {\n        var nextCode = new Int32Array(this.maxLength);\n        this.codes = new Int16Array(this.codeCount);\n        var code = 0;\n        for (var bitsCount = 0; bitsCount < this.maxLength; bitsCount++) {\n            nextCode[bitsCount] = code;\n            code += this.lengthCount[bitsCount] << (15 - bitsCount);\n        }\n        for (var i = 0; i < this.codeCount; i++) {\n            var bits = this.codeLength[i];\n            if (bits > 0) {\n                this.codes[i] = CompressorHuffmanTree.bitReverse(nextCode[bits - 1]);\n                nextCode[bits - 1] += 1 << (16 - bits);\n            }\n        }\n    };\n    CompressorHuffmanTree.bitReverse = function (value) {\n        return (CompressorHuffmanTree.reverseBits[value & 15] << 12\n            | CompressorHuffmanTree.reverseBits[(value >> 4) & 15] << 8\n            | CompressorHuffmanTree.reverseBits[(value >> 8) & 15] << 4\n            | CompressorHuffmanTree.reverseBits[value >> 12]);\n    };\n    /**\n     * calculate length of compressed data\n     * @returns {number}\n     */\n    CompressorHuffmanTree.prototype.getEncodedLength = function () {\n        var len = 0;\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            len += this.codeFrequency[i] * this.codeLength[i];\n        }\n        return len;\n    };\n    /**\n     * calculate code frequencies\n     * @param {CompressorHuffmanTree} blTree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.calculateBLFreq = function (blTree) {\n        var maxCount;\n        var minCount;\n        var count;\n        var curLen = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            count = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxCount = 138;\n                minCount = 3;\n            }\n            else {\n                maxCount = 6;\n                minCount = 3;\n                if (curLen !== nextLen) {\n                    blTree.codeFrequency[nextLen]++;\n                    count = 0;\n                }\n            }\n            curLen = nextLen;\n            i++;\n            while (i < this.codeCount && curLen === this.codeLength[i]) {\n                i++;\n                if (++count >= maxCount) {\n                    break;\n                }\n            }\n            if (count < minCount) {\n                blTree.codeFrequency[curLen] += count;\n            }\n            else if (curLen !== 0) {\n                blTree.codeFrequency[16]++;\n            }\n            else if (count <= 10) {\n                blTree.codeFrequency[17]++;\n            }\n            else {\n                blTree.codeFrequency[18]++;\n            }\n        }\n    };\n    /**\n     * @param {CompressorHuffmanTree} blTree - write tree to output stream\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeTree = function (blTree) {\n        var maxRepeatCount;\n        var minRepeatCount;\n        var currentRepeatCount;\n        var currentCodeLength = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            currentRepeatCount = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxRepeatCount = 138;\n                minRepeatCount = 3;\n            }\n            else {\n                maxRepeatCount = 6;\n                minRepeatCount = 3;\n                if (currentCodeLength !== nextLen) {\n                    blTree.writeCodeToStream(nextLen);\n                    currentRepeatCount = 0;\n                }\n            }\n            currentCodeLength = nextLen;\n            i++;\n            while (i < this.codeCount && currentCodeLength === this.codeLength[i]) {\n                i++;\n                if (++currentRepeatCount >= maxRepeatCount) {\n                    break;\n                }\n            }\n            if (currentRepeatCount < minRepeatCount) {\n                while (currentRepeatCount-- > 0) {\n                    blTree.writeCodeToStream(currentCodeLength);\n                }\n            }\n            else if (currentCodeLength !== 0) {\n                blTree.writeCodeToStream(16);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 2);\n            }\n            else if (currentRepeatCount <= 10) {\n                blTree.writeCodeToStream(17);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 3);\n            }\n            else {\n                blTree.writeCodeToStream(18);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 11, 7);\n            }\n        }\n    };\n    /**\n     * Build huffman tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildTree = function () {\n        var codesCount = this.codeFrequency.length;\n        var arrTree = new Int32Array(codesCount);\n        var treeLength = 0;\n        var maxCount = 0;\n        for (var n = 0; n < codesCount; n++) {\n            var freq = this.codeFrequency[n];\n            if (freq !== 0) {\n                var pos = treeLength++;\n                var pPos = 0;\n                while (pos > 0 && this.codeFrequency[arrTree[pPos = Math.floor((pos - 1) / 2)]] > freq) {\n                    arrTree[pos] = arrTree[pPos];\n                    pos = pPos;\n                }\n                arrTree[pos] = n;\n                maxCount = n;\n            }\n        }\n        while (treeLength < 2) {\n            arrTree[treeLength++] =\n                (maxCount < 2) ? ++maxCount : 0;\n        }\n        this.codeCount = Math.max(maxCount + 1, this.codeMinCount);\n        var leafsCount = treeLength;\n        var nodesCount = leafsCount;\n        var child = new Int32Array(4 * treeLength - 2);\n        var values = new Int32Array(2 * treeLength - 1);\n        for (var i = 0; i < treeLength; i++) {\n            var node = arrTree[i];\n            var iIndex = 2 * i;\n            child[iIndex] = node;\n            child[iIndex + 1] = -1;\n            values[i] = (this.codeFrequency[node] << 8);\n            arrTree[i] = i;\n        }\n        this.constructHuffmanTree(arrTree, treeLength, values, nodesCount, child);\n        this.buildLength(child);\n    };\n    CompressorHuffmanTree.prototype.constructHuffmanTree = function (arrTree, treeLength, values, nodesCount, child) {\n        do {\n            var first = arrTree[0];\n            var last = arrTree[--treeLength];\n            var lastVal = values[last];\n            var pPos = 0;\n            var path = 1;\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            }\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n            var second = arrTree[0];\n            last = nodesCount++;\n            child[2 * last] = first;\n            child[2 * last + 1] = second;\n            var minDepth = Math.min(values[first] & 0xff, values[second] & 0xff);\n            values[last] = lastVal = values[first] + values[second] - minDepth + 1;\n            pPos = 0;\n            path = 1;\n            /* tslint:disable */\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            } /* tslint:disable */\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n        } while (treeLength > 1);\n    };\n    CompressorHuffmanTree.prototype.buildLength = function (child) {\n        this.codeLength = new Uint8Array(this.codeFrequency.length);\n        var numNodes = Math.floor(child.length / 2);\n        var numLeafs = Math.floor((numNodes + 1) / 2);\n        var overflow = 0;\n        for (var i = 0; i < this.maxLength; i++) {\n            this.lengthCount[i] = 0;\n        }\n        overflow = this.calculateOptimalCodeLength(child, overflow, numNodes);\n        if (overflow === 0) {\n            return;\n        }\n        var iIncreasableLength = this.maxLength - 1;\n        do {\n            while (this.lengthCount[--iIncreasableLength] === 0) {\n                /* tslint:disable */\n            }\n            do {\n                this.lengthCount[iIncreasableLength]--;\n                this.lengthCount[++iIncreasableLength]++;\n                overflow -= (1 << (this.maxLength - 1 - iIncreasableLength));\n            } while (overflow > 0 && iIncreasableLength < this.maxLength - 1);\n        } while (overflow > 0);\n        this.recreateTree(child, overflow, numLeafs);\n    };\n    CompressorHuffmanTree.prototype.recreateTree = function (child, overflow, numLeafs) {\n        this.lengthCount[this.maxLength - 1] += overflow;\n        this.lengthCount[this.maxLength - 2] -= overflow;\n        var nodePtr = 2 * numLeafs;\n        for (var bits = this.maxLength; bits !== 0; bits--) {\n            var n = this.lengthCount[bits - 1];\n            while (n > 0) {\n                var childPtr = 2 * child[nodePtr++];\n                if (child[childPtr + 1] === -1) {\n                    this.codeLength[child[childPtr]] = bits;\n                    n--;\n                }\n            }\n        }\n    };\n    CompressorHuffmanTree.prototype.calculateOptimalCodeLength = function (child, overflow, numNodes) {\n        var lengths = new Int32Array(numNodes);\n        lengths[numNodes - 1] = 0;\n        for (var i = numNodes - 1; i >= 0; i--) {\n            var childIndex = 2 * i + 1;\n            if (child[childIndex] !== -1) {\n                var bitLength = lengths[i] + 1;\n                if (bitLength > this.maxLength) {\n                    bitLength = this.maxLength;\n                    overflow++;\n                }\n                lengths[child[childIndex - 1]] = lengths[child[childIndex]] = bitLength;\n            }\n            else {\n                var bitLength = lengths[i];\n                this.lengthCount[bitLength - 1]++;\n                this.codeLength[child[childIndex - 1]] = lengths[i];\n            }\n        }\n        return overflow;\n    };\n    CompressorHuffmanTree.reverseBits = [0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15];\n    CompressorHuffmanTree.huffCodeLengthOrders = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n    return CompressorHuffmanTree;\n}());\nexport { CompressorHuffmanTree };\n/**\n * Checksum calculator, based on Adler32 algorithm.\n */\nvar ChecksumCalculator = /** @class */ (function () {\n    function ChecksumCalculator() {\n    }\n    /**\n     * Updates checksum by calculating checksum of the\n     * given buffer and adding it to current value.\n     * @param {number} checksum - current checksum.\n     * @param {Uint8Array} buffer - data byte array.\n     * @param {number} offset - offset in the buffer.\n     * @param {number} length - length of data to be used from the stream.\n     * @returns {number}\n     */\n    ChecksumCalculator.checksumUpdate = function (checksum, buffer, offset, length) {\n        var uint = new Uint32Array(1);\n        uint[0] = checksum;\n        var checksum_uint = uint[0];\n        var s1 = uint[0] = checksum_uint & 65535;\n        var s2 = uint[0] = checksum_uint >> ChecksumCalculator.checkSumBitOffset;\n        while (length > 0) {\n            var steps = Math.min(length, ChecksumCalculator.checksumIterationCount);\n            length -= steps;\n            while (--steps >= 0) {\n                s1 = s1 + (uint[0] = (buffer[offset++] & 255));\n                s2 = s2 + s1;\n            }\n            s1 %= ChecksumCalculator.checksumBase;\n            s2 %= ChecksumCalculator.checksumBase;\n        }\n        checksum_uint = (s2 << ChecksumCalculator.checkSumBitOffset) | s1;\n        return checksum_uint;\n    };\n    ChecksumCalculator.checkSumBitOffset = 16;\n    ChecksumCalculator.checksumBase = 65521;\n    ChecksumCalculator.checksumIterationCount = 3800;\n    return ChecksumCalculator;\n}());\nexport { ChecksumCalculator };\n/**\n * Huffman Tree literal calculation\n */\n(function () {\n    var i = 0;\n    while (i < 144) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x030 + i) << 8);\n        arrLiteralLengths[i++] = 8;\n    }\n    while (i < 256) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x190 - 144 + i) << 7);\n        arrLiteralLengths[i++] = 9;\n    }\n    while (i < 280) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x000 - 256 + i) << 9);\n        arrLiteralLengths[i++] = 7;\n    }\n    while (i < 286) {\n        arrLiteralCodes[i] = CompressorHuffmanTree.bitReverse((0x0c0 - 280 + i) << 8);\n        arrLiteralLengths[i++] = 8;\n    }\n    for (i = 0; i < 30; i++) {\n        arrDistanceCodes[i] = CompressorHuffmanTree.bitReverse(i << 11);\n        arrDistanceLengths[i] = 5;\n    }\n})();\n","import { CompressedStreamWriter } from './compression-writer';\nimport { Save } from '@syncfusion/ej2-file-utils';\nvar crc32Table = [];\n/**\n * class provide compression library\n * ```typescript\n * let archive = new ZipArchive();\n * archive.compressionLevel = 'Normal';\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * archive.addItem(archiveItem);\n * archive.save(fileName.zip);\n * ```\n */\nvar ZipArchive = /** @class */ (function () {\n    /**\n     * constructor for creating ZipArchive instance\n     */\n    function ZipArchive() {\n        this.files = [];\n        this.level = 'Normal';\n        Save.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n    }\n    Object.defineProperty(ZipArchive.prototype, \"compressionLevel\", {\n        /**\n         * gets compression level\n         */\n        get: function () {\n            return this.level;\n        },\n        /**\n         * sets compression level\n         */\n        set: function (level) {\n            this.level = level;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ZipArchive.prototype, \"length\", {\n        /**\n         * gets items count\n         */\n        get: function () {\n            if (this.files === undefined) {\n                return 0;\n            }\n            return this.files.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * add new item to archive\n     * @param {ZipArchiveItem} item - item to be added\n     * @returns {void}\n     */\n    ZipArchive.prototype.addItem = function (item) {\n        if (item === null || item === undefined) {\n            throw new Error('ArgumentException: item cannot be null or undefined');\n        }\n        for (var i = 0; i < this.files.length; i++) {\n            var file = this.files[i];\n            if (file instanceof ZipArchiveItem) {\n                if (file.name === item.name) {\n                    throw new Error('item with same name already exist');\n                }\n            }\n        }\n        this.files.push(item);\n    };\n    /**\n     * add new directory to archive\n     * @param directoryName directoryName to be created\n     * @returns {void}\n     */\n    ZipArchive.prototype.addDirectory = function (directoryName) {\n        if (directoryName === null || directoryName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (directoryName.length === 0) {\n            throw new Error('ArgumentException: string cannot be empty');\n        }\n        if (directoryName.slice(-1) !== '/') {\n            directoryName += '/';\n        }\n        if (this.files.indexOf(directoryName) !== -1) {\n            throw new Error('item with same name already exist');\n        }\n        this.files.push(directoryName);\n    };\n    /**\n     * gets item at specified index\n     * @param {number} index - item index\n     * @returns {ZipArchiveItem}\n     */\n    ZipArchive.prototype.getItem = function (index) {\n        if (index >= 0 && index < this.files.length) {\n            return this.files[index];\n        }\n        return undefined;\n    };\n    /**\n     * determines whether an element is in the collection\n     * @param {string | ZipArchiveItem} item - item to search\n     * @returns {boolean}\n     */\n    ZipArchive.prototype.contains = function (item) {\n        return this.files.indexOf(item) !== -1 ? true : false;\n    };\n    /**\n     * save archive with specified file name\n     * @param {string} fileName save archive with specified file name\n     * @returns {Promise<ZipArchive>}\n     */\n    ZipArchive.prototype.save = function (fileName) {\n        if (fileName === null || fileName === undefined || fileName.length === 0) {\n            throw new Error('ArgumentException: fileName cannot be null or undefined');\n        }\n        if (this.files.length === 0) {\n            throw new Error('InvalidOperation');\n        }\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal(fileName, false).then(function () {\n                resolve(zipArchive);\n            });\n        });\n    };\n    /**\n     * Save archive as blob\n     * @return {Promise<Blob>}\n     */\n    ZipArchive.prototype.saveAsBlob = function () {\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal('', true).then(function (blob) {\n                resolve(blob);\n            });\n        });\n    };\n    ZipArchive.prototype.saveInternal = function (fileName, skipFileSave) {\n        var _this = this;\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            var zipData = [];\n            var dirLength = 0;\n            for (var i = 0; i < zipArchive.files.length; i++) {\n                var compressedObject = _this.getCompressedData(_this.files[i]);\n                compressedObject.then(function (data) {\n                    dirLength = zipArchive.constructZippedObject(zipData, data, dirLength, data.isDirectory);\n                    if (zipData.length === zipArchive.files.length) {\n                        var blob = zipArchive.writeZippedContent(fileName, zipData, dirLength, skipFileSave);\n                        resolve(blob);\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchive.prototype.destroy = function () {\n        if (this.files !== undefined && this.files.length > 0) {\n            for (var i = 0; i < this.files.length; i++) {\n                var file = this.files[i];\n                if (file instanceof ZipArchiveItem) {\n                    file.destroy();\n                }\n                file = undefined;\n            }\n            this.files = [];\n        }\n        this.files = undefined;\n        this.level = undefined;\n    };\n    ZipArchive.prototype.getCompressedData = function (item) {\n        var zipArchive = this;\n        var promise = new Promise(function (resolve, reject) {\n            if (item instanceof ZipArchiveItem) {\n                var reader_1 = new FileReader();\n                reader_1.onload = function () {\n                    var input = new Uint8Array(reader_1.result);\n                    var data = {\n                        fileName: item.name, crc32Value: 0, compressedData: [],\n                        compressedSize: undefined, uncompressedDataSize: input.length, compressionType: undefined,\n                        isDirectory: false\n                    };\n                    if (zipArchive.level === 'Normal') {\n                        zipArchive.compressData(input, data, crc32Table);\n                        var length_1 = 0;\n                        for (var i = 0; i < data.compressedData.length; i++) {\n                            length_1 += data.compressedData[i].length;\n                        }\n                        data.compressedSize = length_1;\n                        data.compressionType = '\\x08\\x00'; //Deflated = 8\n                    }\n                    else {\n                        data.compressedSize = input.length;\n                        data.crc32Value = zipArchive.calculateCrc32Value(0, input, crc32Table);\n                        data.compressionType = '\\x00\\x00'; // Stored = 0\n                        data.compressedData.push(input);\n                    }\n                    resolve(data);\n                };\n                reader_1.readAsArrayBuffer(item.data);\n            }\n            else {\n                var data = {\n                    fileName: item, crc32Value: 0, compressedData: '', compressedSize: 0, uncompressedDataSize: 0,\n                    compressionType: '\\x00\\x00', isDirectory: true\n                };\n                resolve(data);\n            }\n        });\n        return promise;\n    };\n    ZipArchive.prototype.compressData = function (input, data, crc32Table) {\n        var compressor = new CompressedStreamWriter(true);\n        var currentIndex = 0;\n        var nextIndex = 0;\n        do {\n            if (currentIndex >= input.length) {\n                compressor.close();\n                break;\n            }\n            nextIndex = Math.min(input.length, currentIndex + 16384);\n            var subArray = input.subarray(currentIndex, nextIndex);\n            data.crc32Value = this.calculateCrc32Value(data.crc32Value, subArray, crc32Table);\n            compressor.write(subArray, 0, nextIndex - currentIndex);\n            currentIndex = nextIndex;\n        } while (currentIndex <= input.length);\n        data.compressedData = compressor.compressedData;\n        compressor.destroy();\n    };\n    ZipArchive.prototype.constructZippedObject = function (zipParts, data, dirLength, isDirectory) {\n        var extFileAttr = 0;\n        var date = new Date();\n        if (isDirectory) {\n            extFileAttr = extFileAttr | 0x00010; // directory flag\n        }\n        extFileAttr = extFileAttr | (0 & 0x3F);\n        var header = this.writeHeader(data, date);\n        var localHeader = 'PK\\x03\\x04' + header + data.fileName;\n        var centralDir = this.writeCentralDirectory(data, header, dirLength, extFileAttr);\n        zipParts.push({ localHeader: localHeader, centralDir: centralDir, compressedData: data });\n        return dirLength + localHeader.length + data.compressedSize;\n    };\n    ZipArchive.prototype.writeHeader = function (data, date) {\n        var zipHeader = '';\n        zipHeader += '\\x0A\\x00' + '\\x00\\x00'; // version needed to extract & general purpose bit flag\n        zipHeader += data.compressionType; // compression method Deflate=8,Stored=0\n        zipHeader += this.getBytes(this.getModifiedTime(date), 2); // last modified Time\n        zipHeader += this.getBytes(this.getModifiedDate(date), 2); // last modified date\n        zipHeader += this.getBytes(data.crc32Value, 4); // crc-32 value\n        zipHeader += this.getBytes(data.compressedSize, 4); // compressed file size\n        zipHeader += this.getBytes(data.uncompressedDataSize, 4); // uncompressed file size\n        zipHeader += this.getBytes(data.fileName.length, 2); // file name length\n        zipHeader += this.getBytes(0, 2); // extra field length\n        return zipHeader;\n    };\n    ZipArchive.prototype.writeZippedContent = function (fileName, zipData, localDirLen, skipFileSave) {\n        var cenDirLen = 0;\n        var buffer = [];\n        for (var i = 0; i < zipData.length; i++) {\n            var item = zipData[i];\n            cenDirLen += item.centralDir.length;\n            buffer.push(this.getArrayBuffer(item.localHeader));\n            while (item.compressedData.compressedData.length) {\n                buffer.push(item.compressedData.compressedData.shift().buffer);\n            }\n        }\n        for (var i = 0; i < zipData.length; i++) {\n            buffer.push(this.getArrayBuffer(zipData[i].centralDir));\n        }\n        buffer.push(this.getArrayBuffer(this.writeFooter(zipData, cenDirLen, localDirLen)));\n        var blob = new Blob(buffer, { type: 'application/zip' });\n        if (!skipFileSave) {\n            Save.save(fileName, blob);\n        }\n        return blob;\n    };\n    ZipArchive.prototype.writeCentralDirectory = function (data, localHeader, offset, externalFileAttribute) {\n        var directoryHeader = 'PK\\x01\\x02' +\n            this.getBytes(0x0014, 2) + localHeader + // inherit from file header\n            this.getBytes(0, 2) + // comment length\n            '\\x00\\x00' + '\\x00\\x00' + // internal file attributes \n            this.getBytes(externalFileAttribute, 4) + // external file attributes\n            this.getBytes(offset, 4) + // local fileHeader relative offset\n            data.fileName;\n        return directoryHeader;\n    };\n    ZipArchive.prototype.writeFooter = function (zipData, centralLength, localLength) {\n        var dirEnd = 'PK\\x05\\x06' + '\\x00\\x00' + '\\x00\\x00' +\n            this.getBytes(zipData.length, 2) + this.getBytes(zipData.length, 2) +\n            this.getBytes(centralLength, 4) + this.getBytes(localLength, 4) +\n            this.getBytes(0, 2);\n        return dirEnd;\n    };\n    ZipArchive.prototype.getArrayBuffer = function (input) {\n        var a = new Uint8Array(input.length);\n        for (var j = 0; j < input.length; ++j) {\n            a[j] = input.charCodeAt(j) & 0xFF;\n        }\n        return a.buffer;\n    };\n    ZipArchive.prototype.getBytes = function (value, offset) {\n        var bytes = '';\n        for (var i = 0; i < offset; i++) {\n            bytes += String.fromCharCode(value & 0xff);\n            value = value >>> 8;\n        }\n        return bytes;\n    };\n    ZipArchive.prototype.getModifiedTime = function (date) {\n        var modTime = date.getHours();\n        modTime = modTime << 6;\n        modTime = modTime | date.getMinutes();\n        modTime = modTime << 5;\n        return modTime = modTime | date.getSeconds() / 2;\n    };\n    ZipArchive.prototype.getModifiedDate = function (date) {\n        var modiDate = date.getFullYear() - 1980;\n        modiDate = modiDate << 4;\n        modiDate = modiDate | (date.getMonth() + 1);\n        modiDate = modiDate << 5;\n        return modiDate = modiDate | date.getDate();\n    };\n    ZipArchive.prototype.calculateCrc32Value = function (crc32Value, input, crc32Table) {\n        crc32Value ^= -1;\n        for (var i = 0; i < input.length; i++) {\n            crc32Value = (crc32Value >>> 8) ^ crc32Table[(crc32Value ^ input[i]) & 0xFF];\n        }\n        return (crc32Value ^ (-1));\n    };\n    return ZipArchive;\n}());\nexport { ZipArchive };\n/**\n * Class represent unique ZipArchive item\n * ```typescript\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * ```\n */\nvar ZipArchiveItem = /** @class */ (function () {\n    /**\n     * constructor for creating {ZipArchiveItem} instance\n     * @param {Blob|ArrayBuffer} data file data\n     * @param {itemName} itemName absolute file path\n     */\n    function ZipArchiveItem(data, itemName) {\n        if (data === null || data === undefined) {\n            throw new Error('ArgumentException: data cannot be null or undefined');\n        }\n        if (itemName === null || itemName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (itemName.length === 0) {\n            throw new Error('string cannot be empty');\n        }\n        this.data = data;\n        this.name = itemName;\n    }\n    Object.defineProperty(ZipArchiveItem.prototype, \"name\", {\n        /**\n         * Get the name of archive item\n         * @returns string\n         */\n        get: function () {\n            return this.fileName;\n        },\n        /**\n         * Set the name of archive item\n         * @param  {string} value\n         */\n        set: function (value) {\n            this.fileName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchiveItem.prototype.destroy = function () {\n        this.fileName = undefined;\n        this.data = undefined;\n    };\n    return ZipArchiveItem;\n}());\nexport { ZipArchiveItem };\n/**\n * construct cyclic redundancy code table\n */\n(function () {\n    var i;\n    for (var j = 0; j < 256; j++) {\n        i = j;\n        for (var k = 0; k < 8; k++) {\n            i = ((i & 1) ? (0xEDB88320 ^ (i >>> 1)) : (i >>> 1));\n        }\n        crc32Table[j] = i;\n    }\n})();\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    curObject.splice(i, 1);\n                    var indexLocation = this.ranArray.indexOf(id);\n                    if (indexLocation !== -1) {\n                        this.ranArray.splice(indexLocation, 1);\n                    }\n                    break;\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '',\n                    'symbol-alt-narrow': ''\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': ''\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '',\n                'perMille': '',\n                'infinity': '',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '#,##0.00',\n                'accounting': '#,##0.00;(#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[dM]([^dM])[dM]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        if (curMatch) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = (split.length > 1);\n            curObj.nData = getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency') {\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        _this.needsID = false;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the control within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n        }\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection \n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                this.toggleEvents();\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intOver(evt, eleObj.target);\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vrifi'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 20));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\n// import { IValueFormatter } from '../base/interface';\n/**\n * ValueFormatter class to globalize the value.\n * @private\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        // if (!isNullOrUndefined(cultureName)) {\n        //     this.intl.culture = cultureName;\n        // }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    // public getParserFunction(format: NumberFormatOptions | DateFormatOptions): Function {\n    //     if ((<DateFormatOptions>format).type) {\n    //         return this.intl.getDateParser(<DateFormatOptions>format);\n    //     } else {\n    //         return this.intl.getNumberParser(<DateFormatOptions>format);\n    //     }\n    // }\n    // public fromView(value: string, format: Function, type?: string): string | number | Date {\n    //     if (type === 'date' || type === 'datetime' || type === 'number') {\n    //         return format(value);\n    //     } else {\n    //         return value;\n    //     }\n    // }\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    // public setCulture(cultureName: string): void {\n    //     if (!isNullOrUndefined(cultureName)) {\n    //         setCulture(cultureName);\n    //     }\n    // }\n    /* tslint:disable:no-any */\n    ValueFormatter.prototype.displayText = function (value, format) {\n        return this.toView(value, this.getFormatFunction(format));\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","import { ValueFormatter } from './value-formatter';\n/**\n * CsvHelper class\n * @private\n */\nvar CsvHelper = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function CsvHelper(json) {\n        this.csvStr = '';\n        this.formatter = new ValueFormatter();\n        this.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n        if (json.styles !== null && json.styles !== undefined) {\n            this.globalStyles = new Map();\n            for (var i = 0; i < json.styles.length; i++) {\n                if (json.styles[i].name !== undefined && json.styles[i].numberFormat !== undefined) {\n                    this.globalStyles.set(json.styles[i].name, json.styles[i].numberFormat);\n                }\n            }\n        }\n        // Parses Worksheets data to DOM.        \n        if (json.worksheets !== null && json.worksheets !== undefined) {\n            this.parseWorksheet(json.worksheets[0]);\n        }\n        //this.csvStr = 'a1,a2,a3\\nb1,b2,b3';\n    }\n    CsvHelper.prototype.parseWorksheet = function (json) {\n        //Rows\n        if (json.rows !== null && json.rows !== undefined) {\n            this.parseRows(json.rows);\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRows = function (rows) {\n        var count = 1;\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            //Row index\n            if (row.index !== null && row.index !== undefined) {\n                while (count < row.index) {\n                    this.csvStr += '\\n';\n                    count++;\n                }\n                this.parseRow(row);\n            }\n            else {\n                throw Error('Row index is missing.');\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRow = function (row) {\n        if (row.cells !== null && row.cells !== undefined) {\n            var count = 1;\n            for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n                var cell = _a[_i];\n                //cell index\n                if (cell.index !== null && cell.index !== undefined) {\n                    while (count < cell.index) {\n                        this.csvStr += ',';\n                        count++;\n                    }\n                    this.parseCell(cell);\n                }\n                else {\n                    throw Error('Cell index is missing.');\n                }\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseCell = function (cell) {\n        var csv = this.csvStr;\n        if (cell.value !== undefined) {\n            if (cell.value instanceof Date) {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: cell.style.numberFormat }));\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: this.globalStyles.get(cell.style.name) }));\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else if (typeof (cell.value) === 'boolean') {\n                csv += cell.value ? 'TRUE' : 'FALSE';\n            }\n            else if (typeof (cell.value) === 'number') {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: cell.style.numberFormat }));\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: this.globalStyles.get(cell.style.name) }));\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else {\n                csv += this.parseCellValue(cell.value);\n            }\n        }\n        this.csvStr = csv;\n    };\n    CsvHelper.prototype.parseCellValue = function (value) {\n        if (value.indexOf(',') !== -1) {\n            return value = '\\\"' + value + '\\\"';\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     */\n    CsvHelper.prototype.save = function (fileName) {\n        this.buffer = new Blob(['\\ufeff' + this.csvStr], { type: 'text/csv;charset=UTF-8' });\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(this.buffer, fileName);\n        }\n        else {\n            var dataUrl_1 = window.URL.createObjectURL(this.buffer);\n            var dwlLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            dwlLink.download = fileName;\n            dwlLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            dwlLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n            });\n        }\n    };\n    CsvHelper.prototype.saveAsBlob = function () {\n        return new Blob(['\\ufeff' + this.csvStr], { type: 'text/csv;charset=UTF-8' });\n    };\n    return CsvHelper;\n}());\nexport { CsvHelper };\n","/**\n * BlobHelper class\n * @private\n */\nvar BlobHelper = /** @class */ (function () {\n    function BlobHelper() {\n        /* tslint:disable:no-any */\n        this.parts = [];\n    }\n    /* tslint:disable:no-any */\n    BlobHelper.prototype.append = function (part) {\n        this.parts.push(part);\n        this.blob = undefined; // Invalidate the blob\n    };\n    BlobHelper.prototype.getBlob = function () {\n        return new Blob(this.parts, { type: 'text/plain' });\n    };\n    return BlobHelper;\n}());\nexport { BlobHelper };\n","import { Worksheets } from './worksheets';\nimport { Worksheet, FreezePane, MergeCell, MergeCells, HyperLink, Grouping } from './worksheet';\nimport { CellStyle, Font, Borders, CellXfs, Alignment, NumFmt, CellStyleXfs, CellStyles } from './cell-style';\nimport { Column } from './column';\nimport { Row, Rows } from './row';\nimport { Cell, Cells } from './cell';\nimport { ZipArchive, ZipArchiveItem } from '@syncfusion/ej2-compression';\nimport { CsvHelper } from './csv-helper';\nimport { Internationalization, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { BlobHelper } from './blob-helper';\n/**\n * Workbook class\n */\nvar Workbook = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function Workbook(json, saveType, culture, currencyString) {\n        this.sharedStringCount = 0;\n        this.unitsProportions = [\n            96 / 75.0,\n            96 / 300.0,\n            96,\n            96 / 25.4,\n            96 / 2.54,\n            1,\n            96 / 72.0,\n            96 / 72.0 / 12700,\n        ];\n        /* tslint:disable:no-any */\n        this.hyperlinkStyle = { fontColor: '#0000FF', underline: true };\n        if (culture !== undefined) {\n            this.culture = culture;\n        }\n        else {\n            this.culture = 'en-US';\n        }\n        if (currencyString !== undefined) {\n            this.currency = currencyString;\n        }\n        else {\n            this.currency = 'USD';\n        }\n        this.intl = new Internationalization(this.culture);\n        this.mSaveType = saveType;\n        if (saveType === 'xlsx') {\n            this.mArchive = new ZipArchive();\n            this.sharedString = [];\n            this.mFonts = [];\n            this.mBorders = [];\n            this.mStyles = [];\n            this.printTitles = new Map();\n            this.cellStyles = new Map();\n            this.mNumFmt = new Map();\n            this.mFills = new Map();\n            this.mStyles.push(new CellStyle());\n            this.mFonts.push(new Font());\n            /* tslint:disable */\n            this.cellStyles.set('Normal', new CellStyles());\n            /* tslint:enable */\n            this.mCellXfs = [];\n            this.mCellStyleXfs = [];\n            if (json.styles !== null && json.styles !== undefined) {\n                /* tslint:disable-next-line:no-any */\n                this.globalStyles = new Map();\n                for (var i = 0; i < json.styles.length; i++) {\n                    if (json.styles[i].name !== undefined) {\n                        if (!this.cellStyles.has(json.styles[i].name)) {\n                            var cellStyle = new CellStyle();\n                            cellStyle.isGlobalStyle = true;\n                            this.parserCellStyle(json.styles[i], cellStyle, 'none');\n                            var cellStylesIn = new CellStyles();\n                            cellStylesIn.name = cellStyle.name;\n                            cellStylesIn.xfId = (cellStyle.index - 1);\n                            this.cellStyles.set(cellStylesIn.name, cellStylesIn);\n                            /* tslint:disable-next-line:no-any */\n                            var tFormat = {};\n                            if (json.styles[i].numberFormat !== undefined) {\n                                tFormat.format = json.styles[i].numberFormat;\n                            }\n                            if (json.styles[i].type !== undefined) {\n                                tFormat.type = json.styles[i].type;\n                            }\n                            else {\n                                tFormat.type = 'datetime';\n                            }\n                            if (tFormat.format !== undefined) {\n                                this.globalStyles.set(json.styles[i].name, tFormat);\n                            }\n                        }\n                        else {\n                            throw Error('Style name ' + json.styles[i].name + ' is already existed');\n                        }\n                    }\n                }\n            }\n            // Parses Worksheets data to DOM.        \n            if (json.worksheets !== null && json.worksheets !== undefined) {\n                this.parserWorksheets(json.worksheets);\n            }\n            else {\n                throw Error('Worksheet is expected.');\n            }\n            // Parses the BuiltInProperties data to DOM.        \n            if (json.builtInProperties !== null && json.builtInProperties !== undefined) {\n                this.builtInProperties = new BuiltInProperties();\n                this.parserBuiltInProperties(json.builtInProperties, this.builtInProperties);\n            }\n        }\n        else {\n            this.csvHelper = new CsvHelper(json);\n        }\n    }\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBuiltInProperties = function (jsonBuiltInProperties, builtInProperties) {\n        //Author\n        if (jsonBuiltInProperties.author !== null && jsonBuiltInProperties.author !== undefined) {\n            builtInProperties.author = jsonBuiltInProperties.author;\n        }\n        //Comments\n        if (jsonBuiltInProperties.comments !== null && jsonBuiltInProperties.comments !== undefined) {\n            builtInProperties.comments = jsonBuiltInProperties.comments;\n        }\n        //Category\n        if (jsonBuiltInProperties.category !== null && jsonBuiltInProperties.category !== undefined) {\n            builtInProperties.category = jsonBuiltInProperties.category;\n        }\n        //Company\n        if (jsonBuiltInProperties.company !== null && jsonBuiltInProperties.company !== undefined) {\n            builtInProperties.company = jsonBuiltInProperties.company;\n        }\n        //Manager\n        if (jsonBuiltInProperties.manager !== null && jsonBuiltInProperties.manager !== undefined) {\n            builtInProperties.manager = jsonBuiltInProperties.manager;\n        }\n        //Subject\n        if (jsonBuiltInProperties.subject !== null && jsonBuiltInProperties.subject !== undefined) {\n            builtInProperties.subject = jsonBuiltInProperties.subject;\n        }\n        //Title\n        if (jsonBuiltInProperties.title !== null && jsonBuiltInProperties.title !== undefined) {\n            builtInProperties.title = jsonBuiltInProperties.title;\n        }\n        //Creation date\n        if (jsonBuiltInProperties.createdDate !== null && jsonBuiltInProperties.createdDate !== undefined) {\n            builtInProperties.createdDate = jsonBuiltInProperties.createdDate;\n        }\n        //Modified date\n        if (jsonBuiltInProperties.modifiedDate !== null && jsonBuiltInProperties.modifiedDate !== undefined) {\n            builtInProperties.modifiedDate = jsonBuiltInProperties.modifiedDate;\n        }\n        //Tags\n        if (jsonBuiltInProperties.tags !== null && jsonBuiltInProperties.tags !== undefined) {\n            builtInProperties.tags = jsonBuiltInProperties.tags;\n        }\n        //Status\n        if (jsonBuiltInProperties.status !== null && jsonBuiltInProperties.status !== undefined) {\n            builtInProperties.status = jsonBuiltInProperties.status;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserWorksheets = function (json) {\n        this.worksheets = new Worksheets();\n        var length = json.length;\n        for (var i = 0; i < length; i++) {\n            var jsonSheet = json[i];\n            var sheet = new Worksheet();\n            this.mergeCells = new MergeCells();\n            this.mergedCellsStyle = new Map();\n            this.mHyperLinks = [];\n            //Name\n            if (jsonSheet.name !== null && jsonSheet.name !== undefined) {\n                sheet.name = jsonSheet.name;\n            }\n            else {\n                sheet.name = 'Sheet' + (i + 1).toString();\n            }\n            sheet.index = (i + 1);\n            //Columns\n            if (jsonSheet.columns !== null && jsonSheet.columns !== undefined) {\n                this.parserColumns(jsonSheet.columns, sheet);\n            }\n            //Rows\n            if (jsonSheet.rows !== null && jsonSheet.rows !== undefined) {\n                this.parserRows(jsonSheet.rows, sheet);\n            }\n            //showGridLines\n            if (jsonSheet.showGridLines !== null && jsonSheet.showGridLines !== undefined) {\n                sheet.showGridLines = jsonSheet.showGridLines;\n            }\n            //FreezePanes\n            if (jsonSheet.freeze !== null && jsonSheet.freeze !== undefined) {\n                this.parserFreezePanes(jsonSheet.freeze, sheet);\n            }\n            //Print Title\n            if (jsonSheet.printTitle !== null && jsonSheet.printTitle !== undefined) {\n                this.parserPrintTitle(jsonSheet.printTitle, sheet);\n            }\n            if (jsonSheet.pageSetup !== undefined) {\n                if (jsonSheet.pageSetup.isSummaryRowBelow !== undefined) {\n                    sheet.isSummaryRowBelow = jsonSheet.pageSetup.isSummaryRowBelow;\n                }\n            }\n            sheet.index = (i + 1);\n            sheet.mergeCells = this.mergeCells;\n            sheet.hyperLinks = this.mHyperLinks;\n            this.worksheets.push(sheet);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.mergeOptions = function (fromJson, toJson) {\n        /* tslint:disable:no-any */\n        var result = {};\n        this.applyProperties(fromJson, result);\n        this.applyProperties(toJson, result);\n        return result;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.applyProperties = function (sourceJson, destJson) {\n        var keys = Object.keys(sourceJson);\n        for (var index = 0; index < keys.length; index++) {\n            if (keys[index] !== 'name') {\n                destJson[keys[index]] = sourceJson[keys[index]];\n            }\n        }\n    };\n    Workbook.prototype.getCellName = function (row, column) {\n        return this.getColumnName(column) + row.toString();\n    };\n    Workbook.prototype.getColumnName = function (col) {\n        col--;\n        var strColumnName = '';\n        do {\n            var iCurrentDigit = col % 26;\n            col = col / 26 - 1;\n            strColumnName = String.fromCharCode(65 + iCurrentDigit) + strColumnName;\n        } while (col >= 0);\n        return strColumnName;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserPrintTitle = function (json, sheet) {\n        var printTitleName = '';\n        var titleRowName;\n        if (json.fromRow !== null && json.fromRow !== undefined) {\n            var fromRow = json.fromRow;\n            var toRow = void 0;\n            if (json.toRow !== null && json.toRow !== undefined) {\n                toRow = json.toRow;\n            }\n            else {\n                toRow = json.fromRow;\n            }\n            titleRowName = '$' + fromRow + ':$' + toRow;\n        }\n        var titleColName;\n        if (json.fromColumn !== null && json.fromColumn !== undefined) {\n            var fromColumn = json.fromColumn;\n            var toColumn = void 0;\n            if (json.toColumn !== null && json.toColumn !== undefined) {\n                toColumn = json.toColumn;\n            }\n            else {\n                toColumn = json.fromColumn;\n            }\n            titleColName = '$' + this.getColumnName(fromColumn) + ':$' + this.getColumnName(toColumn);\n        }\n        if (titleRowName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleRowName);\n        }\n        if (titleColName !== undefined && titleRowName !== undefined) {\n            printTitleName += ',' + (sheet.name + '!' + titleColName);\n        }\n        else if (titleColName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleColName);\n        }\n        if (printTitleName !== '') {\n            this.printTitles.set(sheet.index - 1, printTitleName);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserFreezePanes = function (json, sheet) {\n        sheet.freezePanes = new FreezePane();\n        if (json.row !== null && json.row !== undefined) {\n            sheet.freezePanes.row = json.row;\n        }\n        else {\n            sheet.freezePanes.row = 0;\n        }\n        if (json.column !== null && json.column !== undefined) {\n            sheet.freezePanes.column = json.column;\n        }\n        else {\n            sheet.freezePanes.column = 0;\n        }\n        sheet.freezePanes.leftCell = this.getCellName(sheet.freezePanes.row + 1, sheet.freezePanes.column + 1);\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserColumns = function (json, sheet) {\n        var columnsLength = json.length;\n        sheet.columns = [];\n        for (var column = 0; column < columnsLength; column++) {\n            var col = new Column();\n            if (json[column].index !== null && json[column].index !== undefined) {\n                col.index = json[column].index;\n            }\n            else {\n                throw Error('Column index is missing.');\n            }\n            if (json[column].width !== null && json[column].width !== undefined) {\n                col.width = json[column].width;\n            }\n            sheet.columns.push(col);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRows = function (json, sheet) {\n        var rowsLength = json.length;\n        sheet.rows = new Rows();\n        var rowId = 0;\n        for (var r = 0; r < rowsLength; r++) {\n            var row = this.parserRow(json[r], rowId);\n            rowId = row.index;\n            sheet.rows.add(row);\n        }\n        this.insertMergedCellsStyle(sheet);\n    };\n    Workbook.prototype.insertMergedCellsStyle = function (sheet) {\n        var _this = this;\n        if (this.mergeCells.length > 0) {\n            this.mergedCellsStyle.forEach(function (value, key) {\n                var row = sheet.rows.filter(function (item) {\n                    return item.index === value.y;\n                })[0];\n                if (!isNullOrUndefined(row)) {\n                    var cell = row.cells.filter(function (item) {\n                        return item.index === value.x;\n                    })[0];\n                    if (!isNullOrUndefined(cell)) {\n                        cell.styleIndex = value.styleIndex;\n                    }\n                    else {\n                        var cells = row.cells.filter(function (item) {\n                            return item.index <= value.x;\n                        });\n                        var insertIndex = 0;\n                        if (cells.length > 0) {\n                            insertIndex = row.cells.indexOf(cells[cells.length - 1]) + 1;\n                        }\n                        row.cells.splice(insertIndex, 0, _this.createCell(value, key));\n                    }\n                }\n                else {\n                    var rows = sheet.rows.filter(function (item) {\n                        return item.index <= value.y;\n                    });\n                    var rowToInsert = new Row();\n                    rowToInsert.index = value.y;\n                    rowToInsert.cells = new Cells();\n                    rowToInsert.cells.add(_this.createCell(value, key));\n                    var insertIndex = 0;\n                    if (rows.length > 0) {\n                        insertIndex = sheet.rows.indexOf(rows[rows.length - 1]) + 1;\n                    }\n                    sheet.rows.splice(insertIndex, 0, rowToInsert);\n                }\n            });\n        }\n    };\n    Workbook.prototype.createCell = function (value, key) {\n        var cellToInsert = new Cell();\n        cellToInsert.refName = key;\n        cellToInsert.index = value.x;\n        cellToInsert.cellStyle = new CellStyle();\n        cellToInsert.styleIndex = value.styleIndex;\n        return cellToInsert;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRow = function (json, rowIndex) {\n        var row = new Row();\n        //Row Height\n        if (json.height !== null && json.height !== undefined) {\n            row.height = json.height;\n        }\n        //Row index\n        if (json.index !== null && json.index !== undefined) {\n            row.index = json.index;\n        }\n        else {\n            throw Error('Row index is missing.');\n        }\n        if (json.grouping !== null && json.grouping !== undefined) {\n            this.parseGrouping(json.grouping, row);\n        }\n        this.parseCells(json.cells, row);\n        return row;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseGrouping = function (json, row) {\n        row.grouping = new Grouping();\n        if (json.outlineLevel !== undefined) {\n            row.grouping.outlineLevel = json.outlineLevel;\n        }\n        if (json.isCollapsed !== undefined) {\n            row.grouping.isCollapsed = json.isCollapsed;\n        }\n        if (json.isHidden !== undefined) {\n            row.grouping.isHidden = json.isHidden;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseCells = function (json, row) {\n        row.cells = new Cells();\n        var cellsLength = json !== undefined ? json.length : 0;\n        var spanMin = 1;\n        var spanMax = 1;\n        var curCellIndex = 0;\n        for (var cellId = 0; cellId < cellsLength; cellId++) {\n            /* tslint:disable:no-any */\n            var jsonCell = json[cellId];\n            var cell = new Cell();\n            //cell index\n            if (jsonCell.index !== null && jsonCell.index !== undefined) {\n                cell.index = jsonCell.index;\n            }\n            else {\n                throw Error('Cell index is missing.');\n            }\n            if (cell.index < spanMin) {\n                spanMin = cell.index;\n            }\n            else if (cell.index > spanMax) {\n                spanMax = cell.index;\n            }\n            //Update the Cell name\n            cell.refName = this.getCellName(row.index, cell.index);\n            //Row span\n            if (jsonCell.rowSpan !== null && jsonCell.rowSpan !== undefined) {\n                cell.rowSpan = jsonCell.rowSpan - 1;\n            }\n            else {\n                cell.rowSpan = 0;\n            }\n            //Column span\n            if (jsonCell.colSpan !== null && jsonCell.colSpan !== undefined) {\n                cell.colSpan = jsonCell.colSpan - 1;\n            }\n            else {\n                cell.colSpan = 0;\n            }\n            //Hyperlink\n            if (jsonCell.hyperlink !== null && jsonCell.hyperlink !== undefined) {\n                var hyperLink = new HyperLink();\n                if (jsonCell.hyperlink.target !== undefined) {\n                    hyperLink.target = jsonCell.hyperlink.target;\n                    if (jsonCell.hyperlink.displayText !== undefined) {\n                        cell.value = jsonCell.hyperlink.displayText;\n                    }\n                    else {\n                        cell.value = jsonCell.hyperlink.target;\n                    }\n                    cell.type = this.getCellValueType(cell.value);\n                    hyperLink.ref = cell.refName;\n                    hyperLink.rId = (this.mHyperLinks.length + 1);\n                    this.mHyperLinks.push(hyperLink);\n                    cell.cellStyle = new CellStyle();\n                    /* tslint:disable-next-line:max-line-length */\n                    this.parserCellStyle((jsonCell.style !== undefined ? this.mergeOptions(jsonCell.style, this.hyperlinkStyle) : this.hyperlinkStyle), cell.cellStyle, 'string');\n                    cell.styleIndex = cell.cellStyle.index;\n                }\n            }\n            //Cell value\n            if (jsonCell.value !== null && jsonCell.value !== undefined) {\n                cell.value = jsonCell.value;\n                cell.type = this.getCellValueType(cell.value);\n            }\n            if (jsonCell.style !== null && jsonCell.style !== undefined && cell.styleIndex === undefined) {\n                cell.cellStyle = new CellStyle();\n                if (cell.value instanceof Date) {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type, 14);\n                }\n                else {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type);\n                }\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            else if (cell.value instanceof Date) {\n                cell.cellStyle = new CellStyle();\n                this.parserCellStyle({}, cell.cellStyle, cell.type, 14);\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            this.parseCellType(cell);\n            this.mergeCells = this.processMergeCells(cell, row.index, this.mergeCells);\n            row.cells.add(cell);\n            curCellIndex = (cell.index + 1);\n        }\n        row.spans = (spanMin) + ':' + (spanMax);\n    };\n    Workbook.prototype.applyGlobalStyle = function (json, cellStyle) {\n        var index = 0;\n        if (this.cellStyles.has(json.name)) {\n            cellStyle.index = this.mStyles.filter(function (a) { return (a.name === json.name); })[0].index;\n            cellStyle.name = json.name;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserCellStyle = function (json, cellStyle, cellType, defStyleIndex) {\n        //name\n        if (json.name !== null && json.name !== undefined) {\n            if (cellStyle.isGlobalStyle) {\n                cellStyle.name = json.name;\n            }\n            else {\n                this.applyGlobalStyle(json, cellStyle);\n                return;\n            }\n        }\n        //background color\n        if (json.backColor !== null && json.backColor !== undefined) {\n            cellStyle.backColor = json.backColor;\n        }\n        //borders\n        //leftBorder\n        cellStyle.borders = new Borders();\n        //AllBorder\n        if (json.borders !== null && json.borders !== undefined) {\n            this.parserBorder(json.borders, cellStyle.borders.all);\n        }\n        //leftborder\n        if (json.leftBorder !== null && json.leftBorder !== undefined) {\n            this.parserBorder(json.leftBorder, cellStyle.borders.left);\n        }\n        //rightBorder\n        if (json.rightBorder !== null && json.rightBorder !== undefined) {\n            this.parserBorder(json.rightBorder, cellStyle.borders.right);\n        }\n        //topBorder\n        if (json.topBorder !== null && json.topBorder !== undefined) {\n            this.parserBorder(json.topBorder, cellStyle.borders.top);\n        }\n        //bottomBorder\n        if (json.bottomBorder !== null && json.bottomBorder !== undefined) {\n            this.parserBorder(json.bottomBorder, cellStyle.borders.bottom);\n        }\n        //fontName\n        if (json.fontName !== null && json.fontName !== undefined) {\n            cellStyle.fontName = json.fontName;\n        }\n        //fontSize\n        if (json.fontSize !== null && json.fontSize !== undefined) {\n            cellStyle.fontSize = json.fontSize;\n        }\n        //fontColor\n        if (json.fontColor !== null && json.fontColor !== undefined) {\n            cellStyle.fontColor = json.fontColor;\n        }\n        //italic\n        if (json.italic !== null && json.italic !== undefined) {\n            cellStyle.italic = json.italic;\n        }\n        //bold\n        if (json.bold !== null && json.bold !== undefined) {\n            cellStyle.bold = json.bold;\n        }\n        //hAlign\n        if (json.hAlign !== null && json.hAlign !== undefined) {\n            cellStyle.hAlign = json.hAlign;\n        }\n        //indent\n        if (json.indent !== null && json.indent !== undefined) {\n            cellStyle.indent = json.indent;\n            if (!(cellStyle.hAlign === 'left' || cellStyle.hAlign === 'right')) {\n                cellStyle.hAlign = 'left';\n            }\n        }\n        //vAlign\n        if (json.vAlign !== null && json.vAlign !== undefined) {\n            cellStyle.vAlign = json.vAlign;\n        }\n        //underline\n        if (json.underline !== null && json.underline !== undefined) {\n            cellStyle.underline = json.underline;\n        }\n        //wrapText\n        if (json.wrapText !== null && json.wrapText !== undefined) {\n            cellStyle.wrapText = json.wrapText;\n        }\n        //numberFormat\n        if (json.numberFormat !== null && json.numberFormat !== undefined) {\n            if (json.type !== null && json.type !== undefined) {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, json.type);\n            }\n            else {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, cellType);\n            }\n        }\n        else if (defStyleIndex !== undefined) {\n            cellStyle.numFmtId = 14;\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        else {\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        cellStyle.index = this.processCellStyle(cellStyle);\n    };\n    Workbook.prototype.switchNumberFormat = function (numberFormat, type) {\n        var format = this.getNumberFormat(numberFormat, type);\n        if (format !== numberFormat) {\n            var numFmt = this.mNumFmt.get(numberFormat);\n            if (numFmt !== undefined) {\n                numFmt.formatCode = format;\n                if (this.mNumFmt.has(format)) {\n                    for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                        var cellStyleXfs = _a[_i];\n                        if (cellStyleXfs.numFmtId === numFmt.numFmtId) {\n                            cellStyleXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                    for (var _b = 0, _c = this.mCellXfs; _b < _c.length; _b++) {\n                        var cellXfs = _c[_b];\n                        if (cellXfs.numFmtId === numFmt.numFmtId) {\n                            cellXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Workbook.prototype.getNumberFormat = function (numberFormat, type) {\n        var returnFormat;\n        switch (type) {\n            case 'number':\n                try {\n                    returnFormat = this.intl.getNumberPattern({ format: numberFormat, currency: this.currency });\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'datetime':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'dateTime' }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'date':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'date' }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'time':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'time' }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            default:\n                returnFormat = numberFormat;\n                break;\n        }\n        return returnFormat;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBorder = function (json, border) {\n        if (json.color !== null && json.color !== undefined) {\n            border.color = json.color;\n        }\n        else {\n            border.color = '#000000';\n        }\n        if (json.lineStyle !== null && json.lineStyle !== undefined) {\n            border.lineStyle = json.lineStyle;\n        }\n        else {\n            border.lineStyle = 'thin';\n        }\n    };\n    Workbook.prototype.processCellStyle = function (style) {\n        if (style.isGlobalStyle) {\n            this.processNumFormatId(style);\n            this.mStyles.push(style);\n            return this.mStyles.length;\n        }\n        else {\n            var compareResult = this.compareStyle(style);\n            if (!compareResult.result) {\n                this.processNumFormatId(style);\n                this.mStyles.push(style);\n                return this.mStyles.length;\n            }\n            else {\n                //Return the index of the already existing style.\n                return compareResult.index;\n            }\n        }\n    };\n    Workbook.prototype.processNumFormatId = function (style) {\n        if (style.numberFormat !== 'GENERAL' && !this.mNumFmt.has(style.numberFormat)) {\n            var id = this.mNumFmt.size + 164;\n            this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n        }\n    };\n    Workbook.prototype.isNewFont = function (toCompareStyle) {\n        var result = false;\n        var index = 0;\n        for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n            var font = _a[_i];\n            index++;\n            var fontColor = undefined;\n            if (toCompareStyle.fontColor !== undefined) {\n                fontColor = ('FF' + toCompareStyle.fontColor.replace('#', ''));\n            }\n            result = font.color === fontColor &&\n                font.b === toCompareStyle.bold &&\n                font.i === toCompareStyle.italic &&\n                font.u === toCompareStyle.underline &&\n                font.name === toCompareStyle.fontName &&\n                font.sz === toCompareStyle.fontSize;\n            if (result) {\n                break;\n            }\n        }\n        index = index - 1;\n        return { index: index, result: result };\n    };\n    Workbook.prototype.isNewBorder = function (toCompareStyle) {\n        var bStyle = new CellStyle();\n        if (this.isAllBorder(toCompareStyle.borders)) {\n            return (bStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                bStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle);\n        }\n        else {\n            return (bStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                bStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                bStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                bStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                bStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                bStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                bStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                bStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle);\n        }\n    };\n    Workbook.prototype.isAllBorder = function (toCompareBorder) {\n        var allBorderStyle = new CellStyle();\n        return allBorderStyle.borders.all.color !== toCompareBorder.all.color &&\n            allBorderStyle.borders.all.lineStyle !== toCompareBorder.all.lineStyle;\n    };\n    Workbook.prototype.compareStyle = function (toCompareStyle) {\n        var result = true;\n        var index = 0;\n        var globalStyleIndex = 0;\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var baseStyle = _a[_i];\n            result = baseStyle.isGlobalStyle ? false : (baseStyle.backColor === toCompareStyle.backColor &&\n                baseStyle.bold === toCompareStyle.bold &&\n                baseStyle.numFmtId === toCompareStyle.numFmtId &&\n                baseStyle.numberFormat === toCompareStyle.numberFormat &&\n                baseStyle.type === toCompareStyle.type &&\n                baseStyle.fontColor === toCompareStyle.fontColor &&\n                baseStyle.fontName === toCompareStyle.fontName &&\n                baseStyle.fontSize === toCompareStyle.fontSize &&\n                baseStyle.hAlign === toCompareStyle.hAlign &&\n                baseStyle.italic === toCompareStyle.italic &&\n                baseStyle.underline === toCompareStyle.underline &&\n                baseStyle.vAlign === toCompareStyle.vAlign &&\n                baseStyle.indent === toCompareStyle.indent &&\n                baseStyle.wrapText === toCompareStyle.wrapText &&\n                (baseStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                    baseStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle) &&\n                (baseStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                    baseStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                    baseStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                    baseStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                    baseStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                    baseStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                    baseStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                    baseStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle));\n            if (result) {\n                index = baseStyle.index;\n                break;\n            }\n        }\n        return { index: index, result: result };\n    };\n    Workbook.prototype.contains = function (array, item) {\n        var index = array.indexOf(item);\n        return index > -1 && index < array.length;\n    };\n    Workbook.prototype.getCellValueType = function (value) {\n        if (value instanceof Date) {\n            return 'datetime';\n        }\n        else if (typeof (value) === 'boolean') {\n            return 'boolean';\n        }\n        else if (typeof (value) === 'number') {\n            return 'number';\n        }\n        else {\n            return 'string';\n        }\n    };\n    Workbook.prototype.parseCellType = function (cell) {\n        var type = cell.type;\n        var saveType;\n        var value = cell.value;\n        switch (type) {\n            case 'datetime':\n                value = this.toOADate(value);\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        var value_1 = this.globalStyles.get(cell.cellStyle.name);\n                        this.switchNumberFormat(value_1.format, value_1.type);\n                    }\n                }\n                saveType = 'n';\n                break;\n            //TODO: Update the number format index and style\n            case 'boolean':\n                value = value ? 1 : 0;\n                saveType = 'b';\n                break;\n            case 'number':\n                saveType = 'n';\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        this.switchNumberFormat(this.globalStyles.get(cell.cellStyle.name).format, 'number');\n                    }\n                }\n                break;\n            case 'string':\n                this.sharedStringCount++;\n                saveType = 's';\n                if (!this.contains(this.sharedString, value)) {\n                    this.sharedString.push(value);\n                }\n                value = this.sharedString.indexOf(value);\n                break;\n            default:\n                break;\n        }\n        cell.saveType = saveType;\n        cell.value = value;\n    };\n    Workbook.prototype.saveAsBlob = function (blobSaveType) {\n        var _this = this;\n        switch (blobSaveType) {\n            case 'text/csv':\n                return new Promise(function (resolve, reject) {\n                    var obj = {};\n                    obj.blobData = _this.csvHelper.saveAsBlob();\n                    resolve(obj);\n                });\n            default:\n                return new Promise(function (resolve, reject) {\n                    _this.saveInternal();\n                    _this.mArchive.saveAsBlob().then(function (blob) {\n                        var obj = {};\n                        obj.blobData = new Blob([blob], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n                        resolve(obj);\n                    });\n                });\n        }\n    };\n    Workbook.prototype.save = function (fileName, proxyUrl) {\n        var _this = this;\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('Argument Null Exception: fileName cannot be null or empty');\n        }\n        var xlsxMatch = fileName.match('.xlsx$');\n        var csvMatch = fileName.match('.csv$');\n        if (xlsxMatch !== null && xlsxMatch[0] === ('.' + this.mSaveType)) {\n            this.saveInternal();\n            this.mArchive.save(fileName).then(function () {\n                _this.mArchive.destroy();\n            });\n        }\n        else if (csvMatch !== null && csvMatch[0] === ('.' + this.mSaveType)) {\n            this.csvHelper.save(fileName);\n        }\n        else {\n            throw Error('Save type and file extension is different.');\n        }\n    };\n    Workbook.prototype.saveInternal = function () {\n        this.saveWorkbook();\n        this.saveWorksheets();\n        this.saveSharedString();\n        this.saveStyles();\n        this.saveApp(this.builtInProperties);\n        this.saveCore(this.builtInProperties);\n        this.saveContentType();\n        this.saveTopLevelRelation();\n        this.saveWorkbookRelation();\n    };\n    Workbook.prototype.saveWorkbook = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var workbookTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><workbook xmlns:r = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns= \"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"><workbookPr codeName=\"ThisWorkbook\" defaultThemeVersion= \"153222\"/><bookViews><workbookView activeTab=\"0\"/></bookViews>';\n        var sheets = '<sheets>';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            sheets += '<sheet name=\"' + this.worksheets[i].name + '\" sheetId=\"' + (i + 1).toString() + '\" r:id =\"rId' + (i + 1).toString() + '\" />';\n        }\n        sheets += '</sheets>';\n        workbookTemp += sheets;\n        if (this.printTitles.size > 0) {\n            var printTitle_1 = '<definedNames>';\n            this.printTitles.forEach(function (value, key) {\n                printTitle_1 += '<definedName name=\"_xlnm.Print_Titles\" localSheetId=\"' + key + '\">' + value + '</definedName>';\n            });\n            printTitle_1 += '</definedNames>';\n            workbookTemp += printTitle_1;\n        }\n        this.addToArchive(workbookTemp + '</workbook>', 'xl/workbook.xml');\n    };\n    Workbook.prototype.saveWorksheets = function () {\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            this.saveWorksheet(this.worksheets[i], i);\n        }\n    };\n    Workbook.prototype.saveWorksheet = function (sheet, index) {\n        var sheetBlob = new BlobHelper();\n        /* tslint:disable-next-line:max-line-length */\n        var sheetString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><worksheet xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        if (!sheet.isSummaryRowBelow) {\n            sheetString += ('<sheetPr>' + '<outlinePr ' + 'summaryBelow=\"0\" >' + '</outlinePr>' + '</sheetPr>');\n        }\n        else {\n            sheetString += ('<sheetPr />');\n        }\n        sheetString += this.saveSheetView(sheet);\n        if (sheet.columns !== undefined) {\n            var colString = '<cols>';\n            for (var _i = 0, _a = sheet.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                if (column.width !== undefined) {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + this.pixelsToColumnWidth(column.width) + '\" customWidth=\"1\" />';\n                }\n                else {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + '8.43' + '\" customWidth=\"1\" />';\n                }\n            }\n            sheetString += (colString + '</cols>');\n        }\n        sheetString += ('<sheetData>');\n        sheetBlob.append(sheetString);\n        sheetString = '';\n        if (sheet.rows !== undefined) {\n            for (var _b = 0, _c = sheet.rows; _b < _c.length; _b++) {\n                var row = _c[_b];\n                var rowString = '<row r=\"' + (row.index) + '\" ';\n                if (!isNullOrUndefined(row.spans)) {\n                    rowString += 'spans=\"' + row.spans + '\" ';\n                }\n                if (row.height !== undefined) {\n                    rowString += ('ht=\"' + this.pixelsToRowHeight(row.height) + '\" customHeight=\"1\" ');\n                }\n                if (row.grouping !== undefined) {\n                    if (row.grouping.isHidden) {\n                        rowString += ('hidden=\"1\" ');\n                    }\n                    if (row.grouping.outlineLevel !== undefined) {\n                        rowString += ('outlineLevel=\"' + row.grouping.outlineLevel + '\" ');\n                    }\n                    if (row.grouping.isCollapsed) {\n                        rowString += ('collapsed=\"1\" ');\n                    }\n                }\n                rowString += ('>');\n                for (var _d = 0, _e = row.cells; _d < _e.length; _d++) {\n                    var cell = _e[_d];\n                    if (cell !== undefined && (cell.value !== undefined || cell.cellStyle !== undefined)) {\n                        rowString += ('<c r=\"' + cell.refName + '\" ');\n                        if (cell.saveType !== undefined) {\n                            rowString += ('t=\"' + cell.saveType + '\" ');\n                        }\n                        if (cell.styleIndex !== undefined) {\n                            rowString += ('s=\"' + cell.styleIndex + '\" ');\n                        }\n                        rowString += (' >');\n                        if (cell.value !== undefined) {\n                            rowString += ('<v>' + cell.value + '</v></c>');\n                        }\n                        else {\n                            rowString += ('</c>');\n                        }\n                    }\n                }\n                rowString += ('</row>');\n                sheetBlob.append(rowString);\n            }\n        }\n        sheetString += ('</sheetData>');\n        if (sheet.mergeCells.length > 0) {\n            sheetString += ('<mergeCells count=\"' + sheet.mergeCells.length + '\">');\n            for (var _f = 0, _g = sheet.mergeCells; _f < _g.length; _f++) {\n                var mCell = _g[_f];\n                sheetString += ('<mergeCell ref=\"' + mCell.ref + '\" />');\n            }\n            sheetString += ('</mergeCells>');\n        }\n        if (sheet.hyperLinks.length > 0) {\n            sheetString += ('<hyperlinks>');\n            for (var _h = 0, _j = sheet.hyperLinks; _h < _j.length; _h++) {\n                var hLink = _j[_h];\n                sheetString += ('<hyperlink ref=\"' + hLink.ref + '\" r:id=\"rId' + hLink.rId + '\" />');\n            }\n            sheetString += ('</hyperlinks>');\n            this.addToArchive(this.saveSheetRelations(sheet), ('xl/worksheets/_rels/sheet' + sheet.index + '.xml.rels'));\n        }\n        /* tslint:disable-next-line:max-line-length */\n        sheetString += ('<pageMargins left=\"0.75\" right=\"0.75\" top=\"1\" bottom=\"1\" header=\"0.5\" footer=\"0.5\" /><headerFooter scaleWithDoc=\"1\" alignWithMargins=\"0\" differentFirst=\"0\" differentOddEven=\"0\" /></worksheet>');\n        sheetBlob.append(sheetString);\n        this.addToArchive(sheetBlob.getBlob(), 'xl/worksheets' + '/sheet' + (index + 1) + '.xml');\n    };\n    Workbook.prototype.pixelsToColumnWidth = function (pixels) {\n        var dDigitWidth = 7;\n        var val = (pixels > dDigitWidth + 5) ?\n            this.trunc((pixels - 5) / dDigitWidth * 100 + 0.5) / 100 :\n            pixels / (dDigitWidth + 5);\n        return (val > 1) ?\n            ((val * dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0 :\n            (val * (dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0;\n    };\n    Workbook.prototype.trunc = function (x) {\n        var n = x - x % 1;\n        return n === 0 && (x < 0 || (x === 0 && (1 / x !== 1 / 0))) ? -0 : n;\n    };\n    Workbook.prototype.pixelsToRowHeight = function (pixels) {\n        return (pixels * this.unitsProportions[5] / this.unitsProportions[6]);\n    };\n    Workbook.prototype.saveSheetRelations = function (sheet) {\n        /* tslint:disable-next-line:max-line-length */\n        var relStr = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        for (var _i = 0, _a = sheet.hyperLinks; _i < _a.length; _i++) {\n            var hLink = _a[_i];\n            /* tslint:disable-next-line:max-line-length */\n            relStr += '<Relationship Id=\"rId' + hLink.rId + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"' + hLink.target + '\" TargetMode=\"External\" />';\n        }\n        relStr += '</Relationships>';\n        return relStr;\n    };\n    Workbook.prototype.saveSheetView = function (sheet) {\n        var paneString = '<sheetViews><sheetView workbookViewId=\"0\" ';\n        if (sheet.showGridLines === false) {\n            paneString += 'showGridLines=\"0\" >';\n        }\n        else {\n            paneString += '>';\n        }\n        if (sheet.freezePanes !== undefined) {\n            paneString += '<pane state=\"frozen\"' +\n                ' topLeftCell=\"' + sheet.freezePanes.leftCell + '\" ';\n            if (sheet.freezePanes.row !== 0) {\n                paneString += 'ySplit=\"' + sheet.freezePanes.row + '\" ';\n            }\n            if (sheet.freezePanes.column !== 0) {\n                paneString += 'xSplit=\"' + sheet.freezePanes.column + '\" ';\n            }\n            paneString += '/>';\n        }\n        paneString += '</sheetView></sheetViews > ';\n        return paneString;\n    };\n    Workbook.prototype.saveSharedString = function () {\n        var length = this.sharedString.length;\n        if (length > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            var sstStart = '<?xml version=\"1.0\" encoding=\"utf-8\"?><sst uniqueCount=\"' + length + '\" count=\"' + this.sharedStringCount + '\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n            var si = '';\n            for (var i = 0; i < length; i++) {\n                si += '<si><t>';\n                si += this.processString(this.sharedString[i]);\n                si += '</t></si>';\n            }\n            si += '</sst>';\n            this.addToArchive(sstStart + si, 'xl/sharedStrings.xml');\n        }\n    };\n    Workbook.prototype.processString = function (value) {\n        if (value.indexOf('&') !== -1) {\n            value = value.replace(/&/g, '&amp;');\n        }\n        if (value.indexOf('<') !== -1) {\n            value = value.replace(/</g, '&lt;');\n        }\n        if (value.indexOf('>') !== -1) {\n            value = value.replace(/>/g, '&gt;');\n        }\n        return value;\n    };\n    Workbook.prototype.saveStyles = function () {\n        this.updateCellXfsStyleXfs();\n        /* tslint:disable-next-line:max-line-length */\n        var styleTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><styleSheet xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        styleTemp += this.saveNumberFormats();\n        styleTemp += this.saveFonts();\n        styleTemp += this.saveFills();\n        styleTemp += this.saveBorders();\n        styleTemp += this.saveCellStyleXfs();\n        styleTemp += this.saveCellXfs();\n        styleTemp += this.saveCellStyles();\n        this.addToArchive(styleTemp + '</styleSheet>', 'xl/styles.xml');\n    };\n    Workbook.prototype.updateCellXfsStyleXfs = function () {\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var style = _a[_i];\n            var cellXfs = undefined;\n            if (style.isGlobalStyle) {\n                cellXfs = new CellStyleXfs();\n                cellXfs.xfId = (style.index - 1);\n            }\n            else {\n                cellXfs = new CellXfs();\n                cellXfs.xfId = 0;\n            }\n            //Add font\n            var compareFontResult = this.isNewFont(style);\n            if (!compareFontResult.result) {\n                var font = new Font();\n                font.b = style.bold;\n                font.i = style.italic;\n                font.name = style.fontName;\n                font.sz = style.fontSize;\n                font.u = style.underline;\n                font.color = ('FF' + style.fontColor.replace('#', ''));\n                this.mFonts.push(font);\n                cellXfs.fontId = this.mFonts.length - 1;\n            }\n            else {\n                cellXfs.fontId = compareFontResult.index;\n            }\n            //Add fill\n            if (style.backColor !== 'none') {\n                var backColor = 'FF' + style.backColor.replace('#', '');\n                if (this.mFills.has(backColor)) {\n                    var fillId = this.mFills.get(backColor);\n                    cellXfs.fillId = fillId;\n                }\n                else {\n                    var fillId = this.mFills.size + 2;\n                    this.mFills.set(backColor, fillId);\n                    cellXfs.fillId = (fillId);\n                }\n            }\n            else {\n                cellXfs.fillId = 0;\n            }\n            //Add border            \n            if (!this.isNewBorder(style)) {\n                this.mBorders.push(style.borders);\n                cellXfs.borderId = this.mBorders.length;\n            }\n            else {\n                cellXfs.borderId = 0;\n            }\n            //Add Number Format            \n            if (style.numberFormat !== 'GENERAL') {\n                if (this.mNumFmt.has(style.numberFormat)) {\n                    var numFmt = this.mNumFmt.get(style.numberFormat);\n                    cellXfs.numFmtId = numFmt.numFmtId;\n                }\n                else {\n                    var id = this.mNumFmt.size + 164;\n                    this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n                    cellXfs.numFmtId = id;\n                }\n            }\n            else {\n                if (style.numberFormat === 'GENERAL' && style.numFmtId === 14) {\n                    cellXfs.numFmtId = 14;\n                }\n                else {\n                    cellXfs.numFmtId = 0;\n                }\n            }\n            //Add alignment            \n            if (!style.isGlobalStyle) {\n                cellXfs.applyAlignment = 1;\n            }\n            cellXfs.alignment = new Alignment();\n            cellXfs.alignment.indent = style.indent;\n            cellXfs.alignment.horizontal = style.hAlign;\n            cellXfs.alignment.vertical = style.vAlign;\n            cellXfs.alignment.wrapText = style.wrapText ? 1 : 0;\n            if (style.isGlobalStyle) {\n                this.mCellStyleXfs.push(cellXfs);\n                this.mCellXfs.push(cellXfs);\n            }\n            else {\n                //Add cellxfs\n                this.mCellXfs.push(cellXfs);\n            }\n        }\n    };\n    Workbook.prototype.saveNumberFormats = function () {\n        if (this.mNumFmt.size >= 1) {\n            var numFmtStyle_1 = '<numFmts count=\"' + (this.mNumFmt.size) + '\">';\n            this.mNumFmt.forEach(function (value, key) {\n                numFmtStyle_1 += '<numFmt numFmtId=\"' + value.numFmtId + '\" formatCode=\"' + value.formatCode.replace(/\"/g, '&quot;') + '\" />';\n            });\n            return (numFmtStyle_1 += '</numFmts>');\n        }\n        else {\n            return '';\n        }\n    };\n    Workbook.prototype.saveFonts = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fontStyle = '<fonts count=\"' + (this.mFonts.length) + '\">';\n        if (this.mFonts.length >= 1) {\n            for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n                var font = _a[_i];\n                fontStyle += '<font>';\n                if (font.b) {\n                    fontStyle += '<b />';\n                }\n                if (font.i) {\n                    fontStyle += '<i />';\n                }\n                if (font.u) {\n                    fontStyle += '<u />';\n                }\n                fontStyle += '<sz val=\"' + this.pixelsToRowHeight(font.sz) + '\" />';\n                fontStyle += '<color rgb=\"' + font.color + '\" />';\n                fontStyle += '<name val=\"' + font.name + '\" /></font>';\n            }\n        }\n        return fontStyle + '</fonts>';\n    };\n    Workbook.prototype.saveFills = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fillsStyle = '<fills count=\"' + (this.mFills.size + 2) + '\"><fill><patternFill patternType=\"none\"></patternFill></fill><fill><patternFill patternType=\"gray125\"></patternFill></fill>';\n        if (this.mFills.size >= 1) {\n            this.mFills.forEach(function (value, key) {\n                /* tslint:disable-next-line:max-line-length */\n                fillsStyle += '<fill><patternFill patternType=\"solid\"><fgColor rgb=\"' + key + '\" /><bgColor rgb=\"FFFFFFFF\" /></patternFill></fill>';\n            });\n        }\n        return fillsStyle + '</fills>';\n    };\n    Workbook.prototype.saveBorders = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var bordersStyle = '<borders count=\"' + (this.mBorders.length + 1) + '\"><border><left /><right /><top /><bottom /><diagonal /></border>';\n        if (this.mBorders.length >= 1) {\n            for (var _i = 0, _a = this.mBorders; _i < _a.length; _i++) {\n                var borders = _a[_i];\n                if (this.isAllBorder(borders)) {\n                    var color = borders.all.color.replace('#', '');\n                    var lineStyle = borders.all.lineStyle;\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></left><right style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></right><top style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></top><bottom style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></bottom></border>';\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + borders.left.lineStyle + '\"><color rgb=\"FF' + borders.left.color.replace('#', '') + '\" /></left><right style=\"' + borders.right.lineStyle + '\"><color rgb=\"FF' + borders.right.color.replace('#', '') + '\" /></right><top style=\"' + borders.top.lineStyle + '\"><color rgb=\"FF' + borders.top.color.replace('#', '') + '\" /></top><bottom style=\"' + borders.bottom.lineStyle + '\"><color rgb=\"FF' + borders.bottom.color.replace('#', '') + '\" /></bottom></border>';\n                }\n            }\n        }\n        return bordersStyle + '</borders>';\n    };\n    Workbook.prototype.saveCellStyles = function () {\n        var _this = this;\n        var cellStyleString = '<cellStyles  count=\"' + (this.cellStyles.size) + '\">';\n        this.cellStyles.forEach(function (value, key) {\n            cellStyleString += '<cellStyle name=\"' + key + '\" xfId=\"' + _this.cellStyles.get(key).xfId + '\"';\n            if (key === 'Normal') {\n                cellStyleString += ' builtinId=\"0\"';\n            }\n            cellStyleString += ' />';\n        });\n        return cellStyleString += '</cellStyles>';\n    };\n    Workbook.prototype.saveCellStyleXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellStyleXfs count=\"' + (this.mCellStyleXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" />';\n        if (this.mCellStyleXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                var cellStyleXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellStyleXf.numFmtId + '\" fontId=\"' + cellStyleXf.fontId + '\" fillId=\"' + cellStyleXf.fillId + '\" borderId=\"' + cellStyleXf.borderId + '\" ';\n                if (cellStyleXf.alignment !== undefined) {\n                    cellXfsStyle += '>' + this.saveAlignment(cellStyleXf) + '</xf>';\n                }\n                else {\n                    cellXfsStyle += ' />';\n                }\n            }\n        }\n        return cellXfsStyle + '</cellStyleXfs>';\n    };\n    Workbook.prototype.saveCellXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellXfs count=\"' + (this.mCellXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />';\n        if (this.mCellXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {\n                var cellXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellXf.numFmtId + '\" fontId=\"' + cellXf.fontId + '\" fillId=\"' + cellXf.fillId + '\" borderId=\"' + cellXf.borderId + '\" xfId=\"' + cellXf.xfId + '\" ';\n                if (cellXf.applyAlignment === 1) {\n                    cellXfsStyle += 'applyAlignment=\"1\"';\n                }\n                cellXfsStyle += '>' + this.saveAlignment(cellXf) + '</xf>';\n            }\n        }\n        return cellXfsStyle + '</cellXfs>';\n    };\n    Workbook.prototype.saveAlignment = function (cellXf) {\n        var alignString = '<alignment ';\n        if (cellXf.alignment.horizontal !== undefined) {\n            alignString += 'horizontal=\"' + cellXf.alignment.horizontal + '\" ';\n        }\n        if (cellXf.alignment.indent !== undefined) {\n            alignString += 'indent=\"' + cellXf.alignment.indent + '\" ';\n        }\n        if (cellXf.alignment.vertical !== undefined) {\n            alignString += 'vertical=\"' + cellXf.alignment.vertical + '\" ';\n        }\n        alignString += 'wrapText=\"' + cellXf.alignment.wrapText + '\" />';\n        return alignString;\n    };\n    Workbook.prototype.saveApp = function (builtInProperties) {\n        /* tslint:disable-next-line:max-line-length */\n        var appString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\"><Application>Essential XlsIO</Application>';\n        if (builtInProperties !== undefined) {\n            if (builtInProperties.manager !== undefined) {\n                appString += '<Manager>' + builtInProperties.manager + '</Manager>';\n            }\n            if (builtInProperties.company !== undefined) {\n                appString += '<Company>' + builtInProperties.company + '</Company>';\n            }\n        }\n        this.addToArchive((appString + '</Properties>'), 'docProps/app.xml');\n    };\n    Workbook.prototype.saveCore = function (builtInProperties) {\n        var createdDate = new Date();\n        /* tslint:disable-next-line:max-line-length */\n        var coreString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><cp:coreProperties xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\">';\n        if (this.builtInProperties !== undefined) {\n            if (builtInProperties.author !== undefined) {\n                coreString += '<dc:creator>' + builtInProperties.author + '</dc:creator>';\n            }\n            if (builtInProperties.subject !== undefined) {\n                coreString += '<dc:subject>' + builtInProperties.subject + '</dc:subject>';\n            }\n            if (builtInProperties.category !== undefined) {\n                coreString += '<cp:category>' + builtInProperties.category + '</cp:category>';\n            }\n            if (builtInProperties.comments !== undefined) {\n                coreString += '<dc:description>' + builtInProperties.comments + '</dc:description>';\n            }\n            if (builtInProperties.title !== undefined) {\n                coreString += '<dc:title>' + builtInProperties.title + '</dc:title>';\n            }\n            if (builtInProperties.tags !== undefined) {\n                coreString += '<cp:keywords>' + builtInProperties.tags + '</cp:keywords>';\n            }\n            if (builtInProperties.status !== undefined) {\n                coreString += '<cp:contentStatus>' + builtInProperties.status + '</cp:contentStatus>';\n            }\n            if (builtInProperties.createdDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.createdDate.toISOString() + '</dcterms:created>';\n            }\n            else {\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            }\n            if (builtInProperties.modifiedDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.modifiedDate.toISOString() + '</dcterms:modified>';\n            }\n            else {\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n            }\n        }\n        else {\n            coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        coreString += '</cp:coreProperties>';\n        this.addToArchive(coreString, 'docProps/core.xml');\n    };\n    Workbook.prototype.saveTopLevelRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var topRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\" /><Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\" /><Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\" /></Relationships>';\n        this.addToArchive(topRelation, '_rels/.rels');\n    };\n    Workbook.prototype.saveWorkbookRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var wbRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        var length = this.worksheets.length;\n        var count = 0;\n        for (var i = 0; i < length; i++, count++) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (i + 1).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet' + (i + 1).toString() + '.xml\" />';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />';\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />';\n        }\n        this.addToArchive((wbRelation + '</Relationships>'), 'xl/_rels/workbook.xml.rels');\n    };\n    Workbook.prototype.saveContentType = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var contentTypeString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\"><Default Extension=\"xml\" ContentType=\"application/xml\" /><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /><Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" /><Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />';\n        var sheetsOverride = '';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            sheetsOverride += '<Override PartName=\"/xl/worksheets/sheet' + (i + 1).toString() + '.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />';\n        }\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            contentTypeString += '<Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" />';\n        }\n        this.addToArchive((contentTypeString + sheetsOverride + '</Types>'), '[Content_Types].xml');\n    };\n    Workbook.prototype.addToArchive = function (xmlString, itemName) {\n        if (typeof (xmlString) === 'string') {\n            var blob = new Blob([xmlString], { type: 'text/plain' });\n            var archiveItem = new ZipArchiveItem(blob, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n        else {\n            var archiveItem = new ZipArchiveItem(xmlString, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n    };\n    Workbook.prototype.processMergeCells = function (cell, rowIndex, mergeCells) {\n        if (cell.rowSpan !== 0 || cell.colSpan !== 0) {\n            var mCell = new MergeCell();\n            mCell.x = cell.index;\n            mCell.width = cell.colSpan;\n            mCell.y = rowIndex;\n            mCell.height = cell.rowSpan;\n            var startCell = this.getCellName(mCell.y, mCell.x);\n            var endCell = this.getCellName(rowIndex + mCell.height, cell.index + mCell.width);\n            mCell.ref = startCell + ':' + endCell;\n            var mergedCell = mergeCells.add(mCell);\n            var start = { x: mCell.x, y: mCell.y };\n            var end = {\n                x: (cell.index + mCell.width), y: (rowIndex + mCell.height)\n            };\n            this.updatedMergedCellStyles(start, end, cell);\n        }\n        return mergeCells;\n    };\n    Workbook.prototype.updatedMergedCellStyles = function (sCell, eCell, cell) {\n        for (var x = sCell.x; x <= eCell.x; x++) {\n            for (var y = sCell.y; y <= eCell.y; y++) {\n                this.mergedCellsStyle.set(this.getCellName(y, x), { x: x, y: y, styleIndex: cell.styleIndex });\n            }\n        }\n    };\n    /**\n     * Returns the tick count corresponding to the given year, month, and day.\n     * @param year number value of year\n     * @param month number value of month\n     * @param day number value of day\n     */\n    Workbook.prototype.dateToTicks = function (year, month, day) {\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysToMonth365 = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n        var daysToMonth366 = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\n        if (year >= 1 && year <= 9999 && month >= 1 && month <= 12) {\n            var days = this.isLeapYear(year) ? daysToMonth366 : daysToMonth365;\n            var y = year - 1;\n            var n = y * 365 + ((y / 4) | 0) - ((y / 100) | 0) + ((y / 400) | 0) + days[month - 1] + day - 1;\n            return n * ticksPerDay;\n        }\n        throw new Error('Not a valid date');\n    };\n    /**\n     * Return the tick count corresponding to the given hour, minute, second.\n     * @param hour number value of hour\n     * @param minute number value if minute\n     * @param second number value of second\n     */\n    Workbook.prototype.timeToTicks = function (hour, minute, second) {\n        if (hour >= 0 && hour < 24 && minute >= 0 && minute < 60 && second >= 0 && second < 60) {\n            var totalSeconds = hour * 3600 + minute * 60 + second;\n            return totalSeconds * 10000 * 1000;\n        }\n        throw new Error('Not valid time');\n    };\n    /**\n     * Checks if given year is a leap year.\n     * @param year Year value.\n     */\n    Workbook.prototype.isLeapYear = function (year) {\n        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n    };\n    /**\n     * Converts `DateTime` to the equivalent OLE Automation date.\n     */\n    Workbook.prototype.toOADate = function (date) {\n        var ticks = 0;\n        /* tslint:disable-next-line:max-line-length */\n        ticks = this.dateToTicks(date.getFullYear(), (date.getMonth() + 1), date.getDate()) + this.timeToTicks(date.getHours(), date.getMinutes(), date.getSeconds());\n        if (ticks === 0) {\n            return 0.0;\n        }\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysTo1899 = (((365 * 4 + 1) * 25 - 1) * 4 + 1) * 4 + ((365 * 4 + 1) * 25 - 1) * 3 - 367;\n        var doubleDateOffset = daysTo1899 * ticksPerDay;\n        var oaDateMinAsTicks = (((365 * 4 + 1) * 25 - 1) - 365) * ticksPerDay;\n        if (ticks < oaDateMinAsTicks) {\n            throw new Error('Arg_OleAutDateInvalid');\n        }\n        var millisPerDay = 1000 * 60 * 60 * 24;\n        return ((ticks - doubleDateOffset) / 10000) / millisPerDay;\n    };\n    return Workbook;\n}());\nexport { Workbook };\n/**\n * BuiltInProperties Class\n * @private\n */\nvar BuiltInProperties = /** @class */ (function () {\n    function BuiltInProperties() {\n    }\n    return BuiltInProperties;\n}());\nexport { BuiltInProperties };\n"],"names":["validateNullOrUndefined","value","message","undefined","Error","createInstance","classFunction","params","arrayParam","unshift","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","length","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","splits","split","i","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","indexOf","Array","isArray","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","setTimeout","queryParams","array","keys_2","push","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","document","parentNode","throwError","e","stack","print","element","printWindow","div","createElement","links","slice","getElementsByTagName","querySelectorAll","reference","open","appendChild","cloneNode","len","outerHTML","write","innerHTML","close","focus","interval","setInterval","ready","clearInterval","formatUnit","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","uniqueID","ret","tagName","properties","SVG_REG","test","createElementNS","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","classList","getClassList","ele","_b","classList_1","contains","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","nodeType","matches","siblings","childNodes_1","childNodes","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getComponent","comp","ej2_instances","getModuleName","getObject","curKey","defaultValue","type","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","pattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","varCOunt","localKeys","replace","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","ELSEIF_STMT","WORD","trim","addNameSpace","QUOTES","IF_STMT","strs","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_SVG","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","CellStyle","numFmtId","backColor","fontName","fontSize","fontColor","italic","bold","underline","wrapText","hAlign","vAlign","indent","numberFormat","borders","Borders","isGlobalStyle","Font","sz","name","u","b","color","CellXfs","Alignment","CellStyleXfs","CellStyles","xfId","NumFmt","code","formatCode","Border","mLine","mColor","lineStyle","all","__extends","extendStatics","setPrototypeOf","__proto__","d","p","__","Cell","Cells","_super","cell","inserted","count","index","Column","Row","Rows","row","Worksheets","Worksheet","isSummaryRowBelow","showGridLines","HyperLink","Grouping","FreezePane","MergeCell","MergeCells","mergeCell","mCell","isIntersecting","intersectingCell","min","Y","width","Width","X","height","Height","ref","base","compare","Save","save","fileName","buffer","extension","substring","lastIndexOf","mimeType","getMimeType","Blob","isMicrosoftBrowser","navigator","msSaveBlob","downloadLink","saveInternal","hasDownloadAttribute","download","dataUrl_1","URL","createObjectURL","href","event_1","createEvent","initEvent","dispatchEvent","revokeObjectURL","url","location","reader_1","FileReader","onloadend","readAsDataURL","Encoding","includeBom","emitBOM","encodingType","initBOM","getByteCount","chars","utf8Len","charCodeAt","getByteCountInternal","codePoint","isHighSurrogate","codeUnit","toCodepoint","highCodeUnit","lowCodeUnit","charIndex","charCount","byteCount","isUtf8","charCode","high","low","getBytes","s","RangeError","ArrayBuffer","getBytesOfUtf8Encoding","getBytesOfUnicodeEncoding","getBytesOfAnsiEncoding","getString","bytes","byteLength","byteCal","Uint8Array","getStringOfUtf8Encoding","byteUnicode","getStringofUnicodeEncoding","j","c","String","fromCharCode","bufview","k","charcode","uint","uint16","byteUni","byte16","destroy","arrLiteralCodes","Int16Array","arrLiteralLengths","arrDistanceCodes","arrDistanceLengths","CompressedStreamWriter","noWrap","pendingBuffer","pendingBufLength","pendingBufCache","pendingBufBitsInCache","bufferPosition","extraBits","currentHash","matchStart","matchLength","matchPrevAvail","blockStart","stringStart","lookAhead","totalBytesIn","inputOffset","inputEnd","windowSize","windowMask","hashSize","hashMask","hashShift","floor","maxDist","checkSum","treeLiteral","CompressorHuffmanTree","treeDistances","treeCodeLengths","arrDistances","arrLiterals","stream","dataWindow","hashHead","hashPrevious","writeZLibHeader","compressedString","end","encode","inputBuffer","ChecksumCalculator","checksumUpdate","pendingBufferFlush","compressData","headerDate","pendingBufferWriteShortBytes","finish","success","fillWindow","canFlush","compressSlow","flush","lookAheadCompleted","slideWindow","prevMatch","prevLen","discardMatch","matchPreviousBest","matchPreviousAvailable","huffmanIsFull","insertString","findLongestMatch","huffmanTallyLit","huffmanTallyDist","huffmanFlushBlock","lastBlock","more","subarray","updateHash","m","hash","curMatch","chainLen","niceLen","scan","bestEnd","bestLength","limit","stringEnd","scanEnd1","scanEnd","literal","codeFrequencies","dist","lc","huffmanLengthCode","dc","huffmanDistanceCode","stored","storedOffset","storedLength","buildTree","calculateBLFreq","blTreeCodes","codeLengths","huffCodeLengthOrders","opt_len","getEncodedLength","static_len","huffmanFlushStoredBlock","pendingBufferWriteBits","setStaticCodes","huffmanCompressBlock","huffmanReset","huffmanSendAllTrees","pendingBufferAlignToByte","pendingBufferWriteShort","pendingBufferWriteByteBlock","distance","buildCodes","treeLength","rank","writeTree","reset","literalLen","writeCodeToStream","bits","Uint32Array","pendingBufferFlushBits","isClose","writer","elementCount","minCodes","maxLength","codeMinCount","codeFrequency","lengthCount","Int32Array","codeCount","codeLength","codes","lengths","lengthTemp","nextCode","bitsCount","bitReverse","reverseBits","blTree","maxCount","minCount","curLen","nextLen","maxRepeatCount","minRepeatCount","currentRepeatCount","currentCodeLength","codesCount","arrTree","n","freq","pos","pPos","nodesCount","values","iIndex","constructHuffmanTree","buildLength","last","lastVal","path","minDepth","numNodes","numLeafs","overflow","calculateOptimalCodeLength","iIncreasableLength","recreateTree","nodePtr","childPtr","childIndex","bitLength","checksum","checksum_uint","s1","s2","checkSumBitOffset","steps","checksumIterationCount","checksumBase","crc32Table","ZipArchive","files","level","addItem","item","file","ZipArchiveItem","addDirectory","directoryName","getItem","zipArchive","Promise","resolve","reject","then","saveAsBlob","blob","skipFileSave","zipData","dirLength","getCompressedData","constructZippedObject","isDirectory","writeZippedContent","onload","input","crc32Value","compressedData","compressedSize","uncompressedDataSize","compressionType","length_1","calculateCrc32Value","readAsArrayBuffer","compressor","currentIndex","nextIndex","subArray","zipParts","extFileAttr","date","Date","header","writeHeader","localHeader","centralDir","writeCentralDirectory","zipHeader","getModifiedTime","getModifiedDate","localDirLen","cenDirLen","getArrayBuffer","shift","writeFooter","externalFileAttribute","centralLength","localLength","a","modTime","getHours","getMinutes","getSeconds","modiDate","getFullYear","getMonth","getDate","itemName","headerRegex","defaultType","Ajax","options","async","contentType","mode","emitError","toUpperCase","send","cancel","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","setRequestHeader","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","toLowerCase","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","headers","exec","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","some","splice","copyData","trigger","eventProp","eventData_1","Observer","ranArray","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","indexLocation","argument","curObject_1","cur","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","version","language","getEvent","isTouch","isDevice","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","uA","info","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","__decorate","decorators","desc","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","easing","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","model","getModel","elements_1","element_1","delayAnimation","stop","animation","animationId","frameId","parseInt","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","startTime","prevTimeStamp","startAnimation","begin","avg","timingFunction","progress","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","getElementById","size","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","beginPath","stroke","moveTo","x1","y1","lineTo","x2","y2","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","rx","globalAlpha","rect","drawCornerRadius","fill","fillStyle","fillRect","arcTo","closePath","drawPath","canvasTranslate","dataSplit","borderWidth","flag","translate","parseFloat","innerR","cx","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","cy","PI","drawText","label","fontWeight","fontFamily","font","anchor","textAlign","baseline","textBaseline","rotate","labelRotation","fillText","drawCircle","drawPolyline","points","point","drawEllipse","circumference","ry","scaleX","scaleY","scale","drawImage","imageObj","Image","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","newColorStop","stopColor","addColorStop","setElementAttributes","map","updateCanvasAttributes","img_1","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","parentObj","controlParent","isParentArray","updateChange","val","updateTimeOut","changeTime_1","clearUpdate","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","RegExp","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","format","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","primary","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","text","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","toFixed","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","substr","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","currencyFormatRegex","curCode","hasNegativePattern","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","cPattern","minDigits","maxDigits","diff","integer","no","G","M","L","H","'"," a","yy","EEEE","E","curWithoutNumberRegex","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","sun","mon","tue","wed","thu","fri","sat","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","scientificFormats-numberSystem-latn","monthIndex","month","C","P","N","A","lastPageID","weekdayKey","timeSetter","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","intDateFormatter","matches_1","curval","processNumber","curstr","getDay","desig","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","componentCount","lastHistoryLen","Component","randomId","needsID","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","refresh","preRender","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","setItem","getPersistData","clearTemplate","templateName","isHistoryChanged","pageID","history","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","isIE","scope","isUnWire","handle","initialize","evt","currentTarget","abort","preventDefault","changedTouches","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","position","getMousePosition","getHelperElement","dragTargetElement","helperElement","parentClientRect","offsetParent","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetTop","offsetLeft","offsetHeight","pageYOffset","pageXOffset","innerHeight","innerWidth","queryPositionInfo","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","dragData","intOver","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","dragValue","enableAutoScroll","scrollIntoView","axis","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","draggable","draggedElement","dropIns","getDropInstance","parent_1","parentElement","drop","eleInst","eleInst_1","Droppable","mouseOver","wireEvents","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","keyCode","backspace","tab","enter","control","alt","pause","capslock","space","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isCtrlKey","ctrlKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","unwireEvents","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SvgRenderer","svgLink","createSvg","svgObj","setSVGSize","line","rectangle","circle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","createText","textContent","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","getTime","eleStyle","overflowX","overflowY","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","ValueFormatter","intl","getFormatFunction","toView","displayText","CsvHelper","json","csvStr","formatter","globalStyles","Map","worksheets","parseWorksheet","rows","parseRows","rows_1","parseRow","cells","parseCell","csv","parseCellValue","has","dwlLink","BlobHelper","getBlob","Workbook","saveType","currencyString","sharedStringCount","unitsProportions","hyperlinkStyle","mSaveType","mArchive","sharedString","mFonts","mBorders","mStyles","printTitles","cellStyles","mNumFmt","mFills","mCellXfs","mCellStyleXfs","cellStyle","parserCellStyle","cellStylesIn","tFormat","parserWorksheets","builtInProperties","BuiltInProperties","parserBuiltInProperties","csvHelper","jsonBuiltInProperties","author","comments","category","company","manager","subject","createdDate","modifiedDate","tags","jsonSheet","sheet","mergeCells","mergedCellsStyle","mHyperLinks","columns","parserColumns","parserRows","freeze","parserFreezePanes","printTitle","parserPrintTitle","pageSetup","hyperLinks","mergeOptions","fromJson","toJson","applyProperties","sourceJson","destJson","getCellName","column","getColumnName","col","strColumnName","iCurrentDigit","titleRowName","printTitleName","fromRow","toRow","titleColName","fromColumn","toColumn","freezePanes","leftCell","columnsLength","rowsLength","rowId","parserRow","insertMergedCellsStyle","rowToInsert","createCell","insertIndex","styleIndex","cellToInsert","refName","rowIndex","grouping","parseGrouping","parseCells","outlineLevel","isCollapsed","isHidden","cellsLength","spanMin","spanMax","cellId","jsonCell","rowSpan","colSpan","hyperlink","hyperLink","getCellValueType","rId","parseCellType","processMergeCells","spans","applyGlobalStyle","cellType","defStyleIndex","parserBorder","leftBorder","rightBorder","topBorder","bottomBorder","processCellStyle","switchNumberFormat","numFmt","cellStyleXfs","cellXfs","returnFormat","border","processNumFormatId","compareResult","compareStyle","isNewFont","toCompareStyle","isNewBorder","bStyle","isAllBorder","toCompareBorder","allBorderStyle","baseStyle","toOADate","value_1","blobSaveType","blobData","proxyUrl","xlsxMatch","csvMatch","saveWorkbook","saveWorksheets","saveSharedString","saveStyles","saveApp","saveCore","saveContentType","saveTopLevelRelation","saveWorkbookRelation","workbookTemp","sheets","printTitle_1","addToArchive","saveWorksheet","sheetBlob","sheetString","saveSheetView","colString","pixelsToColumnWidth","rowString","pixelsToRowHeight","_d","_e","_f","_g","_h","_j","hLink","saveSheetRelations","pixels","dDigitWidth","trunc","relStr","paneString","sstStart","si","processString","updateCellXfsStyleXfs","styleTemp","saveNumberFormats","saveFonts","saveFills","saveBorders","saveCellStyleXfs","saveCellXfs","saveCellStyles","compareFontResult","fontId","fillId","borderId","applyAlignment","alignment","horizontal","vertical","numFmtStyle_1","fontStyle","fillsStyle","bordersStyle","cellStyleString","cellXfsStyle","cellStyleXf","saveAlignment","cellXf","alignString","appString","coreString","toISOString","wbRelation","contentTypeString","sheetsOverride","xmlString","archiveItem","startCell","endCell","updatedMergedCellStyles","sCell","eCell","dateToTicks","daysToMonth365","daysToMonth366","isLeapYear","timeToTicks","ticks","daysTo1899"],"mappings":"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"}