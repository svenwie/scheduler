{"version":3,"file":"ej2-dropdowns.min.js","sources":["../../src/common/incremental-search.js","../../src/common/highlight-search.js","../../node_modules/@syncfusion/ej2-base/src/util.js","../../node_modules/@syncfusion/ej2-base/src/dom.js","../../node_modules/@syncfusion/ej2-base/src/base.js","../../node_modules/@syncfusion/ej2-base/src/notify-property-change.js","../../node_modules/@syncfusion/ej2-base/src/animation.js","../../node_modules/@syncfusion/ej2-base/src/internationalization.js","../../node_modules/@syncfusion/ej2-base/src/template.js","../../node_modules/@syncfusion/ej2-base/src/template-engine.js","../../node_modules/@syncfusion/ej2-buttons/src/common/common.js","../../node_modules/@syncfusion/ej2-lists/src/common/list-base.js","../../node_modules/@syncfusion/ej2-popups/src/common/position.js","../../node_modules/@syncfusion/ej2-popups/src/common/collision.js","../../node_modules/@syncfusion/ej2-popups/src/popup/popup.js","../../node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/base/mask-base.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/common/common.js","../../src/multi-select/float-label.js","../../node_modules/@syncfusion/ej2-base/src/ajax.js","../../node_modules/@syncfusion/ej2-base/src/event-handler.js","../../node_modules/@syncfusion/ej2-base/src/observer.js","../../node_modules/@syncfusion/ej2-base/src/browser.js","../../node_modules/@syncfusion/ej2-base/src/intl/intl-base.js","../../node_modules/@syncfusion/ej2-base/src/canvas-renderer.js","../../node_modules/@syncfusion/ej2-base/src/module-loader.js","../../node_modules/@syncfusion/ej2-base/src/child-property.js","../../node_modules/@syncfusion/ej2-base/src/intl/parser-base.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-formatter.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-formatter.js","../../node_modules/@syncfusion/ej2-base/src/component.js","../../node_modules/@syncfusion/ej2-base/src/intl/date-parser.js","../../node_modules/@syncfusion/ej2-base/src/intl/number-parser.js","../../node_modules/@syncfusion/ej2-base/src/draggable.js","../../node_modules/@syncfusion/ej2-base/src/droppable.js","../../node_modules/@syncfusion/ej2-base/src/keyboard.js","../../node_modules/@syncfusion/ej2-base/src/l10n.js","../../node_modules/@syncfusion/ej2-base/src/svg-renderer.js","../../node_modules/@syncfusion/ej2-base/src/touch.js","../../node_modules/@syncfusion/ej2-data/src/query.js","../../node_modules/@syncfusion/ej2-data/src/util.js","../../node_modules/@syncfusion/ej2-data/src/adaptors.js","../../node_modules/@syncfusion/ej2-data/src/manager.js","../../node_modules/@syncfusion/ej2-buttons/src/button/button.js","../../node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","../../node_modules/@syncfusion/ej2-buttons/src/radio-button/radio-button.js","../../node_modules/@syncfusion/ej2-buttons/src/switch/switch.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/list-view.js","../../node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js","../../node_modules/@syncfusion/ej2-lists/src/list-view/virtualization.js","../../src/drop-down-base/drop-down-base.js","../../node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","../../node_modules/@syncfusion/ej2-inputs/src/input/input.js","../../node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/form-validator/form-validator.js","../../node_modules/@syncfusion/ej2-inputs/src/maskedtextbox/maskedtextbox/maskedtextbox.js","../../node_modules/@syncfusion/ej2-inputs/src/slider/slider.js","../../node_modules/@syncfusion/ej2-inputs/src/uploader/uploader.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/drop-down-button/drop-down-button.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/split-button/split-button.js","../../node_modules/@syncfusion/ej2-splitbuttons/src/progress-button/progress-button.js","../../node_modules/@syncfusion/ej2-inputs/src/color-picker/color-picker.js","../../node_modules/@syncfusion/ej2-inputs/src/textbox/textbox.js","../../src/drop-down-list/drop-down-list.js","../../src/combo-box/combo-box.js","../../src/auto-complete/auto-complete.js","../../src/multi-select/multi-select.js","../../src/multi-select/checkbox-selection.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\n/**\n * Search and focus the list item based on key code matches with list text content\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]] } items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase) {\n    queryString += String.fromCharCode(keyCode);\n    setTimeout(function () { queryString = ''; }, 1000);\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevString === queryString) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        return matches[index];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            i === -1 ? index = 0 : index = i;\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        return matches[0];\n    }\n}\nexport function Search(inputVal, items, searchType, ignoreCase) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var item = itemsData[i];\n            var text = (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr)) {\n                itemData.item = item;\n                itemData.index = i;\n                return { item: item, index: i };\n            }\n        }\n        return itemData;\n    }\n    return itemData;\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ? '(' + query + ')$' : '(' + query + ')';\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3) {\n            element.innerHTML = element.innerHTML.replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n * @param  {HTMLElement} content - Specifies an content element.\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","var instances = 'ej2_instances';\nvar uid = 0;\n/**\n * Create Instance from constructor function with desired parameters.\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @return {any}\n * @private\n */\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n * @param {Function} handler - callback function to be triggered.\n * @return {Function}\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @return {any}\n * @private\n */\nexport function getValue(nameSpace, obj) {\n    /* tslint:disable no-any */\n    var value = obj;\n    var splits = nameSpace.split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @return {void}\n * @private\n */\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.split('.');\n    var start = obj || {};\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} params - String value to the get the inner object\n * @return {void}\n * @private\n */\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n * Check weather the given argument is only object.\n * @param {any} obj - Object which is need to check.\n * @return {boolean}\n * @private\n */\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @return {any}\n * @private\n */\nexport function getEnumValue(enumObject, enumValue) {\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @return {void}\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @return {Object}\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied || {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            if (deep && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    result[key] = extend({}, clone, copy, deep);\n                }\n                else {\n                    clone = src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n * @param {Object} value - To check the object is null or undefined\n * @return {boolean}\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n * @param {Object} value - To check the object is undefined\n * @return {boolean}\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n * @param {string} definedName - To concatenate the unique id to provided name\n * @return {string}\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @return {Function}\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    var out;\n    // tslint:disable-next-line\n    return function () {\n        var _this = this;\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n// Added since lint ignored after added '//tslint:disable-next-line' \n/* tslint:disable:no-any */\n/**\n * To convert the object to string for query url\n * @param  {Object} data\n * @returns string\n * @private\n */\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n * @param {T[]} value- Specifies the T type array to be checked.\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n * @param{Element} - Specifies the child element to compare with parent.\n * @param{Element} - Specifies the parent element.\n * @return boolean\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n * @param{string} - Specifies the error message to be thrown.\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n * @param{Element} element - Specifies the print content element.\n * @param{Window} printWindow - Specifies the print window.\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('link, style'));\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // tslint:disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n * @param  {number|string} value\n * @return {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result === 'auto' || result.indexOf('%') !== -1 || result.indexOf('px') !== -1) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n * @param {string | HTMLElement} element\n * @param {any} component\n * @return {Object} inst\n * @private\n */\n// tslint:disable-next-line\nexport function getInstance(element, component) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n * @param {string | HTMLElement} element\n * @param {Object} instance\n * @return {void}\n * @private\n */\nexport function addInstance(element, instance) {\n    // tslint:disable-next-line:no-any\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n * @return {any}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function uniqueID() {\n    // tslint:disable-next-line:no-any\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // tslint:disable-next-line:no-any\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n * @param tagName - Name of the tag, id and class names.\n * @param properties - Object to set properties in the element.\n * @param properties.id - To set the id to the created element.\n * @param properties.className - To add classes to the element.\n * @param properties.innerHTML - To set the innerHTML to element.\n * @param properties.styles - To set the some custom styles to element.\n * @param properties.attrs - To set the attributes to element.\n * @private\n */\nexport function createElement(tagName, properties) {\n    //tslint:disable-next-line\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (!ele.classList.contains(className)) {\n                ele.classList.add(className);\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        if (ele.className !== '') {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                ele.classList.remove(className);\n            }\n        }\n    }\n    return elements;\n}\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n * @param  {Element|Node} element - An element the need to check visibility\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function prepend(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @private\n */\nexport function append(fromElements, toElement) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    return fromElements;\n}\n/**\n * The function used to remove the element from the\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @private\n */\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    return parentNode.removeChild(element);\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {{[key:string]:string}} attributes - JSON Object that is going to as attributes.\n * @private\n */\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        ele.setAttribute(key, attributes[key]);\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function select(selector, context) {\n    if (context === void 0) { context = document; }\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n * @param  {string} selector - Selector string need fetch element from the\n * @param  {Document|Element=document} context - It is an optional type, That specifies a Dom context.\n * @private\n */\nexport function selectAll(selector, context) {\n    if (context === void 0) { context = document; }\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * Returns single closest parent element based on class selector.\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n * @param  {Element|Node} element - An element that need to get siblings.\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal = element.getAttribute(property);\n    if (isNullOrUndefined(attrVal)) {\n        element.setAttribute(property, value.toString());\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @return {void}\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // tslint:disable-next-line:no-any\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @return {void}\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @return {void}\n * @private\n */\nexport function matches(element, selector) {\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     */\n    function Base(options, element) {\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.refreshing = false;\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange? - Specifies to true when we set properties.\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    ;\n    /**\n     * Calls for child element data bind\n     * @param {Object} obj\n     * @param {Object} parent\n     * @returns {void}\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    ;\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    ;\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} listener - Specifies the call to run when the event occurs.\n     * @return {void}\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    Base.prototype.trigger = function (eventName, eventProp) {\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            this.modelObserver.notify(eventName, eventProp);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-control', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-control']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    for (i = 0; i < elem.ej2_instances.length; i++) {\n        instance = elem.ej2_instances[i];\n        var compName = instance.getModuleName();\n        if (comp === compName) {\n            return instance;\n        }\n    }\n    return undefined;\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type\n */\nfunction getObject(instance, curKey, defaultValue, type) {\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n * @param {ClassObject} instance\n * @param {string} curKey\n * @param {Object[]} defaultValue\n * @param type\n * @param {boolean} isSetter\n * @returns {Object[]}\n */\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue.length;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i], instance);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], true]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n * @param {Object} defaultValue\n * @param {string} curKey\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n */\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue, this);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Method used to create property. General syntax below.\n * @param  {T} defaultValue? - Specifies the default value of property.\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n * @param  {T} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n * @param  {Function} defaultType - Specifies the default value of property.\n * @param  {Function} type - Specifies the class factory type of complex object.\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n * @param  {T[]} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n * @param  {T[]} defaultType - Specifies the default type of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n * @param  {Function} defaultValue? - Specifies the default value of property.\n * @param  {boolean} isComplex? - Specifies the whether it is complex object.\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    /* tslint:disable no-any */\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    target.propList[propertyType + 'Names'].push(key);\n    /* tslint:enable no-any */\n}\n/**\n * Returns an object containing the builder properties\n * @param {Function} component\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n * @param {any} component -specifies the target component for which builder to be created.\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n * @param {Object} context\n * @param {string} prefix\n * @private\n */\nfunction getParentContext(context, prefix) {\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @return {void}\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     * @param {AnimationModel} model\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var startTime = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element                \n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame \n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     * @param {AnimationModel} options\n     * @returns {AnimationModel}\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     * @private\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     * @private\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n    var Animation_1;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n * @private\n * @param HTMLElement element - Target element\n * @param RippleOptions rippleOptions - Ripple options .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return Function;\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n * @param {MouseEvent} e\n * @returns {void}\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n * @param {MouseEvent} e\n * @param {rippleArgs} eventArgs\n * @returns {void}\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean}\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     * @private\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function}\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     * @param {Number} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string}\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date}\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number}\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @returns {string}\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData);\n    };\n    /**\n     * Returns the First Day of the Week\n     * @returns {number}\n     */\n    Internationalization.prototype.getFirstDayOfWeek = function () {\n        return IntlBase.getWeekData(this.getCulture(), cldrData);\n    };\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void}\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n * @param {Object[]} obj Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void}\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void}\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    /* tslint:disable no-any */\n    var numObject = IntlBase.getDependables(cldrData, locale, true)[mapper[0]];\n    var dateObject = IntlBase.getDependables(cldrData, locale)[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the default date CLDR object.\n * @ignore\n * @private\n */\nexport function getDefaultDateObject() {\n    return IntlBase.getDependables(cldrData, '', false)[mapper[1]];\n}\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(\\/if|\\/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\n/**\n * The function to set regular expression for template expression string.\n * @param  {RegExp} value - Value expression.\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n * @param  {string} template - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\nexport function compile(template, helper) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper);\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\"; return str;\";\n    // tslint:disable-next-line:no-function-constructor-with-string-args\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n// function used to evaluate the function expression\nfunction evalExp(str, nameSpace, helper) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, function (match, cnt, offset, matchStr) {\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORD, function (strs) {\n                    strs = strs.trim();\n                    return addNameSpace(strs, !(QUOTES.test(strs)) && (localKeys.indexOf(strs) === -1), nameSpace, localKeys);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                    cnt.replace(rlStr, addNameSpace(matches[1].replace(',', nameSpace + '.'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys)) +\n                    '+\"';\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            //handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition \n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else {\n            // evaluate normal expression\n            cnt = '\"+' + addNameSpace(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '+\"';\n        }\n        return cnt;\n    });\n}\nfunction addNameSpace(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nvar HAS_ROW = /^[\\n\\r.]+\\<tr|^\\<tr/;\nvar HAS_SVG = /^[\\n\\r.]+\\<svg|^\\<path|^\\<g/;\n/**\n * Compile the template string into template function.\n * @param  {string} templateString - The template string which is going to convert.\n * @param  {Object} helper? - Helper functions as an object.\n * @private\n */\n//tslint:disable-next-line\nexport function compile(templateString, helper) {\n    var compiler = engineObj.compile(templateString, helper);\n    //tslint:disable-next-line\n    return function (data, component, propName) {\n        var result = compiler(data, component, propName);\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n * Set your custom template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering.\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    Engine.prototype.compile = function (templateString, helper) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","import { detach, getUniqueID, rippleEffect, setValue, attributes } from '@syncfusion/ej2-base';\nimport { getValue, addClass, deleteObject } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n * @private\n */\nexport function wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    var input = element;\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition', 'id'];\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        attributes(element, { 'class': WRAPPER, 'role': role, 'aria-checked': 'false' });\n        element.appendChild(input);\n        setValue('ej2_instances', ejInstance, input);\n        deleteObject(element, 'ej2_instances');\n    }\n    return input;\n}\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n * @private\n */\nexport function destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        detach(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n    }\n}\nexport function preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = getUniqueID('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n * @private\n */\nexport function createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label', innerHTML: options.label });\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n","import { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n    li: 'e-list-item',\n    ul: 'e-list-parent e-ul',\n    group: 'e-list-group-item',\n    icon: 'e-list-icon',\n    text: 'e-list-text',\n    check: 'e-list-check',\n    checked: 'e-checked',\n    selected: 'e-selected',\n    expanded: 'e-expanded',\n    textContent: 'e-text-content',\n    hasChild: 'e-has-child',\n    level: 'e-level',\n    url: 'e-list-url',\n    collapsible: 'e-icon-collapsible',\n    disabled: 'e-disabled',\n    image: 'e-list-img',\n    iconWrapper: 'e-icon-wrapper'\n};\n/**\n * Base List Generator\n */\nexport var ListBase;\n(function (ListBase) {\n    /**\n     * Default mapped fields.\n     */\n    ListBase.defaultMappedFields = {\n        id: 'id',\n        text: 'text',\n        url: 'url',\n        value: 'value',\n        isChecked: 'isChecked',\n        enabled: 'enabled',\n        expanded: 'expanded',\n        selected: 'selected',\n        iconCss: 'iconCss',\n        child: 'child',\n        isVisible: 'isVisible',\n        hasChildren: 'hasChildren',\n        tooltip: 'tooltip',\n        htmlAttributes: 'htmlAttributes',\n        urlAttributes: 'urlAttributes',\n        imageAttributes: 'imageAttributes',\n        imageUrl: 'imageUrl',\n        groupBy: null\n    };\n    var defaultAriaAttributes = {\n        level: 1,\n        listRole: 'presentation',\n        itemRole: 'presentation',\n        groupItemRole: 'group',\n        itemText: 'list-item',\n        wrapperRole: 'presentation'\n    };\n    var defaultListBaseOptions = {\n        showCheckBox: false,\n        showIcon: false,\n        expandCollapse: false,\n        fields: ListBase.defaultMappedFields,\n        ariaAttributes: defaultAriaAttributes,\n        listClass: '',\n        itemClass: '',\n        processSubChild: false,\n        sortOrder: 'None',\n        template: null,\n        groupTemplate: null,\n        headerTemplate: null,\n        expandIconClass: 'e-icon-collapsible',\n        moduleName: 'list',\n        expandIconPosition: 'Right'\n    };\n    /**\n     * Function helps to created and return the UL Li element based on your data.\n     * @param  {{[key:string]:Object}[]|string[]} dataSource - Specifies an array of JSON or String data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createList(createElement, dataSource, options, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var type = typeofData(dataSource).typeof;\n        if (type === 'string' || type === 'number') {\n            return createListFromArray(createElement, dataSource, isSingleLevel, options);\n        }\n        else {\n            return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel);\n        }\n    }\n    ListBase.createList = createList;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options);\n        return generateUL(createElement, subChild, null, options);\n    }\n    ListBase.createListFromArray = createListFromArray;\n    /**\n     * Function helps to created an element list based on string array input .\n     * @param  {string[]} dataSource - Specifies an array of string data\n     */\n    function createListItemFromArray(createElement, dataSource, isSingleLevel, options) {\n        var subChild = [];\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            var li = void 0;\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    options: curOpt\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (isSingleLevel) {\n                li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, dataSource[i], undefined, null, null, options);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    item: li,\n                    options: curOpt\n                };\n                curOpt.itemCreated(curData);\n            }\n            subChild.push(li);\n        }\n        return subChild;\n    }\n    ListBase.createListItemFromArray = createListItemFromArray;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    function createListItemFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var id;\n        if (level) {\n            ariaAttributes.level = level;\n        }\n        var child = [];\n        var li;\n        if (dataSource && dataSource.length && !isNullOrUndefined(typeofData(dataSource).item) &&\n            !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n            id = generateId(); // generate id for drop-down-list option.\n        }\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            var curItem = dataSource[i];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n            }\n            if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n                id = fieldData.id;\n            }\n            var innerEle = [];\n            if (curOpt.showCheckBox) {\n                innerEle.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n            }\n            if (isSingleLevel === true) {\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !isNullOrUndefined(fieldData[fields.iconCss])) {\n                    innerEle.push(createElement('span', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] }));\n                }\n                li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, (curItem.hasOwnProperty('isHeader') &&\n                    curItem.isHeader) ? true : false, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options);\n                li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n                li.setAttribute('aria-level', ariaAttributes.level.toString());\n                if (fieldData.hasOwnProperty(fields.tooltip)) {\n                    li.setAttribute('title', fieldData[fields.tooltip]);\n                }\n                if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                    setAttribute(li, fieldData[fields.htmlAttributes]);\n                }\n                if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n                    li.classList.add(cssClass.disabled);\n                }\n                if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n                    li.style.display = 'none';\n                }\n                if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])) {\n                    var attr = { src: fieldData[fields.imageUrl] };\n                    merge(attr, fieldData[fields.imageAttributes]);\n                    prepend([createElement('img', { className: cssClass.image, attrs: attr })], li.firstElementChild);\n                }\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) &&\n                    !isNullOrUndefined(fieldData[fields.iconCss]) && !curOpt.template) {\n                    prepend([createElement('div', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] })], li.firstElementChild);\n                }\n                if (innerEle.length) {\n                    prepend(innerEle, li.firstElementChild);\n                }\n                processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            child.push(li);\n        }\n        return child;\n    }\n    ListBase.createListItemFromJson = createListItemFromJson;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies an array of JSON data.\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     */\n    function createListFromJson(createElement, dataSource, options, level, isSingleLevel) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel);\n        return generateUL(createElement, li, curOpt.listClass, options);\n    }\n    ListBase.createListFromJson = createListFromJson;\n    /**\n     * Return the next or previous visible element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n     * @param  {Element} li - An element to find next or previous after this element.\n     * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n     */\n    function getSiblingLI(elementArray, element, isPrevious) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        if (!elementArray || !elementArray.length) {\n            return void 0;\n        }\n        var siblingLI;\n        var liIndex;\n        var liCollections = Array.prototype.slice.call(elementArray);\n        if (element) {\n            liIndex = indexOf(element, liCollections);\n        }\n        else {\n            liIndex = (isPrevious === true ? liCollections.length : -1);\n        }\n        siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n        while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n            liIndex = liIndex + (isPrevious === true ? -1 : 1);\n            siblingLI = liCollections[liIndex];\n        }\n        return siblingLI;\n    }\n    ListBase.getSiblingLI = getSiblingLI;\n    /**\n     * Return the index of the li element\n     * @param  {Element} item - An element to find next or previous after this element.\n     * @param  {Element[]|NodeList} elementArray - An element array to find index of given li.\n     */\n    function indexOf(item, elementArray) {\n        if (!elementArray || !item) {\n            return void 0;\n        }\n        else {\n            var liCollections = elementArray;\n            liCollections = Array.prototype.slice.call(elementArray);\n            return liCollections.indexOf(item);\n        }\n    }\n    ListBase.indexOf = indexOf;\n    /**\n     * Returns the grouped data from given dataSource.\n     * @param  {{[key:string]:Object}[]} dataSource - The JSON data which is necessary to process.\n     * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n     * @param  {SortOrder='None'} sortOrder- Specifies final result sort order.\n     */\n    function groupDataSource(dataSource, fields, sortOrder) {\n        if (sortOrder === void 0) { sortOrder = 'None'; }\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var cusQuery = new Query().group(curFields.groupBy);\n        // need to remove once sorting issues fixed in DataManager\n        cusQuery = addSorting(sortOrder, 'key', cusQuery);\n        var ds = getDataSource(dataSource, cusQuery);\n        dataSource = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            var grpItem = {};\n            var hdr = 'isHeader';\n            grpItem[curFields.text] = ds[j].key;\n            grpItem[hdr] = true;\n            grpItem.id = 'group-list-item-' + (ds[j].key ?\n                ds[j].key.toString().trim() : 'undefined');\n            grpItem.items = itemObj;\n            dataSource.push(grpItem);\n            for (var k = 0; k < itemObj.length; k++) {\n                dataSource.push(itemObj[k]);\n            }\n        }\n        return dataSource;\n    }\n    ListBase.groupDataSource = groupDataSource;\n    /**\n     * Returns a sorted query object.\n     * @param  {SortOrder} sortOrder - Specifies that sort order.\n     * @param  {string} sortBy - Specifies sortBy fields.\n     * @param  {Query=new Query()} query - Pass if any existing query.\n     */\n    function addSorting(sortOrder, sortBy, query) {\n        if (query === void 0) { query = new Query(); }\n        if (sortOrder === 'Ascending') {\n            query.sortBy(sortBy, 'ascending', true);\n        }\n        else if (sortOrder === 'Descending') {\n            query.sortBy(sortBy, 'descending', true);\n        }\n        else {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i].fn === 'onSortBy') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    }\n    ListBase.addSorting = addSorting;\n    /**\n     * Return an array of JSON Data that processed based on queries.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {Query} query - Specifies query that need to process.\n     */\n    function getDataSource(dataSource, query) {\n        // tslint:disable-next-line\n        return new DataManager(dataSource)\n            .executeLocal(query);\n    }\n    ListBase.getDataSource = getDataSource;\n    /**\n     * Created JSON data based the UL and LI element\n     * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function createJsonFromElement(element, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var curEle = element.cloneNode(true);\n        var jsonAr = [];\n        curEle.classList.add('json-parent');\n        var childs = curEle.querySelectorAll('.json-parent>li');\n        curEle.classList.remove('json-parent');\n        for (var i = 0; i < childs.length; i++) {\n            var li = childs[i];\n            var anchor = li.querySelector('a');\n            var ul = li.querySelector('ul');\n            var json = {};\n            var childNodes = anchor ? anchor.childNodes : li.childNodes;\n            var keys = Object.keys(childNodes);\n            for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n                if (!(childNodes[Number(keys[i_1])]).hasChildNodes()) {\n                    json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n                }\n            }\n            json[fields.id] = generateId();\n            var attributes_1 = getAllAttributes(li);\n            if (Object.keys(attributes_1).length) {\n                json[fields.htmlAttributes] = attributes_1;\n            }\n            if (anchor) {\n                attributes_1 = getAllAttributes(anchor);\n                if (Object.keys(attributes_1).length) {\n                    json[fields.urlAttributes] = attributes_1;\n                }\n            }\n            if (ul) {\n                json[fields.child] = createJsonFromElement(ul, options);\n            }\n            jsonAr.push(json);\n        }\n        return jsonAr;\n    }\n    ListBase.createJsonFromElement = createJsonFromElement;\n    function typeofData(data) {\n        var match = { typeof: null, item: null };\n        for (var i = 0; i < data.length; i++) {\n            if (!isNullOrUndefined(data[i])) {\n                return match = { typeof: typeof data[i], item: data[i] };\n            }\n        }\n        return match;\n    }\n    function setAttribute(element, elementAttributes) {\n        var attr = {};\n        merge(attr, elementAttributes);\n        if (attr.class) {\n            addClass([element], attr.class.split(' '));\n            delete attr.class;\n        }\n        attributes(element, attr);\n    }\n    function getAllAttributes(element) {\n        var attributes = {};\n        var attr = element.attributes;\n        for (var index = 0; index < attr.length; index++) {\n            attributes[attr[index].nodeName] = attr[index].nodeValue;\n        }\n        return attributes;\n    }\n    /**\n     * Created UL element from content template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function renderContentTemplate(createElement, template, dataSource, fields, options) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        var ulElement = createElement('ul', { className: cssClass.ul, attrs: { role: 'presentation' } });\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var compiledString = compile(template);\n        var liCollection = [];\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], curFields);\n            var curItem = dataSource[i];\n            var isHeader = curItem.isHeader;\n            var value = fieldData[curFields.value];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], curFields);\n                value = fieldData[curFields.value];\n            }\n            var li = createElement('li', {\n                id: id + '-' + i,\n                className: isHeader ? cssClass.group : cssClass.li, attrs: { role: 'presentation' }\n            });\n            if (isHeader) {\n                li.innerText = fieldData[curFields.text];\n            }\n            else {\n                append(compiledString(curItem), li);\n                li.setAttribute('data-value', value);\n                li.setAttribute('role', 'option');\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    item: li,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreated(curData);\n            }\n            liCollection.push(li);\n        }\n        append(liCollection, ulElement);\n        return ulElement;\n    }\n    ListBase.renderContentTemplate = renderContentTemplate;\n    /**\n     * Created header items from group template.\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{[key:string]:Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n     * @param  {Element[]} headerItems? - Specifies listbase header items.\n     */\n    function renderGroupTemplate(groupTemplate, groupDataSource, fields, headerItems) {\n        var compiledString = compile(groupTemplate);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var category = curFields.groupBy;\n        for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n            var header = headerItems_1[_i];\n            var headerData = {};\n            headerData[category] = header.textContent;\n            header.innerHTML = '';\n            append(compiledString(headerData), header);\n        }\n        return headerItems;\n    }\n    ListBase.renderGroupTemplate = renderGroupTemplate;\n    function generateId() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    ListBase.generateId = generateId;\n    function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n        // Get SubList   \n        var subDS = fieldData[fields.child] || [];\n        var hasChildren = fieldData[fields.hasChildren];\n        //Create Sub child\n        if (subDS.length) {\n            hasChildren = true;\n            element.classList.add(cssClass.hasChild);\n            if (options.processSubChild) {\n                var subLi = createListFromJson(createElement, subDS, options, ++level);\n                element.appendChild(subLi);\n            }\n        }\n        // Create expand and collapse node\n        if (!!options.expandCollapse && hasChildren && !options.template) {\n            element.firstElementChild.classList.add(cssClass.iconWrapper);\n            var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n            expandElement([createElement('div', { className: 'e-icons ' + options.expandIconClass })], element.querySelector('.' + cssClass.textContent));\n        }\n    }\n    function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var value = item;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n            dataSource = item;\n            text = (typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number') ?\n                fieldData[fields.text] : (fieldData[fields.text] || '');\n            value = fieldData[fields.value];\n        }\n        var elementID;\n        if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id])\n            && fieldData[fields.id] !== '') {\n            elementID = id;\n        }\n        else {\n            elementID = id + '-' + index;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            id: elementID, attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n            li.classList.add(cssClass.disabled);\n        }\n        if (grpLI) {\n            li.innerText = text;\n        }\n        else {\n            if (!isNullOrUndefined(value)) {\n                li.setAttribute('data-value', value);\n            }\n            li.setAttribute('role', 'option');\n            if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                setAttribute(li, fieldData[fields.htmlAttributes]);\n            }\n            if (innerElements.length) {\n                append(innerElements, li);\n            }\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                li.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                li.appendChild(document.createTextNode(text));\n            }\n        }\n        return li;\n    }\n    function getModuleClass(moduleName) {\n        var moduleClass;\n        return moduleClass = {\n            li: \"e-\" + moduleName + \"-item\",\n            ul: \"e-\" + moduleName + \"-parent e-ul\",\n            group: \"e-\" + moduleName + \"-group-item\",\n            icon: \"e-\" + moduleName + \"-icon\",\n            text: \"e-\" + moduleName + \"-text\",\n            check: \"e-\" + moduleName + \"-check\",\n            checked: 'e-checked',\n            selected: 'e-selected',\n            expanded: 'e-expanded',\n            textContent: 'e-text-content',\n            hasChild: 'e-has-child',\n            level: 'e-level',\n            url: \"e-\" + moduleName + \"-url\",\n            collapsible: 'e-icon-collapsible',\n            disabled: 'e-disabled',\n            image: \"e-\" + moduleName + \"-img\",\n            iconWrapper: 'e-icon-wrapper'\n        };\n    }\n    function anchorTag(createElement, dataSource, fields, text) {\n        var fieldData = getFieldValues(dataSource, fields);\n        var attr = { href: fieldData[fields.url] };\n        if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n            merge(attr, fieldData[fields.urlAttributes]);\n        }\n        var anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url, innerHTML: text });\n        setAttribute(anchorTag, attr);\n        return anchorTag;\n    }\n    /* tslint:disable:align */\n    function generateLI(createElement, item, fieldData, fields, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var uID;\n        var grpLI;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number') {\n            dataSource = item;\n            text = fieldData[fields.text] || '';\n            uID = fieldData[fields.id];\n            grpLI = (item.hasOwnProperty('isHeader') && item.isHeader)\n                ? true : false;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        !isNullOrUndefined(uID) ? li.setAttribute('data-uid', uID) : li.setAttribute('data-uid', generateId());\n        if (grpLI && options && options.groupTemplate) {\n            var compiledString = compile(options.groupTemplate);\n            append(compiledString(item), li);\n        }\n        else if (!grpLI && options && options.template) {\n            var compiledString = compile(options.template);\n            append(compiledString(item), li);\n        }\n        else {\n            var innerDiv = createElement('div', {\n                className: cssClass.textContent,\n                attrs: (ariaAttributes.wrapperRole !== '' ? { role: ariaAttributes.wrapperRole } : {})\n            });\n            if (dataSource && fieldData.hasOwnProperty(fields.url) && fieldData[fields.url]) {\n                innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text));\n            }\n            else {\n                innerDiv.appendChild(createElement('span', {\n                    className: cssClass.text, innerHTML: text,\n                    attrs: (ariaAttributes.itemText !== '' ? { role: ariaAttributes.itemText } : {})\n                }));\n            }\n            li.appendChild(innerDiv);\n        }\n        return li;\n    }\n    /**\n     * Returns UL element based on the given LI element.\n     * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n     * @param  {string} className? - Specifies class name that need to be added in UL element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateUL(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var ulElement = createElement('ul', {\n            className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.listRole !== '' ? { role: ariaAttributes.listRole } : {})\n        });\n        append(liElement, ulElement);\n        return ulElement;\n    }\n    ListBase.generateUL = generateUL;\n    /**\n     * Returns LI element with additional DIV tag based on the given LI element.\n     * @param  {liElement} liElement - Specifies LI element.\n     * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateIcon(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n        expandElement([createElement('div', {\n                className: 'e-icons ' + curOpt.expandIconClass + ' ' +\n                    (isNullOrUndefined(className) ? '' : className)\n            })], liElement.querySelector('.' + cssClass.textContent));\n        return liElement;\n    }\n    ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n * @param {{[key:string]:Object}|string[]|string} dataSource - Specifies an  JSON or String data.\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\nexport function getFieldValues(dataItem, fields) {\n    var fieldData = {};\n    if (isNullOrUndefined(dataItem) || typeof (dataItem) === 'string' || typeof (dataItem) === 'number'\n        || !isNullOrUndefined(dataItem.isHeader)) {\n        return dataItem;\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n            var field = _a[_i];\n            var dataField = fields[field];\n            var value = !isNullOrUndefined(dataField) &&\n                typeof (dataField) === 'string' ? getValue(dataField, dataItem) : undefined;\n            if (!isNullOrUndefined(value)) {\n                fieldData[dataField] = value;\n            }\n        }\n    }\n    return fieldData;\n}\n","/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft() - (popupRect ? popupRect.width : 0);\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\nfunction setPopup(element, pos, elementRect) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                this.element.style.left = data.left + 'px';\n                this.element.style.top = data.top + 'px';\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     * @param { HTMLElement } relativeElement? - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    //Body direct children element traversal\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                siblingsZindex.push(index);\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    // Checking the max-zindex value\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID, makeElement) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","/**\n * MaskedTextBox base module\n */\nimport { EventHandler, isNullOrUndefined, merge, attributes, addClass, removeClass, Browser, extend } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nvar ERROR = 'e-error';\nvar INPUTGROUP = 'e-input-group';\nvar FLOATINPUT = 'e-float-input';\nvar UTILMASK = 'e-utility-mask';\nvar TOPLABEL = 'e-label-top';\nvar BOTTOMLABEL = 'e-label-bottom';\n/**\n * @hidden\n * Built-in masking elements collection.\n */\nexport var regularExpressions = {\n    '0': '[0-9]',\n    '9': '[0-9 ]',\n    '#': '[0-9 +-]',\n    'L': '[A-Za-z]',\n    '?': '[A-Za-z ]',\n    '&': '[^\\x7f ]+',\n    'C': '[^\\x7f]+',\n    'A': '[A-Za-z0-9]',\n    'a': '[A-Za-z0-9 ]',\n};\n/**\n * @hidden\n * Generate required masking elements to the MaskedTextBox from user mask input.\n */\nexport function createMask() {\n    attributes(this.element, {\n        'role': 'textbox', 'autocomplete': 'off', 'autocorrect': 'off', 'autocapitalize': 'off',\n        'spellcheck': 'false', 'aria-live': 'assertive', 'aria-valuenow': ''\n    });\n    if (this.mask) {\n        var splitMask = this.mask.split(']');\n        for (var i = 0; i < splitMask.length; i++) {\n            if (splitMask[i][splitMask[i].length - 1] === '\\\\') {\n                splitMask[i] = splitMask[i] + ']';\n                var splitInnerMask = splitMask[i].split('[');\n                for (var j = 0; j < splitInnerMask.length; j++) {\n                    if (splitInnerMask[j][splitInnerMask[j].length - 1] === '\\\\') {\n                        splitInnerMask[j] = splitInnerMask[j] + '[';\n                    }\n                    pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                }\n            }\n            else {\n                var splitInnerMask = splitMask[i].split('[');\n                if (splitInnerMask.length > 1) {\n                    var chkSpace = false;\n                    for (var j = 0; j < splitInnerMask.length; j++) {\n                        if (splitInnerMask[j] === '\\\\') {\n                            this.customRegExpCollec.push('[');\n                            this.hiddenMask += splitInnerMask[j] + '[';\n                        }\n                        else if (splitInnerMask[j] === '') {\n                            chkSpace = true;\n                        }\n                        else if ((splitInnerMask[j] !== '' && chkSpace) || j === splitInnerMask.length - 1) {\n                            this.customRegExpCollec.push('[' + splitInnerMask[j] + ']');\n                            this.hiddenMask += this.promptChar;\n                            chkSpace = false;\n                        }\n                        else {\n                            pushIntoRegExpCollec.call(this, splitInnerMask[j]);\n                        }\n                    }\n                }\n                else {\n                    pushIntoRegExpCollec.call(this, splitInnerMask[0]);\n                }\n            }\n        }\n        this.escapeMaskValue = this.hiddenMask;\n        this.promptMask = this.hiddenMask.replace(/[09?LCAa#&]/g, this.promptChar);\n        if (!isNullOrUndefined(this.customCharacters)) {\n            for (var i = 0; i < this.promptMask.length; i++) {\n                if (!isNullOrUndefined(this.customCharacters[this.promptMask[i]])) {\n                    this.promptMask = this.promptMask.replace(new RegExp(this.promptMask[i], 'g'), this.promptChar);\n                }\n            }\n        }\n        var escapeNumber = 0;\n        if (this.hiddenMask.match(new RegExp(/\\\\/))) {\n            for (var i = 0; i < this.hiddenMask.length; i++) {\n                var j = 0;\n                if (i >= 2) {\n                    j = i;\n                }\n                escapeNumber = this.hiddenMask.length - this.promptMask.length;\n                j = j - escapeNumber;\n                if ((i > 0 && this.hiddenMask[i - 1] !== '\\\\') && (this.hiddenMask[i] === '>' ||\n                    this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|')) {\n                    this.promptMask = this.promptMask.substring(0, j) +\n                        this.promptMask.substring((i + 1) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) +\n                        this.escapeMaskValue.substring((i + 1) - escapeNumber, this.escapeMaskValue.length);\n                }\n                if (this.hiddenMask[i] === '\\\\') {\n                    this.promptMask = this.promptMask.substring(0, j) + this.hiddenMask[i + 1] +\n                        this.promptMask.substring((i + 2) - escapeNumber, this.promptMask.length);\n                    this.escapeMaskValue = this.escapeMaskValue.substring(0, j) + this.escapeMaskValue[i + 1] +\n                        this.escapeMaskValue.substring((i + 2) - escapeNumber, this.escapeMaskValue.length);\n                }\n            }\n        }\n        else {\n            this.promptMask = this.promptMask.replace(/[>|<]/g, '');\n            this.escapeMaskValue = this.hiddenMask.replace(/[>|<]/g, '');\n        }\n        attributes(this.element, { 'aria-invalid': 'false' });\n    }\n}\n/**\n * @hidden\n * Apply mask ability with masking elements to the MaskedTextBox.\n */\nexport function applyMask() {\n    setElementValue.call(this, this.promptMask);\n    setMaskValue.call(this, this.value);\n}\n/**\n * @hidden\n * To wire required events to the MaskedTextBox.\n */\nexport function wireEvents() {\n    EventHandler.add(this.element, 'keydown', maskInputKeyDownHandler, this);\n    EventHandler.add(this.element, 'keypress', maskInputKeyPressHandler, this);\n    EventHandler.add(this.element, 'keyup', maskInputKeyUpHandler, this);\n    EventHandler.add(this.element, 'input', maskInputHandler, this);\n    EventHandler.add(this.element, 'focus', maskInputFocusHandler, this);\n    EventHandler.add(this.element, 'blur', maskInputBlurHandler, this);\n    EventHandler.add(this.element, 'paste', maskInputPasteHandler, this);\n    EventHandler.add(this.element, 'cut', maskInputCutHandler, this);\n    EventHandler.add(this.element, 'drop', maskInputDropHandler, this);\n    if (this.enabled) {\n        bindClearEvent.call(this);\n    }\n}\n/**\n * @hidden\n * To unwire events attached to the MaskedTextBox.\n */\nexport function unwireEvents() {\n    EventHandler.remove(this.element, 'keydown', maskInputKeyDownHandler);\n    EventHandler.remove(this.element, 'keypress', maskInputKeyPressHandler);\n    EventHandler.remove(this.element, 'keyup', maskInputKeyUpHandler);\n    EventHandler.remove(this.element, 'input', maskInputHandler);\n    EventHandler.remove(this.element, 'focus', maskInputFocusHandler);\n    EventHandler.remove(this.element, 'blur', maskInputBlurHandler);\n    EventHandler.remove(this.element, 'paste', maskInputPasteHandler);\n    EventHandler.remove(this.element, 'cut', maskInputCutHandler);\n}\n/**\n * @hidden\n * To bind required events to the MaskedTextBox clearButton.\n */\nexport function bindClearEvent() {\n    if (this.showClearButton) {\n        EventHandler.add(this.inputObj.clearButton, 'mousedown touchstart', resetHandler, this);\n    }\n}\nfunction resetHandler(e) {\n    e.preventDefault();\n    if (!this.inputObj.clearButton.classList.contains('e-clear-icon-hide')) {\n        clear.call(this, e);\n    }\n}\nfunction clear(event) {\n    var value = this.element.value;\n    setElementValue.call(this, this.promptMask);\n    this.redoCollec.unshift({\n        value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n    });\n    triggerMaskChangeEvent.call(this, event, value);\n    this.element.setSelectionRange(0, 0);\n}\n/**\n * @hidden\n * To get masked value from the MaskedTextBox.\n */\nexport function unstrippedValue(element) {\n    return element.value;\n}\n/**\n * @hidden\n * To extract raw value from the MaskedTextBox.\n */\nexport function strippedValue(element, maskValues) {\n    var value = '';\n    var k = 0;\n    var checkMask = false;\n    var maskValue = (!isNullOrUndefined(maskValues)) ? maskValues : (!isNullOrUndefined(element) &&\n        !isNullOrUndefined(this)) ? element.value : maskValues;\n    if (maskValue !== this.promptMask) {\n        for (var i = 0; i < this.customRegExpCollec.length; i++) {\n            if (checkMask) {\n                checkMask = false;\n            }\n            if (this.customRegExpCollec[k] === '>' || this.customRegExpCollec[k] === '<' ||\n                this.customRegExpCollec[k] === '|' || this.customRegExpCollec[k] === '\\\\') {\n                --i;\n                checkMask = true;\n            }\n            if (!checkMask) {\n                if ((maskValue[i] !== this.promptChar) && (!isNullOrUndefined(this.customRegExpCollec[k]) &&\n                    ((!isNullOrUndefined(this.regExpCollec[this.customRegExpCollec[k]])) ||\n                        (this.customRegExpCollec[k].length > 2 && this.customRegExpCollec[k][0] === '[' &&\n                            this.customRegExpCollec[k][this.customRegExpCollec[k].length - 1] === ']') ||\n                        (!isNullOrUndefined(this.customCharacters) &&\n                            (!isNullOrUndefined(this.customCharacters[this.customRegExpCollec[k]]))))) && (maskValue !== '')) {\n                    value += maskValue[i];\n                }\n            }\n            ++k;\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        value = maskValue;\n    }\n    return value;\n}\nfunction pushIntoRegExpCollec(value) {\n    for (var k = 0; k < value.length; k++) {\n        this.hiddenMask += value[k];\n        if (value[k] !== '\\\\') {\n            this.customRegExpCollec.push(value[k]);\n        }\n    }\n}\nexport function maskInputFocusHandler(event) {\n    var _this = this;\n    if (this.promptMask.length > 0) {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.promptMask.length };\n    }\n    else {\n        this.focusEventArgs = { selectionStart: 0, selectionEnd: this.element.value.length };\n    }\n    var eventArgs = {};\n    merge(eventArgs, this.focusEventArgs);\n    this.trigger('focus', eventArgs);\n    this.focusEventArgs = eventArgs;\n    if (this.mask) {\n        this.isFocus = true;\n        if (this.element.value === '') {\n            setElementValue.call(this, this.promptMask);\n        }\n        else {\n            setElementValue.call(this, this.element.value);\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0') {\n            this.element.setSelectionRange(this.focusEventArgs.selectionStart, this.focusEventArgs.selectionEnd);\n        }\n        else {\n            var delay = (Browser.isDevice && Browser.isIos) ? 450 : 0;\n            setTimeout(function () {\n                _this.element.setSelectionRange(_this.focusEventArgs.selectionStart, _this.focusEventArgs.selectionEnd);\n            }, delay);\n        }\n    }\n}\nexport function maskInputBlurHandler(event) {\n    if (this.mask) {\n        this.isFocus = false;\n        if (this.placeholder && this.element.value === this.promptMask && this.floatLabelType !== 'Always') {\n            setElementValue.call(this, '');\n            var labelElement = this.element.parentNode.querySelector('.e-float-text');\n            if (this.floatLabelType === 'Auto' && !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL)) {\n                removeClass([labelElement], TOPLABEL);\n            }\n        }\n    }\n}\nfunction maskInputPasteHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var sIndex_1 = this.element.selectionStart;\n        var eIndex_1 = this.element.selectionEnd;\n        var oldValue_1 = this.element.value;\n        setElementValue.call(this, '');\n        this._callPasteHandler = true;\n        setTimeout(function () {\n            var value = _this.element.value.replace(/ /g, '');\n            if (_this.redoCollec.length > 0 && _this.redoCollec[0].value === _this.element.value) {\n                value = strippedValue.call(_this, _this.element);\n            }\n            setElementValue.call(_this, oldValue_1);\n            _this.element.selectionStart = sIndex_1;\n            _this.element.selectionEnd = eIndex_1;\n            var i = 0;\n            _this.maskKeyPress = true;\n            do {\n                validateValue.call(_this, value[i], false, null);\n                ++i;\n            } while (i < value.length);\n            _this.maskKeyPress = false;\n            _this._callPasteHandler = false;\n            if (_this.element.value === oldValue_1) {\n                var i_1 = 0;\n                _this.maskKeyPress = true;\n                do {\n                    validateValue.call(_this, value[i_1], false, null);\n                    ++i_1;\n                } while (i_1 < value.length);\n                _this.maskKeyPress = false;\n            }\n            else {\n                triggerMaskChangeEvent.call(_this, event, oldValue_1);\n            }\n        }, 1);\n    }\n}\nfunction maskInputCutHandler(event) {\n    var _this = this;\n    if (this.mask) {\n        var preValue_1 = this.element.value;\n        var sIndex_2 = this.element.selectionStart;\n        var eIndex = this.element.selectionEnd;\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd });\n        var value_1 = this.element.value.substring(0, sIndex_2) + this.promptMask.substring(sIndex_2, eIndex) +\n            this.element.value.substring(eIndex);\n        setTimeout(function () {\n            setElementValue.call(_this, value_1);\n            _this.element.selectionStart = _this.element.selectionEnd = sIndex_2;\n            if (_this.element.value !== preValue_1) {\n                triggerMaskChangeEvent.call(_this, event, null);\n            }\n        }, 0);\n    }\n}\nexport function maskInputDropHandler(event) {\n    event.preventDefault();\n}\nfunction maskInputHandler(event) {\n    if (Browser.isIE === true && this.element.value === '' && this.floatLabelType === 'Never') {\n        return;\n    }\n    var eventArgs = { ctrlKey: false, keyCode: 229 };\n    // tslint:disable-next-line\n    extend(event, eventArgs);\n    if (this.mask) {\n        if (this.element.value === '') {\n            this.redoCollec.unshift({\n                value: this.promptMask, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n            });\n        }\n        if (this.element.value.length === 1) {\n            this.element.value = this.element.value + this.promptMask;\n            this.element.setSelectionRange(1, 1);\n        }\n        if (!this._callPasteHandler) {\n            removeMaskInputValues.call(this, event);\n        }\n        if (this.element.value.length > this.promptMask.length) {\n            var startIndex = this.element.selectionStart;\n            var addedValues = this.element.value.length - this.promptMask.length;\n            var value = this.element.value.substring(startIndex - addedValues, startIndex);\n            this.maskKeyPress = false;\n            var i = 0;\n            do {\n                validateValue.call(this, value[i], event.ctrlKey, event);\n                ++i;\n            } while (i < value.length);\n            if (this.element.value !== this.preEleVal) {\n                triggerMaskChangeEvent.call(this, event, null);\n            }\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (val === '') {\n            setElementValue.call(this, this.promptMask);\n            this.element.setSelectionRange(0, 0);\n        }\n    }\n}\nfunction maskInputKeyDownHandler(event) {\n    if (this.mask) {\n        var value = this;\n        if (event.keyCode !== 229) {\n            if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n                event.preventDefault();\n            }\n            removeMaskInputValues.call(this, event);\n        }\n        var startValue = this.element.value;\n        if (event.ctrlKey && (event.keyCode === 89 || event.keyCode === 90)) {\n            var collec = void 0;\n            if (event.keyCode === 90 && this.undoCollec.length > 0 && startValue !== this.undoCollec[this.undoCollec.length - 1].value) {\n                collec = this.undoCollec[this.undoCollec.length - 1];\n                this.redoCollec.unshift({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.undoCollec.splice(this.undoCollec.length - 1, 1);\n            }\n            else if (event.keyCode === 89 && this.redoCollec.length > 0 && startValue !== this.redoCollec[0].value) {\n                collec = this.redoCollec[0];\n                this.undoCollec.push({\n                    value: this.element.value, startIndex: this.element.selectionStart,\n                    endIndex: this.element.selectionEnd\n                });\n                setElementValue.call(this, collec.value);\n                this.element.selectionStart = collec.startIndex;\n                this.element.selectionEnd = collec.endIndex;\n                this.redoCollec.splice(0, 1);\n            }\n        }\n    }\n}\nexport function mobileRemoveFunction() {\n    var collec;\n    var sIndex = this.element.selectionStart;\n    var eIndex = this.element.selectionEnd;\n    if (this.redoCollec.length > 0) {\n        collec = this.redoCollec[0];\n        setElementValue.call(this, collec.value);\n        if ((collec.startIndex - sIndex) === 1) {\n            this.element.selectionStart = collec.startIndex;\n            this.element.selectionEnd = collec.endIndex;\n        }\n        else {\n            this.element.selectionStart = sIndex + 1;\n            this.element.selectionEnd = eIndex + 1;\n        }\n    }\n    else {\n        setElementValue.call(this, this.promptMask);\n        this.element.selectionStart = this.element.selectionEnd = sIndex;\n    }\n}\nfunction autoFillMaskInputValues(isRemove, oldEventVal, event) {\n    if (event.type === 'input') {\n        isRemove = false;\n        oldEventVal = this.element.value;\n        setElementValue.call(this, this.promptMask);\n        setMaskValue.call(this, oldEventVal);\n    }\n    return isRemove;\n}\nfunction removeMaskInputValues(event) {\n    var isRemove = false;\n    var oldEventVal;\n    var isDeleted = false;\n    if (this.element.value.length < this.promptMask.length) {\n        isRemove = true;\n        oldEventVal = this.element.value;\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n        mobileRemoveFunction.call(this);\n    }\n    if (this.element.value.length >= this.promptMask.length && event.type === 'input') {\n        isRemove = autoFillMaskInputValues.call(this, isRemove, oldEventVal, event);\n    }\n    var initStartIndex = this.element.selectionStart;\n    var initEndIndex = this.element.selectionEnd;\n    var startIndex = this.element.selectionStart;\n    var endIndex = this.element.selectionEnd;\n    var maskValue = this.hiddenMask.replace(/[>|\\\\<]/g, '');\n    var curMask = maskValue[startIndex - 1];\n    var parentElement = this.element.parentNode;\n    if (isRemove || event.keyCode === 8 || event.keyCode === 46) {\n        this.undoCollec.push({ value: this.element.value, startIndex: this.element.selectionStart, endIndex: endIndex });\n        var multipleDel = false;\n        var preValue = this.element.value;\n        if (startIndex > 0 || ((event.keyCode === 8 || event.keyCode === 46) && startIndex < this.element.value.length\n            && ((this.element.selectionEnd - startIndex) !== this.element.value.length))) {\n            var index = startIndex;\n            if (startIndex !== endIndex) {\n                startIndex = endIndex;\n                if (event.keyCode === 46) {\n                    multipleDel = true;\n                }\n            }\n            else if (event.keyCode === 46) {\n                ++index;\n            }\n            else {\n                --index;\n            }\n            for (var k = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? k > index : k < index; (event.keyCode === 8 || isRemove || multipleDel) ? k-- : k++) {\n                for (var i = startIndex; (event.keyCode === 8 || isRemove || multipleDel) ? i > 0 : i < this.element.value.length; (event.keyCode === 8 || isRemove || multipleDel) ? i-- : i++) {\n                    var sIndex = void 0;\n                    if (((event.keyCode === 8 || multipleDel) && ((initStartIndex !== initEndIndex && initStartIndex !== startIndex) ||\n                        (initStartIndex === initEndIndex))) || isRemove) {\n                        curMask = maskValue[i - 1];\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        curMask = maskValue[i];\n                        sIndex = startIndex;\n                        ++startIndex;\n                    }\n                    var oldValue = this.element.value[sIndex];\n                    if ((isNullOrUndefined(this.regExpCollec[curMask]) && (!isNullOrUndefined(this.customCharacters)\n                        && isNullOrUndefined(this.customCharacters[curMask]))\n                        && ((this.hiddenMask[sIndex] !== this.promptChar && this.customRegExpCollec[sIndex][0] !== '['\n                            && this.customRegExpCollec[sIndex][this.customRegExpCollec[sIndex].length - 1] !== ']')))\n                        || (this.promptMask[sIndex] !== this.promptChar && isNullOrUndefined(this.customCharacters))) {\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        event.preventDefault();\n                        if (event.keyCode === 46 && !multipleDel) {\n                            ++this.element.selectionStart;\n                        }\n                    }\n                    else {\n                        var value = this.element.value;\n                        var prompt_1 = this.promptChar;\n                        var elementValue = value.substring(0, sIndex) + prompt_1 + value.substring(startIndex, value.length);\n                        setElementValue.call(this, elementValue);\n                        event.preventDefault();\n                        this.element.selectionStart = this.element.selectionEnd = sIndex;\n                        isDeleted = true;\n                    }\n                    startIndex = this.element.selectionStart;\n                    if ((!isDeleted && event.keyCode === 8) || multipleDel || (!isDeleted && !(event.keyCode === 46))) {\n                        sIndex = startIndex - 1;\n                    }\n                    else {\n                        sIndex = startIndex;\n                        isDeleted = false;\n                    }\n                    oldValue = this.element.value[sIndex];\n                    if (((initStartIndex !== initEndIndex) && (this.element.selectionStart === initStartIndex))\n                        || (this.promptMask[sIndex] === this.promptChar) || ((oldValue !== this.promptMask[sIndex]) &&\n                        (this.promptMask[sIndex] !== this.promptChar) && !isNullOrUndefined(this.customCharacters))) {\n                        break;\n                    }\n                }\n            }\n        }\n        if (this.element.selectionStart === 0 && (this.element.selectionEnd === this.element.value.length)) {\n            setElementValue.call(this, this.promptMask);\n            event.preventDefault();\n            this.element.selectionStart = this.element.selectionEnd = startIndex;\n        }\n        this.redoCollec.unshift({\n            value: this.element.value, startIndex: this.element.selectionStart,\n            endIndex: this.element.selectionEnd\n        });\n        if (this.element.value !== preValue) {\n            triggerMaskChangeEvent.call(this, event, oldEventVal);\n        }\n    }\n}\nfunction maskInputKeyPressHandler(event) {\n    if (this.mask) {\n        var oldValue = this.element.value;\n        if ((!event.ctrlKey) || (event.ctrlKey && event.code !== 'KeyA' && event.code !== 'KeyY'\n            && event.code !== 'KeyZ' && event.code !== 'KeyX' && event.code !== 'KeyC' && event.code !== 'KeyV')) {\n            this.maskKeyPress = true;\n            var key = event.key;\n            if (key === 'Spacebar') {\n                key = String.fromCharCode(event.keyCode);\n            }\n            if (!key) {\n                this.isIosInvalid = true;\n                validateValue.call(this, String.fromCharCode(event.keyCode), event.ctrlKey, event);\n                event.preventDefault();\n                this.isIosInvalid = false;\n            }\n            else if (key && key.length === 1) {\n                validateValue.call(this, key, event.ctrlKey, event);\n                event.preventDefault();\n            }\n        }\n        if (this.element.value !== oldValue) {\n            triggerMaskChangeEvent.call(this, event, oldValue);\n        }\n    }\n}\nfunction triggerMaskChangeEvent(event, oldValue) {\n    if (!isNullOrUndefined(this.changeEventArgs) && !this.isInitial) {\n        var eventArgs = {};\n        this.changeEventArgs = { value: this.element.value, maskedValue: this.element.value, isInteraction: false };\n        if (this.mask) {\n            this.changeEventArgs.value = strippedValue.call(this, this.element);\n        }\n        if (!isNullOrUndefined(event)) {\n            this.changeEventArgs.isInteraction = true;\n            this.changeEventArgs.event = event;\n        }\n        merge(eventArgs, this.changeEventArgs);\n        this.trigger('change', eventArgs);\n    }\n    this.preEleVal = this.element.value;\n    attributes(this.element, { 'aria-valuenow': this.element.value });\n}\nfunction maskInputKeyUpHandler(event) {\n    if (this.mask) {\n        var collec = void 0;\n        var key = event.key;\n        if (key && key.length === 1 && this.floatLabelType === 'Never' && this.undoCollec.length > 0) {\n            if (this.undoCollec[this.undoCollec.length - 1].value === this.element.value) {\n                validateValue.call(this, key, event.ctrlKey, event);\n            }\n        }\n        if (!this.maskKeyPress && event.keyCode === 229) {\n            var oldEventVal = void 0;\n            if (this.element.value.length === 1) {\n                this.element.value = this.element.value + this.promptMask;\n                this.element.setSelectionRange(1, 1);\n            }\n            if (this.element.value.length > this.promptMask.length) {\n                var startIndex = this.element.selectionStart;\n                var addedValues = this.element.value.length - this.promptMask.length;\n                var val_1 = this.element.value.substring(startIndex - addedValues, startIndex);\n                if (this.undoCollec.length > 0) {\n                    collec = this.undoCollec[this.undoCollec.length - 1];\n                    var startIndex_1 = this.element.selectionStart;\n                    oldEventVal = collec.value;\n                    var oldVal = collec.value.substring(startIndex_1 - addedValues, startIndex_1);\n                    collec = this.redoCollec[0];\n                    val_1 = val_1.trim();\n                    var isSpace = Browser.isAndroid && val_1 === '';\n                    if (!isSpace && oldVal !== val_1 && collec.value.substring(startIndex_1 - addedValues, startIndex_1) !== val_1) {\n                        validateValue.call(this, val_1, event.ctrlKey, event);\n                    }\n                    else if (isSpace) {\n                        preventUnsupportedValues.call(this, event, startIndex_1 - 1, this.element.selectionEnd - 1, val_1, event.ctrlKey, false);\n                    }\n                }\n                else {\n                    oldEventVal = this.promptMask;\n                    validateValue.call(this, val_1, event.ctrlKey, event);\n                }\n                this.maskKeyPress = false;\n                triggerMaskChangeEvent.call(this, event, oldEventVal);\n            }\n        }\n        else {\n            removeMaskError.call(this);\n        }\n        var val = strippedValue.call(this, this.element);\n        if (!((this.element.selectionStart === 0) && (this.promptMask === this.element.value) && val === '')\n            || (val === '' && this.value !== val)) {\n            this.prevValue = val;\n            this.value = val;\n        }\n    }\n    else {\n        triggerMaskChangeEvent.call(this, event);\n        this.value = this.element.value;\n    }\n    if (this.element.selectionStart === 0 && this.element.selectionEnd === 0) {\n        // tslint:disable-next-line\n        var temp_1 = this.element;\n        setTimeout(function () {\n            temp_1.setSelectionRange(0, 0);\n        }, 0);\n    }\n}\nfunction mobileSwipeCheck(key) {\n    if (key.length > 1 && ((this.promptMask.length + key.length) < this.element.value.length)) {\n        var elementValue = this.redoCollec[0].value.substring(0, this.redoCollec[0].startIndex) + key +\n            this.redoCollec[0].value.substring(this.redoCollec[0].startIndex, this.redoCollec[0].value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = this.redoCollec[0].startIndex + key.length;\n    }\n    this.element.selectionStart = this.element.selectionStart - key.length;\n    this.element.selectionEnd = this.element.selectionEnd - key.length;\n}\nfunction mobileValidation(key) {\n    if (!this.maskKeyPress) {\n        mobileSwipeCheck.call(this, key);\n    }\n}\nfunction validateValue(key, isCtrlKey, event) {\n    mobileValidation.call(this, key);\n    if (isNullOrUndefined(this) || isNullOrUndefined(key)) {\n        return;\n    }\n    var startIndex = this.element.selectionStart;\n    var initStartIndex = startIndex;\n    var endIndex = this.element.selectionEnd;\n    var curMask;\n    var allowText = false;\n    var value = this.element.value;\n    var eventOldVal;\n    var prevSupport = false;\n    var isEqualVal = false;\n    for (var k = 0; k < key.length; k++) {\n        var keyValue = key[k];\n        startIndex = this.element.selectionStart;\n        endIndex = this.element.selectionEnd;\n        if (!this.maskKeyPress && initStartIndex === startIndex) {\n            startIndex = startIndex + k;\n        }\n        if ((!this.maskKeyPress || startIndex < this.promptMask.length)) {\n            for (var i = startIndex; i < this.promptMask.length; i++) {\n                var maskValue = this.escapeMaskValue;\n                curMask = maskValue[startIndex];\n                if (this.hiddenMask[startIndex] === '\\\\' && this.hiddenMask[startIndex + 1] === key) {\n                    isEqualVal = true;\n                }\n                if ((isNullOrUndefined(this.regExpCollec[curMask]) && (isNullOrUndefined(this.customCharacters)\n                    || (!isNullOrUndefined(this.customCharacters) && isNullOrUndefined(this.customCharacters[curMask])))\n                    && ((this.hiddenMask[startIndex] !== this.promptChar && this.customRegExpCollec[startIndex][0] !== '['\n                        && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] !== ']')))\n                    || ((this.promptMask[startIndex] !== this.promptChar) && isNullOrUndefined(this.customCharacters))\n                    || (this.promptChar === curMask && this.escapeMaskValue === this.mask)) {\n                    this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n                    startIndex = this.element.selectionStart;\n                    curMask = this.hiddenMask[startIndex];\n                }\n            }\n            if (!isNullOrUndefined(this.customCharacters) && !isNullOrUndefined(this.customCharacters[curMask])) {\n                var customValStr = this.customCharacters[curMask];\n                var customValArr = customValStr.split(',');\n                for (var i = 0; i < customValArr.length; i++) {\n                    if (keyValue.match(new RegExp('[' + customValArr[i] + ']'))) {\n                        allowText = true;\n                        break;\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.regExpCollec[curMask]) && keyValue.match(new RegExp(this.regExpCollec[curMask]))\n                && this.promptMask[startIndex] === this.promptChar) {\n                allowText = true;\n            }\n            else if (this.promptMask[startIndex] === this.promptChar && this.customRegExpCollec[startIndex][0] === '['\n                && this.customRegExpCollec[startIndex][this.customRegExpCollec[startIndex].length - 1] === ']'\n                && keyValue.match(new RegExp(this.customRegExpCollec[startIndex]))) {\n                allowText = true;\n            }\n            if ((!this.maskKeyPress || startIndex < this.hiddenMask.length) && allowText) {\n                if (k === 0) {\n                    if (this.maskKeyPress) {\n                        this.undoCollec.push({ value: value, startIndex: startIndex, endIndex: startIndex });\n                    }\n                    else {\n                        var sIndex = this.element.selectionStart;\n                        var eIndex = this.element.selectionEnd;\n                        if (this.redoCollec.length > 0) {\n                            eventOldVal = this.redoCollec[0].value;\n                            setElementValue.call(this, eventOldVal);\n                            this.undoCollec.push(this.redoCollec[0]);\n                        }\n                        else {\n                            this.undoCollec.push({ value: this.promptMask, startIndex: startIndex, endIndex: startIndex });\n                            eventOldVal = this.promptMask;\n                            setElementValue.call(this, eventOldVal);\n                        }\n                        this.element.selectionStart = sIndex;\n                        this.element.selectionEnd = eIndex;\n                    }\n                }\n                startIndex = this.element.selectionStart;\n                applySupportedValues.call(this, event, startIndex, keyValue, eventOldVal, isEqualVal);\n                prevSupport = true;\n                if (k === key.length - 1) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n                allowText = false;\n            }\n            else {\n                startIndex = this.element.selectionStart;\n                preventUnsupportedValues.call(this, event, startIndex, initStartIndex, key, isCtrlKey, prevSupport);\n            }\n            if (k === key.length - 1 && !allowText) {\n                if (!Browser.isAndroid || (Browser.isAndroid && startIndex < this.promptMask.length)) {\n                    this.redoCollec.unshift({\n                        value: this.element.value, startIndex: this.element.selectionStart, endIndex: this.element.selectionEnd\n                    });\n                }\n            }\n        }\n        else {\n            if (key.length === 1 && !isCtrlKey && !isNullOrUndefined(event)) {\n                addMaskErrorClass.call(this);\n            }\n        }\n    }\n}\nfunction applySupportedValues(event, startIndex, keyValue, eventOldVal, isEqualVal) {\n    if (this.hiddenMask.length > this.promptMask.length) {\n        keyValue = changeToLowerUpperCase.call(this, keyValue, this.element.value);\n    }\n    if (!isEqualVal) {\n        var value = this.element.value;\n        var elementValue = value.substring(0, startIndex) + keyValue + value.substring(startIndex + 1, value.length);\n        setElementValue.call(this, elementValue);\n        this.element.selectionStart = this.element.selectionEnd = startIndex + 1;\n    }\n}\nfunction preventUnsupportedValues(event, sIdx, idx, key, ctrl, chkSupport) {\n    if (!this.maskKeyPress) {\n        var eventOldVal = void 0;\n        var value = this.element.value;\n        if (sIdx >= this.promptMask.length) {\n            setElementValue.call(this, value.substring(0, sIdx));\n        }\n        else {\n            if (idx === sIdx) {\n                setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx + 1, value.length));\n            }\n            else {\n                if (this.promptMask.length === this.element.value.length) {\n                    setElementValue.call(this, value.substring(0, sIdx) + value.substring(sIdx, value.length));\n                }\n                else {\n                    setElementValue.call(this, value.substring(0, idx) + value.substring(idx + 1, value.length));\n                }\n            }\n            this.element.selectionStart = this.element.selectionEnd = (chkSupport ||\n                this.element.value[idx] !== this.promptChar) ? sIdx : idx;\n        }\n        eventOldVal = this.element.value;\n        addMaskErrorClass.call(this);\n    }\n    if (key.length === 1 && !ctrl && !isNullOrUndefined(event)) {\n        addMaskErrorClass.call(this);\n    }\n}\nfunction addMaskErrorClass() {\n    var _this = this;\n    var parentElement = this.element.parentNode;\n    var timer = 200;\n    if (parentElement.classList.contains(INPUTGROUP) || parentElement.classList.contains(FLOATINPUT)) {\n        addClass([parentElement], ERROR);\n    }\n    else {\n        addClass([this.element], ERROR);\n    }\n    if (this.isIosInvalid === true) {\n        timer = 400;\n    }\n    attributes(this.element, { 'aria-invalid': 'true' });\n    setTimeout(function () {\n        if (!_this.maskKeyPress) {\n            removeMaskError.call(_this);\n        }\n    }, timer);\n}\nfunction removeMaskError() {\n    var parentElement = this.element.parentNode;\n    removeClass([parentElement], ERROR);\n    removeClass([this.element], ERROR);\n    attributes(this.element, { 'aria-invalid': 'false' });\n}\n/**\n * @hidden\n * Validates user input using masking elements '<' , '>' and '|'.\n */\nfunction changeToLowerUpperCase(key, value) {\n    var promptMask;\n    var i;\n    var j = 0;\n    var curVal = value;\n    var caseCount = 0;\n    for (i = 0; i < this.hiddenMask.length; i++) {\n        if (this.hiddenMask[i] === '\\\\') {\n            promptMask = curVal.substring(0, i) + '\\\\' + curVal.substring(i, curVal.length);\n        }\n        if (this.hiddenMask[i] === '>' || this.hiddenMask[i] === '<' || this.hiddenMask[i] === '|') {\n            if (this.hiddenMask[i] !== curVal[i]) {\n                promptMask = curVal.substring(0, i) + this.hiddenMask[i] + curVal.substring(i, curVal.length);\n            }\n            ++caseCount;\n        }\n        if (promptMask) {\n            if (((promptMask[i] === this.promptChar) && (i > this.element.selectionStart)) ||\n                (this.element.value.indexOf(this.promptChar) < 0 && (this.element.selectionStart + caseCount) === i)) {\n                caseCount = 0;\n                break;\n            }\n            curVal = promptMask;\n        }\n    }\n    while (i >= 0 && promptMask) {\n        if (i === 0 || promptMask[i - 1] !== '\\\\') {\n            var val = this.element.value;\n            if (promptMask[i] === '>') {\n                key = key.toUpperCase();\n                break;\n            }\n            else if (promptMask[i] === '<') {\n                key = key.toLowerCase();\n                break;\n            }\n            else if (promptMask[i] === '|') {\n                break;\n            }\n        }\n        --i;\n    }\n    return key;\n}\n/**\n * @hidden\n * To set updated values in the MaskedTextBox.\n */\nexport function setMaskValue(val) {\n    if (this.mask && val !== undefined && (this.prevValue === undefined || this.prevValue !== val)) {\n        this.maskKeyPress = true;\n        if (val === null && this.floatLabelType === 'Never' && this.placeholder) {\n            setElementValue.call(this, this.promptMask);\n        }\n        else if (val !== '') {\n            setElementValue.call(this, this.promptMask);\n            this.element.selectionStart = 0;\n            this.element.selectionEnd = 0;\n        }\n        if (val !== null) {\n            for (var i = 0; i < val.length; i++) {\n                validateValue.call(this, val[i], false, null);\n            }\n        }\n        var newVal = strippedValue.call(this, this.element);\n        this.prevValue = newVal;\n        this.value = newVal;\n        triggerMaskChangeEvent.call(this, null, null);\n        this.maskKeyPress = false;\n        var labelElement = this.element.parentNode.querySelector('.e-float-text');\n        if (this.element.value === this.promptMask && this.floatLabelType === 'Auto' && this.placeholder &&\n            !isNullOrUndefined(labelElement) && labelElement.classList.contains(TOPLABEL) && !this.isFocus) {\n            removeClass([labelElement], TOPLABEL);\n            addClass([labelElement], BOTTOMLABEL);\n            setElementValue.call(this, '');\n        }\n    }\n    if (this.mask === null || this.mask === '' && this.value !== undefined) {\n        setElementValue.call(this, this.value);\n    }\n}\n/**\n * @hidden\n * To set updated values in the input element.\n */\nexport function setElementValue(val, element) {\n    if (!this.isFocus && this.floatLabelType === 'Auto' && this.placeholder && isNullOrUndefined(this.value)) {\n        val = '';\n    }\n    var value = strippedValue.call(this, (element ? element : this.element), val);\n    if (value === null || value === '') {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, false);\n        if (this.showClearButton) {\n            this.inputObj.clearButton.classList.add('e-clear-icon-hide');\n        }\n    }\n    else {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    }\n}\n/**\n * @hidden\n * Provide mask support to input textbox through utility method.\n */\nexport function maskInput(args) {\n    var inputEle = getMaskInput(args);\n    applyMask.call(inputEle);\n    var val = strippedValue.call(this, this.element);\n    this.prevValue = val;\n    this.value = val;\n    if (args.mask) {\n        unwireEvents.call(inputEle);\n        wireEvents.call(inputEle);\n    }\n}\nfunction getMaskInput(args) {\n    addClass([args.element], UTILMASK);\n    var inputEle = {\n        element: args.element,\n        mask: args.mask,\n        promptMask: '',\n        hiddenMask: '',\n        escapeMaskValue: '',\n        promptChar: args.promptChar ? (args.promptChar.length > 1) ? args.promptChar = args.promptChar[0]\n            : args.promptChar : '_',\n        value: args.value ? args.value : null,\n        regExpCollec: regularExpressions,\n        customRegExpCollec: [],\n        customCharacters: args.customCharacters,\n        undoCollec: [],\n        redoCollec: [],\n        maskKeyPress: false,\n        prevValue: ''\n    };\n    createMask.call(inputEle);\n    return inputEle;\n}\n/**\n * @hidden\n * Gets raw value of the textbox which has been masked through utility method.\n */\nexport function getVal(args) {\n    return strippedValue.call(getUtilMaskEle(args), args.element);\n}\n/**\n * @hidden\n * Gets masked value of the textbox which has been masked through utility method.\n */\nexport function getMaskedVal(args) {\n    return unstrippedValue.call(getUtilMaskEle(args), args.element);\n}\nfunction getUtilMaskEle(args) {\n    var value = '';\n    var inputEle;\n    if (!isNullOrUndefined(args) && args.element.classList.contains(UTILMASK)) {\n        inputEle = getMaskInput(args);\n    }\n    return inputEle;\n}\n/**\n * @hidden\n * Arguments to perform undo and redo functionalities.\n */\nvar MaskUndo = /** @class */ (function () {\n    function MaskUndo() {\n    }\n    return MaskUndo;\n}());\nexport { MaskUndo };\nvar maskUndo = new MaskUndo();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, extend, deleteObject, Property } from '@syncfusion/ej2-base';\n/**\n * @param props\n * @param model\n */\nexport function getModel(props, model) {\n    var obj = extend({}, props);\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"separator\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"url\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/**\n * Function to create Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param element - the given html element.\n * @param inputElement - specify the input wrapper.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement;\n    var floatLabelElement;\n    floatLinelement = createElement('span', { className: FLOATLINE });\n    floatLabelElement = createElement('label', { className: FLOATTEXT });\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        attributes(element, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerHTML = inputElement.placeholder;\n        inputElement.removeAttribute('placeholder');\n    }\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        floatLabelElement.innerHTML = placeholder;\n    }\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n * @param value - Value of the MultiSelect.\n * @param label - float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n * @param searchWrapper - search wrapper of multiselect.\n * @param inputElement - specify the input wrapper.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n * @param value - Value of the MultiSelect.\n * @param inputElement - specify the input wrapper.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/**\n * Function to focus the Float Label element.\n * @param overAllWrapper - overall wrapper of multiselect.\n * @param componentWrapper - wrapper element of multiselect.\n * @param value - Value of the MultiSelect.\n * @param floatLabelType - Specify the FloatLabel Type.\n * @param placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     * @param  {string|Object} options?\n     * @param  {string} type?\n     * @param  {boolean} async?\n     * @returns defaultType\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     * Send the request to server.\n     * @param {any} data - To send the user data\n     * @return {Promise}\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     * @param  {string} key Key to search in the response header\n     * @returns {string}\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { debounce, extend } from './util';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * @private\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} debounce - Specifies at what interval given event listener should be triggered.\n     * @return {Function}\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            element.addEventListener(event[i], debounceListener);\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @return {void}\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     * @param {any} element - Specifies the target html element to clear the events\n     * @return {void}\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        eventData = EventHandler.addOrGetEventData(element);\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @return {void}\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var fn = null;\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","import { isNullOrUndefined, getValue } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    ;\n    /**\n     * To attach handler for given property in current context.\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     * @param {string} eventName - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @return {void}\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    if (curObject[i].id === id) {\n                        curObject.splice(i, 1);\n                        var indexLocation = this.ranArray.indexOf(id);\n                        if (indexLocation !== -1) {\n                            this.ranArray.splice(indexLocation, 1);\n                        }\n                        break;\n                    }\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     *  @param {Object} args - Additional parameters to pass while calling the handler.\n     * @return {void}\n     */\n    Observer.prototype.notify = function (property, argument) {\n        if (this.notExist(property)) {\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n            var cur = curObject_1[_i];\n            cur.handler.call(cur.context, argument);\n        }\n    };\n    /**\n     * To destroy handlers in the event\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     */\n    Observer.prototype.notExist = function (prop) {\n        return this.boundedEvents.hasOwnProperty(prop) === false;\n    };\n    /**\n     * Returns if the handler is present.\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ \\/]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ \\/]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ \\/]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ \\/]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ \\/]([\\w.]+)/i,\n    SAFARI: /(safari)[ \\/]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ \\/]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     * @param {string} event - type of event triggered.\n     * @returns {Boolean}\n     */\n    Browser.getEvent = function (event) {\n        // tslint:disable-next-line:no-any\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     * @param {string} key\n     * @param {RegExp} regX\n     * @returns {Object}\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties \n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         * @returns BrowserInfo\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return window.browserDetails.isTouch = ('ontouchstart' in window);\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\n/**\n * Date base common constants and function for date parser and formatter.\n */\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    var defaultFirstDay = 'sun';\n    var firstDayMapper = {\n        'sun': 0,\n        'mon': 1,\n        'tue': 2,\n        'wed': 3,\n        'thu': 4,\n        'fri': 5,\n        'sat': 6\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    \"days\": {\n                        \"stand-alone\": {\n                            \"abbreviated\": {\n                                \"sun\": \"Sun\",\n                                \"mon\": \"Mon\",\n                                \"tue\": \"Tue\",\n                                \"wed\": \"Wed\",\n                                \"thu\": \"Thu\",\n                                \"fri\": \"Fri\",\n                                \"sat\": \"Sat\"\n                            },\n                            \"narrow\": {\n                                \"sun\": \"S\",\n                                \"mon\": \"M\",\n                                \"tue\": \"T\",\n                                \"wed\": \"W\",\n                                \"thu\": \"T\",\n                                \"fri\": \"F\",\n                                \"sat\": \"S\"\n                            },\n                            \"short\": {\n                                \"sun\": \"Su\",\n                                \"mon\": \"Mo\",\n                                \"tue\": \"Tu\",\n                                \"wed\": \"We\",\n                                \"thu\": \"Th\",\n                                \"fri\": \"Fr\",\n                                \"sat\": \"Sa\"\n                            },\n                            \"wide\": {\n                                \"sun\": \"Sunday\",\n                                \"mon\": \"Monday\",\n                                \"tue\": \"Tuesday\",\n                                \"wed\": \"Wednesday\",\n                                \"thu\": \"Thursday\",\n                                \"fri\": \"Friday\",\n                                \"sat\": \"Saturday\"\n                            }\n                        }\n                    },\n                    \"dayPeriods\": {\n                        \"format\": {\n                            \"wide\": {\n                                \"am\": \"AM\",\n                                \"pm\": \"PM\"\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            \"1-alt-variant\": \"Common Era\"\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': \"{1} 'at' {0}\",\n                        'long': \"{1} 'at' {0}\",\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y',\n                        },\n                    }\n                }\n            },\n            'timeZoneNames': {\n                \"hourFormat\": \"+HH:mm;-HH:mm\",\n                \"gmtFormat\": \"GMT{0}\",\n                \"gmtZeroFormat\": \"GMT\",\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '',\n                    'symbol-alt-narrow': ''\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': ''\n                },\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '',\n                'perMille': '',\n                'infinity': '',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###',\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '#,##0.00',\n                'accounting': '#,##0.00;(#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     * @private\n     * @param {string} skeleton\n     * @param {Object} dateObject\n     * @param {string} type\n     * @returns {string}\n     */\n    function getResultantPattern(skeleton, dateObject, type) {\n        var resPattern;\n        var iType = type || 'date';\n        if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n            resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n            if (iType === 'dateTime') {\n                var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n            }\n        }\n        else {\n            resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     * @private\n     * @param {Object} cldr\n     * @param {string} culture\n     * @param {boolean} isNumber\n     * @returns {Dependables}\n     */\n    function getDependables(cldr, culture, isNumber) {\n        var ret = {};\n        ret.parserObject = parser.getMainObject(cldr, culture) || IntlBase.defaultObject;\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            ret.dateObject = getValue('dates.calendars.gregorian', ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     * @private\n     * @param {string} type\n     * @param {string} numSystem\n     * @param {Object} obj\n     * @param {boolean} isAccount\n     * @returns {string}\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     * Returns proper numeric skeleton\n     * @private\n     * @param {string} skeleton\n     * @returns {NumericSkeleton}\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        /* tslint:disable no-any */\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     * @private\n     * @param {string} pattern\n     * @param {boolean} needFraction\n     * @param {string} cSymbol\n     * @param {boolean} fractionOnly\n     * @returns {NegativeData}\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     * @private\n     * @param {string} val\n     * @param {string} sym\n     * @returns {string}\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    /**\n     * Returns currency symbol based on currency code\n     * @private\n     * @param {Object} numericObject\n     * @param {string} currencyCode\n     * @returns {string}\n     */\n    function getCurrencySymbol(numericObject, currencyCode) {\n        return getValue('currencies.' + currencyCode + '.symbol', numericObject) || '$';\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Dependables} obj\n     * @returns {GenericFormatOptions}\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     * @private\n     * @param {string} format\n     * @param {CommonOptions} dOptions\n     * @param {Object} numObject\n     * @returns {NegativeData}\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                cOptions.groupSeparator = dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/\\'/g, '');\n            cOptions.nend = cOptions.nend.replace(/\\'/g, '');\n        }\n        return cOptions;\n    }\n    /**\n     * Returns formatting options for currency or percent type\n     * @private\n     * @param {string[]} parts\n     * @param {string} actual\n     * @param {string} symbol\n     * @returns {NegativeData}\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     * @private\n     * @param {Object} dateObj\n     * @returns {string}\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[dM]([^dM])[dM]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     * @private\n     * @param {string} culture\n     * @param {DateFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture);\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     * Returns Native Number pattern\n     * @private\n     * @param {string} culture\n     * @param {NumberFormatOptions} options\n     * @param {Object} cldr\n     * @returns {string}\n     */\n    function getActualNumberFormat(culture, options, cldr) {\n        var dependable = getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        if (curMatch) {\n            var dOptions = {};\n            dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = (split.length > 1);\n            curObj.nData = getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency') {\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent') {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/\\'/g, '\"');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n    function getWeekData(culture, cldr) {\n        var firstDay = defaultFirstDay;\n        var mapper = getValue('supplemental.weekData.firstDay', cldr);\n        var iCulture = culture;\n        if ((/en-/).test(iCulture)) {\n            iCulture = iCulture.slice(3);\n        }\n        iCulture = iCulture.slice(0, 2).toUpperCase() + iCulture.substr(2);\n        if (mapper) {\n            firstDay = mapper[iCulture] || defaultFirstDay;\n        }\n        return firstDayMapper[firstDay];\n    }\n    IntlBase.getWeekData = getWeekData;\n})(IntlBase || (IntlBase = {}));\n","/**\n * To import utils\n */\nimport { isNullOrUndefined } from './util';\n/**\n * @private\n */\nvar CanvasRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function CanvasRenderer(rootID) {\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    CanvasRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    /* tslint:enable */\n    /**\n     * To create a Html5 canvas element\n     * @param {BaseAttibutes} options - Options to create canvas\n     * @return {HTMLCanvasElement}\n     */\n    CanvasRenderer.prototype.createCanvas = function (options) {\n        var canvasObj = document.createElement('canvas');\n        canvasObj.setAttribute('id', this.rootId + '_canvas');\n        this.ctx = canvasObj.getContext('2d');\n        this.canvasObj = canvasObj;\n        this.setCanvasSize(options.width, options.height);\n        return this.canvasObj;\n    };\n    /**\n     * To set the width and height for the Html5 canvas element\n     * @param {number} width - width of the canvas\n     * @param {number} height - height of the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.setCanvasSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width)) {\n            this.canvasObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.canvasObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height)) {\n            this.canvasObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.canvasObj.setAttribute('height', this.height.toString());\n        }\n    };\n    // To set the values to the attributes\n    CanvasRenderer.prototype.setAttributes = function (options) {\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        var dashArray = this.getOptionValue(options, 'stroke-dasharray');\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            this.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        this.ctx.strokeStyle = this.getOptionValue(options, 'stroke');\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - required options to draw a line on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawLine = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.moveTo(options.x1, options.y1);\n        this.ctx.lineTo(options.x2, options.y2);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a rectangle\n     * @param {RectAttributes} options - required options to draw a rectangle on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawRectangle = function (options) {\n        var canvasCtx = this.ctx;\n        var cornerRadius = options.rx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.globalAlpha = this.getOptionValue(options, 'opacity');\n        this.setAttributes(options);\n        this.ctx.rect(options.x, options.y, options.width, options.height);\n        if (cornerRadius !== null && cornerRadius >= 0) {\n            this.drawCornerRadius(options);\n        }\n        else {\n            if (options.fill === 'none') {\n                options.fill = 'transparent';\n            }\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fillRect(options.x, options.y, options.width, options.height);\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    // To draw the corner of a rectangle\n    CanvasRenderer.prototype.drawCornerRadius = function (options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        this.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        this.ctx.beginPath();\n        this.ctx.moveTo(x + width - cornerRadius, y);\n        this.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        this.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        this.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        this.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        this.ctx.closePath();\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a path on the canvas\n     * @param {PathAttributes} options - options needed to draw path\n     * @param {Int32Array} canvasTranslate - Array of numbers to translate the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPath = function (options, canvasTranslate) {\n        var path = options.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        var canvasCtx = this.ctx;\n        var flag = true;\n        this.ctx.save();\n        this.ctx.beginPath();\n        if (canvasTranslate) {\n            this.ctx.translate(canvasTranslate[0], canvasTranslate[1]);\n        }\n        this.ctx.globalAlpha = options.opacity ? options.opacity : this.getOptionValue(options, 'fill-opacity');\n        this.setAttributes(options);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    if (!options.innerR && !options.cx) {\n                        this.ctx.moveTo(x1, y1);\n                    }\n                    break;\n                case 'L':\n                    if (!options.innerR) {\n                        this.ctx.lineTo(x1, y1);\n                    }\n                    break;\n                case 'C':\n                    var c1 = parseFloat(dataSplit[i + 3]);\n                    var c2 = parseFloat(dataSplit[i + 4]);\n                    var c3 = parseFloat(dataSplit[i + 5]);\n                    var c4 = parseFloat(dataSplit[i + 6]);\n                    this.ctx.bezierCurveTo(x1, y1, c1, c2, c3, c4);\n                    i = i + 4;\n                    break;\n                case 'A':\n                    if (!options.innerR) {\n                        if (options.cx) {\n                            this.ctx.arc(options.cx, options.cy, options.radius, 0, 2 * Math.PI, options.counterClockWise);\n                        }\n                        else {\n                            this.ctx.moveTo(options.x, options.y);\n                            this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                            this.ctx.lineTo(options.x, options.y);\n                        }\n                    }\n                    else if (flag) {\n                        this.ctx.arc(options.x, options.y, options.radius, options.start, options.end, options.counterClockWise);\n                        this.ctx.arc(options.x, options.y, options.innerR, options.end, options.start, !options.counterClockWise);\n                        flag = false;\n                    }\n                    i = i + 5;\n                    break;\n                case 'z':\n                    this.ctx.closePath();\n                    break;\n            }\n        }\n        if (options.fill !== 'none' && options.fill !== undefined) {\n            this.ctx.fillStyle = options.fill;\n            this.ctx.fill();\n        }\n        if (borderWidth > 0) {\n            this.ctx.stroke();\n        }\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - options required to draw text\n     * @param {string} label - Specifies the text which has to be drawn on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawText = function (options, label) {\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontSize = this.getOptionValue(options, 'font-size');\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        this.ctx.save();\n        this.ctx.fillStyle = options.fill;\n        this.ctx.font = font;\n        this.ctx.textAlign = anchor;\n        this.ctx.globalAlpha = opacity;\n        if (options.baseline) {\n            this.ctx.textBaseline = options.baseline;\n        }\n        var txtlngth = 0;\n        this.ctx.translate(options.x + (txtlngth / 2), options.y);\n        this.ctx.rotate(options.labelRotation * Math.PI / 180);\n        this.ctx.fillText(label, 0, 0);\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw circle on the canvas\n     * @param {CircleAttributes} options - required options to draw the circle\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawCircle = function (options) {\n        var canvasCtx = this.ctx;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.globalAlpha = options.opacity;\n        this.ctx.fill();\n        this.setAttributes(options);\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw polyline\n     * @param {PolylineAttributes} options - options needed to draw polyline\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawPolyline = function (options) {\n        this.ctx.save();\n        this.ctx.beginPath();\n        var points = options.points.split(' ');\n        for (var i = 0; i < points.length - 1; i++) {\n            var point = points[i].split(',');\n            var x = parseFloat(point[0]);\n            var y = parseFloat(point[1]);\n            if (i === 0) {\n                this.ctx.moveTo(x, y);\n            }\n            else {\n                this.ctx.lineTo(x, y);\n            }\n        }\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an ellipse on the canvas\n     * @param {EllipseAttributes} options - options needed to draw ellipse\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawEllipse = function (options) {\n        var canvasCtx = this.ctx;\n        var circumference = Math.max(options.rx, options.ry);\n        var scaleX = options.rx / circumference;\n        var scaleY = options.ry / circumference;\n        this.ctx.save();\n        this.ctx.beginPath();\n        this.ctx.translate(options.cx, options.cy);\n        this.ctx.save();\n        this.ctx.scale(scaleX, scaleY);\n        this.ctx.arc(0, 0, circumference, 0, 2 * Math.PI, false);\n        this.ctx.fillStyle = options.fill;\n        this.ctx.fill();\n        this.ctx.restore();\n        this.ctx.lineWidth = this.getOptionValue(options, 'stroke-width');\n        this.ctx.strokeStyle = options.stroke;\n        this.ctx.stroke();\n        this.ctx.restore();\n        this.ctx = canvasCtx;\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - options required to draw an image on the canvas\n     * @return {void}\n     */\n    CanvasRenderer.prototype.drawImage = function (options) {\n        this.ctx.save();\n        var imageObj = new Image();\n        if (!isNullOrUndefined(options.href)) {\n            imageObj.src = options.href;\n            this.ctx.drawImage(imageObj, options.x, options.y, options.width, options.height);\n        }\n        this.ctx.restore();\n        this.dataUrl = this.canvasObj.toDataURL();\n    };\n    /**\n     * To create a linear gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createLinearGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createLinearGradient(0, 0, 0, this.canvasObj.height);\n        }\n        var color = this.setGradientValues(colors, myGradient);\n        return color;\n    };\n    /**\n     * To create a radial gradient\n     * @param {string[]} colors - Specifies the colors required to create linear gradient\n     * @return {string}\n     */\n    CanvasRenderer.prototype.createRadialGradient = function (colors) {\n        var myGradient;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            myGradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, this.canvasObj.height);\n        }\n        var colorName = this.setGradientValues(colors, myGradient);\n        return colorName;\n    };\n    // To set the gradient values\n    CanvasRenderer.prototype.setGradientValues = function (colors, myGradient) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            for (var i = 0; i <= colors.length - 1; i++) {\n                var color = colors[i].color;\n                var newColorStop = (colors[i].colorStop).slice(0, -1);\n                var stopColor = parseInt(newColorStop, 10) / 100;\n                myGradient.addColorStop(stopColor, color);\n            }\n            colorName = myGradient.toString();\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        this.dataUrl = this.canvasObj.toDataURL();\n        return colorName;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {HTMLElement} element - The element to which the attributes need to be set\n     * @return {HTMLElement}\n     */\n    CanvasRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        var values = Object.keys(options).map(function (key) { return options[key]; });\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], values[i]);\n        }\n        return element;\n    };\n    /**\n     * To update the values of the canvas element attributes\n     * @param {SVGCanvasAttributes} options - Specifies the colors required to create gradient\n     * @return {void}\n     */\n    CanvasRenderer.prototype.updateCanvasAttributes = function (options) {\n        this.setElementAttributes(options, this.canvasObj);\n        var ctx = this.ctx;\n        if (!isNullOrUndefined(this.dataUrl)) {\n            var img_1 = new Image;\n            img_1.onload = function () {\n                ctx.drawImage(img_1, 0, 0);\n            };\n            img_1.src = this.dataUrl;\n        }\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    ;\n    /**\n     * Inject required modules in component library\n     * @return {void}\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     * @return {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     * @param {ModuleDeclaration[]} moduleList\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     * @param {string} name\n     * @returns {string}\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     * @param {string} modName\n     * @returns {boolean}\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setValue, merge } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // tslint:disable-next-line:no-empty\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.setProperties(defaultValue, true);\n        this.isParentArray = isArray;\n    }\n    /**\n     * Updates the property changes\n     * @param {boolean} val\n     * @param {string} propName\n     * @returns {void}\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     * @param {Object} prop\n     * @param {boolean} muteOnChange\n     * {void}\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     * @param {string} key\n     * @param {Object} newValue\n     * @param {Object} oldValue\n     * @returns {void}\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue } from '../util';\nvar latnRegex = /^[0-9]*$/;\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object}\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        return getValue('main.' + cName, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object}\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object}\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            /* tslint:disable no-any */\n            if (!res.hasOwnProperty(prop[key])) {\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp}\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     * @param {string} val\n     * @returns {string}\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string}\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     * @param {Object} obj\n     * @returns {NumericObject}\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     * @param {Object} curObj\n     * @param {Object} numberSystem\n     * @param {boolean} isNumber\n     * @returns {NumberMapper}\n     */\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n","import { isUndefined, throwError, isNullOrUndefined, extend } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} object- Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, true);\n        dOptions.numberMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode);\n        /* tslint:disable no-any */\n        dOptions.percentSymbol = dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            var split = symbolPattern.split(';');\n            cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n            cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n            if (fOptions.useGrouping) {\n                fOptions.groupSeparator = symbols[mapper[2]];\n                fOptions.groupData = this.getGroupingDetails(split[0]);\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     * @param {string} pattern\n     * @returns {GroupDetails}\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     * @param {number} val1\n     * @param {number} val2\n     * @param {boolean} checkbothExist\n     * @param {boolean} isFraction\n     * @returns {boolean}\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     * @param {number} val\n     * @param {string} text\n     * @param {boolean} isFraction\n     * @returns {void}\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     * @param {number} value\n     * @param {base.GenericFormatOptions} fOptions\n     * @param {CommonOptions} dOptions\n     * @returns {string}\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     * @param {string} val\n     * @param {number} level1\n     * @param {string} sep\n     * @param {string} decimalSymbol\n     * @param {number} level2\n     * @returns {string}\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @returns {string}\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     * @param {string} value\n     * @param {number} min\n     * @returns {string}\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|ccc|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era'\n};\nvar timeSeparator = 'timeSeparator';\n/**\n * Date Format is a framework provides support for date formatting.\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which date  will format.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var formatOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        formatOptions.dateSeperator = base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                /* tslint:disable no-any */\n                var charKey = datePartMatcher[char];\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        break;\n                    case 'M':\n                    case 'L':\n                        formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        break;\n                    case 'a':\n                        formatOptions.designator = getValue('dayPeriods.format.wide', dependable.dateObject);\n                        break;\n                    case 'G':\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     * @param {Date} value\n     * @param {FormatOptions} options\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = value.getMonth() + 1;\n                    if (length_1 > 2) {\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                    isNumber = true;\n                    curval = value[timeSetter[char]]();\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += value.getFullYear();\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    ret += options.era[dec];\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/\\'/g, '');\n                    break;\n                case 'z':\n                    var timezone = value.getTimezoneOffset();\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    /* tslint:enable no-any */\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     * @param {number} tVal\n     * @param {string} pattern\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nimport { createElement } from './dom';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        _this.needsID = false;\n        /**\n         * This is a instance method to create an element.\n         * @private\n         */\n        _this.createElement = createElement;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        _this.detectFunction = new Function('args', 'var prop = Object.keys(args); if(prop.length){this[prop[0]] = args[prop[0]];}');\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    ;\n    /**\n     * Destroys the sub modules while destroying the widget\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    /**\n     * Appends the control within the given HTML element\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = document.querySelector(selector);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            this.trigger('created');\n        }\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    ;\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @return {void}\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @return {void}\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    ;\n    /**\n     * Dynamically injects the required modules to the component.\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n        }\n    };\n    Component.prototype.clearTemplate = function (templateName) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // tslint:disable-next-line:no-any\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection \n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined } from '../util';\nimport { datePartMatcher } from './date-formatter';\nvar number = 'numbers';\nvar defNoSystem = 'defaultNumberingSystem';\nvar noSystem = 'numberingSystem';\nvar standalone = 'stand-alone';\nvar curWeekDay = 'curWeekDay';\nvar latnRegex = /^[0-9]*$/;\nvar abbreviateRegex = /\\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|ccc/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} - Specific the format in which string date  will be parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     *  @return Function.\n     */\n    // tslint:disable-next-line:max-func-body-length\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr));\n        var parseOptions = {};\n        var resPattern = option.format || base.getResultantPattern(option.skeleton, dependable.dateObject, option.type);\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            parseOptions = { pattern: resPattern, evalposition: {} };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            var numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // tslint:disable-next-line\n                        var weekObject = parser.reverseObject(dependable.dateObject[base.days][standalone][base.monthIndex[len]]);\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            // tslint:disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(dependable.dateObject[month][standalone][base.monthIndex[len]]);\n                            /* tslint:disable no-any */\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        parseOptions[charKey] = parser.reverseObject(getValue('dayPeriods.format.wide', dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        parseOptions[charKey] = parser.reverseObject(getValue('eras.' + eText, dependable.dateObject));\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        hpattern = hpattern.replace(/:/g, numMapper.timeSeparator);\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        var iString = str.replace(/\\'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /**\n     * Returns date object for provided date options\n     * @param {DateParts} options\n     * @param {Date} value\n     * @returns {Date}\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            var tValue = options[key];\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     * @param {string} value\n     * @param {ParseOptions} parseOptions\n     * @param {NumericOptions} num\n     * @returns {DateParts}\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        var nRegx = num.numericRegex;\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     * @param {string} value\n     * @param {NumericOptions} option\n     * @returns {number}\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     * @param {string} hourFormat\n     * @param {base.TimeZoneOptions} tZone\n     * @param {string} nRegex\n     * @returns {string}\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var result;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     * @param {boolean} flag\n     * @param {string} val1\n     * @param {string} val2\n     * @param {NumericOptions} num\n     * @returns {number}\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar formatRegex = /(^[ncpa]{1})([0-1]?[0-9]|20)?$/i;\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar latnDecimalRegex = /^[0-9]*(\\.[0-9]+)?$/;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     * @param {string} -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} - Specific the format in which number  will parsed.\n     * @param {cldr} - Specifies the global cldr data collection.\n     * @return Function.\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // tslint:disable-next-line:no-any\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n        if (symbolpattern) {\n            symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n            var split = symbolpattern.split(';');\n            parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n            parseOptions.pData = base.getFormatData(split[0], true, '');\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     * @param {string} value\n     * @param {NumericParts} options\n     * @param {NumericOptions} numOptions\n     * @returns {number}\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.diffY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, this.initialize);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, this.initialize, this);\n        }\n    };\n    Draggable.prototype.initialize = function (evt) {\n        this.target = evt.currentTarget;\n        if (this.abort) {\n            if (!isNullOrUndefined(closest(evt.target, this.abort))) {\n                return;\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches)) {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.relativeXPosition = intCoord.pageX - pos.left;\n            this.relativeYPosition = intCoord.pageY - pos.top;\n        }\n        EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        this.toggleEvents(true);\n        document.body.classList.add('e-prevent-select');\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if (distance >= this.distance) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStart', { event: evt, element: element, target: curTarget });\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (isVisible(dragTargetElement)) {\n                EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n                EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n                this.setGlobalDroppables(false, this.element, dragTargetElement);\n            }\n            else {\n                this.toggleEvents();\n                document.body.classList.remove('e-prevent-select');\n            }\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intOver(evt, eleObj.target);\n            this.hoverObject = eleObj;\n        }\n        else if (this.hoverObject) {\n            this.hoverObject.instance.intOut(evt, eleObj.target);\n            this.hoverObject.instance.dragData[this.scope] = null;\n            this.hoverObject = null;\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        if (this.dragArea) {\n            var styles = getComputedStyle(helperElement);\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right < dLeft + helperWidth) {\n                    left = this.dragLimit.right - helperWidth;\n                }\n                else {\n                    left = dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom < dTop + helperHeight) {\n                    top = this.dragLimit.bottom - helperHeight;\n                }\n                else {\n                    top = dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        var dragValue = this.getProcessedPositionValue({ top: (top - iTop) + 'px', left: (left - iLeft) + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    Draggable.prototype.intDestroy = function (evt) {\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = elementArea.width ? elementArea.width : elementArea.right - elementArea.left;\n            eleHeightBound = elementArea.height ? elementArea.height : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = top + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.display || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.display = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.display = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    Draggable.prototype.getMousePosition = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var pageX = this.clone ? intCoord.pageX : intCoord.pageX - this.relativeXPosition;\n        var pageY = this.clone ? intCoord.pageY : intCoord.pageY - this.relativeYPosition;\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n    var Draggable_1;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     * @param {HTMLElement} element\n     * @param {KeyboardEventsModel} options\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     * @return {void}\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     * @param newProp\n     * @param oldProp\n     * @returns {void}\n     * @private\n     */\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     * @param {string} config - configuration data\n     * returns {KeyData}\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string \n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n    var KeyboardEvents_1;\n}(Base));\nexport { KeyboardEvents };\n","import { extend } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vrifi'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     * @param {string} locale\n     * @returns {void}\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     * @param {string} propertyName - specifies the property for which localize text to be returned.\n     * @return string\n     */\n    L10n.prototype.getConstant = function (prop) {\n        /* tslint:disable no-any */\n        return this.currentLocale[prop] || this.localeStrings[prop] || '';\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     * @param {Object} curObject\n     * @param {string} locale\n     * @returns {Object}\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if (curObject[locale]) {\n            return curObject[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","/**\n * To import utils\n */\nimport { isNullOrUndefined, } from './util';\nvar SvgRenderer = /** @class */ (function () {\n    /* End-Properties */\n    function SvgRenderer(rootID) {\n        //Internal Variables \n        this.svgLink = 'http://www.w3.org/2000/svg';\n        this.rootId = rootID;\n    }\n    // method to get the attributes value\n    /* tslint:disable */\n    SvgRenderer.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    }; /* tslint:enable */\n    /**\n     * To create a Html5 SVG element\n     * @param {SVGAttributes} options - Options to create SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createSvg = function (options) {\n        if (isNullOrUndefined(options.id)) {\n            options.id = this.rootId + '_svg';\n        }\n        this.svgObj = document.getElementById(options.id);\n        if (isNullOrUndefined(document.getElementById(options.id))) {\n            this.svgObj = document.createElementNS(this.svgLink, 'svg');\n        }\n        this.svgObj = this.setElementAttributes(options, this.svgObj);\n        this.setSVGSize(options.width, options.height);\n        return this.svgObj;\n    };\n    // method to set the height and width for the SVG element\n    SvgRenderer.prototype.setSVGSize = function (width, height) {\n        var element = document.getElementById(this.rootId);\n        var size = !isNullOrUndefined(element) ? element.getBoundingClientRect() : null;\n        if (isNullOrUndefined(this.width) || this.width <= 0) {\n            this.svgObj.setAttribute('width', width ? width.toString() : size.width.toString());\n        }\n        else {\n            this.svgObj.setAttribute('width', this.width.toString());\n        }\n        if (isNullOrUndefined(this.height) || this.height <= 0) {\n            this.svgObj.setAttribute('height', height ? height.toString() : '450');\n        }\n        else {\n            this.svgObj.setAttribute('height', this.height.toString());\n        }\n    };\n    /**\n     * To draw a path\n     * @param {PathAttributes} options - Options to draw a path in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPath = function (options) {\n        var path = document.getElementById(options.id);\n        if (path === null) {\n            path = document.createElementNS(this.svgLink, 'path');\n        }\n        path = this.setElementAttributes(options, path);\n        return path;\n    };\n    /**\n     * To draw a line\n     * @param {LineAttributes} options - Options to draw a line in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawLine = function (options) {\n        var line = document.getElementById(options.id);\n        if (line === null) {\n            line = document.createElementNS(this.svgLink, 'line');\n        }\n        line = this.setElementAttributes(options, line);\n        return line;\n    };\n    /**\n     * To draw a rectangle\n     * @param {BaseAttibutes} options - Required options to draw a rectangle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawRectangle = function (options) {\n        var rectangle = document.getElementById(options.id);\n        if (rectangle === null) {\n            rectangle = document.createElementNS(this.svgLink, 'rect');\n        }\n        rectangle = this.setElementAttributes(options, rectangle);\n        return rectangle;\n    };\n    /**\n     * To draw a circle\n     * @param {CircleAttributes} options - Required options to draw a circle in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircle = function (options) {\n        var circle = document.getElementById(options.id);\n        if (circle === null) {\n            circle = document.createElementNS(this.svgLink, 'circle');\n        }\n        circle = this.setElementAttributes(options, circle);\n        return circle;\n    };\n    /**\n     * To draw a polyline\n     * @param {PolylineAttributes} options - Options required to draw a polyline\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolyline = function (options) {\n        var polyline = document.getElementById(options.id);\n        if (polyline === null) {\n            polyline = document.createElementNS(this.svgLink, 'polyline');\n        }\n        polyline = this.setElementAttributes(options, polyline);\n        return polyline;\n    };\n    /**\n     * To draw an ellipse\n     * @param {EllipseAttributes} options - Options required to draw an ellipse\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawEllipse = function (options) {\n        var ellipse = document.getElementById(options.id);\n        if (ellipse === null) {\n            ellipse = document.createElementNS(this.svgLink, 'ellipse');\n        }\n        ellipse = this.setElementAttributes(options, ellipse);\n        return ellipse;\n    };\n    /**\n     * To draw a polygon\n     * @param {PolylineAttributes} options - Options needed to draw a polygon in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawPolygon = function (options) {\n        var polygon = document.getElementById(options.id);\n        if (polygon === null) {\n            polygon = document.createElementNS(this.svgLink, 'polygon');\n        }\n        polygon = this.setElementAttributes(options, polygon);\n        return polygon;\n    };\n    /**\n     * To draw an image\n     * @param {ImageAttributes} options - Required options to draw an image in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawImage = function (options) {\n        var img = document.createElementNS(this.svgLink, 'image');\n        img.setAttributeNS(null, 'height', options.height.toString());\n        img.setAttributeNS(null, 'width', options.width.toString());\n        img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', options.href);\n        img.setAttributeNS(null, 'x', options.x.toString());\n        img.setAttributeNS(null, 'y', options.y.toString());\n        img.setAttributeNS(null, 'id', options.id);\n        img.setAttributeNS(null, 'visibility', options.visibility);\n        if (!isNullOrUndefined(this.getOptionValue(options, 'clip-path'))) {\n            img.setAttributeNS(null, 'clip-path', this.getOptionValue(options, 'clip-path'));\n        }\n        if (!isNullOrUndefined(options.preserveAspectRatio)) {\n            img.setAttributeNS(null, 'preserveAspectRatio', options.preserveAspectRatio);\n        }\n        return img;\n    };\n    /**\n     * To draw a text\n     * @param {TextAttributes} options - Options needed to draw a text in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createText = function (options, label) {\n        var text = document.createElementNS(this.svgLink, 'text');\n        text = this.setElementAttributes(options, text);\n        if (!isNullOrUndefined(label)) {\n            text.textContent = label;\n        }\n        return text;\n    };\n    /**\n     * To create a tSpan\n     * @param {TextAttributes} options - Options to create tSpan\n     * @param {string} label - The text content which is to be rendered in the tSpan\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTSpan = function (options, label) {\n        var tSpan = document.createElementNS(this.svgLink, 'tspan');\n        tSpan = this.setElementAttributes(options, tSpan);\n        if (!isNullOrUndefined(label)) {\n            tSpan.textContent = label;\n        }\n        return tSpan;\n    };\n    /**\n     * To create a title\n     * @param {string} text - The text content which is to be rendered in the title\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createTitle = function (text) {\n        var title = document.createElementNS(this.svgLink, 'title');\n        title.textContent = text;\n        return title;\n    };\n    /**\n     * To create defs element in SVG\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createDefs = function () {\n        var defs = document.createElementNS(this.svgLink, 'defs');\n        return defs;\n    };\n    /**\n     * To create clip path in SVG\n     * @param {BaseAttibutes} options - Options needed to create clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createClipPath = function (options) {\n        var clipPath = document.createElementNS(this.svgLink, 'clipPath');\n        clipPath = this.setElementAttributes(options, clipPath);\n        return clipPath;\n    };\n    /**\n     * To create foreign object in SVG\n     * @param {BaseAttibutes} options - Options needed to create foreign object\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createForeignObject = function (options) {\n        var foreignObject = document.createElementNS(this.svgLink, 'foreignObject');\n        foreignObject = this.setElementAttributes(options, foreignObject);\n        return foreignObject;\n    };\n    /**\n     * To create group element in SVG\n     * @param {BaseAttibutes} options - Options needed to create group\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createGroup = function (options) {\n        var group = document.createElementNS(this.svgLink, 'g');\n        group = this.setElementAttributes(options, group);\n        return group;\n    };\n    /**\n     * To create pattern in SVG\n     * @param {PatternAttributes} options - Required options to create pattern in SVG\n     * @param {string} type - Specifies the name of the pattern\n     * @return {Element}\n     */\n    SvgRenderer.prototype.createPattern = function (options, element) {\n        var pattern = document.createElementNS(this.svgLink, element);\n        pattern = this.setElementAttributes(options, pattern);\n        return pattern;\n    };\n    /**\n     * To create radial gradient in SVG\n     * @param {string[]} colors - Specifies the colors required to create radial gradient\n     * @param {string[]} colorStop - Specifies the colorstop required to create radial gradient\n     * @param {string} name - Specifies the name of the gradient\n     * @param {RadialGradient} options - value for radial gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createRadialGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'radialGradient',\n                'cx': options.cx + '%',\n                'cy': options.cy + '%',\n                'r': options.r + '%',\n                'fx': options.fx + '%',\n                'fy': options.fy + '%'\n            };\n            this.drawGradient('radialGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'radialGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To create linear gradient in SVG\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colors - Array of string specifies the values for colorStop\n     * @param {string} name - Specifies the name of the gradient\n     * @param {LinearGradient} options - Specifies the options for gradient\n     * @return {string}\n     */\n    SvgRenderer.prototype.createLinearGradient = function (colors, name, options) {\n        var colorName;\n        if (!isNullOrUndefined(colors[0].colorStop)) {\n            var newOptions = {\n                'id': this.rootId + '_' + name + 'linearGradient',\n                'x1': options.x1 + '%',\n                'y1': options.y1 + '%',\n                'x2': options.x2 + '%',\n                'y2': options.y2 + '%'\n            };\n            this.drawGradient('linearGradient', newOptions, colors);\n            colorName = 'url(#' + this.rootId + '_' + name + 'linearGradient)';\n        }\n        else {\n            colorName = colors[0].color.toString();\n        }\n        return colorName;\n    };\n    /**\n     * To render the gradient element in SVG\n     * @param {string} gradientType - Specifies the type of the gradient\n     * @param {RadialGradient | LinearGradient} options - Options required to render a gradient\n     * @param {string[]} colors - Array of string specifies the values for color\n     * @param {string[]} colorStop - Array of string specifies the values for colorStop\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawGradient = function (gradientType, options, colors) {\n        var defs = this.createDefs();\n        var gradient = document.createElementNS(this.svgLink, gradientType);\n        gradient = this.setElementAttributes(options, gradient);\n        for (var i = 0; i < colors.length; i++) {\n            var stop_1 = document.createElementNS(this.svgLink, 'stop');\n            stop_1.setAttribute('offset', colors[i].colorStop);\n            stop_1.setAttribute('stop-color', colors[i].color);\n            stop_1.setAttribute('stop-opacity', '1');\n            gradient.appendChild(stop_1);\n        }\n        defs.appendChild(gradient);\n        return defs;\n    };\n    /**\n     * To render a clip path\n     * @param {BaseAttibutes} options - Options required to render a clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var rect = this.drawRectangle(options);\n        clipPath.appendChild(rect);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To create circular clip path in SVG\n     * @param {CircleAttributes} options - Options required to create circular clip path\n     * @return {Element}\n     */\n    SvgRenderer.prototype.drawCircularClipPath = function (options) {\n        var defs = this.createDefs();\n        var clipPath = this.createClipPath({ 'id': options.id });\n        var circle = this.drawCircle(options);\n        clipPath.appendChild(circle);\n        defs.appendChild(clipPath);\n        return defs;\n    };\n    /**\n     * To set the attributes to the element\n     * @param {SVGCanvasAttributes} options - Attributes to set for the element\n     * @param {Element} element - The element to which the attributes need to be set\n     * @return {Element}\n     */\n    SvgRenderer.prototype.setElementAttributes = function (options, element) {\n        var keys = Object.keys(options);\n        for (var i = 0; i < keys.length; i++) {\n            element.setAttribute(keys[i], options[keys[i]]);\n        }\n        return element;\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n * @private\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = (evt.changedTouches ? evt.changedTouches[0] : evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        _this.moveEvent = function (evt) {\n            var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = evt;\n            if (evt.changedTouches) {\n                point = evt.changedTouches[0];\n            }\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 20));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed \n    /**\n     * @private\n     * @param newProp\n     * @param oldProp\n     */\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     * @return {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     * @returns {string}\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean}\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = evt.changedTouches ? evt.changedTouches[0] : evt;\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // tslint:disable-next-line:no-any\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","import { DataUtil } from './util';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        /** @hidden */\n        this.distincts = [];\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        cloned.distincts = this.distincts.slice(0);\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * @hidden\n     */\n    Query.prototype.distinct = function (fields) {\n        if (typeof fields === 'string') {\n            this.distincts = [].slice.call([fields], 0);\n        }\n        else {\n            this.distincts = fields.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        operator = operator || 'contains';\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                ignoreAccent: ignoreAccent,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        var order = 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.ignoreAccent = false;\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.ignoreAccent = ignoreAccent;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with and condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with and condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with or condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with or condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            ignoreAccent: this.ignoreAccent,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? DataUtil.toLowerCase(order) : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        for (var i = 0; i < fields.length; i++) {\n            newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            grouped[val].items.push(jsonData[i]);\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        return jsonData.length && groupedArray || jsonData;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (!from) {\n            return undefined;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * To set value for the nameSpace in desired object.\n     * @param {string} nameSpace - String value to the get the inner object.\n     * @param {Object} value - Value that you need to set.\n     * @param {Object} obj - Object to get the inner object value.\n     * @return { [key: string]: Object; } | Object\n     * @hidden\n     */\n    DataUtil.setValue = function (nameSpace, value, obj) {\n        var keys = nameSpace.toString().split('.');\n        var start = obj || {};\n        var fromObj = start;\n        var i;\n        var length = keys.length;\n        var key;\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            if (i + 1 === length) {\n                fromObj[key] = value === undefined ? undefined : value;\n            }\n            else if (isNullOrUndefined(fromObj[key])) {\n                fromObj[key] = {};\n            }\n            fromObj = fromObj[key];\n        }\n        return start;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.ignoreDiacritics = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        var result = value.split('');\n        var newValue = result.map(function (temp) { return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp; });\n        return newValue.join('');\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName)) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!isNullOrUndefined(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    DataUtil.getAddParams = function (adp, dm, query) {\n        var req = {};\n        DataUtil.callAdaptorFunction(adp, 'addParams', {\n            dm: dm,\n            query: query,\n            params: query.params,\n            reqParams: req\n        });\n        return req;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = DataUtil.getVal(json, index, fieldName);\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default null\n     */\n    DataUtil.serverTimezoneOffset = null;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.diacritics = {\n        '\\u24B6': 'A',\n        '\\uFF21': 'A',\n        '\\u00C0': 'A',\n        '\\u00C1': 'A',\n        '\\u00C2': 'A',\n        '\\u1EA6': 'A',\n        '\\u1EA4': 'A',\n        '\\u1EAA': 'A',\n        '\\u1EA8': 'A',\n        '\\u00C3': 'A',\n        '\\u0100': 'A',\n        '\\u0102': 'A',\n        '\\u1EB0': 'A',\n        '\\u1EAE': 'A',\n        '\\u1EB4': 'A',\n        '\\u1EB2': 'A',\n        '\\u0226': 'A',\n        '\\u01E0': 'A',\n        '\\u00C4': 'A',\n        '\\u01DE': 'A',\n        '\\u1EA2': 'A',\n        '\\u00C5': 'A',\n        '\\u01FA': 'A',\n        '\\u01CD': 'A',\n        '\\u0200': 'A',\n        '\\u0202': 'A',\n        '\\u1EA0': 'A',\n        '\\u1EAC': 'A',\n        '\\u1EB6': 'A',\n        '\\u1E00': 'A',\n        '\\u0104': 'A',\n        '\\u023A': 'A',\n        '\\u2C6F': 'A',\n        '\\uA732': 'AA',\n        '\\u00C6': 'AE',\n        '\\u01FC': 'AE',\n        '\\u01E2': 'AE',\n        '\\uA734': 'AO',\n        '\\uA736': 'AU',\n        '\\uA738': 'AV',\n        '\\uA73A': 'AV',\n        '\\uA73C': 'AY',\n        '\\u24B7': 'B',\n        '\\uFF22': 'B',\n        '\\u1E02': 'B',\n        '\\u1E04': 'B',\n        '\\u1E06': 'B',\n        '\\u0243': 'B',\n        '\\u0182': 'B',\n        '\\u0181': 'B',\n        '\\u24B8': 'C',\n        '\\uFF23': 'C',\n        '\\u0106': 'C',\n        '\\u0108': 'C',\n        '\\u010A': 'C',\n        '\\u010C': 'C',\n        '\\u00C7': 'C',\n        '\\u1E08': 'C',\n        '\\u0187': 'C',\n        '\\u023B': 'C',\n        '\\uA73E': 'C',\n        '\\u24B9': 'D',\n        '\\uFF24': 'D',\n        '\\u1E0A': 'D',\n        '\\u010E': 'D',\n        '\\u1E0C': 'D',\n        '\\u1E10': 'D',\n        '\\u1E12': 'D',\n        '\\u1E0E': 'D',\n        '\\u0110': 'D',\n        '\\u018B': 'D',\n        '\\u018A': 'D',\n        '\\u0189': 'D',\n        '\\uA779': 'D',\n        '\\u01F1': 'DZ',\n        '\\u01C4': 'DZ',\n        '\\u01F2': 'Dz',\n        '\\u01C5': 'Dz',\n        '\\u24BA': 'E',\n        '\\uFF25': 'E',\n        '\\u00C8': 'E',\n        '\\u00C9': 'E',\n        '\\u00CA': 'E',\n        '\\u1EC0': 'E',\n        '\\u1EBE': 'E',\n        '\\u1EC4': 'E',\n        '\\u1EC2': 'E',\n        '\\u1EBC': 'E',\n        '\\u0112': 'E',\n        '\\u1E14': 'E',\n        '\\u1E16': 'E',\n        '\\u0114': 'E',\n        '\\u0116': 'E',\n        '\\u00CB': 'E',\n        '\\u1EBA': 'E',\n        '\\u011A': 'E',\n        '\\u0204': 'E',\n        '\\u0206': 'E',\n        '\\u1EB8': 'E',\n        '\\u1EC6': 'E',\n        '\\u0228': 'E',\n        '\\u1E1C': 'E',\n        '\\u0118': 'E',\n        '\\u1E18': 'E',\n        '\\u1E1A': 'E',\n        '\\u0190': 'E',\n        '\\u018E': 'E',\n        '\\u24BB': 'F',\n        '\\uFF26': 'F',\n        '\\u1E1E': 'F',\n        '\\u0191': 'F',\n        '\\uA77B': 'F',\n        '\\u24BC': 'G',\n        '\\uFF27': 'G',\n        '\\u01F4': 'G',\n        '\\u011C': 'G',\n        '\\u1E20': 'G',\n        '\\u011E': 'G',\n        '\\u0120': 'G',\n        '\\u01E6': 'G',\n        '\\u0122': 'G',\n        '\\u01E4': 'G',\n        '\\u0193': 'G',\n        '\\uA7A0': 'G',\n        '\\uA77D': 'G',\n        '\\uA77E': 'G',\n        '\\u24BD': 'H',\n        '\\uFF28': 'H',\n        '\\u0124': 'H',\n        '\\u1E22': 'H',\n        '\\u1E26': 'H',\n        '\\u021E': 'H',\n        '\\u1E24': 'H',\n        '\\u1E28': 'H',\n        '\\u1E2A': 'H',\n        '\\u0126': 'H',\n        '\\u2C67': 'H',\n        '\\u2C75': 'H',\n        '\\uA78D': 'H',\n        '\\u24BE': 'I',\n        '\\uFF29': 'I',\n        '\\u00CC': 'I',\n        '\\u00CD': 'I',\n        '\\u00CE': 'I',\n        '\\u0128': 'I',\n        '\\u012A': 'I',\n        '\\u012C': 'I',\n        '\\u0130': 'I',\n        '\\u00CF': 'I',\n        '\\u1E2E': 'I',\n        '\\u1EC8': 'I',\n        '\\u01CF': 'I',\n        '\\u0208': 'I',\n        '\\u020A': 'I',\n        '\\u1ECA': 'I',\n        '\\u012E': 'I',\n        '\\u1E2C': 'I',\n        '\\u0197': 'I',\n        '\\u24BF': 'J',\n        '\\uFF2A': 'J',\n        '\\u0134': 'J',\n        '\\u0248': 'J',\n        '\\u24C0': 'K',\n        '\\uFF2B': 'K',\n        '\\u1E30': 'K',\n        '\\u01E8': 'K',\n        '\\u1E32': 'K',\n        '\\u0136': 'K',\n        '\\u1E34': 'K',\n        '\\u0198': 'K',\n        '\\u2C69': 'K',\n        '\\uA740': 'K',\n        '\\uA742': 'K',\n        '\\uA744': 'K',\n        '\\uA7A2': 'K',\n        '\\u24C1': 'L',\n        '\\uFF2C': 'L',\n        '\\u013F': 'L',\n        '\\u0139': 'L',\n        '\\u013D': 'L',\n        '\\u1E36': 'L',\n        '\\u1E38': 'L',\n        '\\u013B': 'L',\n        '\\u1E3C': 'L',\n        '\\u1E3A': 'L',\n        '\\u0141': 'L',\n        '\\u023D': 'L',\n        '\\u2C62': 'L',\n        '\\u2C60': 'L',\n        '\\uA748': 'L',\n        '\\uA746': 'L',\n        '\\uA780': 'L',\n        '\\u01C7': 'LJ',\n        '\\u01C8': 'Lj',\n        '\\u24C2': 'M',\n        '\\uFF2D': 'M',\n        '\\u1E3E': 'M',\n        '\\u1E40': 'M',\n        '\\u1E42': 'M',\n        '\\u2C6E': 'M',\n        '\\u019C': 'M',\n        '\\u24C3': 'N',\n        '\\uFF2E': 'N',\n        '\\u01F8': 'N',\n        '\\u0143': 'N',\n        '\\u00D1': 'N',\n        '\\u1E44': 'N',\n        '\\u0147': 'N',\n        '\\u1E46': 'N',\n        '\\u0145': 'N',\n        '\\u1E4A': 'N',\n        '\\u1E48': 'N',\n        '\\u0220': 'N',\n        '\\u019D': 'N',\n        '\\uA790': 'N',\n        '\\uA7A4': 'N',\n        '\\u01CA': 'NJ',\n        '\\u01CB': 'Nj',\n        '\\u24C4': 'O',\n        '\\uFF2F': 'O',\n        '\\u00D2': 'O',\n        '\\u00D3': 'O',\n        '\\u00D4': 'O',\n        '\\u1ED2': 'O',\n        '\\u1ED0': 'O',\n        '\\u1ED6': 'O',\n        '\\u1ED4': 'O',\n        '\\u00D5': 'O',\n        '\\u1E4C': 'O',\n        '\\u022C': 'O',\n        '\\u1E4E': 'O',\n        '\\u014C': 'O',\n        '\\u1E50': 'O',\n        '\\u1E52': 'O',\n        '\\u014E': 'O',\n        '\\u022E': 'O',\n        '\\u0230': 'O',\n        '\\u00D6': 'O',\n        '\\u022A': 'O',\n        '\\u1ECE': 'O',\n        '\\u0150': 'O',\n        '\\u01D1': 'O',\n        '\\u020C': 'O',\n        '\\u020E': 'O',\n        '\\u01A0': 'O',\n        '\\u1EDC': 'O',\n        '\\u1EDA': 'O',\n        '\\u1EE0': 'O',\n        '\\u1EDE': 'O',\n        '\\u1EE2': 'O',\n        '\\u1ECC': 'O',\n        '\\u1ED8': 'O',\n        '\\u01EA': 'O',\n        '\\u01EC': 'O',\n        '\\u00D8': 'O',\n        '\\u01FE': 'O',\n        '\\u0186': 'O',\n        '\\u019F': 'O',\n        '\\uA74A': 'O',\n        '\\uA74C': 'O',\n        '\\u01A2': 'OI',\n        '\\uA74E': 'OO',\n        '\\u0222': 'OU',\n        '\\u24C5': 'P',\n        '\\uFF30': 'P',\n        '\\u1E54': 'P',\n        '\\u1E56': 'P',\n        '\\u01A4': 'P',\n        '\\u2C63': 'P',\n        '\\uA750': 'P',\n        '\\uA752': 'P',\n        '\\uA754': 'P',\n        '\\u24C6': 'Q',\n        '\\uFF31': 'Q',\n        '\\uA756': 'Q',\n        '\\uA758': 'Q',\n        '\\u024A': 'Q',\n        '\\u24C7': 'R',\n        '\\uFF32': 'R',\n        '\\u0154': 'R',\n        '\\u1E58': 'R',\n        '\\u0158': 'R',\n        '\\u0210': 'R',\n        '\\u0212': 'R',\n        '\\u1E5A': 'R',\n        '\\u1E5C': 'R',\n        '\\u0156': 'R',\n        '\\u1E5E': 'R',\n        '\\u024C': 'R',\n        '\\u2C64': 'R',\n        '\\uA75A': 'R',\n        '\\uA7A6': 'R',\n        '\\uA782': 'R',\n        '\\u24C8': 'S',\n        '\\uFF33': 'S',\n        '\\u1E9E': 'S',\n        '\\u015A': 'S',\n        '\\u1E64': 'S',\n        '\\u015C': 'S',\n        '\\u1E60': 'S',\n        '\\u0160': 'S',\n        '\\u1E66': 'S',\n        '\\u1E62': 'S',\n        '\\u1E68': 'S',\n        '\\u0218': 'S',\n        '\\u015E': 'S',\n        '\\u2C7E': 'S',\n        '\\uA7A8': 'S',\n        '\\uA784': 'S',\n        '\\u24C9': 'T',\n        '\\uFF34': 'T',\n        '\\u1E6A': 'T',\n        '\\u0164': 'T',\n        '\\u1E6C': 'T',\n        '\\u021A': 'T',\n        '\\u0162': 'T',\n        '\\u1E70': 'T',\n        '\\u1E6E': 'T',\n        '\\u0166': 'T',\n        '\\u01AC': 'T',\n        '\\u01AE': 'T',\n        '\\u023E': 'T',\n        '\\uA786': 'T',\n        '\\uA728': 'TZ',\n        '\\u24CA': 'U',\n        '\\uFF35': 'U',\n        '\\u00D9': 'U',\n        '\\u00DA': 'U',\n        '\\u00DB': 'U',\n        '\\u0168': 'U',\n        '\\u1E78': 'U',\n        '\\u016A': 'U',\n        '\\u1E7A': 'U',\n        '\\u016C': 'U',\n        '\\u00DC': 'U',\n        '\\u01DB': 'U',\n        '\\u01D7': 'U',\n        '\\u01D5': 'U',\n        '\\u01D9': 'U',\n        '\\u1EE6': 'U',\n        '\\u016E': 'U',\n        '\\u0170': 'U',\n        '\\u01D3': 'U',\n        '\\u0214': 'U',\n        '\\u0216': 'U',\n        '\\u01AF': 'U',\n        '\\u1EEA': 'U',\n        '\\u1EE8': 'U',\n        '\\u1EEE': 'U',\n        '\\u1EEC': 'U',\n        '\\u1EF0': 'U',\n        '\\u1EE4': 'U',\n        '\\u1E72': 'U',\n        '\\u0172': 'U',\n        '\\u1E76': 'U',\n        '\\u1E74': 'U',\n        '\\u0244': 'U',\n        '\\u24CB': 'V',\n        '\\uFF36': 'V',\n        '\\u1E7C': 'V',\n        '\\u1E7E': 'V',\n        '\\u01B2': 'V',\n        '\\uA75E': 'V',\n        '\\u0245': 'V',\n        '\\uA760': 'VY',\n        '\\u24CC': 'W',\n        '\\uFF37': 'W',\n        '\\u1E80': 'W',\n        '\\u1E82': 'W',\n        '\\u0174': 'W',\n        '\\u1E86': 'W',\n        '\\u1E84': 'W',\n        '\\u1E88': 'W',\n        '\\u2C72': 'W',\n        '\\u24CD': 'X',\n        '\\uFF38': 'X',\n        '\\u1E8A': 'X',\n        '\\u1E8C': 'X',\n        '\\u24CE': 'Y',\n        '\\uFF39': 'Y',\n        '\\u1EF2': 'Y',\n        '\\u00DD': 'Y',\n        '\\u0176': 'Y',\n        '\\u1EF8': 'Y',\n        '\\u0232': 'Y',\n        '\\u1E8E': 'Y',\n        '\\u0178': 'Y',\n        '\\u1EF6': 'Y',\n        '\\u1EF4': 'Y',\n        '\\u01B3': 'Y',\n        '\\u024E': 'Y',\n        '\\u1EFE': 'Y',\n        '\\u24CF': 'Z',\n        '\\uFF3A': 'Z',\n        '\\u0179': 'Z',\n        '\\u1E90': 'Z',\n        '\\u017B': 'Z',\n        '\\u017D': 'Z',\n        '\\u1E92': 'Z',\n        '\\u1E94': 'Z',\n        '\\u01B5': 'Z',\n        '\\u0224': 'Z',\n        '\\u2C7F': 'Z',\n        '\\u2C6B': 'Z',\n        '\\uA762': 'Z',\n        '\\u24D0': 'a',\n        '\\uFF41': 'a',\n        '\\u1E9A': 'a',\n        '\\u00E0': 'a',\n        '\\u00E1': 'a',\n        '\\u00E2': 'a',\n        '\\u1EA7': 'a',\n        '\\u1EA5': 'a',\n        '\\u1EAB': 'a',\n        '\\u1EA9': 'a',\n        '\\u00E3': 'a',\n        '\\u0101': 'a',\n        '\\u0103': 'a',\n        '\\u1EB1': 'a',\n        '\\u1EAF': 'a',\n        '\\u1EB5': 'a',\n        '\\u1EB3': 'a',\n        '\\u0227': 'a',\n        '\\u01E1': 'a',\n        '\\u00E4': 'a',\n        '\\u01DF': 'a',\n        '\\u1EA3': 'a',\n        '\\u00E5': 'a',\n        '\\u01FB': 'a',\n        '\\u01CE': 'a',\n        '\\u0201': 'a',\n        '\\u0203': 'a',\n        '\\u1EA1': 'a',\n        '\\u1EAD': 'a',\n        '\\u1EB7': 'a',\n        '\\u1E01': 'a',\n        '\\u0105': 'a',\n        '\\u2C65': 'a',\n        '\\u0250': 'a',\n        '\\uA733': 'aa',\n        '\\u00E6': 'ae',\n        '\\u01FD': 'ae',\n        '\\u01E3': 'ae',\n        '\\uA735': 'ao',\n        '\\uA737': 'au',\n        '\\uA739': 'av',\n        '\\uA73B': 'av',\n        '\\uA73D': 'ay',\n        '\\u24D1': 'b',\n        '\\uFF42': 'b',\n        '\\u1E03': 'b',\n        '\\u1E05': 'b',\n        '\\u1E07': 'b',\n        '\\u0180': 'b',\n        '\\u0183': 'b',\n        '\\u0253': 'b',\n        '\\u24D2': 'c',\n        '\\uFF43': 'c',\n        '\\u0107': 'c',\n        '\\u0109': 'c',\n        '\\u010B': 'c',\n        '\\u010D': 'c',\n        '\\u00E7': 'c',\n        '\\u1E09': 'c',\n        '\\u0188': 'c',\n        '\\u023C': 'c',\n        '\\uA73F': 'c',\n        '\\u2184': 'c',\n        '\\u24D3': 'd',\n        '\\uFF44': 'd',\n        '\\u1E0B': 'd',\n        '\\u010F': 'd',\n        '\\u1E0D': 'd',\n        '\\u1E11': 'd',\n        '\\u1E13': 'd',\n        '\\u1E0F': 'd',\n        '\\u0111': 'd',\n        '\\u018C': 'd',\n        '\\u0256': 'd',\n        '\\u0257': 'd',\n        '\\uA77A': 'd',\n        '\\u01F3': 'dz',\n        '\\u01C6': 'dz',\n        '\\u24D4': 'e',\n        '\\uFF45': 'e',\n        '\\u00E8': 'e',\n        '\\u00E9': 'e',\n        '\\u00EA': 'e',\n        '\\u1EC1': 'e',\n        '\\u1EBF': 'e',\n        '\\u1EC5': 'e',\n        '\\u1EC3': 'e',\n        '\\u1EBD': 'e',\n        '\\u0113': 'e',\n        '\\u1E15': 'e',\n        '\\u1E17': 'e',\n        '\\u0115': 'e',\n        '\\u0117': 'e',\n        '\\u00EB': 'e',\n        '\\u1EBB': 'e',\n        '\\u011B': 'e',\n        '\\u0205': 'e',\n        '\\u0207': 'e',\n        '\\u1EB9': 'e',\n        '\\u1EC7': 'e',\n        '\\u0229': 'e',\n        '\\u1E1D': 'e',\n        '\\u0119': 'e',\n        '\\u1E19': 'e',\n        '\\u1E1B': 'e',\n        '\\u0247': 'e',\n        '\\u025B': 'e',\n        '\\u01DD': 'e',\n        '\\u24D5': 'f',\n        '\\uFF46': 'f',\n        '\\u1E1F': 'f',\n        '\\u0192': 'f',\n        '\\uA77C': 'f',\n        '\\u24D6': 'g',\n        '\\uFF47': 'g',\n        '\\u01F5': 'g',\n        '\\u011D': 'g',\n        '\\u1E21': 'g',\n        '\\u011F': 'g',\n        '\\u0121': 'g',\n        '\\u01E7': 'g',\n        '\\u0123': 'g',\n        '\\u01E5': 'g',\n        '\\u0260': 'g',\n        '\\uA7A1': 'g',\n        '\\u1D79': 'g',\n        '\\uA77F': 'g',\n        '\\u24D7': 'h',\n        '\\uFF48': 'h',\n        '\\u0125': 'h',\n        '\\u1E23': 'h',\n        '\\u1E27': 'h',\n        '\\u021F': 'h',\n        '\\u1E25': 'h',\n        '\\u1E29': 'h',\n        '\\u1E2B': 'h',\n        '\\u1E96': 'h',\n        '\\u0127': 'h',\n        '\\u2C68': 'h',\n        '\\u2C76': 'h',\n        '\\u0265': 'h',\n        '\\u0195': 'hv',\n        '\\u24D8': 'i',\n        '\\uFF49': 'i',\n        '\\u00EC': 'i',\n        '\\u00ED': 'i',\n        '\\u00EE': 'i',\n        '\\u0129': 'i',\n        '\\u012B': 'i',\n        '\\u012D': 'i',\n        '\\u00EF': 'i',\n        '\\u1E2F': 'i',\n        '\\u1EC9': 'i',\n        '\\u01D0': 'i',\n        '\\u0209': 'i',\n        '\\u020B': 'i',\n        '\\u1ECB': 'i',\n        '\\u012F': 'i',\n        '\\u1E2D': 'i',\n        '\\u0268': 'i',\n        '\\u0131': 'i',\n        '\\u24D9': 'j',\n        '\\uFF4A': 'j',\n        '\\u0135': 'j',\n        '\\u01F0': 'j',\n        '\\u0249': 'j',\n        '\\u24DA': 'k',\n        '\\uFF4B': 'k',\n        '\\u1E31': 'k',\n        '\\u01E9': 'k',\n        '\\u1E33': 'k',\n        '\\u0137': 'k',\n        '\\u1E35': 'k',\n        '\\u0199': 'k',\n        '\\u2C6A': 'k',\n        '\\uA741': 'k',\n        '\\uA743': 'k',\n        '\\uA745': 'k',\n        '\\uA7A3': 'k',\n        '\\u24DB': 'l',\n        '\\uFF4C': 'l',\n        '\\u0140': 'l',\n        '\\u013A': 'l',\n        '\\u013E': 'l',\n        '\\u1E37': 'l',\n        '\\u1E39': 'l',\n        '\\u013C': 'l',\n        '\\u1E3D': 'l',\n        '\\u1E3B': 'l',\n        '\\u017F': 'l',\n        '\\u0142': 'l',\n        '\\u019A': 'l',\n        '\\u026B': 'l',\n        '\\u2C61': 'l',\n        '\\uA749': 'l',\n        '\\uA781': 'l',\n        '\\uA747': 'l',\n        '\\u01C9': 'lj',\n        '\\u24DC': 'm',\n        '\\uFF4D': 'm',\n        '\\u1E3F': 'm',\n        '\\u1E41': 'm',\n        '\\u1E43': 'm',\n        '\\u0271': 'm',\n        '\\u026F': 'm',\n        '\\u24DD': 'n',\n        '\\uFF4E': 'n',\n        '\\u01F9': 'n',\n        '\\u0144': 'n',\n        '\\u00F1': 'n',\n        '\\u1E45': 'n',\n        '\\u0148': 'n',\n        '\\u1E47': 'n',\n        '\\u0146': 'n',\n        '\\u1E4B': 'n',\n        '\\u1E49': 'n',\n        '\\u019E': 'n',\n        '\\u0272': 'n',\n        '\\u0149': 'n',\n        '\\uA791': 'n',\n        '\\uA7A5': 'n',\n        '\\u01CC': 'nj',\n        '\\u24DE': 'o',\n        '\\uFF4F': 'o',\n        '\\u00F2': 'o',\n        '\\u00F3': 'o',\n        '\\u00F4': 'o',\n        '\\u1ED3': 'o',\n        '\\u1ED1': 'o',\n        '\\u1ED7': 'o',\n        '\\u1ED5': 'o',\n        '\\u00F5': 'o',\n        '\\u1E4D': 'o',\n        '\\u022D': 'o',\n        '\\u1E4F': 'o',\n        '\\u014D': 'o',\n        '\\u1E51': 'o',\n        '\\u1E53': 'o',\n        '\\u014F': 'o',\n        '\\u022F': 'o',\n        '\\u0231': 'o',\n        '\\u00F6': 'o',\n        '\\u022B': 'o',\n        '\\u1ECF': 'o',\n        '\\u0151': 'o',\n        '\\u01D2': 'o',\n        '\\u020D': 'o',\n        '\\u020F': 'o',\n        '\\u01A1': 'o',\n        '\\u1EDD': 'o',\n        '\\u1EDB': 'o',\n        '\\u1EE1': 'o',\n        '\\u1EDF': 'o',\n        '\\u1EE3': 'o',\n        '\\u1ECD': 'o',\n        '\\u1ED9': 'o',\n        '\\u01EB': 'o',\n        '\\u01ED': 'o',\n        '\\u00F8': 'o',\n        '\\u01FF': 'o',\n        '\\u0254': 'o',\n        '\\uA74B': 'o',\n        '\\uA74D': 'o',\n        '\\u0275': 'o',\n        '\\u01A3': 'oi',\n        '\\u0223': 'ou',\n        '\\uA74F': 'oo',\n        '\\u24DF': 'p',\n        '\\uFF50': 'p',\n        '\\u1E55': 'p',\n        '\\u1E57': 'p',\n        '\\u01A5': 'p',\n        '\\u1D7D': 'p',\n        '\\uA751': 'p',\n        '\\uA753': 'p',\n        '\\uA755': 'p',\n        '\\u24E0': 'q',\n        '\\uFF51': 'q',\n        '\\u024B': 'q',\n        '\\uA757': 'q',\n        '\\uA759': 'q',\n        '\\u24E1': 'r',\n        '\\uFF52': 'r',\n        '\\u0155': 'r',\n        '\\u1E59': 'r',\n        '\\u0159': 'r',\n        '\\u0211': 'r',\n        '\\u0213': 'r',\n        '\\u1E5B': 'r',\n        '\\u1E5D': 'r',\n        '\\u0157': 'r',\n        '\\u1E5F': 'r',\n        '\\u024D': 'r',\n        '\\u027D': 'r',\n        '\\uA75B': 'r',\n        '\\uA7A7': 'r',\n        '\\uA783': 'r',\n        '\\u24E2': 's',\n        '\\uFF53': 's',\n        '\\u00DF': 's',\n        '\\u015B': 's',\n        '\\u1E65': 's',\n        '\\u015D': 's',\n        '\\u1E61': 's',\n        '\\u0161': 's',\n        '\\u1E67': 's',\n        '\\u1E63': 's',\n        '\\u1E69': 's',\n        '\\u0219': 's',\n        '\\u015F': 's',\n        '\\u023F': 's',\n        '\\uA7A9': 's',\n        '\\uA785': 's',\n        '\\u1E9B': 's',\n        '\\u24E3': 't',\n        '\\uFF54': 't',\n        '\\u1E6B': 't',\n        '\\u1E97': 't',\n        '\\u0165': 't',\n        '\\u1E6D': 't',\n        '\\u021B': 't',\n        '\\u0163': 't',\n        '\\u1E71': 't',\n        '\\u1E6F': 't',\n        '\\u0167': 't',\n        '\\u01AD': 't',\n        '\\u0288': 't',\n        '\\u2C66': 't',\n        '\\uA787': 't',\n        '\\uA729': 'tz',\n        '\\u24E4': 'u',\n        '\\uFF55': 'u',\n        '\\u00F9': 'u',\n        '\\u00FA': 'u',\n        '\\u00FB': 'u',\n        '\\u0169': 'u',\n        '\\u1E79': 'u',\n        '\\u016B': 'u',\n        '\\u1E7B': 'u',\n        '\\u016D': 'u',\n        '\\u00FC': 'u',\n        '\\u01DC': 'u',\n        '\\u01D8': 'u',\n        '\\u01D6': 'u',\n        '\\u01DA': 'u',\n        '\\u1EE7': 'u',\n        '\\u016F': 'u',\n        '\\u0171': 'u',\n        '\\u01D4': 'u',\n        '\\u0215': 'u',\n        '\\u0217': 'u',\n        '\\u01B0': 'u',\n        '\\u1EEB': 'u',\n        '\\u1EE9': 'u',\n        '\\u1EEF': 'u',\n        '\\u1EED': 'u',\n        '\\u1EF1': 'u',\n        '\\u1EE5': 'u',\n        '\\u1E73': 'u',\n        '\\u0173': 'u',\n        '\\u1E77': 'u',\n        '\\u1E75': 'u',\n        '\\u0289': 'u',\n        '\\u24E5': 'v',\n        '\\uFF56': 'v',\n        '\\u1E7D': 'v',\n        '\\u1E7F': 'v',\n        '\\u028B': 'v',\n        '\\uA75F': 'v',\n        '\\u028C': 'v',\n        '\\uA761': 'vy',\n        '\\u24E6': 'w',\n        '\\uFF57': 'w',\n        '\\u1E81': 'w',\n        '\\u1E83': 'w',\n        '\\u0175': 'w',\n        '\\u1E87': 'w',\n        '\\u1E85': 'w',\n        '\\u1E98': 'w',\n        '\\u1E89': 'w',\n        '\\u2C73': 'w',\n        '\\u24E7': 'x',\n        '\\uFF58': 'x',\n        '\\u1E8B': 'x',\n        '\\u1E8D': 'x',\n        '\\u24E8': 'y',\n        '\\uFF59': 'y',\n        '\\u1EF3': 'y',\n        '\\u00FD': 'y',\n        '\\u0177': 'y',\n        '\\u1EF9': 'y',\n        '\\u0233': 'y',\n        '\\u1E8F': 'y',\n        '\\u00FF': 'y',\n        '\\u1EF7': 'y',\n        '\\u1E99': 'y',\n        '\\u1EF5': 'y',\n        '\\u01B4': 'y',\n        '\\u024F': 'y',\n        '\\u1EFF': 'y',\n        '\\u24E9': 'z',\n        '\\uFF5A': 'z',\n        '\\u017A': 'z',\n        '\\u1E91': 'z',\n        '\\u017C': 'z',\n        '\\u017E': 'z',\n        '\\u1E93': 'z',\n        '\\u1E95': 'z',\n        '\\u01B6': 'z',\n        '\\u0225': 'z',\n        '\\u0240': 'z',\n        '\\u2C6C': 'z',\n        '\\uA763': 'z',\n        '\\u0386': '\\u0391',\n        '\\u0388': '\\u0395',\n        '\\u0389': '\\u0397',\n        '\\u038A': '\\u0399',\n        '\\u03AA': '\\u0399',\n        '\\u038C': '\\u039F',\n        '\\u038E': '\\u03A5',\n        '\\u03AB': '\\u03A5',\n        '\\u038F': '\\u03A9',\n        '\\u03AC': '\\u03B1',\n        '\\u03AD': '\\u03B5',\n        '\\u03AE': '\\u03B7',\n        '\\u03AF': '\\u03B9',\n        '\\u03CA': '\\u03B9',\n        '\\u0390': '\\u03B9',\n        '\\u03CC': '\\u03BF',\n        '\\u03CD': '\\u03C5',\n        '\\u03CB': '\\u03C5',\n        '\\u03B0': '\\u03C5',\n        '\\u03C9': '\\u03C9',\n        '\\u03C2': '\\u03C3'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         * @param  {boolean} ignoreAccent?\n         */\n        equal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object' && jsonText !== null) {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object' && array[i] !== null) {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{(.)+:|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            var dupValue = value;\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                if (ms) {\n                    return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var arr = dupValue.split(/[^0-9]/);\n                    value = DataUtil.dateParse\n                        .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, true);\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), DataUtil.serverTimezoneOffset).toJSON();\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        }\n    };\n    /**\n     * @hidden\n     */\n    DataUtil.dateParse = {\n        addSelfOffset: function (input) {\n            return new Date(+input - (input.getTimezoneOffset() * 60000));\n        },\n        toUTC: function (input) {\n            return new Date(+input + (input.getTimezoneOffset() * 60000));\n        },\n        toTimeZone: function (input, offset, utc) {\n            if (offset === null) {\n                return input;\n            }\n            var unix = utc ? DataUtil.dateParse.toUTC(input) : input;\n            return new Date(+unix - (offset * 3600000));\n        },\n        toLocalTime: function (input) {\n            var datefn = input;\n            var timeZone = -datefn.getTimezoneOffset();\n            var differenceString = timeZone >= 0 ? '+' : '-';\n            var localtimefn = function (num) {\n                var norm = Math.floor(Math.abs(num));\n                return (norm < 10 ? '0' : '') + norm;\n            };\n            var val = datefn.getFullYear() + '-' + localtimefn(datefn.getMonth() + 1) + '-' + localtimefn(datefn.getDate()) +\n                'T' + localtimefn(datefn.getHours()) +\n                ':' + localtimefn(datefn.getMinutes()) +\n                ':' + localtimefn(datefn.getSeconds()) +\n                differenceString + localtimefn(timeZone / 60) +\n                ':' + localtimefn(timeZone % 60);\n            return val;\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    /**\n     * Constructor for Adaptor class\n     * @param  {DataOptions} ds?\n     * @hidden\n     * @returns aggregates\n     */\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        var deletedRecordsLen = changes.deletedRecords.length;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < deletedRecordsLen; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase, e.ignoreAccent)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key = value[keyField];\n        for (i = 0; i < ds.length; i++) {\n            if (ds[i][keyField] === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query));\n            var keys_1 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_2 = keys_1; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_3 = keys; _a < keys_3.length; _a++) {\n            var prop = keys_3[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.apply && query.distincts.length) {\n            req[options.apply] = 'onDistinct' in this ? DataUtil.callAdaptorFunction(this, 'onDistinct', query.distincts) : '';\n        }\n        if (!query.distincts.length && options.expand) {\n            req[options.expand] = 'onExpand' in this && 'onSelect' in singles ?\n                DataUtil.callAdaptorFunction(this, 'onExpand', { selects: DataUtil.getValue(singles.onSelect.fieldNames, query), expands: query.expands }, query) : query.expands;\n        }\n        req[options.select] = 'onSelect' in singles && !query.distincts.length ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data.groupDs;\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if ('count' in data) {\n            args.count = data.count;\n        }\n        args.result = data.result ? data.result : data;\n        this.getAggregateResult(pvt, data, args, groupDs, query);\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify(extend({}, {\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName, query) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: data,\n                table: tableName,\n                action: 'insert'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName, query) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName, query) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs, query) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        if (pvt && pvt.groups && pvt.groups.length) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                var groupQuery = Query.filterQueries(query.queries, 'onGroup')[i].e;\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs, groupQuery.comparer);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor(props) {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PUT'\n        });\n        _this.getModuleName = getValue('getModulename', _this);\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName)) {\n            if (this.getModuleName() === 'ODataV4Adaptor') {\n                operator = DataUtil.odv4UniOperator[predicate.operator];\n            }\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    ODataAdaptor.prototype.addParams = function (options) {\n        _super.prototype.addParams.call(this, options);\n        delete options.reqParams.params;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    ODataAdaptor.prototype.localTimeReplacer = function (key, convertObj) {\n        for (var _i = 0, _a = !isNullOrUndefined(convertObj) ? Object.keys(convertObj) : []; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((convertObj[prop] instanceof Date)) {\n                convertObj[prop] = DataUtil.dateParse.toLocalTime(convertObj[prop]);\n            }\n        }\n        return convertObj;\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data, this.options.localTime ? this.localTimeReplacer : null)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var url;\n        if (typeof value === 'string' && !DataUtil.parse.isGuid(value)) {\n            url = \"('\" + value + \"')\";\n        }\n        else {\n            url = \"(\" + value + \")\";\n        }\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + url\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName, query, original) {\n        if (this.options.updateType === 'PATCH' && !isNullOrUndefined(original)) {\n            value = this.compareAndRemove(value, original, keyField);\n        }\n        var url;\n        if (typeof value[keyField] === 'string' && !DataUtil.parse.isGuid(value[keyField])) {\n            url = \"('\" + value[keyField] + \"')\";\n        }\n        else {\n            url = \"(\" + value[keyField] + \")\";\n        }\n        return {\n            type: this.options.updateType,\n            url: dm.dataSource.url.replace(/\\/*$/, tableName ? '/' + tableName : '') + url,\n            data: JSON.stringify(value, this.options.localTime ? this.localTimeReplacer : null),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args);\n        req += this.generateUpdateRequest(changes.changedRecords, args, original ? original.changedRecords : []);\n        req += this.generateDeleteRequest(changes.deletedRecords, args);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e, org) {\n        var _this = this;\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        arr.forEach(function (change) { return change = _this.compareAndRemove(change, org.filter(function (o) { return DataUtil.getObject(e.key, o) === DataUtil.getObject(e.key, change); })[0], e.key); });\n        var stat = {\n            'method': this.options.updateType + ' ',\n            'url': function (data, i, key) { return '(' + data[i][key] + ')'; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            req += e.url + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n';\n            if (!isNullOrUndefined(arr[i]['@odata.etag'])) {\n                req += 'If-Match: ' + arr[i]['@odata.etag'] + '\\n\\n';\n                delete arr[i]['@odata.etag'];\n            }\n            else {\n                req += '\\n';\n            }\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    ODataAdaptor.prototype.compareAndRemove = function (data, original, key) {\n        var _this = this;\n        if (isNullOrUndefined(original)) {\n            return data;\n        }\n        Object.keys(data).forEach(function (prop) {\n            if (prop !== key && prop !== '@odata.etag') {\n                if (DataUtil.isPlainObject(data[prop])) {\n                    _this.compareAndRemove(data[prop], original[prop]);\n                    var final = Object.keys(data[prop]).filter(function (data) { return data !== '@odata.etag'; });\n                    if (final.length === 0) {\n                        delete data[prop];\n                    }\n                }\n                else if (data[prop] === original[prop]) {\n                    delete data[prop];\n                }\n                else if (data[prop] && original[prop] && data[prop].valueOf() === original[prop].valueOf()) {\n                    delete data[prop];\n                }\n            }\n        });\n        return data;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor(props) {\n        var _this = _super.call(this, props) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PATCH',\n            localTime: false,\n            apply: '$apply'\n        });\n        getValue('getModulename', _this.getModulename());\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModulename = function () {\n        return 'ODataV4Adaptor';\n    };\n    ;\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Returns the expand query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onExpand = function (e) {\n        var _this = this;\n        var selected = {};\n        var expanded = {};\n        var expands = e.expands.slice();\n        var exArr = [];\n        var selects = e.selects.filter(function (item) { return item.indexOf('.') > -1; });\n        selects.forEach(function (select) {\n            var splits = select.split('.');\n            if (!(splits[0] in selected)) {\n                selected[splits[0]] = [];\n            }\n            selected[splits[0]].push(splits[1]);\n        });\n        //Auto expand from select query\n        Object.keys(selected).forEach(function (expand) {\n            if ((expands.indexOf(expand) === -1)) {\n                expands.push(expand);\n            }\n        });\n        expands.forEach(function (expand) {\n            expanded[expand] = expand in selected ? expand + \"(\" + _this.options.select + \"=\" + selected[expand].join(',') + \")\" : expand;\n        });\n        Object.keys(expanded).forEach(function (ex) { return exArr.push(expanded[ex]); });\n        return exArr.join(',');\n    };\n    /**\n     * Returns the groupby query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onDistinct = function (distinctFields) {\n        var fields = distinctFields.map(function (field) { return ODataAdaptor.getField(field); }).join(',');\n        return \"groupby((\" + fields + \"))\";\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataV4Adaptor.prototype.onSelect = function (e) {\n        return _super.prototype.onSelect.call(this, e.filter(function (item) { return item.indexOf('.') === -1; }));\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (settings.type === 'POST' || settings.type === 'PUT' || settings.type === 'PATCH') {\n            request.setRequestHeader('Prefer', 'return=representation');\n        }\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = !isNullOrUndefined(data.value) ? data.value : data;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args, null, query);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        return _this;\n    }\n    RemoteSaveAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.updateType = 'add';\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: data,\n                table: tableName,\n                action: 'insert'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        _super.prototype.remove.call(this, dm, keyField, value);\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.updateType = 'update';\n        this.updateKey = keyField;\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify({\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: value[keyField],\n                table: tableName\n            })\n        };\n    };\n    RemoteSaveAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes, e) {\n        var i;\n        if (this.updateType === 'add') {\n            _super.prototype.insert.call(this, ds, data);\n        }\n        if (this.updateType === 'update') {\n            _super.prototype.update.call(this, ds, this.updateKey, data);\n        }\n        if (data.added) {\n            for (i = 0; i < data.added.length; i++) {\n                _super.prototype.insert.call(this, ds, data.added[i]);\n            }\n        }\n        if (data.changed) {\n            for (i = 0; i < data.changed.length; i++) {\n                _super.prototype.update.call(this, ds, e.key, data.changed[i]);\n            }\n        }\n        if (data.deleted) {\n            for (i = 0; i < data.deleted.length; i++) {\n                _super.prototype.remove.call(this, ds, e.key, data.deleted[i]);\n            }\n        }\n        return data;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify({\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            })\n        };\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor ? false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && (this.dataSource.url !== undefined && this.dataSource.url !== '')) {\n            var result = this.adaptor.processQuery(this, query);\n            this.makeRequest(result, deffered, args, query);\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        if (done || fail) {\n            deffered.promise.then(done, fail);\n        }\n        if (always) {\n            deffered.promise.then(always, always);\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        req = ajax.send();\n        req.catch(function (e) { return true; }); // to handle failure remote requests.        \n        this.requests.push(ajax);\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query, original) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query, original);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        var deff = new Deferred();\n        var ajax = new Ajax(req);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (data, request) {\n            deff.resolve(_this.adaptor.processResponse(DataUtil.parse.parseJson(data), _this, null, request.httpRequest, request, changes, args));\n        };\n        ajax.onFailure = function (e) {\n            deff.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.        \n        return deff.promise;\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        if (this.dataSource.offline) {\n            return req;\n        }\n        return this.doAjaxRequest(req);\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = value[keyField];\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query, original) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query, original);\n        if (this.dataSource.offline) {\n            return res;\n        }\n        return this.doAjaxRequest(res);\n    };\n    DataManager.prototype.doAjaxRequest = function (res) {\n        var _this = this;\n        var defer = new Deferred();\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        var ajax = new Ajax(res);\n        ajax.beforeSend = function () {\n            _this.beforeSend(ajax.httpRequest, ajax);\n        };\n        ajax.onSuccess = function (record, request) {\n            try {\n                DataUtil.parse.parseJson(record);\n            }\n            catch (e) {\n                record = [];\n            }\n            record = _this.adaptor.processResponse(DataUtil.parse.parseJson(record), _this, null, request.httpRequest, request);\n            defer.resolve(record);\n        };\n        ajax.onFailure = function (e) {\n            defer.reject([{ error: e }]);\n        };\n        ajax.send().catch(function (e) { return true; }); // to handle the failure requests.\n        return defer.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component } from '@syncfusion/ej2-base';\nimport { addClass, Event, detach, removeClass, rippleEffect, EventHandler } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     * @returns void\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (this.content) {\n            this.element.innerHTML = this.content;\n        }\n        this.setIconCss();\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n        this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    Button.prototype.destroy = function () {\n        var span;\n        var element = this.element;\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success', 'e-info', 'e-danger',\n            'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round', 'e-top-icon-btn', 'e-bottom-icon-btn']);\n        ['e-ripple', 'disabled'].forEach(function (value) {\n            element.removeAttribute(value);\n        });\n        if (this.content) {\n            element.innerHTML = element.innerHTML.replace(this.content, '');\n        }\n        span = element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n        this.removeRippleEffect();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @private\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     * @private\n     */\n    Button.Inject = function () {\n        // Inject code snippets\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {Button} newProp\n     * @param  {Button} oldProp\n     * @returns void\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    this.unWireEvents();\n                    break;\n                case 'iconCss':\n                    var span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        span.className = 'e-btn-icon ' + newProp.iconCss;\n                        if (this.element.textContent.trim()) {\n                            if (this.iconPosition === 'Left') {\n                                span.classList.add('e-icon-left');\n                            }\n                            else {\n                                span.classList.add('e-icon-right');\n                            }\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                case 'iconPosition':\n                    removeClass([this.element], ['e-top-icon-btn', 'e-bottom-icon-btn']);\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content':\n                    var node = getTextNode(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    this.element.innerHTML = newProp.content;\n                    this.setIconCss();\n                    break;\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property()\n    ], Button.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], Button.prototype, \"created\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        this.focusOutHandler();\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.element.checked, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            wrapper.parentNode.insertBefore(this.element, wrapper);\n            detach(wrapper);\n            this.element.checked = false;\n            if (this.indeterminate) {\n                this.element.indeterminate = false;\n            }\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                wrapper.removeAttribute(key);\n            });\n            wrapper.innerHTML = '';\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        return this.element.parentElement.parentElement;\n    };\n    CheckBox.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    CheckBox.prototype.labelMouseHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, rippleEffect, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { addClass, getInstance, getUniqueID, isRippleEnabled, removeClass } from '@syncfusion/ej2-base';\nimport { detach, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-radio-wrapper';\n/**\n * The RadioButton is a graphical user interface element that allows you to select one option from the choices.\n * It contains checked and unchecked states.\n * ```html\n * <input type=\"radio\" id=\"radio\"/>\n * <script>\n * var radioObj = new RadioButton({ label: \"Default\" });\n * radioObj.appendTo(\"#radio\");\n * </script>\n * ```\n */\nvar RadioButton = /** @class */ (function (_super) {\n    __extends(RadioButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @private\n     */\n    function RadioButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        return _this;\n    }\n    RadioButton_1 = RadioButton;\n    RadioButton.prototype.changeHandler = function (event) {\n        this.checked = true;\n        this.dataBind();\n        var changeEventArgs = { value: this.value, event: event };\n        this.trigger('change', changeEventArgs);\n    };\n    RadioButton.prototype.updateChange = function (state) {\n        var input;\n        var name = this.element.getAttribute('name');\n        var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n        for (var i = 0; i < radioGrp.length; i++) {\n            input = radioGrp[i];\n            if (input !== this.element) {\n                getInstance(input, RadioButton_1).checked = false;\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    RadioButton.prototype.destroy = function () {\n        var _this = this;\n        var radioWrap = this.element.parentElement;\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        if (this.tagName === 'INPUT') {\n            radioWrap.parentNode.insertBefore(this.element, radioWrap);\n            detach(radioWrap);\n            this.element.checked = false;\n            ['name', 'value', 'disabled'].forEach(function (key) {\n                _this.element.removeAttribute(key);\n            });\n        }\n        else {\n            ['role', 'aria-checked', 'class'].forEach(function (key) {\n                radioWrap.removeAttribute(key);\n            });\n            radioWrap.innerHTML = '';\n        }\n    };\n    RadioButton.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getLabel().classList.add('e-focus');\n        }\n    };\n    RadioButton.prototype.focusOutHandler = function () {\n        this.getLabel().classList.remove('e-focus');\n    };\n    RadioButton.prototype.getModuleName = function () {\n        return 'radio';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    RadioButton.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    RadioButton.prototype.getLabel = function () {\n        return this.element.nextElementSibling;\n    };\n    RadioButton.prototype.initialize = function () {\n        this.initWrapper();\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.element.checked = true;\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    RadioButton.prototype.initWrapper = function () {\n        var rippleSpan;\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        wrapper.appendChild(this.element);\n        wrapper.appendChild(label);\n        if (isRippleEnabled) {\n            rippleSpan = this.createElement('span', { className: (RIPPLE) });\n            label.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, {\n                duration: 400,\n                isCenterRipple: true\n            });\n        }\n        if (this.enableRtl) {\n            label.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([label], this.cssClass.split(' '));\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    RadioButton.prototype.keyDownHandler = function () {\n        this.isKeyPressed = true;\n    };\n    RadioButton.prototype.labelRippleHandler = function (e) {\n        var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, ripple);\n    };\n    RadioButton.prototype.mouseDownHandler = function () {\n        this.isKeyPressed = false;\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var label = this.getLabel();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    if (newProp.checked) {\n                        this.updateChange(newProp.checked);\n                    }\n                    this.element.checked = newProp.checked;\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([label], oldProp.cssClass.split(' '));\n                    }\n                    addClass([label], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        label.classList.add(RTL);\n                    }\n                    else {\n                        label.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    if (newProp.labelPosition === 'Before') {\n                        label.classList.add('e-right');\n                    }\n                    else {\n                        label.classList.remove('e-right');\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize checked Property, Angular and React and Unique ID support.\n     * @private\n     */\n    RadioButton.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-RADIOBUTTON', 'radio', element, WRAPPER, 'radio');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'radio') {\n            this.element.setAttribute('type', 'radio');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    RadioButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    RadioButton.prototype.setDisabled = function () {\n        this.element.disabled = true;\n    };\n    RadioButton.prototype.setText = function (text) {\n        var label = this.getLabel();\n        var textLabel = label.getElementsByClassName(LABEL)[0];\n        if (textLabel) {\n            textLabel.textContent = text;\n        }\n        else {\n            textLabel = this.createElement('span', { className: LABEL, innerHTML: text });\n            label.appendChild(textLabel);\n        }\n        if (this.labelPosition === 'Before') {\n            this.getLabel().classList.add('e-right');\n        }\n        else {\n            this.getLabel().classList.remove('e-right');\n        }\n    };\n    RadioButton.prototype.unWireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(document, 'keydown', this.keyDownHandler);\n        EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n            EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n        }\n    };\n    RadioButton.prototype.wireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n            EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n        }\n    };\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RadioButton.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"value\", void 0);\n    RadioButton = RadioButton_1 = __decorate([\n        NotifyPropertyChanges\n    ], RadioButton);\n    return RadioButton;\n    var RadioButton_1;\n}(Component));\nexport { RadioButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, isRippleEnabled, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { rippleMouseHandler, destroy, preRender } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-switch-disabled';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLE_CHECK = 'e-ripple-check';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-switch-wrapper';\nvar ACTIVE = 'e-switch-active';\n/**\n * The Switch is a graphical user interface element that allows you to toggle between checked and unchecked states.\n * ```html\n * <input type=\"checkbox\" id=\"switch\"/>\n * <script>\n * var switchObj = new Switch({});\n * switchObj.appendTo(\"#switch\");\n * </script>\n * ```\n */\nvar Switch = /** @class */ (function (_super) {\n    __extends(Switch, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function Switch(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isKeyPressed = false;\n        _this.isDrag = false;\n        return _this;\n    }\n    Switch.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var wrapper = this.getWrapper();\n        var bar = wrapper.querySelector('.e-switch-inner');\n        var handle = wrapper.querySelector('.e-switch-handle');\n        if (isRippleEnabled) {\n            rippleSpan = wrapper.getElementsByClassName(RIPPLE)[0];\n        }\n        if (state) {\n            addClass([bar, handle], ACTIVE);\n            ariaState = 'true';\n            this.element.checked = true;\n            this.checked = true;\n            if (rippleSpan) {\n                addClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        else {\n            removeClass([bar, handle], ACTIVE);\n            ariaState = 'false';\n            this.element.checked = false;\n            this.checked = false;\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLE_CHECK]);\n            }\n        }\n        wrapper.setAttribute('aria-checked', ariaState);\n    };\n    Switch.prototype.clickHandler = function (evt) {\n        this.isDrag = false;\n        this.focusOutHandler();\n        this.changeState(!this.checked);\n        this.element.focus();\n        var changeEventArgs = { checked: this.element.checked, event: evt };\n        this.trigger('change', changeEventArgs);\n    };\n    /**\n     * Destroys the Switch widget.\n     * @returns void\n     */\n    Switch.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n        destroy(this, this.getWrapper(), this.tagName);\n    };\n    Switch.prototype.focusHandler = function () {\n        if (this.isKeyPressed) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    Switch.prototype.focusOutHandler = function () {\n        this.getWrapper().classList.remove('e-focus');\n    };\n    /**\n     * Gets the module name.\n     * @private\n     */\n    Switch.prototype.getModuleName = function () {\n        return 'switch';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     * @private\n     */\n    Switch.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    Switch.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    Switch.prototype.initialize = function () {\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.changeState(true);\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n        if (this.onLabel || this.offLabel) {\n            this.setLabel(this.onLabel, this.offLabel);\n        }\n    };\n    Switch.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'switch', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var switchInner = this.createElement('span', { className: 'e-switch-inner' });\n        var onLabel = this.createElement('span', { className: 'e-switch-on' });\n        var offLabel = this.createElement('span', { className: 'e-switch-off' });\n        var handle = this.createElement('span', { className: 'e-switch-handle' });\n        wrapper.appendChild(this.element);\n        switchInner.appendChild(onLabel);\n        switchInner.appendChild(offLabel);\n        wrapper.appendChild(switchInner);\n        wrapper.appendChild(handle);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            handle.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     * @private\n     */\n    Switch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.changeState(newProp.checked);\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'value':\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'onLabel':\n                case 'offLabel':\n                    this.setLabel(newProp.onLabel, newProp.offLabel);\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    wrapper.classList.add(newProp.cssClass);\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     * @private\n     */\n    Switch.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        preRender(this, 'EJS-SWITCH', WRAPPER, element, this.getModuleName());\n    };\n    /**\n     * Initialize control rendering.\n     * @private\n     */\n    Switch.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    Switch.prototype.rippleHandler = function (e) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n        if (e.type === 'mousedown' && e.currentTarget.classList.contains('e-switch-wrapper') && e.which === 1) {\n            this.isDrag = true;\n            this.isKeyPressed = false;\n        }\n    };\n    Switch.prototype.rippleTouchHandler = function (eventType) {\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var event_1 = document.createEvent('MouseEvents');\n            event_1.initEvent(eventType, false, true);\n            rippleSpan.dispatchEvent(event_1);\n        }\n    };\n    Switch.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    Switch.prototype.setLabel = function (onText, offText) {\n        var wrapper = this.getWrapper();\n        if (onText) {\n            wrapper.querySelector('.e-switch-on').textContent = onText;\n        }\n        if (offText) {\n            wrapper.querySelector('.e-switch-off').textContent = offText;\n        }\n    };\n    Switch.prototype.switchFocusHandler = function () {\n        this.isKeyPressed = true;\n    };\n    Switch.prototype.switchMouseUp = function (e) {\n        var target = e.target;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (e.type === 'touchmove') {\n            e.preventDefault();\n        }\n        if (e.type === 'touchstart') {\n            this.isDrag = true;\n            this.rippleTouchHandler('mousedown');\n        }\n        if (this.isDrag) {\n            if ((e.type === 'mouseup' && target.className.indexOf('e-switch') < 0) || e.type === 'touchend') {\n                this.clickHandler(e);\n                this.rippleTouchHandler('mouseup');\n                e.preventDefault();\n            }\n        }\n    };\n    /**\n     * Toggle the Switch component state into checked/unchecked.\n     * @returns void\n     */\n    Switch.prototype.toggle = function () {\n        this.clickHandler();\n    };\n    Switch.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(document, 'mouseup', this.switchMouseUp, this);\n        EventHandler.add(document, 'keydown', this.switchFocusHandler, this);\n        EventHandler.add(wrapper, 'mousedown mouseup', this.rippleHandler, this);\n        EventHandler.add(wrapper, 'touchstart touchmove touchend', this.switchMouseUp, this);\n    };\n    Switch.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        var handle = wrapper.querySelector('.e-switch-handle');\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(document, 'mouseup', this.switchMouseUp);\n        EventHandler.remove(document, 'keydown', this.switchFocusHandler);\n        EventHandler.remove(wrapper, 'mousedown mouseup', this.rippleHandler);\n        EventHandler.remove(wrapper, 'touchstart touchmove touchend', this.switchMouseUp);\n    };\n    __decorate([\n        Event()\n    ], Switch.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Switch.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Switch.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"onLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"offLabel\", void 0);\n    __decorate([\n        Property('')\n    ], Switch.prototype, \"value\", void 0);\n    Switch = __decorate([\n        NotifyPropertyChanges\n    ], Switch);\n    return Switch;\n}(Component));\nexport { Switch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, formatUnit, isNullOrUndefined, append, detach } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, prepend, closest, remove } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, Property, Complex, Event } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { Animation, rippleEffect, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase, getFieldValues } from '../common/list-base';\n// Effect Configuration Effect[] =  [fromViewBackward,fromViewForward,toViewBackward,toviewForward];\nvar effectsConfig = {\n    'None': [],\n    'SlideLeft': ['SlideRightOut', 'SlideLeftOut', 'SlideLeftIn', 'SlideRightIn'],\n    'SlideDown': ['SlideTopOut', 'SlideBottomOut', 'SlideBottomIn', 'SlideTopIn'],\n    'Zoom': ['FadeOut', 'FadeZoomOut', 'FadeZoomIn', 'FadeIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\nvar effectsRTLConfig = {\n    'None': [],\n    'SlideLeft': ['SlideLeftOut', 'SlideRightOut', 'SlideRightIn', 'SlideLeftIn'],\n    'SlideDown': ['SlideBottomOut', 'SlideTopOut', 'SlideTopIn', 'SlideBottomIn'],\n    'Zoom': ['FadeZoomOut', 'FadeOut', 'FadeIn', 'FadeZoomIn'],\n    'Fade': ['FadeOut', 'FadeOut', 'FadeIn', 'FadeIn']\n};\n// don't use space in classnames.\nexport var classNames = {\n    root: 'e-listview',\n    hover: 'e-hover',\n    selected: 'e-active',\n    focused: 'e-focused',\n    parentItem: 'e-list-parent',\n    listItem: 'e-list-item',\n    listIcon: 'e-list-icon',\n    textContent: 'e-text-content',\n    listItemText: 'e-list-text',\n    groupListItem: 'e-list-group-item',\n    hasChild: 'e-has-child',\n    view: 'e-view',\n    header: 'e-list-header',\n    headerText: 'e-headertext',\n    headerTemplateText: 'e-headertemplate-text',\n    text: 'e-text',\n    disable: 'e-disabled',\n    content: 'e-content',\n    icon: 'e-icons',\n    backIcon: 'e-icon-back',\n    checkboxWrapper: 'e-checkbox-wrapper',\n    checkbox: 'e-checkbox',\n    checked: 'e-check',\n    checklist: 'e-checklist',\n    checkboxIcon: 'e-frame',\n    checkboxRight: 'e-checkbox-right',\n    checkboxLeft: 'e-checkbox-left',\n    listviewCheckbox: 'e-listview-checkbox',\n    itemCheckList: 'e-checklist'\n};\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('isVisible')\n    ], FieldSettings.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property('enabled')\n    ], FieldSettings.prototype, \"enabled\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('child')\n    ], FieldSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('groupBy')\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"sortBy\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('tableName')\n    ], FieldSettings.prototype, \"tableName\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Represents the EJ2 ListView control.\n * ```html\n * <div id=\"listview\">\n * <ul>\n * <li>Favourite</li>\n * <li>Documents</li>\n * <li>Downloads</li>\n * </ul>\n * </div>\n * ```\n * ```typescript\n *   var lvObj = new ListView({});\n *   lvObj.appendTo(\"#listview\");\n * ```\n */\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    /**\n     * Constructor for creating the widget\n     */\n    function ListView(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ListView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'htmlAttributes':\n                    this.setHTMLAttribute();\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'enable':\n                    this.setEnable();\n                    break;\n                case 'width':\n                case 'height':\n                    this.setSize();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'headerTitle':\n                    if (!this.curDSLevel.length) {\n                        this.header(this.headerTitle, false);\n                    }\n                    break;\n                case 'showHeader':\n                    this.header(this.headerTitle, false);\n                    break;\n                case 'enableVirtualization':\n                    detach(this.contentContainer);\n                    this.refresh();\n                    break;\n                case 'showCheckBox':\n                case 'checkBoxPosition':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.setCheckbox();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.reRender();\n                    }\n                    break;\n                case 'sortOrder':\n                case 'showIcon':\n                    if (this.enableVirtualization) {\n                        this.virtualizationModule.reRenderUiVirtualization();\n                    }\n                    else {\n                        this.listBaseOption.showIcon = this.showIcon;\n                        this.curViewDS = this.getSubDS();\n                        this.resetCurrentList();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    // Model Changes\n    ListView.prototype.setHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            attributes(this.element, this.htmlAttributes);\n        }\n    };\n    ListView.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' ').filter(function (css) { return css; }));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' ').filter(function (css) { return css; }));\n        }\n    };\n    ListView.prototype.setSize = function () {\n        this.element.style.height = formatUnit(this.height);\n        this.element.style.width = formatUnit(this.width);\n        this.isWindow = this.element.getBoundingClientRect().height ? false : true;\n    };\n    ListView.prototype.setEnable = function () {\n        this.enableElement(this.element, this.enable);\n    };\n    ListView.prototype.setEnableRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    ListView.prototype.enableElement = function (element, isEnabled) {\n        if (isEnabled) {\n            element.classList.remove(classNames.disable);\n        }\n        else {\n            element.classList.add(classNames.disable);\n        }\n    };\n    //Suport Component Functions\n    ListView.prototype.header = function (text, showBack) {\n        if (this.headerEle === undefined && this.showHeader) {\n            this.headerEle = this.createElement('div', { className: classNames.header });\n            var innerHeaderEle = this.createElement('span', { className: classNames.headerText, innerHTML: this.headerTitle });\n            var textEle = this.createElement('div', { className: classNames.text, innerHTML: innerHeaderEle.outerHTML });\n            var hedBackButton = this.createElement('div', {\n                className: classNames.icon + ' ' + classNames.backIcon + ' e-but-back',\n                attrs: { style: 'display:none;' }\n            });\n            this.headerEle.appendChild(hedBackButton);\n            this.headerEle.appendChild(textEle);\n            if (this.headerTemplate) {\n                var compiledString = compile(this.headerTemplate);\n                var headerTemplateEle = this.createElement('div', { className: classNames.headerTemplateText });\n                append(compiledString({}), headerTemplateEle);\n                append([headerTemplateEle], this.headerEle);\n            }\n            if (this.headerTemplate && this.headerTitle) {\n                textEle.classList.add('header');\n            }\n            this.element.classList.add('e-has-header');\n            prepend([this.headerEle], this.element);\n        }\n        else if (this.headerEle) {\n            if (this.showHeader) {\n                this.headerEle.style.display = '';\n                var textEle = this.headerEle.querySelector('.' + classNames.headerText);\n                var hedBackButton = this.headerEle.querySelector('.' + classNames.backIcon);\n                textEle.innerHTML = text;\n                if (this.headerTemplate && showBack) {\n                    textEle.parentElement.classList.remove('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('nested-header');\n                }\n                if (this.headerTemplate && !showBack) {\n                    textEle.parentElement.classList.add('header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.remove('nested-header');\n                    this.headerEle.querySelector('.' + classNames.headerTemplateText).classList.add('header');\n                }\n                if (showBack === true) {\n                    hedBackButton.style.display = '';\n                }\n                else {\n                    hedBackButton.style.display = 'none';\n                }\n            }\n            else {\n                this.headerEle.style.display = 'none';\n            }\n        }\n    };\n    // Animation Related Functions\n    ListView.prototype.switchView = function (fromView, toView, reverse) {\n        var _this = this;\n        if (fromView && toView) {\n            var fPos_1 = fromView.style.position;\n            var overflow_1 = (this.element.style.overflow !== 'hidden') ? this.element.style.overflow : '';\n            fromView.style.position = 'absolute';\n            fromView.classList.add('e-view');\n            var anim = void 0;\n            var duration = this.animation.duration;\n            if (this.animation.effect) {\n                anim = (this.enableRtl ? effectsRTLConfig[this.animation.effect] : effectsConfig[this.animation.effect]);\n            }\n            else {\n                var slideLeft = 'SlideLeft';\n                anim = effectsConfig[slideLeft];\n                reverse = this.enableRtl;\n                duration = 0;\n            }\n            this.element.style.overflow = 'hidden';\n            this.aniObj.animate(fromView, {\n                name: (reverse === true ? anim[0] : anim[1]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function (model) {\n                    fromView.style.display = 'none';\n                    _this.element.style.overflow = overflow_1;\n                    fromView.style.position = fPos_1;\n                    fromView.classList.remove('e-view');\n                }\n            });\n            toView.style.display = '';\n            this.aniObj.animate(toView, {\n                name: (reverse === true ? anim[2] : anim[3]),\n                duration: duration,\n                timingFunction: this.animation.easing,\n                end: function () {\n                    _this.trigger('actionComplete');\n                }\n            });\n            this.curUL = toView;\n        }\n    };\n    ListView.prototype.preRender = function () {\n        this.listBaseOption = {\n            template: this.template,\n            headerTemplate: this.headerTemplate,\n            groupTemplate: this.groupTemplate, expandCollapse: true, listClass: '',\n            ariaAttributes: {\n                itemRole: 'listitem', listRole: 'list', itemText: '',\n                groupItemRole: 'group', wrapperRole: 'presentation'\n            },\n            fields: this.fields.properties, sortOrder: this.sortOrder, showIcon: this.showIcon,\n            itemCreated: this.renderCheckbox.bind(this)\n        };\n        this.initialization();\n    };\n    ListView.prototype.initialization = function () {\n        this.curDSLevel = [];\n        this.animateOptions = {};\n        this.curViewDS = [];\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.selectedData = [];\n        this.selectedId = [];\n        this.aniObj = new Animation(this.animateOptions);\n    };\n    ListView.prototype.renderCheckbox = function (args) {\n        if (args.item.classList.contains(classNames.hasChild)) {\n            this.isNestedList = true;\n        }\n        if (this.showCheckBox && this.isValidLI(args.item)) {\n            var checkboxElement = void 0;\n            var fieldData = void 0;\n            checkboxElement = createCheckBox(this.createElement, false, {\n                checked: false, enableRtl: this.enableRtl,\n                cssClass: classNames.listviewCheckbox\n            });\n            checkboxElement.setAttribute('role', 'checkbox');\n            var frameElement_1 = checkboxElement.querySelector('.' + classNames.checkboxIcon);\n            args.item.classList.add(classNames.itemCheckList);\n            args.item.firstElementChild.classList.add(classNames.checkbox);\n            if (typeof this.dataSource[0] !== 'string' && typeof this.dataSource[0] !== 'number') {\n                fieldData = getFieldValues(args.curData, this.listBaseOption.fields);\n                if (fieldData[this.listBaseOption.fields.isChecked]) {\n                    this.checkInternally(args, checkboxElement);\n                }\n            }\n            else if (((typeof this.dataSource[0] === 'string' ||\n                typeof this.dataSource[0] === 'number') && this.selectedData.indexOf(args.text) !== -1)) {\n                this.checkInternally(args, checkboxElement);\n            }\n            checkboxElement.setAttribute('aria-checked', frameElement_1.classList.contains(classNames.checked) ? 'true' : 'false');\n            if (this.checkBoxPosition === 'Left') {\n                checkboxElement.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.classList.add(classNames.checkboxLeft);\n                args.item.firstElementChild.insertBefore(checkboxElement, args.item.firstElementChild.childNodes[0]);\n            }\n            else {\n                checkboxElement.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.classList.add(classNames.checkboxRight);\n                args.item.firstElementChild.appendChild(checkboxElement);\n            }\n            this.currentLiElements.push(args.item);\n        }\n    };\n    ListView.prototype.checkInternally = function (args, checkboxElement) {\n        args.item.classList.add(classNames.selected);\n        args.item.setAttribute('aria-selected', 'true');\n        checkboxElement.querySelector('.' + classNames.checkboxIcon).classList.add(classNames.checked);\n        checkboxElement.setAttribute('aria-checked', 'true');\n    };\n    /**\n     * It is used to check the checkbox of an item.\n     * @param  {Fields | HTMLElement | Element} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.checkItem = function (item) {\n        this.toggleCheckBase(item, true);\n    };\n    ListView.prototype.toggleCheckBase = function (item, checked) {\n        if (this.showCheckBox) {\n            var liElement = item;\n            if (item instanceof Object && item.constructor !== HTMLLIElement) {\n                liElement = this.getLiFromObjOrElement(item);\n            }\n            if (!isNullOrUndefined(liElement)) {\n                var checkboxIcon = liElement.querySelector('.' + classNames.checkboxIcon);\n                checked ? liElement.classList.add(classNames.selected) : liElement.classList.remove(classNames.selected);\n                liElement.setAttribute('aria-selected', checked ? 'true' : 'false');\n                checked ? checkboxIcon.classList.add(classNames.checked) : checkboxIcon.classList.remove(classNames.checked);\n                checkboxIcon.parentElement.setAttribute('aria-checked', checked ? 'true' : 'false');\n            }\n            this.setSelectedItemData(liElement);\n        }\n    };\n    /**\n     * It is used to uncheck the checkbox of an item.\n     * @param  {Fields | HTMLElement | Element} item - It accepts Fields or HTML list element as an argument.\n     */\n    ListView.prototype.uncheckItem = function (item) {\n        this.toggleCheckBase(item, false);\n    };\n    /**\n     * It is used to check all the items in ListView.\n     */\n    ListView.prototype.checkAllItems = function () {\n        this.toggleAllCheckBase(true);\n    };\n    /**\n     * It is used to un-check all the items in ListView.\n     */\n    ListView.prototype.uncheckAllItems = function () {\n        this.toggleAllCheckBase(false);\n    };\n    ListView.prototype.toggleAllCheckBase = function (checked) {\n        if (this.showCheckBox) {\n            for (var i = 0; i < this.liCollection.length; i++) {\n                var checkIcon = this.liCollection[i].querySelector('.' + classNames.checkboxIcon);\n                if (checkIcon) {\n                    if (checked) {\n                        if (!checkIcon.classList.contains(classNames.checked)) {\n                            this.checkItem(this.liCollection[i]);\n                        }\n                    }\n                    else {\n                        if (checkIcon.classList.contains(classNames.checked)) {\n                            this.uncheckItem(this.liCollection[i]);\n                        }\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.virtualizationModule.checkedItem(checked);\n            }\n        }\n    };\n    ListView.prototype.setCheckbox = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n            var args_1 = {\n                item: undefined, curData: undefined, dataSource: undefined, fields: undefined,\n                options: undefined, text: ''\n            };\n            liCollection.forEach(function (element) {\n                args_1.item = element;\n                args_1.curData = _this.getItemData(element);\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n                _this.renderCheckbox(args_1);\n                if (args_1.item.classList.contains(classNames.selected)) {\n                    _this.checkInternally(args_1, args_1.item.querySelector('.' + classNames.checkboxWrapper));\n                }\n            });\n        }\n        else {\n            var liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.itemCheckList));\n            liCollection.forEach(function (element) {\n                element.classList.remove(classNames.selected);\n                element.firstElementChild.classList.remove(classNames.checkbox);\n                _this.removeElement(element.querySelector('.' + classNames.checkboxWrapper));\n            });\n            if (this.selectedItems) {\n                this.selectedItems.item.classList.add(classNames.selected);\n            }\n        }\n    };\n    ListView.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        if (classList.contains(classNames.backIcon) || classList.contains(classNames.headerText)) {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n        else {\n            var li = closest(target.parentNode, '.' + classNames.listItem);\n            if (li === null) {\n                li = target;\n            }\n            this.removeFocus();\n            if (this.enable && this.showCheckBox && this.isValidLI(li)) {\n                if (e.target.classList.contains(classNames.checkboxIcon)) {\n                    li.classList.add(classNames.focused);\n                    if (isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                        var args = {\n                            curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                            text: undefined, item: li\n                        };\n                        this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n                    }\n                    else {\n                        this.uncheckItem(li);\n                        li.classList.add(classNames.focused);\n                    }\n                    if (e) {\n                        var eventArgs = this.selectEventData(li, e);\n                        var checkIcon = li.querySelector('.' + classNames.checkboxIcon);\n                        merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n                        this.trigger('select', eventArgs);\n                    }\n                }\n                else if (li.classList.contains(classNames.hasChild)) {\n                    this.removeHover();\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.setSelectLI(li, e);\n                    li.classList.remove(classNames.selected);\n                }\n                else {\n                    this.setCheckboxLI(li, e);\n                }\n            }\n            else {\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.removeElement = function (element) {\n        return element && element.parentNode && element.parentNode.removeChild(element);\n    };\n    ListView.prototype.hoverHandler = function (e) {\n        var curLi = closest(e.target.parentNode, '.' + classNames.listItem);\n        this.setHoverLI(curLi);\n    };\n    ListView.prototype.leaveHandler = function (e) {\n        this.removeHover();\n    };\n    ;\n    ListView.prototype.homeKeyHandler = function (e, end) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelectorAll('.' + classNames.listItem);\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused) ||\n                this.curUL.querySelector('.' + classNames.selected);\n            if (focusedElement) {\n                focusedElement.classList.remove(classNames.focused);\n                if (!this.showCheckBox) {\n                    focusedElement.classList.remove(classNames.selected);\n                }\n            }\n            var index = !end ? 0 : li.length - 1;\n            if (li[index].classList.contains(classNames.hasChild) || this.showCheckBox) {\n                li[index].classList.add(classNames.focused);\n            }\n            else {\n                this.setSelectLI(li[index], e);\n            }\n        }\n    };\n    ListView.prototype.onArrowKeyDown = function (e, prev) {\n        var siblingLI;\n        var li;\n        var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n        if (hasChild || this.showCheckBox) {\n            li = this.curUL.querySelector('.' + classNames.focused) || this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            if (!isNullOrUndefined(siblingLI)) {\n                if (li) {\n                    li.classList.remove(classNames.focused);\n                    if (!this.showCheckBox) {\n                        li.classList.remove(classNames.selected);\n                    }\n                }\n                if (siblingLI.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    siblingLI.classList.add(classNames.focused);\n                }\n                else {\n                    this.setSelectLI(siblingLI, e);\n                }\n            }\n        }\n        else {\n            li = this.curUL.querySelector('.' + classNames.selected);\n            siblingLI = ListBase.getSiblingLI(this.curUL.querySelectorAll('.' + classNames.listItem), li, prev);\n            this.setSelectLI(siblingLI, e);\n        }\n        return siblingLI;\n    };\n    ListView.prototype.arrowKeyHandler = function (e, prev) {\n        var _this = this;\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var siblingLI = this.onArrowKeyDown(e, prev);\n            var elementTop = this.element.getBoundingClientRect().top;\n            var elementHeight = this.element.getBoundingClientRect().height;\n            var firstItemBounds = this.curUL.querySelector('.' + classNames.listItem).getBoundingClientRect();\n            var heightDiff = void 0;\n            var groupItemBounds = void 0;\n            if (this.fields.groupBy) {\n                groupItemBounds = this.curUL.querySelector('.' + classNames.groupListItem).getBoundingClientRect();\n            }\n            if (siblingLI) {\n                var siblingTop = siblingLI.getBoundingClientRect().top;\n                var siblingHeight = siblingLI.getBoundingClientRect().height;\n                if (!prev) {\n                    var height = this.isWindow ? window.innerHeight : elementHeight;\n                    heightDiff = this.isWindow ? (siblingTop + siblingHeight) :\n                        ((siblingTop - elementTop) + siblingHeight);\n                    if (heightDiff > height) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + (heightDiff - height)) :\n                            this.element.scrollTo(0, this.element.scrollTop + (heightDiff - height));\n                    }\n                }\n                else {\n                    heightDiff = this.isWindow ? siblingTop : (siblingTop - elementTop);\n                    if (heightDiff < 0) {\n                        this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                            this.element.scrollTo(0, this.element.scrollTop + heightDiff);\n                    }\n                }\n            }\n            else if (this.enableVirtualization && prev && this.virtualizationModule.uiFirstIndex) {\n                this.onUIScrolled = function () {\n                    _this.onArrowKeyDown(e, prev);\n                    _this.onUIScrolled = undefined;\n                };\n                heightDiff = this.virtualizationModule.listItemHeight;\n                this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff) :\n                    this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n            }\n            else if (prev) {\n                if (this.showHeader && this.headerEle) {\n                    var topHeight = groupItemBounds ? groupItemBounds.top : firstItemBounds.top;\n                    var headerBounds = this.headerEle.getBoundingClientRect();\n                    heightDiff = headerBounds.top < 0 ? (headerBounds.height - topHeight) : 0;\n                    this.isWindow ? window.scrollTo(0, pageYOffset - heightDiff)\n                        : this.element.scrollTo(0, 0);\n                }\n                else if (this.fields.groupBy) {\n                    heightDiff = this.isWindow ? (groupItemBounds.top < 0 ? groupItemBounds.top : 0) :\n                        (elementTop - firstItemBounds.top) + groupItemBounds.height;\n                    this.isWindow ? window.scrollTo(0, pageYOffset + heightDiff) :\n                        this.element.scrollTo(0, this.element.scrollTop - heightDiff);\n                }\n            }\n        }\n    };\n    ListView.prototype.enterKeyHandler = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var hasChild = !isNullOrUndefined(this.curUL.querySelector('.' + classNames.hasChild)) ? true : false;\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (hasChild && li) {\n                li.classList.remove(classNames.focused);\n                if (this.showCheckBox) {\n                    this.removeSelect();\n                    this.removeSelect(li);\n                    this.removeHover();\n                }\n                this.setSelectLI(li, e);\n            }\n        }\n    };\n    ListView.prototype.spaceKeyHandler = function (e) {\n        if (this.enable && this.showCheckBox && Object.keys(this.dataSource).length && this.curUL) {\n            var li = this.curUL.querySelector('.' + classNames.focused);\n            if (!isNullOrUndefined(li) && isNullOrUndefined(li.querySelector('.' + classNames.checked))) {\n                var args = {\n                    curData: undefined, dataSource: undefined, fields: undefined, options: undefined,\n                    text: undefined, item: li\n                };\n                this.checkInternally(args, args.item.querySelector('.' + classNames.checkboxWrapper));\n            }\n            else {\n                this.uncheckItem(li);\n            }\n        }\n    };\n    ListView.prototype.keyActionHandler = function (e) {\n        e.preventDefault();\n        switch (e.keyCode) {\n            case 36:\n                this.homeKeyHandler(e);\n                break;\n            case 35:\n                this.homeKeyHandler(e, true);\n                break;\n            case 40:\n                this.arrowKeyHandler(e);\n                break;\n            case 38:\n                this.arrowKeyHandler(e, true);\n                break;\n            case 13:\n                this.enterKeyHandler(e);\n                break;\n            case 8:\n                if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                    this.uncheckAllItems();\n                }\n                this.back();\n                break;\n            case 9:\n                this.tabFocus(e);\n                break;\n            case 32:\n                this.spaceKeyHandler(e);\n                break;\n        }\n    };\n    ListView.prototype.swipeActionHandler = function (e) {\n        if (e.swipeDirection === 'Right') {\n            if (this.showCheckBox && this.curDSLevel[this.curDSLevel.length - 1]) {\n                this.uncheckAllItems();\n            }\n            this.back();\n        }\n    };\n    ListView.prototype.focusout = function () {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n            var activeElement = this.curUL.querySelector('[aria-selected = true]');\n            if (focusedElement && !this.showCheckBox) {\n                focusedElement.classList.remove(classNames.focused);\n                if (activeElement) {\n                    activeElement.classList.add(classNames.selected);\n                }\n            }\n        }\n    };\n    ListView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'keydown', this.keyActionHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.enableVirtualization) {\n            EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n            EventHandler.add(this.element, 'mouseout', this.leaveHandler, this);\n        }\n        EventHandler.add(this.element, 'focusout', this.focusout, this);\n        this.touchModule = new Touch(this.element, { swipe: this.swipeActionHandler.bind(this) });\n    };\n    ListView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!this.enableVirtualization) {\n            EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n            EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        }\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'mouseout', this.leaveHandler);\n        this.touchModule.destroy();\n    };\n    ListView.prototype.tabFocus = function (e) {\n        if (Object.keys(this.dataSource).length && this.curUL) {\n            var selectedList = this.curUL.querySelector('.' + classNames.selected);\n            if ((!selectedList && this.curUL) || this.showCheckBox) {\n                var li = this.curUL.querySelector('.' + classNames.listItem);\n                if (li.classList.contains(classNames.hasChild) || this.showCheckBox) {\n                    var focusedElement = this.curUL.querySelector('.' + classNames.focused);\n                    if (isNullOrUndefined(focusedElement)) {\n                        li.classList.add(classNames.focused);\n                    }\n                }\n                else {\n                    this.setSelectLI(li, e);\n                }\n            }\n        }\n    };\n    ListView.prototype.removeFocus = function () {\n        var focusedLI = this.element.querySelectorAll('.' + classNames.focused);\n        for (var _i = 0, focusedLI_1 = focusedLI; _i < focusedLI_1.length; _i++) {\n            var ele = focusedLI_1[_i];\n            ele.classList.remove(classNames.focused);\n        }\n    };\n    ListView.prototype.removeHover = function () {\n        var hoverLI = this.element.querySelector('.' + classNames.hover);\n        if (hoverLI) {\n            hoverLI.classList.remove(classNames.hover);\n        }\n    };\n    ListView.prototype.removeSelect = function (li) {\n        if (isNullOrUndefined(li)) {\n            var selectedLI = this.element.querySelectorAll('.' + classNames.selected);\n            for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n                var ele = selectedLI_1[_i];\n                if (this.showCheckBox && ele.querySelector('.' + classNames.checked)) {\n                    continue;\n                }\n                else {\n                    ele.setAttribute('aria-selected', 'false');\n                    ele.classList.remove(classNames.selected);\n                }\n            }\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n    };\n    ListView.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(classNames.listItem)\n            && !li.classList.contains(classNames.groupListItem)\n            && !li.classList.contains(classNames.disable));\n    };\n    ListView.prototype.setCheckboxLI = function (li, e) {\n        if (this.isValidLI(li) && this.enable && this.showCheckBox) {\n            if (this.curUL.querySelector('.' + classNames.focused)) {\n                this.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n            }\n            li.classList.add(classNames.focused);\n            var checkboxElement = li.querySelector('.' + classNames.checkboxWrapper);\n            var checkIcon = checkboxElement.querySelector('.' + classNames.checkboxIcon + '.' + classNames.icon);\n            this.removeHover();\n            if (!checkIcon.classList.contains(classNames.checked)) {\n                checkIcon.classList.add(classNames.checked);\n                li.classList.add(classNames.selected);\n                li.setAttribute('aria-selected', 'true');\n            }\n            else {\n                checkIcon.classList.remove(classNames.checked);\n                li.classList.remove(classNames.selected);\n                li.setAttribute('aria-selected', 'false');\n            }\n            checkboxElement.setAttribute('aria-checked', checkIcon.classList.contains(classNames.checked) ?\n                'true' : 'false');\n            var eventArgs = this.selectEventData(li, e);\n            merge(eventArgs, { isChecked: checkIcon.classList.contains(classNames.checked) });\n            if (this.enableVirtualization) {\n                this.virtualizationModule.setCheckboxLI(li, e);\n            }\n            this.trigger('select', eventArgs);\n            this.setSelectedItemData(li);\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.selectEventData = function (li, e) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        var selectedItem;\n        if (!isNullOrUndefined(data)\n            && typeof this.dataSource[0] === 'string' || typeof this.dataSource[0] === 'number') {\n            selectedItem = { item: li, text: li && li.innerText.trim(), data: this.dataSource };\n        }\n        else {\n            selectedItem = { item: li, text: fieldData && fieldData[this.listBaseOption.fields.text], data: data };\n        }\n        var eventArgs = {};\n        merge(eventArgs, selectedItem);\n        if (e) {\n            merge(eventArgs, { isInteracted: true, event: e, index: Array.prototype.indexOf.call(this.curUL.children, li) });\n        }\n        return eventArgs;\n    };\n    ListView.prototype.setSelectedItemData = function (li) {\n        var data = this.getItemData(li);\n        var fieldData = getFieldValues(data, this.listBaseOption.fields);\n        if (!isNullOrUndefined(data) && ((typeof this.dataSource[0] === 'string') ||\n            (typeof this.dataSource[0] === 'number'))) {\n            this.selectedItems = {\n                item: li,\n                text: li && li.innerText.trim(),\n                data: this.dataSource\n            };\n        }\n        else {\n            this.selectedItems = {\n                item: li,\n                text: fieldData && fieldData[this.listBaseOption.fields.text],\n                data: data\n            };\n        }\n    };\n    ListView.prototype.setSelectLI = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.selected) && this.enable) {\n            if (!this.showCheckBox) {\n                this.removeSelect();\n            }\n            li.classList.add(classNames.selected);\n            li.setAttribute('aria-selected', 'true');\n            this.removeHover();\n            this.setSelectedItemData(li);\n            if (this.enableVirtualization) {\n                this.virtualizationModule.setSelectLI(li, e);\n            }\n            var eventArgs = this.selectEventData(li, e);\n            this.trigger('select', eventArgs);\n            this.selectedLI = li;\n            this.renderSubList(li);\n        }\n    };\n    ListView.prototype.setHoverLI = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(classNames.hover) && this.enable) {\n            var lastLi = this.element.querySelectorAll('.' + classNames.hover);\n            if (lastLi && lastLi.length) {\n                removeClass(lastLi, classNames.hover);\n            }\n            if (!li.classList.contains(classNames.selected) || this.showCheckBox) {\n                li.classList.add(classNames.hover);\n            }\n        }\n    };\n    //Data Source Related Functions\n    ListView.prototype.getSubDS = function () {\n        var levelKeys = this.curDSLevel;\n        if (levelKeys.length) {\n            var ds = this.localData;\n            for (var _i = 0, levelKeys_1 = levelKeys; _i < levelKeys_1.length; _i++) {\n                var key = levelKeys_1[_i];\n                var field = {};\n                field[this.fields.id] = key;\n                this.curDSJSON = this.findItemFromDS(ds, field);\n                var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n                ds = this.curDSJSON ? fieldData[this.fields.child] : ds;\n            }\n            return ds;\n        }\n        return this.localData;\n    };\n    ListView.prototype.getItemData = function (li) {\n        var dataSource = this.dataSource instanceof DataManager ?\n            this.localData : this.dataSource;\n        var fields = this.getElementUID(li);\n        var curDS;\n        if (isNullOrUndefined(this.element.querySelector('.' + classNames.hasChild)) && this.fields.groupBy) {\n            curDS = this.curViewDS;\n        }\n        else {\n            curDS = dataSource;\n        }\n        return this.findItemFromDS(curDS, fields);\n    };\n    ListView.prototype.findItemFromDS = function (dataSource, fields, parent) {\n        var _this = this;\n        var resultJSON;\n        if (dataSource && dataSource.length && fields) {\n            dataSource.some(function (data) {\n                var fieldData = getFieldValues(data, _this.listBaseOption.fields);\n                //(!(fid) || id === fid) && (!(ftext) || text === ftext) && (!!fid || !!ftext)\n                if ((fields[_this.fields.id] || fields[_this.fields.text]) &&\n                    (!fields[_this.fields.id] || (!isNullOrUndefined(fieldData[_this.fields.id]) &&\n                        fieldData[_this.fields.id].toString()) === fields[_this.fields.id].toString()) &&\n                    (!fields[_this.fields.text] || fieldData[_this.fields.text] === fields[_this.fields.text])) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (typeof data !== 'object' && dataSource.indexOf(data) !== -1) {\n                    resultJSON = (parent ? dataSource : data);\n                }\n                else if (!isNullOrUndefined(fields[_this.fields.id]) && isNullOrUndefined(fieldData[_this.fields.id])) {\n                    var li = _this.element.querySelector('[data-uid=\"'\n                        + fields[_this.fields.id] + '\"]');\n                    if (li && li.innerText.trim() === fieldData[_this.fields.text]) {\n                        resultJSON = data;\n                    }\n                }\n                else if (fieldData.hasOwnProperty(_this.fields.child) && fieldData[_this.fields.child].length) {\n                    resultJSON = _this.findItemFromDS(fieldData[_this.fields.child], fields, parent);\n                }\n                return !!resultJSON;\n            });\n        }\n        else {\n            resultJSON = dataSource;\n        }\n        return resultJSON;\n    };\n    ListView.prototype.getQuery = function () {\n        var columns = [];\n        var query = (this.query ? this.query : new Query());\n        if (!this.query) {\n            for (var _i = 0, _a = Object.keys(this.fields.properties); _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (column !== 'tableName' && !!(this.fields[column]) &&\n                    this.fields[column] !==\n                        ListBase.defaultMappedFields[column]\n                    && columns.indexOf(this.fields[column]) === -1) {\n                    columns.push(this.fields[column]);\n                }\n            }\n            query.select(columns);\n            if (this.fields.properties.hasOwnProperty('tableName')) {\n                query.from(this.fields.tableName);\n            }\n        }\n        return query;\n    };\n    ListView.prototype.setViewDataSource = function (dataSource) {\n        if (dataSource === void 0) { dataSource = this.localData; }\n        if (dataSource && this.fields.groupBy) {\n            this.curViewDS = ListBase.groupDataSource(dataSource, this.listBaseOption.fields, this.sortOrder);\n        }\n        else if (dataSource && this.sortOrder !== 'None') {\n            this.curViewDS = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, this.fields.sortBy));\n        }\n        else {\n            this.curViewDS = dataSource;\n        }\n    };\n    ListView.prototype.isInAnimation = function () {\n        return this.curUL.classList.contains('.e-animate');\n    };\n    ListView.prototype.setLocalData = function () {\n        var _this = this;\n        this.trigger('actionBegin');\n        if (this.dataSource instanceof DataManager) {\n            this.dataSource.executeQuery(this.getQuery()).then(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.localData = e.result;\n                _this.renderList();\n                _this.trigger('actionComplete', e);\n            }).catch(function (e) {\n                if (_this.isDestroyed) {\n                    return;\n                }\n                _this.trigger('actionFailure', e);\n            });\n        }\n        else if (!this.dataSource || !this.dataSource.length) {\n            var ul = this.element.querySelector('ul');\n            if (ul) {\n                remove(ul);\n                this.setProperties({ dataSource: ListBase.createJsonFromElement(ul) }, true);\n                this.localData = this.dataSource;\n                this.renderList();\n                this.trigger('actionComplete', { data: this.localData });\n            }\n        }\n        else {\n            this.localData = this.dataSource;\n            this.renderList();\n            this.trigger('actionComplete', { data: this.localData });\n        }\n    };\n    ListView.prototype.reRender = function () {\n        this.element.innerHTML = '';\n        this.headerEle = this.ulElement = this.liCollection = undefined;\n        this.setLocalData();\n        this.header();\n    };\n    ListView.prototype.resetCurrentList = function () {\n        this.setViewDataSource(this.curViewDS);\n        this.contentContainer.innerHTML = '';\n        this.createList();\n        this.renderIntoDom(this.curUL);\n    };\n    ListView.prototype.createList = function () {\n        this.currentLiElements = [];\n        this.isNestedList = false;\n        this.ulElement = this.curUL = ListBase.createList(this.createElement, this.curViewDS, this.listBaseOption);\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n    };\n    ListView.prototype.renderSubList = function (li) {\n        var uID = li.getAttribute('data-uid');\n        if (li.classList.contains(classNames.hasChild) && uID) {\n            var ul = closest(li.parentNode, '.' + classNames.parentItem);\n            var ele = this.element.querySelector('[pid=\\'' + uID + '\\']');\n            this.curDSLevel.push(uID);\n            this.setViewDataSource(this.getSubDS());\n            if (!ele) {\n                var data = this.curViewDS;\n                ele = ListBase.createListFromJson(this.createElement, data, this.listBaseOption, this.curDSLevel.length);\n                ele.setAttribute('pID', uID);\n                ele.style.display = 'none';\n                this.renderIntoDom(ele);\n            }\n            this.switchView(ul, ele);\n            this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n            if (this.selectedItems) {\n                var fieldData = getFieldValues(this.selectedItems.data, this.listBaseOption.fields);\n                this.header((fieldData[this.listBaseOption.fields.text]), true);\n            }\n            this.selectedLI = undefined;\n        }\n    };\n    ListView.prototype.renderIntoDom = function (ele) {\n        this.contentContainer.appendChild(ele);\n    };\n    ListView.prototype.renderList = function (data) {\n        this.setViewDataSource(data);\n        if (this.enableVirtualization && Object.keys(this.dataSource).length) {\n            if ((this.template || this.groupTemplate) && !this.virtualizationModule.isNgTemplate()) {\n                this.listBaseOption.template = null;\n                this.listBaseOption.groupTemplate = null;\n                this.listBaseOption.itemCreated = this.virtualizationModule.createUIItem.bind(this.virtualizationModule);\n            }\n            this.virtualizationModule.uiVirtualization();\n        }\n        else {\n            this.createList();\n            this.contentContainer = this.createElement('div', { className: classNames.content });\n            this.element.appendChild(this.contentContainer);\n            this.renderIntoDom(this.ulElement);\n        }\n    };\n    ListView.prototype.getElementUID = function (obj) {\n        var fields = {};\n        if (obj instanceof Element) {\n            fields[this.fields.id] = obj.getAttribute('data-uid');\n        }\n        else {\n            fields = obj;\n        }\n        return fields;\n    };\n    /**\n     * It is used to Initialize the control rendering.\n     */\n    ListView.prototype.render = function () {\n        this.element.classList.add(classNames.root);\n        attributes(this.element, { role: 'list', tabindex: '0' });\n        this.setCSSClass();\n        this.setEnableRTL();\n        this.setEnable();\n        this.setSize();\n        this.wireEvents();\n        this.header();\n        this.setLocalData();\n        this.setHTMLAttribute();\n        this.rippleFn = rippleEffect(this.element, {\n            selector: '.' + classNames.listItem\n        });\n    };\n    /**\n     * It is used to destroy the ListView component.\n     */\n    ListView.prototype.destroy = function () {\n        this.unWireEvents();\n        var classAr = [classNames.root, classNames.disable, 'e-rtl',\n            'e-has-header', 'e-control'].concat(this.cssClass.split(' ').filter(function (css) { return css; }));\n        removeClass([this.element], classAr);\n        this.rippleFn();\n        this.element.removeAttribute('role');\n        this.element.removeAttribute('tabindex');\n        this.element.innerHTML = '';\n        this.curUL = this.ulElement = this.liCollection = this.headerEle = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * It helps to switch back from navigated sub list.\n     */\n    ListView.prototype.back = function () {\n        var pID = this.curDSLevel[this.curDSLevel.length - 1];\n        if (pID === undefined || this.isInAnimation()) {\n            return;\n        }\n        this.curDSLevel.pop();\n        this.setViewDataSource(this.getSubDS());\n        var toUL = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        var fromUL = this.curUL;\n        if (!toUL) {\n            this.createList();\n            this.renderIntoDom(this.ulElement);\n            toUL = this.curUL;\n        }\n        else {\n            toUL = toUL.parentElement;\n        }\n        var fieldData = getFieldValues(this.curDSJSON, this.listBaseOption.fields);\n        var text = fieldData[this.fields.text];\n        this.switchView(fromUL, toUL, true);\n        this.removeFocus();\n        var li = this.element.querySelector('[data-uid=\\'' + pID + '\\']');\n        li.classList.add(classNames.focused);\n        if (this.showCheckBox && li.querySelector('.' + classNames.checkboxIcon).classList.contains(classNames.checked)) {\n            li.setAttribute('aria-selected', 'true');\n        }\n        else {\n            li.classList.remove(classNames.selected);\n            li.setAttribute('aria-selected', 'false');\n        }\n        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n        this.header((this.curDSLevel.length ? text : this.headerTitle), (this.curDSLevel.length ? true : false));\n    };\n    /**\n     * It is used to select the list item from the ListView.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.selectItem = function (obj) {\n        if (this.enableVirtualization) {\n            this.virtualizationModule.selectItem(obj);\n        }\n        else if (this.showCheckBox) {\n            this.setCheckboxLI(this.getLiFromObjOrElement(obj));\n        }\n        else {\n            isNullOrUndefined(obj) ? this.removeSelect() : this.setSelectLI(this.getLiFromObjOrElement(obj));\n        }\n    };\n    ListView.prototype.getLiFromObjOrElement = function (obj) {\n        var li;\n        var dataSource = this.dataSource instanceof DataManager ?\n            this.localData : this.dataSource;\n        if (!isNullOrUndefined(obj)) {\n            if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                if (obj instanceof Element) {\n                    var uid = obj.getAttribute('data-uid').toString();\n                    for (var i = 0; i < this.liCollection.length; i++) {\n                        if (this.liCollection[i].getAttribute('data-uid').toString() === uid) {\n                            li = this.liCollection[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    Array.prototype.some.call(this.curUL.querySelectorAll('.' + classNames.listItem), function (item) {\n                        if (item.innerText.trim() === obj.toString()) {\n                            li = item;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n            }\n            else {\n                var resultJSON = this.getItemData(obj);\n                var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n                if (resultJSON) {\n                    li = this.element.querySelector('[data-uid=\"'\n                        + fieldData[this.fields.id] + '\"]');\n                    if (!this.enableVirtualization && isNullOrUndefined(li)) {\n                        var curLi = this.element.querySelectorAll('.' + classNames.listItem);\n                        for (var i = 0; i < curLi.length; i++) {\n                            if (curLi[i].innerText.trim() === fieldData[this.fields.text]) {\n                                li = curLi[i];\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return li;\n    };\n    /**\n     * It is used to select multiple list item from the ListView.\n     * @param  {Fields[] | HTMLElement[] | Element[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.selectMultipleItems = function (obj) {\n        if (!isNullOrUndefined(obj)) {\n            for (var i = 0; i < obj.length; i++) {\n                if (!isNullOrUndefined(obj[i])) {\n                    this.selectItem(obj[i]);\n                }\n            }\n        }\n    };\n    ListView.prototype.getParentId = function () {\n        var parentId = [];\n        if (this.isNestedList) {\n            for (var i = this.curDSLevel.length - 1; i >= 0; i--) {\n                parentId.push(this.curDSLevel[i]);\n            }\n        }\n        return parentId;\n    };\n    /**\n     * It is used to get the currently [here](./api-selectedItem.html)\n     *  item details from the list items.\n     */\n    ListView.prototype.getSelectedItems = function () {\n        this.selectedId = [];\n        var dataSource = this.dataSource instanceof DataManager ?\n            this.localData : this.dataSource;\n        if (this.enableVirtualization) {\n            return this.virtualizationModule.getSelectedItems();\n        }\n        else if (this.showCheckBox) {\n            var liCollection = this.curUL.getElementsByClassName(classNames.selected);\n            var liTextCollection = [];\n            var liDataCollection = [];\n            this.selectedId = [];\n            var dataParent = [];\n            for (var i = 0; i < liCollection.length; i++) {\n                if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                    liTextCollection.push(liCollection[i].innerText.trim());\n                }\n                else {\n                    var tempData = this.getItemData(liCollection[i]);\n                    var fieldData = getFieldValues(tempData, this.listBaseOption.fields);\n                    if (this.isNestedList) {\n                        dataParent.push({ data: tempData, parentId: this.getParentId() });\n                    }\n                    else {\n                        liDataCollection.push(tempData);\n                    }\n                    if (fieldData) {\n                        liTextCollection.push(fieldData[this.listBaseOption.fields.text]);\n                        this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    }\n                    else {\n                        liTextCollection.push(undefined);\n                        this.selectedId.push(undefined);\n                    }\n                }\n            }\n            if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                return { item: liCollection, data: dataSource, text: liTextCollection };\n            }\n            if (this.isNestedList) {\n                return { item: liCollection, data: dataParent, text: liTextCollection };\n            }\n            else {\n                return { item: liCollection, data: liDataCollection, text: liTextCollection };\n            }\n        }\n        else {\n            var liElement = this.element.getElementsByClassName(classNames.selected)[0];\n            var fieldData = getFieldValues(this.getItemData(liElement), this.listBaseOption.fields);\n            if (typeof dataSource[0] === 'string' || typeof dataSource[0] === 'number') {\n                return (!isNullOrUndefined(liElement)) ? {\n                    item: liElement, data: dataSource,\n                    text: liElement.innerText.trim()\n                } : undefined;\n            }\n            else {\n                if (isNullOrUndefined(fieldData) || isNullOrUndefined(liElement)) {\n                    return undefined;\n                }\n                else {\n                    this.selectedId.push(fieldData[this.listBaseOption.fields.id]);\n                    return {\n                        text: fieldData[this.listBaseOption.fields.text], item: liElement,\n                        data: this.getItemData(liElement)\n                    };\n                }\n            }\n        }\n    };\n    /**\n     * It is used to find out an item details from the current list.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.findItem = function (obj) {\n        return this.getItemData(obj);\n    };\n    /**\n     * A function that used to enable the disabled list items based on passed element.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.enableItem = function (obj) {\n        this.setItemState(obj, true);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.enableItem(obj);\n        }\n    };\n    /**\n     * It is used to disable the list items based on passed element.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.disableItem = function (obj) {\n        this.setItemState(obj, false);\n        if (this.enableVirtualization) {\n            this.virtualizationModule.disableItem(obj);\n        }\n    };\n    //A function that used to set state of the list item like enable, disable.\n    ListView.prototype.setItemState = function (obj, isEnable) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (isEnable) {\n                if (li) {\n                    li.classList.remove(classNames.disable);\n                }\n                delete resultJSON[this.fields.enabled];\n            }\n            else if (!isEnable) {\n                if (li) {\n                    li.classList.add(classNames.disable);\n                }\n                resultJSON[this.fields.enabled] = false;\n            }\n        }\n    };\n    /**\n     * It is used to show an list item from the ListView.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.showItem = function (obj) {\n        this.showHideItem(obj, false, '');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.showItem(obj);\n        }\n    };\n    /**\n     * It is used to hide an item from the ListView.\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.hideItem = function (obj) {\n        this.showHideItem(obj, true, 'none');\n        if (this.enableVirtualization) {\n            this.virtualizationModule.hideItem(obj);\n        }\n    };\n    ListView.prototype.showHideItem = function (obj, isHide, display) {\n        var resultJSON = this.getItemData(obj);\n        var fieldData = getFieldValues(resultJSON, this.listBaseOption.fields);\n        if (resultJSON) {\n            var li = this.element.querySelector('[data-uid=\"' + fieldData[this.fields.id] + '\"]');\n            if (li) {\n                li.style.display = display;\n            }\n            if (isHide) {\n                resultJSON[this.fields.isVisible] = false;\n            }\n            else {\n                delete resultJSON[this.fields.isVisible];\n            }\n        }\n    };\n    /**\n     * It adds new item to current ListView.\n     * To add a new item in the list view, we need to pass data as array or object and fields as object.\n     * For example fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {{[key:string]:Object}[]} data - Array JSON Data that need to add.\n     * @param  {Fields} fields - Fields as an Object with ID and Text fields.\n     */\n    ListView.prototype.addItem = function (data, fields) {\n        var _this = this;\n        if (fields === void 0) { fields = undefined; }\n        if (!(this.dataSource instanceof DataManager)) {\n            if (data instanceof Array) {\n                if (this.enableVirtualization) {\n                    this.virtualizationModule.addItem(data, fields);\n                }\n                else {\n                    var ds = this.findItemFromDS(this.dataSource, fields);\n                    var fieldData = getFieldValues(ds, this.listBaseOption.fields);\n                    var child = fieldData[this.fields.child];\n                    if (!child) {\n                        child = [];\n                    }\n                    child = child.concat(data);\n                    if (ds instanceof Array) {\n                        data.forEach(function (dataSource) {\n                            _this.dataSource.push(dataSource);\n                            _this.setViewDataSource(_this.dataSource);\n                            if (_this.ulElement) {\n                                var index = _this.curViewDS.indexOf(dataSource);\n                                _this.addListItem(dataSource, index);\n                                var curViewDS = _this.curViewDS[index - 1];\n                                if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                                    _this.addListItem(curViewDS, (index - 1));\n                                }\n                            }\n                            else {\n                                _this.reRender();\n                            }\n                        });\n                        this.liCollection = this.curUL.querySelectorAll('.' + classNames.listItem);\n                    }\n                    else {\n                        ds[this.fields.child] = child;\n                        this.reRender();\n                    }\n                }\n            }\n        }\n    };\n    ListView.prototype.addListItem = function (dataSource, index) {\n        var target = this.getLiFromObjOrElement(this.curViewDS[index + 1]) ||\n            this.getLiFromObjOrElement(this.curViewDS[index + 2]) || null;\n        var li = ListBase.createListItemFromJson(this.createElement, [dataSource], this.listBaseOption);\n        this.ulElement.insertBefore(li[0], target);\n    };\n    /**\n     * A function that removes the item from data source based on passed element like fields: { text: 'Name', tooltip: 'Name', id:'id'}\n     * @param  {Fields | HTMLElement | Element} obj - We can pass element Object or Fields as Object with ID and Text fields.\n     */\n    ListView.prototype.removeItem = function (obj) {\n        if (!(this.dataSource instanceof DataManager)) {\n            if (this.enableVirtualization) {\n                this.virtualizationModule.removeItem(obj);\n            }\n            else {\n                this.removeItemFromList(obj);\n            }\n        }\n    };\n    ListView.prototype.removeItemFromList = function (obj) {\n        var fields = obj instanceof Element ? this.getElementUID(obj) : obj;\n        var dataSource;\n        dataSource = this.findItemFromDS(this.dataSource, fields, true);\n        if (dataSource) {\n            var data = void 0;\n            data = this.findItemFromDS(dataSource, fields);\n            var index = this.curViewDS.indexOf(data);\n            var li = this.getLiFromObjOrElement(obj);\n            var groupLi = void 0;\n            if (this.fields.groupBy && this.curViewDS[index - 1] &&\n                this.curViewDS[index - 1].isHeader &&\n                (this.curViewDS[index - 1])\n                    .items.length === 1) {\n                if (li && li.previousElementSibling.classList.contains(classNames.groupListItem) &&\n                    (isNullOrUndefined(li.nextElementSibling) || (li.nextElementSibling &&\n                        li.nextElementSibling.classList.contains(classNames.groupListItem)))) {\n                    groupLi = li.previousElementSibling;\n                }\n            }\n            if (li) {\n                detach(li);\n            }\n            if (groupLi) {\n                detach(groupLi);\n            }\n            var dsIndex = dataSource.indexOf(data);\n            dataSource.splice(dsIndex, 1);\n            this.setViewDataSource(this.dataSource);\n            this.liCollection = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.listItem));\n        }\n    };\n    /**\n     * A function that removes multiple item from list view based on given input.\n     * @param  {Fields[] | HTMLElement[] | Element[]} obj - We can pass array of elements or array of field Object with ID and Text fields.\n     */\n    ListView.prototype.removeMultipleItems = function (obj) {\n        if (!(this.dataSource instanceof DataManager)) {\n            if (obj.length) {\n                for (var i = 0; i < obj.length; i++) {\n                    if (this.enableVirtualization) {\n                        this.removeItem(obj[i]);\n                    }\n                    else {\n                        this.removeItemFromList(obj[i]);\n                    }\n                }\n            }\n        }\n    };\n    // Module Required function\n    ListView.prototype.getModuleName = function () {\n        return 'listview';\n    };\n    ListView.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'virtualization' });\n        }\n        return modules;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    ListView.prototype.getPersistData = function () {\n        return this.addOnPersist(['cssClass', 'enableRtl', 'htmlAttributes',\n            'enable', 'fields', 'animation', 'headerTitle',\n            'sortOrder', 'showIcon', 'height', 'width', 'showCheckBox', 'checkBoxPosition']);\n    };\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property({})\n    ], ListView.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], ListView.prototype, \"enable\", void 0);\n    __decorate([\n        Property([])\n    ], ListView.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], ListView.prototype, \"query\", void 0);\n    __decorate([\n        Complex(ListBase.defaultMappedFields, FieldSettings)\n    ], ListView.prototype, \"fields\", void 0);\n    __decorate([\n        Property({ effect: 'SlideLeft', duration: 400, easing: 'ease' })\n    ], ListView.prototype, \"animation\", void 0);\n    __decorate([\n        Property('None')\n    ], ListView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property('Left')\n    ], ListView.prototype, \"checkBoxPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"headerTitle\", void 0);\n    __decorate([\n        Property(false)\n    ], ListView.prototype, \"showHeader\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], ListView.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"template\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ListView.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], ListView.prototype, \"actionFailure\", void 0);\n    ListView = __decorate([\n        NotifyPropertyChanges\n    ], ListView);\n    return ListView;\n}(Component));\nexport { ListView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        var classArray = [];\n        for (var j = 0; j < this.element.classList.length; j++) {\n            if (!isNullOrUndefined(this.element.classList[j].match('e-control')) ||\n                !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n                classArray.push(this.element.classList[j]);\n            }\n        }\n        removeClass([this.element], classArray);\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    ;\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide(event);\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        attributes(this.element, { role: 'dialog' });\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        this.setTargetContent();\n        if (this.header !== '' && !isNullOrUndefined(this.header)) {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        this.setContent();\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setFooterTemplate();\n        }\n        else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            this.setButton();\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function (event) {\n                _this.focusContent();\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target\n                };\n                _this.trigger('open', eventArgs);\n            },\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.isModal) {\n            this.setOverlayZindex();\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (typeof (this.position.X) === 'number' && typeof (this.position.Y) === 'number') {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        this.btnObj = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n            var btn = this.createElement('button', { attrs: { type: buttonType } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n            this.btnObj[i].element.classList.add('e-flat');\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            if (typeof (this.content) === 'string') {\n                this.contentEle.innerHTML = this.content;\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle);\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement) {\n        var templateFn = compile(template);\n        var fromElements = [];\n        for (var _i = 0, _a = templateFn({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            fromElements.push(item);\n        }\n        append([].slice.call(fromElements), toElement);\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setTargetContent = function () {\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                while (this.element.childNodes.length !== 0) {\n                    this.innerContentElement.appendChild(this.element.childNodes[0]);\n                }\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle);\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        this.setFooterTemplate();\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    this.calculatezIndex = false;\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                            this.ftrTemplateContent = null;\n                        }\n                        this.footerTemplate = '';\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            this.setIsModal();\n            this.element.style.top = '0px';\n            this.element.style.left = '0px';\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.targetEle.appendChild(this.dlgContainer);\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], SCROLL_DISABLED);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.btnObj)) {\n                for (var i = void 0; i < this.btnObj.length; i++) {\n                    this.btnObj[i].destroy();\n                }\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n            while (this.element.attributes.length > 0) {\n                this.element.removeAttribute(this.element.attributes[0].name);\n            }\n            for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n                this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n            }\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs = {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target\n            };\n            this.trigger('beforeOpen', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                removeClass([this.dlgOverlay], 'e-fade');\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            var zIndexElement = (this.isModal) ? this.element.parentElement : this.element;\n            if (this.calculatezIndex) {\n                this.setzIndex(zIndexElement, true);\n                setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n                if (this.isModal) {\n                    this.setOverlayZindex(this.zIndex);\n                }\n            }\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.visible = true;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            isInteraction: event ? true : false,\n            element: this.element,\n            target: this.target,\n            container: this.isModal ? this.dlgContainer : this.element,\n            event: event\n        };\n        this.trigger('beforeClose', eventArgs);\n        this.closeArgs = eventArgs;\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.isModal) {\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.visible = false;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     * @param { number } index - Index of the button.\n     * @return {Button}\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function alert(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function confirm(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        return options;\n    }\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n","import { classNames } from './list-view';\nimport { EventHandler, append, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { ListBase } from '../common/list-base';\nvar Virtualization = /** @class */ (function () {\n    function Virtualization(instance) {\n        this.listViewInstance = instance;\n    }\n    Virtualization.prototype.isNgTemplate = function () {\n        return !isNullOrUndefined(this.listViewInstance.templateRef) && typeof this.listViewInstance.templateRef !== 'string'\n            && isNullOrUndefined(this.listViewInstance.fields.groupBy);\n    };\n    Virtualization.prototype.uiVirtualization = function () {\n        var curViewDS = this.listViewInstance.curViewDS;\n        var firstDs = curViewDS.slice(0, 1);\n        this.listViewInstance.ulElement = this.listViewInstance.curUL = ListBase.createList(this.listViewInstance.createElement, firstDs, this.listViewInstance.listBaseOption);\n        this.listViewInstance.contentContainer = this.listViewInstance.createElement('div', { className: classNames.content });\n        this.listViewInstance.element.appendChild(this.listViewInstance.contentContainer);\n        this.listViewInstance.contentContainer.appendChild(this.listViewInstance.ulElement);\n        this.listItemHeight = this.listViewInstance.ulElement.firstElementChild.getBoundingClientRect().height;\n        this.expectedDomItemCount = this.ValidateItemCount(10000);\n        this.domItemCount = this.ValidateItemCount(Object.keys(this.listViewInstance.curViewDS).length);\n        this.uiFirstIndex = 0;\n        this.uiLastIndex = this.domItemCount - 1;\n        this.wireScrollEvent(false);\n        var otherDs = curViewDS.slice(1, this.domItemCount);\n        var listItems = ListBase.createListItemFromJson(this.listViewInstance.createElement, otherDs, this.listViewInstance.listBaseOption);\n        append(listItems, this.listViewInstance.ulElement);\n        this.listViewInstance.liCollection = this.listViewInstance.curUL.querySelectorAll('li');\n        this.topElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.topElement, this.listViewInstance.ulElement.firstElementChild);\n        this.bottomElement = this.listViewInstance.createElement('div');\n        this.listViewInstance.ulElement.insertBefore(this.bottomElement, null);\n        this.totalHeight = (Object.keys(curViewDS).length * this.listItemHeight) - (this.domItemCount * this.listItemHeight);\n        this.topElement.style.height = 0 + 'px';\n        this.bottomElement.style.height = this.totalHeight + 'px';\n        this.topElementHeight = 0;\n        this.bottomElementHeight = this.totalHeight;\n        this.listDiff = 0;\n        this.uiIndicesInitialization();\n    };\n    Virtualization.prototype.wireScrollEvent = function (destroy) {\n        if (!destroy) {\n            if (this.listViewInstance.isWindow) {\n                this.onVirtualScroll = this.onVirtualUiScroll.bind(this);\n                window.addEventListener('scroll', this.onVirtualScroll);\n            }\n            else {\n                EventHandler.add(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll, this);\n            }\n        }\n        else {\n            this.listViewInstance.isWindow ? window.removeEventListener('scroll', this.onVirtualScroll) :\n                EventHandler.remove(this.listViewInstance.element, 'scroll', this.onVirtualUiScroll);\n        }\n    };\n    Virtualization.prototype.ValidateItemCount = function (dataSourceLength) {\n        var itemCount = this.listViewInstance.isWindow ? Math.round((window.innerHeight / this.listItemHeight) * 3) :\n            Math.round((this.listViewInstance.height / this.listItemHeight) * 1.5);\n        if (itemCount > dataSourceLength) {\n            itemCount = dataSourceLength;\n        }\n        return itemCount;\n    };\n    Virtualization.prototype.uiIndicesInitialization = function () {\n        var _this = this;\n        this.uiIndices = { 'activeIndices': [], 'disabledItemIndices': [], 'hiddenItemIndices': [] };\n        this.listViewInstance.curViewDS.forEach(function (ds, index) {\n            if (_this.listViewInstance.showCheckBox && ds[_this.listViewInstance.fields.isChecked]) {\n                _this.uiIndices.activeIndices.push(index);\n            }\n            if (!isNullOrUndefined(ds[_this.listViewInstance.fields.enabled]) && !ds[_this.listViewInstance.fields.enabled]) {\n                _this.uiIndices.disabledItemIndices.push(index);\n            }\n        });\n        if (this.isNgTemplate()) {\n            Array.prototype.forEach.call(this.listViewInstance.element.querySelectorAll('.' + classNames.listItem), function (item, index) {\n                item.context = _this.listViewInstance.viewContainerRef._embeddedViews[index].context;\n            });\n        }\n    };\n    Virtualization.prototype.getscrollerHeight = function () {\n        return this.listViewInstance.isWindow ? (((pageYOffset - this.startingHeight) <= 0) ? 0 :\n            (pageYOffset - this.startingHeight)) : ((this.listViewInstance.element.scrollTop - this.startingHeight) <= 0) ? 0 :\n            (this.listViewInstance.element.scrollTop - this.startingHeight);\n    };\n    Virtualization.prototype.onVirtualUiScroll = function () {\n        if (isNullOrUndefined(this.startingHeight)) {\n            if (this.listViewInstance.isWindow) {\n                this.startingHeight = document.documentElement.getBoundingClientRect().height -\n                    this.listViewInstance.ulElement.getBoundingClientRect().height;\n            }\n            else {\n                this.startingHeight = this.listViewInstance.headerEle ? this.listViewInstance.headerEle.getBoundingClientRect().height : 0;\n            }\n            this.scrollPosition = 0;\n        }\n        var scroll = this.getscrollerHeight();\n        this.topElementHeight = this.listItemHeight * Math.floor(scroll / this.listItemHeight);\n        this.bottomElementHeight = this.totalHeight - this.topElementHeight;\n        _a = scroll <= this.totalHeight ?\n            [this.topElementHeight, this.bottomElementHeight] : [this.totalHeight, 0], this.topElementHeight = _a[0], this.bottomElementHeight = _a[1];\n        if (this.topElementHeight !== parseFloat(this.topElement.style.height)) {\n            this.topElement.style.height = this.topElementHeight + 'px';\n            this.bottomElement.style.height = this.bottomElementHeight + 'px';\n            if (scroll > this.scrollPosition) {\n                var listDiff = ((this.topElementHeight / this.listItemHeight) - this.listDiff);\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, true);\n                }\n                else {\n                    this.onNormalScroll(listDiff, true);\n                }\n            }\n            else {\n                var listDiff = (this.listDiff - (this.topElementHeight / this.listItemHeight));\n                if (listDiff > (this.expectedDomItemCount + 5)) {\n                    this.onLongScroll(listDiff, false);\n                }\n                else {\n                    this.onNormalScroll(listDiff, false);\n                }\n            }\n            this.listDiff = this.topElementHeight / this.listItemHeight;\n            if (typeof this.listViewInstance.onUIScrolled === 'function') {\n                this.listViewInstance.onUIScrolled();\n            }\n        }\n        this.scrollPosition = scroll;\n        var _a;\n    };\n    Virtualization.prototype.onLongScroll = function (listDiff, isScrollingDown) {\n        var _this = this;\n        var index = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n        Array.prototype.forEach.call(this.listViewInstance.ulElement.querySelectorAll('li'), function (element) {\n            _this.updateUI(element, index);\n            index++;\n        });\n        this.uiLastIndex = isScrollingDown ? (this.uiLastIndex + listDiff) : (this.uiLastIndex - listDiff);\n        this.uiFirstIndex = isScrollingDown ? (this.uiFirstIndex + listDiff) : (this.uiFirstIndex - listDiff);\n    };\n    Virtualization.prototype.onNormalScroll = function (listDiff, isScrollingDown) {\n        if (isScrollingDown) {\n            for (var i = 0; i < listDiff; i++) {\n                var index = ++this.uiLastIndex;\n                this.updateUI(this.topElement.nextElementSibling, index, this.bottomElement);\n                this.uiFirstIndex++;\n            }\n        }\n        else {\n            for (var i = 0; i < listDiff; i++) {\n                var index = --this.uiFirstIndex;\n                var target = this.topElement.nextSibling;\n                this.updateUI(this.bottomElement.previousElementSibling, index, target);\n                this.uiLastIndex--;\n            }\n        }\n    };\n    Virtualization.prototype.updateUiContent = function (element, index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n            typeof this.listViewInstance.dataSource[0] === 'number') {\n            element.dataset.uid = ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                this.listViewInstance.curViewDS[index].toString();\n        }\n        else {\n            element.dataset.uid = curViewDs[index][this.listViewInstance.fields.id] ?\n                curViewDs[index][this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            element.getElementsByClassName(classNames.listItemText)[0].innerHTML =\n                curViewDs[index][this.listViewInstance.fields.text].toString();\n        }\n        if (this.listViewInstance.showIcon) {\n            if (element.querySelector('.' + classNames.listIcon)) {\n                detach(element.querySelector('.' + classNames.listIcon));\n            }\n            if (this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]) {\n                var textContent = element.querySelector('.' + classNames.textContent);\n                var target = this.listViewInstance.createElement('div', {\n                    className: classNames.listIcon + ' ' +\n                        this.listViewInstance.curViewDS[index][this.listViewInstance.fields.iconCss]\n                });\n                textContent.insertBefore(target, element.querySelector('.' + classNames.listItemText));\n            }\n        }\n        if (this.listViewInstance.showCheckBox && this.listViewInstance.fields.groupBy) {\n            if (!this.checkListWrapper) {\n                this.checkListWrapper = this.listViewInstance.curUL.querySelector('.' + classNames.checkboxWrapper).cloneNode(true);\n            }\n            var textContent = element.querySelector('.' + classNames.textContent);\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.remove(classNames.checklist);\n                    textContent.classList.remove(classNames.checkbox);\n                    detach(element.querySelector('.' + classNames.checkboxWrapper));\n                }\n            }\n            else {\n                if (!element.querySelector('.' + classNames.checkboxWrapper)) {\n                    element.classList.add(classNames.checklist);\n                    textContent.classList.add(classNames.checkbox);\n                    textContent.insertBefore(this.checkListWrapper.cloneNode(true), element.querySelector('.' + classNames.listItemText));\n                }\n            }\n        }\n    };\n    Virtualization.prototype.changeElementAttributes = function (element, index) {\n        element.classList.remove(classNames.disable);\n        if (this.uiIndices.disabledItemIndices.length && this.uiIndices.disabledItemIndices.indexOf(index) !== -1) {\n            element.classList.add(classNames.disable);\n        }\n        element.style.display = '';\n        if (this.uiIndices.hiddenItemIndices.length && this.uiIndices.hiddenItemIndices.indexOf(index) !== -1) {\n            element.style.display = 'none';\n        }\n        if (this.listViewInstance.showCheckBox) {\n            var checklistElement = element.querySelector('.' + classNames.checkboxWrapper);\n            element.classList.remove(classNames.selected);\n            element.classList.remove(classNames.focused);\n            if (checklistElement) {\n                checklistElement.removeAttribute('aria-checked');\n                checklistElement.firstElementChild.classList.remove(classNames.checked);\n            }\n            if (this.uiIndices.activeIndices.length && this.uiIndices.activeIndices.indexOf(index) !== -1 &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                checklistElement.firstElementChild.classList.add(classNames.checked);\n                checklistElement.setAttribute('aria-checked', 'true');\n                if (this.activeIndex === index) {\n                    element.classList.add(classNames.focused);\n                }\n            }\n        }\n        else {\n            element.classList.remove(classNames.selected);\n            element.removeAttribute('aria-selected');\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex === index &&\n                !this.listViewInstance.curUL.querySelector(classNames.selected)) {\n                element.classList.add(classNames.selected);\n                element.setAttribute('aria-selected', 'true');\n            }\n        }\n        if (this.listViewInstance.fields.groupBy) {\n            if (this.listViewInstance.curViewDS[index].isHeader) {\n                if (element.classList.contains(classNames.listItem)) {\n                    element.classList.remove(classNames.listItem);\n                    element.setAttribute('role', 'group');\n                    element.classList.add(classNames.groupListItem);\n                }\n            }\n            else {\n                if (element.classList.contains(classNames.groupListItem)) {\n                    element.classList.remove(classNames.groupListItem);\n                    element.setAttribute('role', 'listitem');\n                    element.classList.add(classNames.listItem);\n                }\n            }\n        }\n    };\n    Virtualization.prototype.findDSAndIndexFromId = function (ds, fields) {\n        var _this = this;\n        var resultJSON = {};\n        fields = this.listViewInstance.getElementUID(fields);\n        if (!isNullOrUndefined(fields)) {\n            ds.some(function (data, index) {\n                if ((fields[_this.listViewInstance.fields.id] &&\n                    fields[_this.listViewInstance.fields.id].toString()\n                        === (data[_this.listViewInstance.fields.id] && data[_this.listViewInstance.fields.id].toString())) || fields === data) {\n                    resultJSON.index = index;\n                    resultJSON.data = data;\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            });\n        }\n        return resultJSON;\n    };\n    Virtualization.prototype.getSelectedItems = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.activeIndex) || (this.listViewInstance.showCheckBox && this.uiIndices.activeIndices.length)) {\n            var dataCollection_1 = [];\n            var textCollection_1 = [];\n            if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                typeof this.listViewInstance.dataSource[0] === 'number') {\n                var curViewDS_1 = this.listViewInstance.curViewDS;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        dataCollection_1.push(curViewDS_1[index]);\n                    });\n                    return {\n                        text: dataCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return _this.listViewInstance.dataSource.indexOf(curViewDS_1[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_1[this.activeIndex],\n                        data: curViewDS_1[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_1[this.activeIndex])\n                    };\n                }\n            }\n            else {\n                var curViewDS_2 = this.listViewInstance.curViewDS;\n                var text_1 = this.listViewInstance.fields.text;\n                if (this.listViewInstance.showCheckBox) {\n                    this.uiIndices.activeIndices.forEach(function (index) {\n                        textCollection_1.push(curViewDS_2[index][text_1]);\n                        dataCollection_1.push(curViewDS_2[index]);\n                    });\n                    return {\n                        text: textCollection_1,\n                        data: dataCollection_1,\n                        index: this.uiIndices.activeIndices.map(function (index) {\n                            return (_this.listViewInstance.dataSource).indexOf(curViewDS_2[index]);\n                        })\n                    };\n                }\n                else {\n                    return {\n                        text: curViewDS_2[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS_2[this.activeIndex],\n                        index: this.listViewInstance.dataSource.indexOf(curViewDS_2[this.activeIndex])\n                    };\n                }\n            }\n        }\n        else {\n            return undefined;\n        }\n    };\n    Virtualization.prototype.selectItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            var isSelected = this.activeIndex === resutJSON.index;\n            var isChecked = void 0;\n            this.activeIndex = resutJSON.index;\n            if (this.listViewInstance.showCheckBox) {\n                if (this.uiIndices.activeIndices.indexOf(resutJSON.index) === -1) {\n                    isChecked = true;\n                    this.uiIndices.activeIndices.push(resutJSON.index);\n                }\n                else {\n                    isChecked = false;\n                    this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(resutJSON.index), 1);\n                }\n                if (this.listViewInstance.curUL.querySelector('.' + classNames.focused)) {\n                    this.listViewInstance.curUL.querySelector('.' + classNames.focused).classList.remove(classNames.focused);\n                }\n            }\n            if (this.listViewInstance.getLiFromObjOrElement(obj)) {\n                if (this.listViewInstance.showCheckBox) {\n                    this.listViewInstance.setCheckboxLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n                else {\n                    this.listViewInstance.setSelectLI(this.listViewInstance.getLiFromObjOrElement(obj));\n                }\n            }\n            else {\n                var eventArgs = void 0;\n                if (typeof this.listViewInstance.dataSource[0] === 'string' ||\n                    typeof this.listViewInstance.dataSource[0] === 'number') {\n                    eventArgs = {\n                        text: this.listViewInstance.curViewDS[this.activeIndex],\n                        data: this.listViewInstance.curViewDS[this.activeIndex],\n                        index: this.activeIndex\n                    };\n                }\n                else {\n                    var curViewDS = this.listViewInstance.curViewDS;\n                    eventArgs = {\n                        text: curViewDS[this.activeIndex][this.listViewInstance.fields.text],\n                        data: curViewDS[this.activeIndex],\n                        index: this.activeIndex\n                    };\n                }\n                if (this.listViewInstance.showCheckBox) {\n                    eventArgs.isChecked = isChecked;\n                    this.listViewInstance.trigger('select', eventArgs);\n                }\n                else if (!isSelected) {\n                    this.listViewInstance.trigger('select', eventArgs);\n                }\n            }\n        }\n        else if (isNullOrUndefined(obj) && !this.listViewInstance.showCheckBox) {\n            this.listViewInstance.removeSelect();\n            this.activeIndex = undefined;\n        }\n    };\n    Virtualization.prototype.enableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.disableItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.disabledItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.disabledItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.showItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index), 1);\n        }\n    };\n    Virtualization.prototype.hideItem = function (obj) {\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length && this.uiIndices.hiddenItemIndices.indexOf(resutJSON.index) === -1) {\n            this.uiIndices.hiddenItemIndices.push(resutJSON.index);\n        }\n    };\n    Virtualization.prototype.removeItem = function (obj) {\n        var dataSource;\n        var resutJSON = this.findDSAndIndexFromId(this.listViewInstance.curViewDS, obj);\n        if (Object.keys(resutJSON).length) {\n            dataSource = resutJSON.data;\n            if (this.listViewInstance.curViewDS[resutJSON.index - 1] &&\n                this.listViewInstance.curViewDS[resutJSON.index - 1].isHeader &&\n                (this.listViewInstance.curViewDS[resutJSON.index - 1])\n                    .items.length === 1) {\n                this.removeUiItem(resutJSON.index - 1);\n                this.removeUiItem(resutJSON.index - 1);\n            }\n            else {\n                this.removeUiItem(resutJSON.index);\n            }\n        }\n        var index = this.listViewInstance.dataSource.indexOf(dataSource);\n        if (index !== -1) {\n            this.listViewInstance.dataSource.splice(index, 1);\n            this.listViewInstance.setViewDataSource(this.listViewInstance.dataSource);\n        }\n    };\n    Virtualization.prototype.setCheckboxLI = function (li, e) {\n        var index = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n        if (li.classList.contains(classNames.selected)) {\n            if (this.uiIndices.activeIndices.indexOf(index) === -1) {\n                this.uiIndices.activeIndices.push(index);\n            }\n        }\n        else {\n            this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n        }\n    };\n    Virtualization.prototype.setSelectLI = function (li, e) {\n        this.activeIndex = Array.prototype.indexOf.call(this.listViewInstance.curUL.querySelectorAll('li'), li) + this.uiFirstIndex;\n    };\n    Virtualization.prototype.checkedItem = function (checked) {\n        var _this = this;\n        if (checked) {\n            this.uiIndices.activeIndices = [];\n            this.activeIndex = undefined;\n            this.listViewInstance.curViewDS.forEach(function (ds, index) {\n                if (!ds.isHeader) {\n                    _this.uiIndices.activeIndices.push(index);\n                }\n            });\n        }\n        else {\n            this.activeIndex = undefined;\n            this.uiIndices.activeIndices = [];\n        }\n    };\n    Virtualization.prototype.addUiItem = function (index) {\n        var curViewDs = this.listViewInstance.curViewDS;\n        this.changeUiIndices(index, true);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex++;\n        }\n        if (this.listViewInstance.showCheckBox &&\n            curViewDs[index][this.listViewInstance.fields.isChecked]) {\n            this.uiIndices.activeIndices.push(index);\n        }\n        if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n            this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n        }\n        if (parseFloat(this.bottomElement.style.height)) {\n            var liItem = this.listViewInstance.curUL.lastElementChild.previousSibling;\n            var target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            if (target) {\n                this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) + this.listItemHeight + 'px';\n                this.updateUI(liItem, index, target);\n            }\n        }\n        else {\n            var liItem = this.listViewInstance.curUL.firstElementChild.nextSibling;\n            var target = void 0;\n            if ((Object.keys(this.listViewInstance.curViewDS).length - 1) === index) {\n                target = this.listViewInstance.curUL.lastElementChild;\n            }\n            else {\n                target = this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 1]) ||\n                    this.listViewInstance.getLiFromObjOrElement(curViewDs[index + 2]);\n            }\n            this.topElement.style.height = parseFloat(this.topElement.style.height) + this.listItemHeight + 'px';\n            this.uiFirstIndex++;\n            this.uiLastIndex++;\n            if (target) {\n                this.updateUI(liItem, index, target);\n                this.listViewInstance.isWindow ? window.scrollTo(0, (pageYOffset + this.listItemHeight)) :\n                    this.listViewInstance.element.scrollTop += this.listItemHeight;\n            }\n        }\n        this.totalHeight += this.listItemHeight;\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.removeUiItem = function (index) {\n        this.totalHeight -= this.listItemHeight;\n        var curViewDS = this.listViewInstance.curViewDS[index];\n        var liItem = this.listViewInstance.getLiFromObjOrElement(curViewDS);\n        this.listViewInstance.curViewDS.splice(index, 1);\n        if (this.activeIndex && this.activeIndex >= index) {\n            this.activeIndex--;\n        }\n        if (liItem) {\n            if (this.domItemCount > Object.keys(this.listViewInstance.curViewDS).length) {\n                detach(liItem);\n                this.domItemCount--;\n                this.uiLastIndex--;\n                this.totalHeight = 0;\n            }\n            else {\n                if (liItem.classList.contains(classNames.disable)) {\n                    liItem.classList.remove(classNames.disable);\n                    this.uiIndices.disabledItemIndices.splice(this.uiIndices.disabledItemIndices.indexOf(index), 1);\n                }\n                if (liItem.style.display === 'none') {\n                    liItem.style.display = '';\n                    this.uiIndices.hiddenItemIndices.splice(this.uiIndices.hiddenItemIndices.indexOf(index), 1);\n                }\n                if (this.listViewInstance.showCheckBox && liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.uiIndices.activeIndices.splice(this.uiIndices.activeIndices.indexOf(index), 1);\n                    var checklistElement = liItem.querySelector('.' + classNames.checkboxWrapper);\n                    checklistElement.removeAttribute('aria-checked');\n                    checklistElement.firstElementChild.classList.remove(classNames.checked);\n                    if (liItem.classList.contains(classNames.focused)) {\n                        liItem.classList.remove(classNames.focused);\n                        this.activeIndex = undefined;\n                    }\n                }\n                else if (liItem.classList.contains(classNames.selected)) {\n                    this.listViewInstance.removeSelect();\n                    this.activeIndex = undefined;\n                }\n                if (!parseFloat(this.bottomElement.style.height) && !parseFloat(this.topElement.style.height)) {\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else if (parseFloat(this.bottomElement.style.height)) {\n                    this.bottomElement.style.height = parseFloat(this.bottomElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, this.uiLastIndex, this.bottomElement);\n                }\n                else {\n                    this.topElement.style.height = parseFloat(this.topElement.style.height) - this.listItemHeight + 'px';\n                    this.updateUI(liItem, (this.uiFirstIndex - 1), this.topElement.nextSibling);\n                    this.uiLastIndex--;\n                    this.uiFirstIndex--;\n                }\n            }\n        }\n        this.changeUiIndices(index, false);\n        this.listDiff = parseFloat(this.topElement.style.height) / this.listItemHeight;\n    };\n    Virtualization.prototype.changeUiIndices = function (index, increment) {\n        var _this = this;\n        Object.keys(this.uiIndices).forEach(function (key) {\n            _this.uiIndices[key] = _this.uiIndices[key].map(function (i) {\n                if (i >= index) {\n                    return increment ? ++i : --i;\n                }\n                else {\n                    return i;\n                }\n            });\n        });\n    };\n    Virtualization.prototype.addItem = function (data, fields) {\n        var _this = this;\n        data.forEach(function (dataSource) {\n            _this.listViewInstance.dataSource.push(dataSource);\n            _this.listViewInstance.setViewDataSource(_this.listViewInstance.dataSource);\n            if (!_this.domItemCount) {\n                _this.uiVirtualization();\n            }\n            else if (_this.domItemCount < _this.expectedDomItemCount) {\n                _this.wireScrollEvent(true);\n                detach(_this.listViewInstance.contentContainer);\n                _this.uiVirtualization();\n            }\n            else {\n                var index = _this.listViewInstance.curViewDS.indexOf(dataSource);\n                _this.addUiItem(index);\n                var curViewDS = _this.listViewInstance.curViewDS[index - 1];\n                if (curViewDS && curViewDS.isHeader && curViewDS.items.length === 1) {\n                    _this.addUiItem(index - 1);\n                }\n            }\n        });\n    };\n    Virtualization.prototype.createUIItem = function (args) {\n        var template = this.listViewInstance.createElement('div');\n        var commonTemplate = '<div class=\"e-text-content\" role=\"presentation\"> ' +\n            '<span class=\"e-list-text\"> ${' + this.listViewInstance.fields.text + '} </span></div>';\n        template.innerHTML = this.listViewInstance.template || commonTemplate;\n        var templateElements = template.getElementsByTagName('*');\n        var groupTemplate = this.listViewInstance.createElement('div');\n        if (this.listViewInstance.fields.groupBy) {\n            groupTemplate.innerHTML = this.listViewInstance.groupTemplate || commonTemplate;\n        }\n        var groupTemplateElements = groupTemplate.getElementsByTagName('*');\n        if (args.curData.isHeader) {\n            this.headerData = args.curData;\n        }\n        this.templateData = args.curData.isHeader ? args.curData.items[0] :\n            args.curData;\n        args.item.innerHTML = '';\n        args.item.context = { data: args.curData, nodes: { flatTemplateNodes: [], groupTemplateNodes: [] } };\n        for (var i = 0; i < templateElements.length; i++) {\n            this.compileTemplate(templateElements[i], args.item, false);\n        }\n        for (var i = 0; i < groupTemplateElements.length; i++) {\n            this.compileTemplate(groupTemplateElements[i], args.item, true);\n        }\n        args.item.context.template = args.curData.isHeader ? template.firstElementChild :\n            groupTemplate.firstElementChild;\n        args.item.context.type = args.curData.isHeader ? 'flatList' : 'groupList';\n        var element = args.curData.isHeader ? groupTemplate : template;\n        args.item.insertBefore(element.firstElementChild, null);\n    };\n    Virtualization.prototype.compileTemplate = function (element, item, isHeader) {\n        this.textProperty(element, item, isHeader);\n        this.classProperty(element, item, isHeader);\n        this.attributeProperty(element, item, isHeader);\n    };\n    Virtualization.prototype.onChange = function (newData, listElement) {\n        listElement.context.data = newData;\n        var groupTemplateNodes = listElement.context.nodes.groupTemplateNodes;\n        var flatTemplateNodes = listElement.context.nodes.flatTemplateNodes;\n        if (!isNullOrUndefined(newData.isHeader) && newData.isHeader && listElement.context.type === 'groupList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'flatList';\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader && listElement.context.type === 'flatList') {\n            var element = listElement.firstElementChild;\n            detach(listElement.firstElementChild);\n            listElement.insertBefore(listElement.context.template, null);\n            listElement.context.template = element;\n            listElement.context.type = 'groupList';\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else if (!newData.isHeader) {\n            flatTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n        else {\n            groupTemplateNodes.forEach(function (node) { return node.onChange(newData); });\n        }\n    };\n    Virtualization.prototype.updateContextData = function (listElement, node, isHeader) {\n        if (isHeader) {\n            listElement.context.nodes.groupTemplateNodes.push(node);\n        }\n        else {\n            listElement.context.nodes.flatTemplateNodes.push(node);\n        }\n    };\n    Virtualization.prototype.classProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.className);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        if (resultantOutput && resultantOutput.length) {\n            resultantOutput.forEach(function (classNameMatch) {\n                var classFunction;\n                if (classNameMatch[1].indexOf('?') !== -1 && classNameMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + classNameMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    classFunction = new Function('data', 'return ' + 'data.' + classNameMatch[1]);\n                }\n                var subNode = {};\n                if (isHeader) {\n                    subNode.bindedvalue = classFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = classFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.classList.remove(subNode.bindedvalue);\n                    element.classList.add(classFunction(value));\n                    subNode.bindedvalue = classFunction(value);\n                };\n                classNameMatch[0].split(' ').forEach(function (className) {\n                    element.classList.remove(className);\n                });\n                element.classList.add(subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.attributeProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var attributeNames = [];\n        for (var i = 0; i < element.attributes.length; i++) {\n            attributeNames.push(element.attributes[i].nodeName);\n        }\n        if (attributeNames.indexOf('class') !== -1) {\n            attributeNames.splice(attributeNames.indexOf('class'), 1);\n        }\n        attributeNames.forEach(function (attributeName) {\n            var attrNameMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(attributeName) || [];\n            var attrValueMatch = new RegExp('\\\\${([^}]*)}', 'g').exec(element.getAttribute(attributeName))\n                || [];\n            var attributeNameFunction;\n            var attributeValueFunction;\n            if (attrNameMatch.length || attrValueMatch.length) {\n                if (attrNameMatch[1]) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    attributeNameFunction = new Function('data', 'return ' + 'data.' + attrNameMatch[1]);\n                }\n                if (attrValueMatch[1]) {\n                    if (attrValueMatch[1].indexOf('?') !== -1 && attrValueMatch[1].indexOf(':') !== -1) {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + attrValueMatch[1].replace(/\\$/g, 'data.'));\n                    }\n                    else {\n                        // tslint:disable-next-line:no-function-constructor-with-string-args\n                        attributeValueFunction = new Function('data', 'return ' + 'data.' + attrValueMatch[1]);\n                    }\n                }\n                var subNode_1 = {};\n                if (isHeader) {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.headerData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.headerData)];\n                }\n                else {\n                    subNode_1.bindedvalue = [attrNameMatch[1] === undefined ? undefined : attributeNameFunction(_this.templateData),\n                        attrValueMatch[1] === undefined ? undefined : attributeValueFunction(_this.templateData)];\n                }\n                subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ?\n                    attributeName : subNode_1.bindedvalue[0];\n                subNode_1.onChange = function (value) {\n                    var bindedvalue = subNode_1.bindedvalue[1] === undefined ?\n                        element.getAttribute(subNode_1.attrName) : attributeValueFunction(value);\n                    element.removeAttribute(subNode_1.attrName);\n                    subNode_1.attrName = subNode_1.bindedvalue[0] === undefined ? subNode_1.attrName : attributeNameFunction(value);\n                    element.setAttribute(subNode_1.attrName, bindedvalue);\n                    subNode_1.bindedvalue = [subNode_1.bindedvalue[0] === undefined ? undefined : attributeNameFunction(value),\n                        subNode_1.bindedvalue[1] === undefined ? undefined : attributeValueFunction(value)];\n                };\n                var attributeValue = subNode_1.bindedvalue[1] === undefined ? element.getAttribute(attributeName) :\n                    subNode_1.bindedvalue[1];\n                element.removeAttribute(attributeName);\n                element.setAttribute(subNode_1.attrName, attributeValue);\n                _this.updateContextData(listElement, subNode_1, isHeader);\n            }\n        });\n    };\n    Virtualization.prototype.textProperty = function (element, listElement, isHeader) {\n        var _this = this;\n        var regex = new RegExp('\\\\${([^}]*)}', 'g');\n        var resultantOutput = [];\n        var regexMatch;\n        while (regexMatch !== null) {\n            var match = regex.exec(element.innerText);\n            resultantOutput.push(match);\n            regexMatch = match;\n            if (regexMatch === null) {\n                resultantOutput.pop();\n            }\n        }\n        var isChildHasTextContent = Array.prototype.some.call(element.children, function (element) {\n            if (new RegExp('\\\\${([^}]*)}', 'g').exec(element.innerText)) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        });\n        if (resultantOutput && resultantOutput.length && !isChildHasTextContent) {\n            resultantOutput.forEach(function (textPropertyMatch) {\n                var subNode = {};\n                var textFunction;\n                if (textPropertyMatch[1].indexOf('?') !== -1 && textPropertyMatch[1].indexOf(':') !== -1) {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + textPropertyMatch[1].replace(/\\$/g, 'data.'));\n                }\n                else {\n                    // tslint:disable-next-line:no-function-constructor-with-string-args\n                    textFunction = new Function('data', 'return ' + 'data.' + textPropertyMatch[1]);\n                }\n                if (isHeader) {\n                    subNode.bindedvalue = textFunction(_this.headerData);\n                }\n                else {\n                    subNode.bindedvalue = textFunction(_this.templateData);\n                }\n                subNode.onChange = function (value) {\n                    element.innerText = element.innerText.replace(subNode.bindedvalue, textFunction(value));\n                    subNode.bindedvalue = textFunction(value);\n                };\n                element.innerText = element.innerText.replace(textPropertyMatch[0], subNode.bindedvalue);\n                _this.updateContextData(listElement, subNode, isHeader);\n            });\n        }\n    };\n    Virtualization.prototype.reRenderUiVirtualization = function () {\n        this.wireScrollEvent(true);\n        if (this.listViewInstance.contentContainer) {\n            detach(this.listViewInstance.contentContainer);\n        }\n        this.listViewInstance.preRender();\n        this.listViewInstance.localData = this.listViewInstance.dataSource;\n        this.listViewInstance.renderList();\n    };\n    Virtualization.prototype.updateUI = function (element, index, targetElement) {\n        var onChange = this.isNgTemplate() ? this.onNgChange : this.onChange;\n        if (this.listViewInstance.template || this.listViewInstance.groupTemplate) {\n            var curViewDS = this.listViewInstance.curViewDS[index];\n            element.dataset.uid = curViewDS[this.listViewInstance.fields.id] ?\n                curViewDS[this.listViewInstance.fields.id].toString() : ListBase.generateId();\n            onChange(curViewDS, element);\n        }\n        else {\n            this.updateUiContent(element, index);\n        }\n        this.changeElementAttributes(element, index);\n        if (targetElement) {\n            this.listViewInstance.ulElement.insertBefore(element, targetElement);\n        }\n    };\n    Virtualization.prototype.onNgChange = function (newData, listElement) {\n        listElement.context.$implicit = newData;\n    };\n    Virtualization.prototype.getModuleName = function () {\n        return 'virtualization';\n    };\n    Virtualization.prototype.destroy = function () {\n        this.wireScrollEvent(true);\n    };\n    return Virtualization;\n}());\nexport { Virtualization };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase, cssClass as ListBaseClasses } from '@syncfusion/ej2-lists';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: ListBaseClasses.li,\n    group: ListBaseClasses.group,\n    disabled: ListBaseClasses.disabled,\n    grouping: 'e-dd-group'\n};\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     */\n    function DropDownBase(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ;\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        var propName = new Function('prop', 'return prop');\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    ;\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    if (_this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && itemValue.toString() === value.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            this.list.innerHTML = '';\n            compiledString = compile(template);\n            for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.list.appendChild(item);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            this.list.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text;\n        text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = this.typeOfData(this.listData);\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseInt(value, 10);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return (value === 'true');\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (this.list) {\n            this.enableRtlElements.push(this.list);\n        }\n        this.enableRtl ? addClass(this.enableRtlElements, dropDownBaseClasses.rtl) :\n            removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n    };\n    ;\n    /**\n     * Initialize the Component.\n     */\n    DropDownBase.prototype.initialize = function () {\n        this.bindEvent = true;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query);\n        }\n    };\n    ;\n    /**\n     * Get the properties to be maintained in persisted state.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    ;\n    /**\n     * Sets the enabled state to DropDownBase.\n     */\n    DropDownBase.prototype.setEnabled = function () {\n        if (this.enabled) {\n            this.element.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            this.element.setAttribute('aria-disabled', 'true');\n        }\n    };\n    ;\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            var items = element.querySelectorAll('select>option');\n        }\n        this.fields.text = fields.text;\n        this.fields.value = fields.value;\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = option.getAttribute(fields.value) ? option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     * @private\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.trigger('actionBegin', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.showSpinner();\n        if (dataSource instanceof DataManager) {\n            this.isRequested = true;\n            if (this.isDataFetched) {\n                this.emptyDataRequest(fields);\n                return;\n            }\n            eventArgs.data.executeQuery(this.getQuery(eventArgs.query)).then(function (e) {\n                _this.trigger('actionComplete', e);\n                if (e.cancel) {\n                    return;\n                }\n                var listItems = e.result;\n                if (listItems.length === 0) {\n                    _this.isDataFetched = true;\n                }\n                ulElement = _this.renderItems(listItems, fields);\n                _this.onActionComplete(ulElement, listItems, e);\n                _this.isRequested = false;\n                _this.hideSpinner();\n                _this.trigger('dataBound', { items: listItems, e: e });\n            }).catch(function (e) {\n                _this.isRequested = false;\n                _this.onActionFailure(e);\n                _this.hideSpinner();\n            });\n        }\n        else {\n            var dataManager = new DataManager(eventArgs.data);\n            var listItems = void 0;\n            listItems = (this.getQuery(eventArgs.query)).executeLocal(dataManager);\n            var localDataArgs = { cancel: false, result: listItems };\n            this.trigger('actionComplete', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            ulElement = this.renderItems(localDataArgs.result, fields);\n            this.onActionComplete(ulElement, localDataArgs.result);\n            this.hideSpinner();\n            this.trigger('dataBound', { items: localDataArgs.result });\n        }\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.list], dropDownBaseClasses.noData);\n    };\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        this.listData = list;\n        this.list.innerHTML = '';\n        this.list.appendChild(ulElement);\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.postRender(this.list, list, this.bindEvent);\n    };\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            addClass([focusItem], dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n        if (this.groupTemplate) {\n            this.renderGroupTemplate(listElement);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    /**\n     * To render the template content for group header element.\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems);\n        }\n    };\n    /**\n     * To create the ul li list items\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource && fields.groupBy || this.element.querySelector('optgroup')) {\n            if (fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            addClass([this.list], dropDownBaseClasses.grouping);\n        }\n        else {\n            dataSource = this.getSortedDataSource(dataSource);\n        }\n        var options = this.listOption(dataSource, fields);\n        return ListBase.createList(this.createElement, dataSource, options, true);\n    };\n    ;\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    ;\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (isNullOrUndefined(this.fixedHeaderElement)) {\n            this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n            if (!this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                this.fixedHeaderElement.style.display = 'none';\n            }\n            prepend([this.fixedHeaderElement], this.list);\n            this.setFixedHeader();\n        }\n        if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n            this.setFixedHeader();\n        }\n        this.scrollStop(e);\n    };\n    DropDownBase.prototype.scrollStop = function (e) {\n        var target = e.target;\n        var liHeight = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.ulElement.querySelectorAll('li');\n        for (var i = topIndex; i > -1; i--) {\n            if (!isNullOrUndefined(liCollections[i]) && liCollections[i].classList.contains(dropDownBaseClasses.group)) {\n                var currentLi = liCollections[i];\n                this.fixedHeaderElement.innerHTML = currentLi.innerHTML;\n                this.fixedHeaderElement.style.top = e.target.scrollTop + 'px';\n                this.fixedHeaderElement.style.display = 'block';\n                break;\n            }\n            else {\n                this.fixedHeaderElement.style.display = 'none';\n                this.fixedHeaderElement.style.top = 'none';\n            }\n        }\n    };\n    /**\n     * To render the list items\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            ulElement = this.templateListItem(dataSource, fields);\n        }\n        else {\n            ulElement = this.createListItems(listData, fields);\n        }\n        return ulElement;\n    };\n    ;\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option);\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                return item = { typeof: typeof items[i], item: items[i] };\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        this.list.parentElement.style.display = 'block';\n        var liWidth = this.liCollections[0].offsetWidth;\n        this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    ;\n    /**\n     * To dispatch the event manually\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n    };\n    /**\n     * To set the current fields\n     */\n    DropDownBase.prototype.setFields = function () {\n        var fields = this.fields;\n        if (this.fields.value && !this.fields.text) {\n            this.fields.text = this.fields.value;\n        }\n        else if (!fields.value && fields.text) {\n            this.fields.value = this.fields.text;\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.fields.value = this.fields.text = 'text';\n        }\n    };\n    /**\n     * reset the items list.\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query) {\n        if (this.list) {\n            this.setListData(dataSource, fields, query);\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    DropDownBase.prototype.updateDataSource = function (props) {\n        this.resetList(this.dataSource);\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            this.updateDataSource(updateData);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     * @private\n     */\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    ;\n    /**\n     * Build and render the component\n     * @private\n     */\n    DropDownBase.prototype.render = function (isEmptyData) {\n        this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if (this.fields.groupBy || !isNullOrUndefined(group)) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        this.setEnabled();\n        if (!isEmptyData) {\n            this.initialize();\n        }\n    };\n    ;\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    ;\n    /**\n     * Gets all the list items bound on this component.\n     * @returns Element[].\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    ;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @return {void}.\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || this.list.textContent === this.noRecordsTemplate) {\n            this.renderList();\n        }\n        var itemsCount = this.getItems().length;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var li = this.createElement('li', { className: dropDownBaseClasses.li, id: 'option-add-' + i });\n            li.setAttribute('data-value', getValue(fields.value, item));\n            li.setAttribute('role', 'option');\n            li.appendChild(document.createTextNode(getValue(fields.text, item)));\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            this.listData.push(item);\n            this.updateActionCompleteData(li, item);\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            this.list.innerHTML = '';\n            this.list.appendChild(this.ulElement);\n            append(liCollections, this.ulElement);\n        }\n        else {\n            for (var i = 0; i < items.length; i++) {\n                if (this.liCollections[index]) {\n                    this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                }\n                else {\n                    this.ulElement.appendChild(liCollections[i]);\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n            }\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    DropDownBase.prototype.updateActionCompleteData = function (li, item) {\n        // this is for ComboBox custom value\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns Object.\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ;\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip Component\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n        var _a, _b;\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'none';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        this.tooltipEle.style.display = '';\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                var templateFunction = compile(this.content);\n                append(templateFunction(), tooltipContent);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = this.createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass.split(' '));\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(this.createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation, target);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation, target);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n            }\n            if (this.mouseTrail) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","import { createElement, attributes, addClass, removeClass, detach, classList, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     * @param args\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) && args.properties.showClearButton) {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons)) {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        inputObject = setPropertyValue(args, inputObject);\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        addClass([label], CLASSNAMES.LABELTOP);\n        if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n            removeClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if (parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputElement;\n        var floatLinelement;\n        var floatLabelElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerHTML = args.element.placeholder;\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerHTML = args.properties.placeholder;\n        }\n        if (!floatLabelElement.innerHTML) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        inputObject.container.appendChild(args.element);\n        inputObject.container.appendChild(floatLinelement);\n        inputObject.container.appendChild(floatLabelElement);\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label) {\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                removeClass([label], CLASSNAMES.LABELTOP);\n            }\n            addClass([label], CLASSNAMES.LABELBOTTOM);\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = element.parentNode;\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    function wireClearBtnEvents(element, button, container) {\n        button.addEventListener('click', function (event) {\n            if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                event.preventDefault();\n                if (element !== document.activeElement) {\n                    element.focus();\n                }\n                element.value = '';\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        });\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () { addClass([button], CLASSNAMES.CLEARICONHIDE); }, 200);\n        });\n    }\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     * @param value - Specify the value of the input element.\n     * @param element - The element on which the specified value is updated.\n     * @param floatLabelType - Specify the float label type of the input element.\n     * @param clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n            if (element.value && parentElement.classList.contains('e-input-focus')) {\n                removeClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n            else {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        }\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     * @param cssClass - Css class names which are needed to add.\n     * @param elements - The elements which are needed to add / remove classes.\n     * @param oldClass - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     * @param placeholder - Placeholder value which is need to add.\n     * @param element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        var parentElement;\n        parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     * @param isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     * @param isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     * @param isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            inputObject.clearButton.remove();\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     * @param attrs\n     *  - Array of attributes which are need to removed from the element.\n     * @param element\n     *  - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     * @param attrs\n     * - Array of attributes which is added to element.\n     * @param element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = void 0;\n            parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton) {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type, customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            if (isNullOrUndefined(iconEle)) {\n                iconEle = container.querySelector('.e-input-group-icon');\n            }\n            if (isNullOrUndefined(iconEle)) {\n                container.classList.remove(CLASSNAMES.INPUTGROUP);\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                container.insertBefore(input, iconEle);\n                container.insertBefore(floatLine, iconEle);\n                container.insertBefore(floatText, iconEle);\n            }\n        }\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     * @param isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param inputObject\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        var ele = this;\n        setTimeout(function () { ele.classList.remove('e-input-btn-ripple'); }, 500);\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     * @param iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        container.appendChild(button);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n})(Input || (Input = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    function NumericTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = { incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: '' };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.checkAttributes();\n        this.prevValue = this.value;\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            if (!isNullOrUndefined(this.width)) {\n                setStyleAttribute(this.container, { 'width': formatUnit(this.width) });\n            }\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ? null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function () {\n        var attributes = ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        var enabled = this.element.getAttribute(prop) === 'disabled' ||\n                            this.element.getAttribute(prop) === 'true' ? false : true;\n                        this.setProperties({ enabled: enabled }, true);\n                        break;\n                    case 'readonly':\n                        var readonly = this.element.getAttribute(prop) === 'readonly'\n                            || this.element.getAttribute(prop) === 'true' ? true : false;\n                        this.setProperties({ readonly: readonly }, true);\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                        if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                            this.setProperties(setValue(prop, value, {}), true);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'hidden', 'validateHidden': 'true' } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide'))) {\n            this.clear(e);\n        }\n    };\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var ignoreKeyCode = void 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.inputHandler = function (event) {\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n    };\n    ;\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    ;\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    ;\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var valueText = value.toString();\n        var stepText = step.toString();\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    ;\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    ;\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = void 0;\n            var decimalPart = value.toString().split('.')[1];\n            numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n            if (this.decimals !== null) {\n                numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n            }\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    ;\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = value;\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    ;\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals;\n        var currentValue = this.value;\n        var decimalPart = currentValue.toString().split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    ;\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    ;\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    ;\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    ;\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    ;\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusIn = function (event) {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                setTimeout(function () {\n                    _this.element.setSelectionRange(0, formatValue_1.length);\n                }, delay);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    ;\n    NumericTextBox.prototype.focusOut = function (event) {\n        var _this = this;\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var focusEvent = document.createEvent('FocusEvent');\n            focusEvent.initEvent('focusout', true, true);\n            element.dispatchEvent(focusEvent);\n        }\n    };\n    ;\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () { _this.isCalled = true; _this.action(action, event); }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target = document.elementFromPoint(event.clientX, event.clientY);\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        this.container.parentElement.appendChild(this.cloneElement);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var elementVal;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.container, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(newProp.cssClass, [this.container], oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    if (newProp.showSpinButton) {\n                        this.spinBtnCreation();\n                    }\n                    else {\n                        detach(this.spinUp);\n                        detach(this.spinDown);\n                    }\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.updateValue(newProp.value);\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    if (!isNullOrUndefined(this.spinDown)) {\n                        attributes(this.spinDown, {\n                            'title': this.l10n.getConstant('decrementTitle'),\n                            'aria-label': this.l10n.getConstant('decrementTitle')\n                        });\n                    }\n                    if (!isNullOrUndefined(this.spinUp)) {\n                        attributes(this.spinUp, {\n                            'title': this.l10n.getConstant('incrementTitle'),\n                            'aria-label': this.l10n.getConstant('incrementTitle')\n                        });\n                    }\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    var propVal = getValue(prop, newProp);\n                    this.setProperties({ currencyCode: propVal }, true);\n                    this.updateCurrency(prop, propVal);\n                    break;\n                case 'currencyCode':\n                    var propValue = getValue(prop, newProp);\n                    this.setProperties({ currency: propValue }, true);\n                    this.updateCurrency('currency', propValue);\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { selectAll, select, createElement, Base } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Event } from '@syncfusion/ej2-base';\n/**\n * global declarations\n */\nvar VALIDATE_EMAIL = new RegExp('^[A-Za-z0-9._%+-]{1,}@[a-zA-Z0-9]{1,}([.]{1}[a-zA-Z]{2,5}' +\n    '|[.]{1}[a-zA-Z]{2,4}[.]{1}[a-zA-Z]{2,4})$');\nvar VALIDATE_URL = new RegExp('^((ftp|http|https):\\/\\/)?www\\.([A-z]{2,})\\.([A-z]{2,})$');\nvar VALIDATE_DATE_ISO = new RegExp('^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$');\nvar VALIDATE_DIGITS = new RegExp('^[0-9]*$');\nvar VALIDATE_PHONE = new RegExp('^[+]?[0-9]{9,13}$');\nvar VALIDATE_CREDITCARD = new RegExp('^\\\\d{13,16}$');\n/**\n * ErrorOption values\n * @private\n */\nexport var ErrorOption;\n(function (ErrorOption) {\n    ErrorOption[ErrorOption[\"Message\"] = 0] = \"Message\";\n    ErrorOption[ErrorOption[\"Label\"] = 1] = \"Label\";\n})(ErrorOption || (ErrorOption = {}));\n/**\n * FormValidator class enables you to validate the form fields based on your defined rules\n * ```html\n * <form id='formId'>\n *  <input type='text' name='Name' />\n *  <input type='text' name='Age' />\n * </form>\n * <script>\n *   let formObject = new FormValidator('#formId', {\n *      rules: { Name: { required: true }, Age: { range: [18, 30] } };\n *   });\n *   formObject.validate();\n * </script>\n * ```\n */\nvar FormValidator = /** @class */ (function (_super) {\n    __extends(FormValidator, _super);\n    // Initializes the FormValidator \n    function FormValidator(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.validated = [];\n        _this.errorRules = [];\n        _this.allowSubmit = false;\n        _this.required = 'required';\n        _this.infoElement = null;\n        _this.inputElement = null;\n        _this.selectQuery = 'input:not([type=reset]):not([type=button]), select, textarea';\n        /**\n         * Specifies the default messages for validation rules.\n         * @default : { List of validation message };\n         */\n        _this.defaultMessages = {\n            required: 'This field is required.',\n            email: 'Please enter a valid email address.',\n            url: 'Please enter a valid URL.',\n            date: 'Please enter a valid date.',\n            dateIso: 'Please enter a valid date ( ISO ).',\n            creditcard: 'Please enter valid card number',\n            number: 'Please enter a valid number.',\n            digits: 'Please enter only digits.',\n            maxLength: 'Please enter no more than {0} characters.',\n            minLength: 'Please enter at least {0} characters.',\n            rangeLength: 'Please enter a value between {0} and {1} characters long.',\n            range: 'Please enter a value between {0} and {1}.',\n            max: 'Please enter a value less than or equal to {0}.',\n            min: 'Please enter a value greater than or equal to {0}.',\n            regex: 'Please enter a correct value.',\n            tel: 'Please enter a valid phone number.',\n            pattern: 'Please enter a correct pattern value.',\n            equalTo: 'Please enter the valid match text',\n        };\n        if (typeof _this.rules === 'undefined') {\n            _this.rules = {};\n        }\n        element = typeof element === 'string' ? select(element, document) : element;\n        // Set novalidate to prevent default HTML5 form validation\n        if (_this.element != null) {\n            _this.element.setAttribute('novalidate', '');\n            _this.inputElements = selectAll(_this.selectQuery, _this.element);\n            _this.createHTML5Rules();\n            _this.wireEvents();\n        }\n        else {\n            return undefined;\n        }\n        return _this;\n    }\n    FormValidator_1 = FormValidator;\n    /**\n     * Add validation rules to the corresponding input element based on `name` attribute.\n     * @param {string} name `name` of form field.\n     * @param {Object} rules Validation rules for the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.addRules = function (name, rules) {\n        if (name) {\n            if (this.rules.hasOwnProperty(name)) {\n                extend(this.rules[name], rules, {});\n            }\n            else {\n                this.rules[name] = rules;\n            }\n        }\n    };\n    /**\n     * Remove validation to the corresponding field based on name attribute.\n     * When no parameter is passed, remove all the validations in the form.\n     * @param {string} name Input name attribute value.\n     * @param {string[]} rules List of validation rules need to be remove from the corresponding element.\n     * @return {void}\n     */\n    FormValidator.prototype.removeRules = function (name, rules) {\n        if (!name && !rules) {\n            this.rules = {};\n        }\n        else if (this.rules[name] && !rules) {\n            delete this.rules[name];\n        }\n        else if (!isNullOrUndefined(this.rules[name] && rules)) {\n            for (var i = 0; i < rules.length; i++) {\n                delete this.rules[name][rules[i]];\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Validate the current form values using defined rules.\n     * Returns `true` when the form is valid otherwise `false`\n     * @param {string} selected - Optional parameter to validate specified element.\n     * @return {boolean}\n     */\n    FormValidator.prototype.validate = function (selected) {\n        var rules = Object.keys(this.rules);\n        if (selected && rules.length) {\n            this.validateRules(selected);\n            //filter the selected element it don't have any valid input element\n            return rules.indexOf(selected) !== -1 && this.errorRules.filter(function (data) {\n                return data.name === selected;\n            }).length === 0;\n        }\n        else {\n            this.errorRules = [];\n            for (var _i = 0, rules_1 = rules; _i < rules_1.length; _i++) {\n                var name_1 = rules_1[_i];\n                this.validateRules(name_1);\n            }\n            return this.errorRules.length === 0;\n        }\n    };\n    /**\n     * Reset the value of all the fields in form.\n     * @return {void}\n     */\n    FormValidator.prototype.reset = function () {\n        this.element.reset();\n        this.clearForm();\n    };\n    /**\n     * Get input element by name.\n     * @param {string} name - Input element name attribute value.\n     * @return {HTMLInputElement}\n     */\n    FormValidator.prototype.getInputElement = function (name) {\n        this.inputElement = (select('[name=' + name + ']', this.element));\n        return this.inputElement;\n    };\n    /**\n     * Destroy the form validator object and error elements.\n     * @return {void}\n     */\n    FormValidator.prototype.destroy = function () {\n        this.reset();\n        this.unwireEvents();\n        this.rules = {};\n        var elements = selectAll('.' + this.errorClass + ', .' + this.validClass, this.element);\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            element.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * @private\n     */\n    FormValidator.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    ;\n    /**\n     * @private\n     */\n    FormValidator.prototype.getModuleName = function () {\n        return 'formValidator';\n    };\n    FormValidator.prototype.clearForm = function () {\n        this.errorRules = [];\n        this.validated = [];\n        var elements = selectAll(this.selectQuery, this.element);\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var element = elements_2[_i];\n            var input = element;\n            input.removeAttribute('aria-invalid');\n            input.classList.remove(this.errorClass);\n            if (input.name.length > 0) {\n                this.getInputElement(input.name);\n                this.getErrorElement(input.name);\n                this.hideMessage(input.name);\n            }\n            input.classList.remove(this.validClass);\n        }\n    };\n    FormValidator.prototype.createHTML5Rules = function () {\n        var defRules = ['required', 'validateHidden', 'regex', 'rangeLength', 'maxLength', 'minLength', 'dateIso', 'digits',\n            'pattern', 'data-val-required', 'type', 'data-validation', 'min', 'max', 'range', 'equalTo', 'data-val-minlength-min',\n            'data-val-equalto-other', 'data-val-maxlength-max', 'data-val-range-min', 'data-val-regex-pattern', 'data-val-length-max',\n            'data-val-creditcard', 'data-val-phone'];\n        var acceptedTypes = ['hidden', 'email', 'url', 'date', 'number', 'tel'];\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            // Default attribute rules \n            var allRule = {};\n            for (var _b = 0, defRules_1 = defRules; _b < defRules_1.length; _b++) {\n                var rule = defRules_1[_b];\n                if (input.getAttribute(rule) !== null) {\n                    switch (rule) {\n                        case 'required':\n                            this.defRule(input, allRule, rule, input.required);\n                            break;\n                        case 'data-validation':\n                            rule = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, true);\n                            break;\n                        case 'type':\n                            if (acceptedTypes.indexOf(input.type) !== -1) {\n                                this.defRule(input, allRule, input.type, true);\n                            }\n                            break;\n                        case 'rangeLength':\n                        case 'range':\n                            this.defRule(input, allRule, rule, JSON.parse(input.getAttribute(rule)));\n                            break;\n                        case 'equalTo':\n                            var id = input.getAttribute(rule);\n                            this.defRule(input, allRule, rule, id);\n                            break;\n                        default:\n                            if (input.getAttribute('data-val') === 'true') {\n                                this.annotationRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                            else {\n                                this.defRule(input, allRule, rule, input.getAttribute(rule));\n                            }\n                    }\n                }\n            }\n            //adding pattern type validation\n            if (Object.keys(allRule).length !== 0) {\n                this.addRules(input.name, allRule);\n            }\n        }\n    };\n    FormValidator.prototype.annotationRule = function (input, ruleCon, ruleName, value) {\n        var annotationRule = ruleName.split('-');\n        var rulesList = ['required', 'creditcard', 'phone', 'maxlength', 'minlength', 'range', 'regex', 'equalto'];\n        var ruleFirstName = annotationRule[annotationRule.length - 1];\n        var ruleSecondName = annotationRule[annotationRule.length - 2];\n        if (rulesList.indexOf(ruleFirstName) !== -1) {\n            switch (ruleFirstName) {\n                case 'required':\n                    this.defRule(input, ruleCon, 'required', value);\n                    break;\n                case 'creditcard':\n                    this.defRule(input, ruleCon, 'creditcard', value);\n                    break;\n                case 'phone':\n                    this.defRule(input, ruleCon, 'tel', value);\n                    break;\n            }\n        }\n        else if (rulesList.indexOf(ruleSecondName) !== -1) {\n            switch (ruleSecondName) {\n                case 'maxlength':\n                    this.defRule(input, ruleCon, 'maxLength', value);\n                    break;\n                case 'minlength':\n                    this.defRule(input, ruleCon, 'minLength', value);\n                    break;\n                case 'range':\n                    var minvalue = input.getAttribute('data-val-range-min');\n                    var maxvalue = input.getAttribute('data-val-range-max');\n                    this.defRule(input, ruleCon, 'range', [minvalue, maxvalue]);\n                    break;\n                case 'equalto':\n                    var id = input.getAttribute(ruleName).split('.');\n                    this.defRule(input, ruleCon, 'equalTo', id[id.length - 1]);\n                    break;\n                case 'regex':\n                    this.defRule(input, ruleCon, 'regex', value);\n                    break;\n            }\n        }\n    };\n    FormValidator.prototype.defRule = function (input, ruleCon, ruleName, value) {\n        var message = input.getAttribute('data-' + ruleName + '-message');\n        var annotationMessage = input.getAttribute('data-val-' + ruleName);\n        if (message) {\n            value = [value, message];\n        }\n        else if (annotationMessage) {\n            value = [value, annotationMessage];\n        }\n        ruleCon[ruleName] = value;\n    };\n    // Wire events to the form elements\n    FormValidator.prototype.wireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            if (FormValidator_1.isCheckable(input)) {\n                EventHandler.add(input, 'click', this.clickHandler, this);\n            }\n            else if (input.tagName === 'SELECT') {\n                EventHandler.add(input, 'change', this.changeHandler, this);\n            }\n            else {\n                EventHandler.add(input, 'focusout', this.focusOutHandler, this);\n                EventHandler.add(input, 'keyup', this.keyUpHandler, this);\n            }\n        }\n        EventHandler.add(this.element, 'submit', this.submitHandler, this);\n        EventHandler.add(this.element, 'reset', this.resetHandler, this);\n    };\n    // UnWire events to the form elements\n    FormValidator.prototype.unwireEvents = function () {\n        for (var _i = 0, _a = (this.inputElements); _i < _a.length; _i++) {\n            var input = _a[_i];\n            EventHandler.clearEvents(input);\n        }\n        EventHandler.remove(this.element, 'submit', this.submitHandler);\n        EventHandler.remove(this.element, 'reset', this.resetHandler);\n    };\n    // Handle input element focusout event\n    FormValidator.prototype.focusOutHandler = function (e) {\n        this.trigger('focusout', e);\n        //FormValidator.triggerCallback(this.focusout, e);\n        var element = e.target;\n        if (this.rules[element.name]) {\n            if (this.rules[element.name][this.required] || element.value.length > 0) {\n                this.validate(element.name);\n            }\n            else if (this.validated.indexOf(element.name) === -1) {\n                this.validated.push(element.name);\n            }\n        }\n    };\n    // Handle input element keyup event\n    FormValidator.prototype.keyUpHandler = function (e) {\n        this.trigger('keyup', e);\n        var element = e.target;\n        // List of keys need to prevent while validation\n        var excludeKeys = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225];\n        if (e.which === 9 && (!this.rules[element.name] || (this.rules[element.name] && !this.rules[element.name][this.required]))) {\n            return;\n        }\n        if (this.validated.indexOf(element.name) !== -1 && this.rules[element.name] && excludeKeys.indexOf(e.which) === -1) {\n            this.validate(element.name);\n        }\n    };\n    // Handle input click event\n    FormValidator.prototype.clickHandler = function (e) {\n        this.trigger('click', e);\n        var element = e.target;\n        // If element type is not submit allow validation\n        if (element.type !== 'submit') {\n            this.validate(element.name);\n        }\n        else if (element.getAttribute('formnovalidate') !== null) {\n            // Prevent form validation, if submit button has formnovalidate attribute\n            this.allowSubmit = true;\n        }\n    };\n    // Handle input change event\n    FormValidator.prototype.changeHandler = function (e) {\n        this.trigger('change', e);\n        var element = e.target;\n        this.validate(element.name);\n    };\n    // Handle form submit event\n    FormValidator.prototype.submitHandler = function (e) {\n        this.trigger('submit', e);\n        //FormValidator.triggerCallback(this.submit, e);\n        // Prevent form submit if validation failed\n        if (!this.allowSubmit && !this.validate()) {\n            e.preventDefault();\n        }\n        else {\n            this.allowSubmit = false;\n        }\n    };\n    // Handle form reset\n    FormValidator.prototype.resetHandler = function () {\n        this.clearForm();\n    };\n    // Validate each rule based on input element name\n    FormValidator.prototype.validateRules = function (name) {\n        if (!this.rules[name]) {\n            return;\n        }\n        var rules = Object.keys(this.rules[name]);\n        var hiddenType = false;\n        var validateHiddenType = false;\n        var vhPos = rules.indexOf('validateHidden');\n        var hPos = rules.indexOf('hidden');\n        this.getInputElement(name);\n        if (hPos !== -1) {\n            hiddenType = true;\n        }\n        if (vhPos !== -1) {\n            validateHiddenType = true;\n        }\n        if (!hiddenType || (hiddenType && validateHiddenType)) {\n            if (vhPos !== -1) {\n                rules.splice(vhPos, 1);\n            }\n            if (hPos !== -1) {\n                rules.splice((hPos - 1), 1);\n            }\n            this.getErrorElement(name);\n            for (var _i = 0, rules_2 = rules; _i < rules_2.length; _i++) {\n                var rule = rules_2[_i];\n                var errorMessage = this.getErrorMessage(this.rules[name][rule], rule);\n                var errorRule = { name: name, message: errorMessage };\n                var eventArgs = {\n                    inputName: name,\n                    element: this.inputElement,\n                    message: errorMessage\n                };\n                if (!this.isValid(name, rule) && !this.inputElement.classList.contains(this.ignore)) {\n                    this.removeErrorRules(name);\n                    this.errorRules.push(errorRule);\n                    // Set aria attributes to invalid elements\n                    this.inputElement.setAttribute('aria-invalid', 'true');\n                    this.inputElement.setAttribute('aria-describedby', this.inputElement.id + '-info');\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    if (!this.infoElement) {\n                        this.createErrorElement(name, errorRule.message, this.inputElement);\n                    }\n                    else {\n                        this.showMessage(errorRule);\n                    }\n                    eventArgs.errorElement = this.infoElement;\n                    eventArgs.status = 'failure';\n                    this.inputElement.classList.add(this.errorClass);\n                    this.inputElement.classList.remove(this.validClass);\n                    this.optionalValidationStatus(name, eventArgs);\n                    this.trigger('validationComplete', eventArgs);\n                    // Set aria-required to required rule elements\n                    if (rule === 'required') {\n                        this.inputElement.setAttribute('aria-required', 'true');\n                    }\n                    break;\n                }\n                else {\n                    this.hideMessage(name);\n                    eventArgs.status = 'success';\n                    this.trigger('validationComplete', eventArgs);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    // Update the optional validation status\n    FormValidator.prototype.optionalValidationStatus = function (name, refer) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            refer.status = '';\n            this.hideMessage(name);\n        }\n    };\n    // Check the input element whether it's value satisfy the validation rule or not\n    FormValidator.prototype.isValid = function (name, rule) {\n        var params = this.rules[name][rule];\n        var param = (params instanceof Array && typeof params[1] === 'string') ? params[0] : params;\n        var currentRule = this.rules[name][rule];\n        var args = { value: this.inputElement.value, param: param, element: this.inputElement, formElement: this.element };\n        this.trigger('validationBegin', args);\n        if (currentRule && typeof currentRule[0] === 'function') {\n            var fn = currentRule[0];\n            return fn.call(this, { element: this.inputElement, value: this.inputElement.value });\n        }\n        else if (FormValidator_1.isCheckable(this.inputElement)) {\n            if (rule !== 'required') {\n                return true;\n            }\n            return selectAll('input[name=' + name + ']:checked', this.element).length > 0;\n        }\n        else {\n            return FormValidator_1.checkValidator[rule](args);\n        }\n    };\n    // Return default error message or custom error message \n    FormValidator.prototype.getErrorMessage = function (ruleValue, rule) {\n        var message = (ruleValue instanceof Array && typeof ruleValue[1] === 'string') ? ruleValue[1] : this.defaultMessages[rule];\n        var formats = message.match(/{(\\d)}/g);\n        if (!isNullOrUndefined(formats)) {\n            for (var i = 0; i < formats.length; i++) {\n                var value = ruleValue instanceof Array ? ruleValue[i] : ruleValue;\n                message = message.replace(formats[i], value);\n            }\n        }\n        return message;\n    };\n    // Create error element based on name and error message\n    FormValidator.prototype.createErrorElement = function (name, message, input) {\n        var errorElement = createElement(this.errorElement, {\n            className: this.errorClass,\n            innerHTML: message,\n            attrs: { for: name }\n        });\n        // Create message design if errorOption is message\n        if (this.errorOption === ErrorOption.Message) {\n            errorElement.classList.remove(this.errorClass);\n            errorElement.classList.add('e-message');\n            errorElement = createElement(this.errorContainer, { className: this.errorClass, innerHTML: errorElement.outerHTML });\n        }\n        errorElement.id = this.inputElement.name + '-info';\n        // Append error message into MVC error message element\n        if (this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]')) {\n            this.element.querySelector('[data-valmsg-for=\"' + input.id + '\"]').appendChild(errorElement);\n        }\n        else if (input.hasAttribute('data-msg-containerid') === true) {\n            // Append error message into custom div element\n            var containerId = input.getAttribute('data-msg-containerid');\n            var divElement = this.element.querySelector('#' + containerId);\n            divElement.appendChild(errorElement);\n        }\n        else if (this.customPlacement != null) {\n            // Call custom placement function if customPlacement is not null\n            this.customPlacement.call(this, this.inputElement, errorElement);\n        }\n        else {\n            this.inputElement.parentNode.insertBefore(errorElement, this.inputElement.nextSibling);\n        }\n        errorElement.style.display = 'block';\n        this.getErrorElement(name);\n        this.validated.push(name);\n        this.checkRequired(name);\n    };\n    // Get error element by name\n    FormValidator.prototype.getErrorElement = function (name) {\n        this.infoElement = select(this.errorElement + '.' + this.errorClass, this.inputElement.parentElement);\n        if (!this.infoElement) {\n            this.infoElement = select(this.errorElement + '.' + this.errorClass + '[for=\"' + name + '\"]', this.element);\n        }\n        return this.infoElement;\n    };\n    // Remove existing rule from errorRules object\n    FormValidator.prototype.removeErrorRules = function (name) {\n        for (var i = 0; i < this.errorRules.length; i++) {\n            var rule = this.errorRules[i];\n            if (rule.name === name) {\n                this.errorRules.splice(i, 1);\n            }\n        }\n    };\n    // Show error message to the input element\n    FormValidator.prototype.showMessage = function (errorRule) {\n        this.infoElement.style.display = 'block';\n        this.infoElement.innerHTML = errorRule.message;\n        this.checkRequired(errorRule.name);\n    };\n    // Hide error message based on input name\n    FormValidator.prototype.hideMessage = function (name) {\n        if (this.infoElement) {\n            this.infoElement.style.display = 'none';\n            this.removeErrorRules(name);\n            this.inputElement.classList.add(this.validClass);\n            this.inputElement.classList.remove(this.errorClass);\n            this.inputElement.setAttribute('aria-invalid', 'false');\n        }\n    };\n    // Check whether the input element have required rule and its value is not empty\n    FormValidator.prototype.checkRequired = function (name) {\n        if (!this.rules[name][this.required] && !this.inputElement.value.length) {\n            this.infoElement.innerHTML = this.inputElement.value;\n            this.infoElement.setAttribute('aria-invalid', 'false');\n            this.hideMessage(name);\n        }\n    };\n    // Return boolean result if the input have chekcable or submit types\n    FormValidator.isCheckable = function (input) {\n        var inputType = input.getAttribute('type');\n        return inputType && (inputType === 'checkbox' || inputType === 'radio' || inputType === 'submit');\n    };\n    // List of function to validate the rules\n    FormValidator.checkValidator = {\n        required: function (option) {\n            return option.value.length > 0;\n        },\n        email: function (option) {\n            return VALIDATE_EMAIL.test(option.value);\n        },\n        url: function (option) {\n            return VALIDATE_URL.test(option.value);\n        },\n        dateIso: function (option) {\n            return VALIDATE_DATE_ISO.test(option.value);\n        },\n        tel: function (option) {\n            return VALIDATE_PHONE.test(option.value);\n        },\n        creditcard: function (option) {\n            return VALIDATE_CREDITCARD.test(option.value);\n        },\n        number: function (option) {\n            return !isNaN(Number(option.value)) && option.value.indexOf(' ') === -1;\n        },\n        digits: function (option) {\n            return VALIDATE_DIGITS.test(option.value);\n        },\n        maxLength: function (option) {\n            return option.value.length <= option.param;\n        },\n        minLength: function (option) {\n            return option.value.length >= option.param;\n        },\n        rangeLength: function (option) {\n            var param = option.param;\n            return option.value.length >= param[0] && option.value.length <= param[1];\n        },\n        range: function (option) {\n            var param = option.param;\n            return !isNaN(Number(option.value)) && Number(option.value) >= param[0] && Number(option.value) <= param[1];\n        },\n        date: function (option) {\n            return !isNaN(new Date(option.value).getTime());\n        },\n        max: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Maximum rule validation for number\n                return +option.value <= option.param;\n            }\n            // Maximum rule validation for date\n            return new Date(option.value).getTime() <= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        min: function (option) {\n            if (!isNaN(Number(option.value))) {\n                // Minimum rule validation for number\n                return +option.value >= option.param;\n            }\n            // Minimum rule validation for date\n            return new Date(option.value).getTime() >= new Date(JSON.parse(JSON.stringify(option.param))).getTime();\n        },\n        regex: function (option) {\n            return new RegExp(option.param).test(option.value);\n        },\n        equalTo: function (option) {\n            var compareTo = option.formElement.querySelector('#' + option.param);\n            option.param = compareTo.value;\n            return option.param === option.value;\n        },\n    };\n    __decorate([\n        Property('e-hidden')\n    ], FormValidator.prototype, \"ignore\", void 0);\n    __decorate([\n        Property()\n    ], FormValidator.prototype, \"rules\", void 0);\n    __decorate([\n        Property('e-error')\n    ], FormValidator.prototype, \"errorClass\", void 0);\n    __decorate([\n        Property('e-valid')\n    ], FormValidator.prototype, \"validClass\", void 0);\n    __decorate([\n        Property('label')\n    ], FormValidator.prototype, \"errorElement\", void 0);\n    __decorate([\n        Property('div')\n    ], FormValidator.prototype, \"errorContainer\", void 0);\n    __decorate([\n        Property(ErrorOption.Label)\n    ], FormValidator.prototype, \"errorOption\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"focusout\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"keyup\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"submit\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationBegin\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"validationComplete\", void 0);\n    __decorate([\n        Event()\n    ], FormValidator.prototype, \"customPlacement\", void 0);\n    FormValidator = FormValidator_1 = __decorate([\n        NotifyPropertyChanges\n    ], FormValidator);\n    return FormValidator;\n    var FormValidator_1;\n}(Base));\nexport { FormValidator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, Property, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, setValue, addClass, detach } from '@syncfusion/ej2-base';\nimport { removeClass, Browser } from '@syncfusion/ej2-base';\nimport { Input } from '../../input/input';\nimport { regularExpressions, createMask, applyMask, wireEvents, unwireEvents, unstrippedValue, strippedValue } from '../base/index';\nimport { setMaskValue, setElementValue, bindClearEvent } from '../base/index';\nimport { maskInputBlurHandler } from '../base/mask-base';\nvar ROOT = 'e-widget e-control-wrapper e-mask';\nvar INPUT = 'e-input';\nvar COMPONENT = 'e-maskedtextbox';\nvar CONTROL = 'e-control';\n/**\n * The MaskedTextBox allows the user to enter the valid input only based on the provided mask.\n * ```html\n * <input id=\"mask\" type=\"text\" />\n * ```\n * ```typescript\n * <script>\n * var maskObj = new MaskedTextBox({ mask: \"(999) 9999-999\" });\n * maskObj.appendTo('#mask');\n * </script>\n * ```\n */\nvar MaskedTextBox = /** @class */ (function (_super) {\n    __extends(MaskedTextBox, _super);\n    function MaskedTextBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Gets the component name\n     * @private\n     */\n    MaskedTextBox.prototype.getModuleName = function () {\n        return 'maskedtextbox';\n    };\n    /**\n     * Initializes the event handler\n     * @private\n     */\n    MaskedTextBox.prototype.preRender = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.regExpCollec = regularExpressions;\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        this.changeEventArgs = {};\n        this.focusEventArgs = {};\n        this.maskKeyPress = false;\n        this.isFocus = false;\n        this.isInitial = false;\n        this.isIosInvalid = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT]);\n        this.angularTagName = null;\n        if (this.element.tagName === 'EJS-MASKEDTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                input.setAttribute(this.element.attributes[i].nodeName, this.element.attributes[i].nodeValue);\n                input.innerHTML = this.element.innerHTML;\n            }\n            if (this.element.hasAttribute('id')) {\n                this.element.removeAttribute('id');\n            }\n            this.element.classList.remove('e-control', 'e-maskedtextbox');\n            this.element.classList.add('e-mask-container');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Initializes the component rendering.\n     * @private\n     */\n    MaskedTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            if (this.floatLabelType === 'Never') {\n                addClass([this.element], INPUT);\n            }\n            this.createWrapper();\n            if (this.element.name === '') {\n                this.element.setAttribute('name', this.element.id);\n            }\n            this.isInitial = true;\n            this.resetMaskedTextBox();\n            this.isInitial = false;\n            this.setMaskPlaceholder(true, false);\n            this.setWidth(this.width);\n            this.preEleVal = this.element.value;\n            if (!Browser.isDevice && (Browser.info.version === '11.0' || Browser.info.name === 'edge')) {\n                this.element.blur();\n            }\n        }\n    };\n    MaskedTextBox.prototype.resetMaskedTextBox = function () {\n        this.promptMask = '';\n        this.hiddenMask = '';\n        this.escapeMaskValue = '';\n        this.customRegExpCollec = [];\n        this.undoCollec = [];\n        this.redoCollec = [];\n        if (this.promptChar.length > 1) {\n            this.promptChar = this.promptChar[0];\n        }\n        createMask.call(this);\n        applyMask.call(this);\n        if (this.mask === null || this.mask === '' && this.value !== undefined) {\n            setElementValue.call(this, this.value);\n        }\n        var val = strippedValue.call(this, this.element);\n        this.prevValue = val;\n        this.value = val;\n        if (!this.isInitial) {\n            unwireEvents.call(this);\n        }\n        wireEvents.call(this);\n    };\n    MaskedTextBox.prototype.setMaskPlaceholder = function (setVal, dynamicPlaceholder) {\n        if (dynamicPlaceholder || this.placeholder) {\n            Input.setPlaceholder(this.placeholder, this.element);\n            if (this.element.value === this.promptMask && setVal && this.floatLabelType !== 'Always') {\n                setElementValue.call(this, '');\n            }\n            if (this.floatLabelType === 'Never') {\n                maskInputBlurHandler.call(this);\n            }\n        }\n    };\n    MaskedTextBox.prototype.setCssClass = function (cssClass, element) {\n        if (cssClass) {\n            addClass(element, cssClass);\n        }\n    };\n    MaskedTextBox.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            this.element.style.width = formatUnit(width);\n            this.inputObj.container.style.width = formatUnit(width);\n        }\n    };\n    MaskedTextBox.prototype.createWrapper = function () {\n        this.inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enableRtl: this.enableRtl,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('class', ROOT + ' ' + this.inputObj.container.getAttribute('class'));\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @hidden\n     */\n    MaskedTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    setMaskValue.call(this, this.value);\n                    if (this.placeholder) {\n                        this.setMaskPlaceholder(false, false);\n                    }\n                    break;\n                case 'placeholder':\n                    this.setMaskPlaceholder(true, true);\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, [this.inputObj.container]);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.inputObj.container]);\n                    break;\n                case 'customCharacters':\n                    this.customCharacters = newProp.customCharacters;\n                    this.resetMaskedTextBox();\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.element, this.inputObj, undefined, this.createElement);\n                    bindClearEvent.call(this);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'mask':\n                    var strippedValue_1 = this.value;\n                    this.mask = newProp.mask;\n                    this.updateValue(strippedValue_1);\n                    break;\n                case 'promptChar':\n                    if (newProp.promptChar.length > 1) {\n                        newProp.promptChar = newProp.promptChar[0];\n                    }\n                    if (newProp.promptChar) {\n                        this.promptChar = newProp.promptChar;\n                    }\n                    else {\n                        this.promptChar = '_';\n                    }\n                    var value = this.element.value.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    if (this.promptMask === this.element.value) {\n                        value = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    }\n                    this.promptMask = this.promptMask.replace(new RegExp('[' + oldProp.promptChar + ']', 'g'), this.promptChar);\n                    this.undoCollec = this.redoCollec = [];\n                    setElementValue.call(this, value);\n                    break;\n            }\n        }\n    };\n    MaskedTextBox.prototype.updateValue = function (strippedVal) {\n        this.resetMaskedTextBox();\n        setMaskValue.call(this, strippedVal);\n    };\n    /**\n     * Gets the value of the MaskedTextBox with the masked format.\n     * By using `value` property, you can get the raw value of maskedtextbox without literals and prompt characters.\n     * @return {string}\n     */\n    MaskedTextBox.prototype.getMaskedValue = function () {\n        return unstrippedValue.call(this, this.element);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    MaskedTextBox.prototype.destroy = function () {\n        unwireEvents.call(this);\n        this.inputObj.container.parentElement.appendChild(this.cloneElement);\n        detach(this.inputObj.container);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('Never')\n    ], MaskedTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(true)\n    ], MaskedTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], MaskedTextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"mask\", void 0);\n    __decorate([\n        Property('_')\n    ], MaskedTextBox.prototype, \"promptChar\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], MaskedTextBox.prototype, \"customCharacters\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MaskedTextBox.prototype, \"focus\", void 0);\n    MaskedTextBox = __decorate([\n        NotifyPropertyChanges\n    ], MaskedTextBox);\n    return MaskedTextBox;\n}(Component));\nexport { MaskedTextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Complex } from '@syncfusion/ej2-base';\nimport { L10n, Internationalization } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, setStyleAttribute, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\n/**\n * Configures the ticks data of the Slider.\n */\nvar TicksData = /** @class */ (function (_super) {\n    __extends(TicksData, _super);\n    function TicksData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('None')\n    ], TicksData.prototype, \"placement\", void 0);\n    __decorate([\n        Property(10)\n    ], TicksData.prototype, \"largeStep\", void 0);\n    __decorate([\n        Property(1)\n    ], TicksData.prototype, \"smallStep\", void 0);\n    __decorate([\n        Property(false)\n    ], TicksData.prototype, \"showSmallTicks\", void 0);\n    __decorate([\n        Property(null)\n    ], TicksData.prototype, \"format\", void 0);\n    return TicksData;\n}(ChildProperty));\nexport { TicksData };\n/**\n * It illustrates the limit data in slider.\n */\nvar LimitData = /** @class */ (function (_super) {\n    __extends(LimitData, _super);\n    function LimitData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"minEnd\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxStart\", void 0);\n    __decorate([\n        Property(null)\n    ], LimitData.prototype, \"maxEnd\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"startHandleFixed\", void 0);\n    __decorate([\n        Property(false)\n    ], LimitData.prototype, \"endHandleFixed\", void 0);\n    return LimitData;\n}(ChildProperty));\nexport { LimitData };\n/**\n * It illustrates the tooltip data in slider.\n */\nvar TooltipData = /** @class */ (function (_super) {\n    __extends(TooltipData, _super);\n    function TooltipData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipData.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Before')\n    ], TooltipData.prototype, \"placement\", void 0);\n    __decorate([\n        Property('Focus')\n    ], TooltipData.prototype, \"showOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TooltipData.prototype, \"isVisible\", void 0);\n    __decorate([\n        Property(null)\n    ], TooltipData.prototype, \"format\", void 0);\n    return TooltipData;\n}(ChildProperty));\nexport { TooltipData };\nvar bootstrapTooltipOffset = 6;\nvar classNames = {\n    root: 'e-slider',\n    rtl: 'e-rtl',\n    sliderHiddenInput: 'e-slider-input',\n    controlWrapper: 'e-control-wrapper',\n    sliderHandle: 'e-handle',\n    rangeBar: 'e-range',\n    sliderButton: 'e-slider-button',\n    firstButton: 'e-first-button',\n    secondButton: 'e-second-button',\n    scale: 'e-scale',\n    tick: 'e-tick',\n    large: 'e-large',\n    tickValue: 'e-tick-value',\n    sliderTooltip: 'e-slider-tooltip',\n    sliderHover: 'e-slider-hover',\n    sliderFirstHandle: 'e-handle-first',\n    sliderSecondHandle: 'e-handle-second',\n    sliderDisabled: 'e-disabled',\n    sliderContainer: 'e-slider-container',\n    horizontalTooltipBefore: 'e-slider-horizontal-before',\n    horizontalTooltipAfter: 'e-slider-horizontal-after',\n    verticalTooltipBefore: 'e-slider-vertical-before',\n    verticalTooltipAfter: 'e-slider-vertical-after',\n    materialTooltip: 'e-material-tooltip',\n    materialTooltipOpen: 'e-material-tooltip-open',\n    materialTooltipActive: 'e-tooltip-active',\n    materialSlider: 'e-material-slider',\n    sliderTrack: 'e-slider-track',\n    sliderHandleFocused: 'e-handle-focused',\n    verticalSlider: 'e-vertical',\n    horizontalSlider: 'e-horizontal',\n    sliderHandleStart: 'e-handle-start',\n    sliderTooltipStart: 'e-material-tooltip-start',\n    sliderTabHandle: 'e-tab-handle',\n    sliderButtonIcon: 'e-button-icon',\n    sliderSmallSize: 'e-small-size',\n    sliderTickPosition: 'e-tick-pos',\n    sliderFirstTick: 'e-first-tick',\n    sliderLastTick: 'e-last-tick',\n    sliderButtonClass: 'e-slider-btn',\n    sliderTooltipWrapper: 'e-tooltip-wrap',\n    sliderTabTrack: 'e-tab-track',\n    sliderTabRange: 'e-tab-range',\n    sliderActiveHandle: 'e-handle-active',\n    sliderMaterialHandle: 'e-material-handle',\n    sliderMaterialRange: 'e-material-range',\n    sliderMaterialDefault: 'e-material-default',\n    materialTooltipShow: 'e-material-tooltip-show',\n    materialTooltipHide: 'e-material-tooltip-hide',\n    readonly: 'e-read-only',\n    limits: 'e-limits',\n    limitBarDefault: 'e-limit-bar',\n    limitBarFirst: 'e-limit-first',\n    limitBarSecond: 'e-limit-second',\n    dragHorizontal: 'e-drag-horizontal',\n    dragVertical: 'e-drag-vertical'\n};\n/**\n * The Slider component allows the user to select a value or range\n * of values in-between a min and max range, by dragging the handle over the slider bar.\n * ```html\n * <div id='slider'></div>\n * ```\n * ```typescript\n * <script>\n *   var sliderObj = new Slider({ value: 10 });\n *   sliderObj.appendTo('#slider');\n * </script>\n * ```\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.horDir = 'left';\n        _this.verDir = 'bottom';\n        _this.transition = {\n            handle: 'left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), ' +\n                'top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)',\n            rangeBar: 'all .4s cubic-bezier(.25, .8, .25, 1)'\n        };\n        _this.transitionOnMaterialTooltip = {\n            handle: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out',\n            rangeBar: 'left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out'\n        };\n        _this.scaleTransform = 'transform .4s cubic-bezier(.25, .8, .25, 1)';\n        _this.customAriaText = null;\n        _this.drag = true;\n        return _this;\n    }\n    Slider.prototype.preRender = function () {\n        var localeText = { incrementTitle: 'Increase', decrementTitle: 'Decrease' };\n        this.l10n = new L10n('slider', localeText, this.locale);\n        this.isElementFocused = false;\n        this.tickElementCollection = [];\n        this.tooltipFormatInfo = {};\n        this.ticksFormatInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n    };\n    Slider.prototype.initCultureFunc = function () {\n        this.internationalization = new Internationalization(this.locale);\n    };\n    Slider.prototype.initCultureInfo = function () {\n        this.tooltipFormatInfo.format = (!isNullOrUndefined(this.tooltip.format)) ? this.tooltip.format : null;\n        this.ticksFormatInfo.format = (!isNullOrUndefined(this.ticks.format)) ? this.ticks.format : null;\n    };\n    Slider.prototype.formatString = function (value, formatInfo) {\n        var formatValue = null;\n        var formatString = null;\n        if ((value || value === 0)) {\n            formatValue = this.formatNumber(value);\n            var numberOfDecimals = this.numberOfDecimals(value);\n            formatString = this.internationalization.getNumberFormat(formatInfo)(this.makeRoundNumber(value, numberOfDecimals));\n        }\n        return { elementVal: formatValue, formatString: formatString };\n    };\n    ;\n    Slider.prototype.formatNumber = function (value) {\n        var numberOfDecimals = this.numberOfDecimals(value);\n        return this.internationalization.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(value);\n    };\n    ;\n    Slider.prototype.numberOfDecimals = function (value) {\n        var decimalPart = value.toString().split('.')[1];\n        var numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        return numberOfDecimals;\n    };\n    Slider.prototype.makeRoundNumber = function (value, precision) {\n        var decimals = precision || 0;\n        return Number(value.toFixed(decimals));\n    };\n    ;\n    Slider.prototype.fractionalToInteger = function (value) {\n        value = (this.numberOfDecimals(value) === 0) ? Number(value).toFixed(this.noOfDecimals) : value;\n        var tens = 1;\n        for (var i = 0; i < this.noOfDecimals; i++) {\n            tens *= 10;\n        }\n        value = Number((value * tens).toFixed(0));\n        return value;\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Slider.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        this.setZindex();\n    };\n    Slider.prototype.initialize = function () {\n        addClass([this.element], classNames.root);\n        this.setCSSClass();\n    };\n    Slider.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Slider.prototype.setEnabled = function () {\n        var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n            [this.firstTooltipElement, this.secondTooltipElement];\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderDisabled);\n                });\n            }\n            this.unwireEvents();\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n            if (this.tooltip.isVisible && this.tooltip.showOn === 'Always') {\n                tooltipElement.forEach(function (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderDisabled);\n                });\n            }\n            this.wireEvents();\n        }\n    };\n    Slider.prototype.getTheme = function (container) {\n        var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n        return theme.replace(/['\"]+/g, '');\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Slider.prototype.initRender = function () {\n        this.sliderContainer = this.createElement('div', { className: classNames.sliderContainer + ' ' + classNames.controlWrapper });\n        this.element.parentNode.insertBefore(this.sliderContainer, this.element);\n        this.sliderContainer.appendChild(this.element);\n        this.sliderTrack = this.createElement('div', { className: classNames.sliderTrack });\n        this.element.appendChild(this.sliderTrack);\n        this.element.tabIndex = -1;\n        this.isMaterial = this.getTheme(this.sliderContainer) === 'material';\n        this.isBootstrap = this.getTheme(this.sliderContainer) === 'bootstrap';\n        this.setHandler();\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setOrientClass();\n        this.hiddenInput = (this.createElement('input', {\n            attrs: {\n                type: 'hidden', value: (isNullOrUndefined(this.value) ? this.min.toString() : this.value.toString()),\n                name: this.element.getAttribute('name') || this.element.getAttribute('id') ||\n                    '_' + (Math.random() * 1000).toFixed(0) + 'slider', class: classNames.sliderHiddenInput\n            }\n        }));\n        this.hiddenInput.tabIndex = -1;\n        this.sliderContainer.appendChild(this.hiddenInput);\n        if (this.showButtons) {\n            this.setButtons();\n        }\n        this.setEnableRTL();\n        if (this.type === 'Range') {\n            this.rangeValueUpdate();\n        }\n        else {\n            this.value = isNullOrUndefined(this.value) ? parseFloat(formatUnit(this.min.toString())) : this.value;\n        }\n        this.previousVal = this.type !== 'Range' ? this.checkHandleValue(parseFloat(formatUnit(this.value.toString()))) :\n            [this.checkHandleValue(parseFloat(formatUnit(this.value[0].toString()))),\n                this.checkHandleValue(parseFloat(formatUnit(this.value[1].toString())))];\n        this.previousChanged = this.previousVal;\n        if (!isNullOrUndefined(this.element.hasAttribute('name'))) {\n            this.element.removeAttribute('name');\n        }\n        this.setValue();\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n        }\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n        }\n        if (!this.enabled) {\n            addClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        }\n        if (this.readonly) {\n            addClass([this.sliderContainer], [classNames.readonly]);\n        }\n        else {\n            removeClass([this.sliderContainer], [classNames.readonly]);\n        }\n    };\n    Slider.prototype.createRangeBar = function () {\n        if (this.type !== 'Default') {\n            this.rangeBar = (this.createElement('div', { attrs: { class: classNames.rangeBar } }));\n            this.element.appendChild(this.rangeBar);\n            if (this.drag && this.type === 'Range') {\n                if (this.orientation === 'Horizontal') {\n                    this.rangeBar.classList.add(classNames.dragHorizontal);\n                }\n                else {\n                    this.rangeBar.classList.add(classNames.dragVertical);\n                }\n            }\n        }\n    };\n    Slider.prototype.createLimitBar = function () {\n        var firstElementClassName = this.type !== 'Range' ? classNames.limitBarDefault :\n            classNames.limitBarFirst;\n        firstElementClassName += ' ' + classNames.limits;\n        this.limitBarFirst = (this.createElement('div', {\n            attrs: { class: firstElementClassName }\n        }));\n        this.element.appendChild(this.limitBarFirst);\n        if (this.type === 'Range') {\n            this.limitBarSecond = (this.createElement('div', {\n                attrs: {\n                    class: classNames.limitBarSecond + ' ' + classNames.limits\n                }\n            }));\n            this.element.appendChild(this.limitBarSecond);\n        }\n    };\n    Slider.prototype.setOrientClass = function () {\n        if (this.orientation !== 'Vertical') {\n            this.sliderContainer.classList.remove(classNames.verticalSlider);\n            this.sliderContainer.classList.add(classNames.horizontalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'horizontal');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'horizontal');\n            }\n        }\n        else {\n            this.sliderContainer.classList.remove(classNames.horizontalSlider);\n            this.sliderContainer.classList.add(classNames.verticalSlider);\n            this.firstHandle.setAttribute('aria-orientation', 'vertical');\n            if (this.type === 'Range') {\n                this.secondHandle.setAttribute('aria-orientation', 'vertical');\n            }\n        }\n    };\n    Slider.prototype.setAriaAttributes = function (element) {\n        var _this = this;\n        var min = this.min;\n        var max = this.max;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            min = this.customValues[0];\n            max = this.customValues[this.customValues.length - 1];\n        }\n        if (this.type !== 'Range') {\n            attributes(element, {\n                'aria-valuemin': min.toString(), 'aria-valuemax': max.toString()\n            });\n        }\n        else {\n            var range = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n                [[min.toString(), (this.customValues[this.value[1]]).toString()],\n                    [(this.customValues[this.value[0]]).toString(), max.toString()]] :\n                [[min.toString(), this.value[1].toString()], [this.value[0].toString(), max.toString()]];\n            range.forEach(function (range, index) {\n                var element = index === 0 ? _this.firstHandle : _this.secondHandle;\n                if (element) {\n                    attributes(element, {\n                        'aria-valuemin': range[0], 'aria-valuemax': range[1]\n                    });\n                }\n            });\n        }\n    };\n    Slider.prototype.createSecondHandle = function () {\n        this.secondHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.secondHandle.classList.add(classNames.sliderSecondHandle);\n        this.element.appendChild(this.secondHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.secondMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.secondMaterialHandle);\n        }\n    };\n    Slider.prototype.createFirstHandle = function () {\n        this.firstHandle = this.createElement('div', {\n            attrs: {\n                class: classNames.sliderHandle, 'role': 'slider', 'aria-labelledby': this.element.id + '_title', tabIndex: '0'\n            }\n        });\n        this.firstHandle.classList.add(classNames.sliderFirstHandle);\n        this.element.appendChild(this.firstHandle);\n        if (this.isMaterial && this.tooltip.isVisible) {\n            this.firstMaterialHandle = this.createElement('div', {\n                attrs: {\n                    class: classNames.sliderHandle + ' ' +\n                        classNames.sliderMaterialHandle\n                }\n            });\n            this.element.appendChild(this.firstMaterialHandle);\n        }\n    };\n    Slider.prototype.wireFirstHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.firstHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.firstHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.firstHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.firstHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.firstHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.firstHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.firstHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.wireSecondHandleEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.secondHandle, 'mousedown touchstart', this.handleFocus, this);\n            EventHandler.add(this.secondHandle, 'transitionend', this.transitionEnd, this);\n            EventHandler.add(this.secondHandle, 'mouseenter touchenter', this.handleOver, this);\n            EventHandler.add(this.secondHandle, 'mouseleave touchend', this.handleLeave, this);\n        }\n        else {\n            EventHandler.remove(this.secondHandle, 'mousedown touchstart', this.handleFocus);\n            EventHandler.remove(this.secondHandle, 'transitionend', this.transitionEnd);\n            EventHandler.remove(this.secondHandle, 'mouseenter touchenter', this.handleOver);\n            EventHandler.remove(this.secondHandle, 'mouseleave touchend', this.handleLeave);\n        }\n    };\n    Slider.prototype.handleStart = function () {\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (pos === 0 && this.type !== 'Range') {\n            this.getHandle().classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial && this.tooltip.isVisible) {\n                this.firstMaterialHandle.classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n    };\n    Slider.prototype.transitionEnd = function (e) {\n        this.handleStart();\n        this.getHandle().style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (!this.isMaterial) {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.tooltipAnimation();\n            }\n            else {\n                if (!tooltipElement.classList.contains(classNames.materialTooltipOpen) && e.propertyName !== 'transform') {\n                    this.openMaterialTooltip();\n                }\n                else {\n                    if (this.type === 'Default') {\n                        tooltipElement.style.transition = this.transition.handle;\n                    }\n                    this.refreshTooltip();\n                }\n            }\n        }\n        if (this.tooltip.showOn !== 'Always') {\n            this.closeTooltip();\n        }\n    };\n    Slider.prototype.handleFocusOut = function () {\n        if (this.firstHandle.classList.contains(classNames.sliderHandleFocused)) {\n            this.firstHandle.classList.remove(classNames.sliderHandleFocused);\n        }\n        if (this.type === 'Range') {\n            if (this.secondHandle.classList.contains(classNames.sliderHandleFocused)) {\n                this.secondHandle.classList.remove(classNames.sliderHandleFocused);\n            }\n        }\n    };\n    Slider.prototype.handleFocus = function (e) {\n        if (e.currentTarget === this.firstHandle) {\n            this.firstHandle.classList.add(classNames.sliderHandleFocused);\n        }\n        else {\n            this.secondHandle.classList.add(classNames.sliderHandleFocused);\n        }\n    };\n    Slider.prototype.handleOver = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover') {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.open(this.firstHandle);\n            }\n            else {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.handleLeave = function (e) {\n        if (this.tooltip.isVisible && this.tooltip.showOn === 'Hover' &&\n            !e.currentTarget.classList.contains(classNames.sliderHandleFocused) &&\n            !e.currentTarget.classList.contains(classNames.sliderTabHandle)) {\n            this.tooltipValue();\n            var tooltipObj = e.currentTarget === this.firstHandle ? this.firstTooltipObj : this.secondTooltipObj;\n            if (e.currentTarget === this.firstHandle) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n            tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n        }\n    };\n    Slider.prototype.setHandler = function () {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        this.createFirstHandle();\n        if (this.type === 'Range') {\n            this.createSecondHandle();\n        }\n    };\n    Slider.prototype.setEnableRTL = function () {\n        this.enableRtl && this.orientation !== 'Vertical' ? addClass([this.sliderContainer], classNames.rtl) :\n            removeClass([this.sliderContainer], classNames.rtl);\n        var preDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (this.enableRtl) {\n            this.horDir = 'right';\n            this.verDir = 'bottom';\n        }\n        else {\n            this.horDir = 'left';\n            this.verDir = 'bottom';\n        }\n        var currDir = (this.orientation !== 'Vertical') ? this.horDir : this.verDir;\n        if (preDir !== currDir) {\n            if (this.orientation === 'Horizontal') {\n                setStyleAttribute(this.firstHandle, { 'right': '', 'left': 'auto' });\n                if (this.type === 'Range') {\n                    setStyleAttribute(this.secondHandle, { 'top': '', 'left': 'auto' });\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipValue = function () {\n        var text;\n        var value1;\n        var value2;\n        var args = {\n            value: this.value,\n            text: ''\n        };\n        this.setTooltipContent();\n        args.text = text = this.firstTooltipObj.content;\n        this.trigger('tooltipChange', args);\n        this.addTooltipClass(args.text);\n        if (text !== args.text) {\n            this.customAriaText = args.text;\n            this.firstTooltipObj.content = args.text;\n            this.setAriaAttrValue(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.content = args.text;\n                this.setAriaAttrValue(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.setTooltipContent = function () {\n        var content;\n        if (this.type === 'Range') {\n            content = this.formatContent(this.tooltipFormatInfo, false);\n            this.firstTooltipObj.content = content;\n            this.secondTooltipObj.content = content;\n        }\n        else {\n            if (!isNullOrUndefined(this.handleVal1)) {\n                content = this.formatContent(this.tooltipFormatInfo, false);\n                this.firstTooltipObj.content = content;\n            }\n        }\n    };\n    Slider.prototype.formatContent = function (formatInfo, ariaContent) {\n        var content = '';\n        var handle1 = this.handleVal1;\n        var handle2 = this.handleVal2;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            handle1 = this.customValues[this.handleVal1];\n            handle2 = this.customValues[this.handleVal2];\n        }\n        if (!ariaContent) {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle2, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle1, formatInfo).formatString) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(formatInfo.format)) ? (this.formatString(handle1, formatInfo)\n                        .formatString + ' - ' + this.formatString(handle2, formatInfo).formatString) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(formatInfo.format)) ?\n                        this.formatString(handle1, formatInfo).formatString : handle1.toString();\n                }\n            }\n            return content;\n        }\n        else {\n            if (this.type === 'Range') {\n                if (this.enableRtl && this.orientation !== 'Vertical') {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle2, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle1, formatInfo).elementVal) :\n                        (handle2.toString() + ' - ' + handle1.toString());\n                }\n                else {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        (this.formatString(handle1, formatInfo).elementVal + ' - ' +\n                            this.formatString(handle2, formatInfo).elementVal) :\n                        (handle1.toString() + ' - ' + handle2.toString());\n                }\n            }\n            else {\n                if (!isNullOrUndefined(handle1)) {\n                    content = (!isNullOrUndefined(this.tooltip) && !isNullOrUndefined(this.tooltip.format)) ?\n                        this.formatString(handle1, formatInfo).elementVal : handle1.toString();\n                }\n            }\n            return content;\n        }\n    };\n    Slider.prototype.addTooltipClass = function (content) {\n        var _this = this;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var count_1 = content.toString().length;\n            var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                [this.firstTooltipElement, this.secondTooltipElement];\n            tooltipElement.forEach(function (element, index) {\n                if (!element) {\n                    var cssClass = count_1 > 4 ? classNames.sliderMaterialRange : classNames.sliderMaterialDefault;\n                    !index ? _this.firstTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass :\n                        _this.secondTooltipObj.cssClass = classNames.sliderTooltip + ' ' + cssClass;\n                }\n                else {\n                    if (count_1 > 4) {\n                        element.classList.remove(classNames.sliderMaterialDefault);\n                        if (!element.classList.contains(classNames.sliderMaterialRange)) {\n                            element.classList.add(classNames.sliderMaterialRange);\n                            element.style.transform = 'scale(1)';\n                        }\n                    }\n                    else {\n                        element.classList.remove(classNames.sliderMaterialRange);\n                        if (!element.classList.contains(classNames.sliderMaterialDefault)) {\n                            element.classList.add(classNames.sliderMaterialDefault);\n                            element.style.transform = _this.getTooltipTransformProperties(_this.previousTooltipClass).rotate;\n                        }\n                    }\n                }\n            });\n        }\n    };\n    Slider.prototype.tooltipPlacement = function () {\n        var tooltipPosition;\n        if (this.orientation === 'Horizontal') {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'TopCenter' : tooltipPosition = 'BottomCenter';\n        }\n        else {\n            this.tooltip.placement === 'Before' ? tooltipPosition = 'LeftCenter' : tooltipPosition = 'RightCenter';\n        }\n        this.firstTooltipObj.position = tooltipPosition;\n        if (this.type === 'Range') {\n            this.secondTooltipObj.position = tooltipPosition;\n        }\n        if (this.isMaterial) {\n            this.firstTooltipObj.showTipPointer = true;\n            this.setProperties({ tooltip: { showOn: 'Always' } }, true);\n            this.firstTooltipObj.height = 30;\n            if (this.type === 'Range') {\n                this.secondTooltipObj.showTipPointer = true;\n                this.secondTooltipObj.height = 30;\n            }\n        }\n    };\n    Slider.prototype.tooltipBeforeOpen = function (args) {\n        var tooltipElement = args.target === this.firstHandle ? this.firstTooltipElement = args.element :\n            this.secondTooltipElement = args.element;\n        if (this.tooltip.cssClass !== '') {\n            addClass([tooltipElement], this.tooltip.cssClass.split(' '));\n        }\n        args.target.removeAttribute('aria-describedby');\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var transformProperties = this.getTooltipTransformProperties(this.previousTooltipClass);\n            tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n            this.handleStart();\n            if (tooltipElement.firstElementChild.innerText.length > 4) {\n                tooltipElement.style.transform = transformProperties.translate + \" scale(0.01)\";\n            }\n            else {\n                tooltipElement.style.transform = transformProperties.translate + \" \" + transformProperties.rotate + \" scale(0.01)\";\n            }\n        }\n        if (this.isBootstrap) {\n            switch (this.bootstrapCollisionArgs.collidedPosition) {\n                case 'TopCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'BottomCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetY': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                case 'LeftCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': -(bootstrapTooltipOffset) }, false);\n                    }\n                    break;\n                case 'RightCenter':\n                    this.firstTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    if (this.type === 'Range') {\n                        this.secondTooltipObj.setProperties({ 'offsetX': bootstrapTooltipOffset }, false);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    Slider.prototype.wireMaterialTooltipEvent = function (destroy) {\n        if (this.isMaterial && this.tooltip.isVisible) {\n            if (!destroy) {\n                EventHandler.add(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                if (this.type === 'Range') {\n                    EventHandler.add(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown, this);\n                }\n            }\n            else {\n                EventHandler.remove(this.firstTooltipElement, 'mousedown touchstart', this.sliderDown);\n                if (this.type === 'Range') {\n                    EventHandler.remove(this.secondTooltipElement, 'mousedown touchstart', this.sliderDown);\n                }\n            }\n        }\n    };\n    Slider.prototype.tooltipPositionCalculation = function (position) {\n        var cssClass;\n        switch (position) {\n            case 'TopCenter':\n                cssClass = classNames.horizontalTooltipBefore;\n                break;\n            case 'BottomCenter':\n                cssClass = classNames.horizontalTooltipAfter;\n                break;\n            case 'LeftCenter':\n                cssClass = classNames.verticalTooltipBefore;\n                break;\n            case 'RightCenter':\n                cssClass = classNames.verticalTooltipAfter;\n                break;\n        }\n        return cssClass;\n    };\n    Slider.prototype.getTooltipTransformProperties = function (className) {\n        if (this.firstTooltipElement) {\n            var position = void 0;\n            if (this.orientation === 'Horizontal') {\n                position = (this.firstTooltipElement.clientHeight + 14) - (this.firstTooltipElement.clientHeight / 2);\n            }\n            else {\n                position = (this.firstTooltipElement.clientWidth + 14) - (this.firstTooltipElement.clientWidth / 2);\n            }\n            var transformProperties = this.orientation === 'Horizontal' ?\n                (className === classNames.horizontalTooltipBefore ? { rotate: 'rotate(45deg)', translate: \"translateY(\" + position + \"px)\" } :\n                    { rotate: 'rotate(225deg)', translate: \"translateY(\" + -(position) + \"px)\" }) :\n                (className === classNames.verticalTooltipBefore ? { rotate: 'rotate(-45deg)', translate: \"translateX(\" + position + \"px)\" } :\n                    { rotate: 'rotate(-225deg)', translate: \"translateX(\" + (-position) + \"px)\" });\n            return transformProperties;\n        }\n        return undefined;\n    };\n    Slider.prototype.openMaterialTooltip = function () {\n        var _this = this;\n        this.refreshTooltip();\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        var handle = this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle;\n        if (tooltipElement.firstChild.classList.contains(classNames.materialTooltipHide)) {\n            tooltipElement.firstChild.classList.remove(classNames.materialTooltipHide);\n        }\n        tooltipElement.firstChild.classList.add(classNames.materialTooltipShow);\n        this.getHandle().style.cursor = 'default';\n        tooltipElement.style.transition = this.scaleTransform;\n        tooltipElement.classList.add(classNames.materialTooltipOpen);\n        handle.style.transform = 'scale(0)';\n        if (tooltipElement.firstElementChild.innerText.length > 4) {\n            tooltipElement.style.transform = 'scale(1)';\n        }\n        else {\n            tooltipElement.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n        }\n        if (this.type === 'Default') {\n            setTimeout(function () { tooltipElement.style.transition = _this.transition.handle; }, 2500);\n        }\n        else {\n            setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n        }\n    };\n    Slider.prototype.checkTooltipPosition = function (args) {\n        var tooltipPosition = args.target === this.firstHandle ? this.firstHandleTooltipPosition :\n            this.secondHandleTooltipPosition;\n        if (this.isMaterial && (tooltipPosition === undefined || tooltipPosition !== args.collidedPosition)) {\n            var tooltipClass = this.tooltipPositionCalculation(args.collidedPosition);\n            args.element.classList.remove(this.previousTooltipClass);\n            args.element.classList.add(tooltipClass);\n            this.previousTooltipClass = tooltipClass;\n            if (args.element.style.transform && args.element.classList.contains(classNames.materialTooltipOpen) &&\n                args.element.firstElementChild.innerText.length < 4) {\n                args.element.style.transform = this.getTooltipTransformProperties(this.previousTooltipClass).rotate;\n            }\n            if (args.target === this.firstHandle) {\n                this.firstHandleTooltipPosition = args.collidedPosition;\n            }\n            else {\n                this.secondHandleTooltipPosition = args.collidedPosition;\n            }\n        }\n        this.bootstrapCollisionArgs = args;\n    };\n    Slider.prototype.renderTooltip = function () {\n        if (this.tooltip.showOn === 'Auto') {\n            this.setProperties({ tooltip: { showOn: 'Hover' } }, true);\n        }\n        var tooltipPointer = this.isBootstrap ? true : false;\n        this.firstTooltipObj = new Tooltip({\n            showTipPointer: tooltipPointer,\n            cssClass: classNames.sliderTooltip,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n            opensOn: 'Custom',\n            beforeOpen: this.tooltipBeforeOpen.bind(this),\n            beforeCollision: this.checkTooltipPosition.bind(this),\n            afterClose: this.tooltipAfterClose.bind(this)\n        });\n        this.firstTooltipObj.appendTo(this.firstHandle);\n        if (this.type === 'Range') {\n            this.secondTooltipObj = new Tooltip({\n                showTipPointer: tooltipPointer,\n                cssClass: classNames.sliderTooltip,\n                animation: { open: { effect: 'None' }, close: { effect: 'None' } },\n                opensOn: 'Custom',\n                beforeOpen: this.tooltipBeforeOpen.bind(this),\n                beforeCollision: this.checkTooltipPosition.bind(this),\n                afterClose: this.tooltipAfterClose.bind(this)\n            });\n            this.secondTooltipObj.appendTo(this.secondHandle);\n        }\n        this.tooltipPlacement();\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        if (this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n            this.tooltipValue();\n            this.firstTooltipObj.open(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.open(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.tooltipAfterClose = function (args) {\n        if (args.element === this.firstTooltipElement) {\n            this.firstTooltipElement = undefined;\n        }\n        else {\n            this.secondTooltipElement = undefined;\n        }\n    };\n    Slider.prototype.setButtons = function () {\n        this.firstBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.firstButton });\n        this.firstBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.firstBtn.tabIndex = -1;\n        this.secondBtn = this.createElement('div', { className: classNames.sliderButton + ' ' + classNames.secondButton });\n        this.secondBtn.appendChild(this.createElement('span', { className: classNames.sliderButtonIcon }));\n        this.secondBtn.tabIndex = -1;\n        this.sliderContainer.classList.add(classNames.sliderButtonClass);\n        this.sliderContainer.appendChild(this.firstBtn);\n        this.sliderContainer.appendChild(this.secondBtn);\n        this.sliderContainer.appendChild(this.element);\n        this.buttonTitle();\n    };\n    Slider.prototype.buttonTitle = function () {\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        this.l10n.setLocale(this.locale);\n        var decrementTitle = this.l10n.getConstant('decrementTitle');\n        var incrementTitle = this.l10n.getConstant('incrementTitle');\n        attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': decrementTitle, title: decrementTitle });\n        attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': incrementTitle, title: incrementTitle });\n    };\n    Slider.prototype.buttonFocusOut = function () {\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatButton = function (args) {\n        var buttonElement = args.target.parentElement;\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (!tooltipElement && this.tooltip.isVisible) {\n            this.openTooltip();\n        }\n        var hVal = this.handleValueUpdate();\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var value;\n        if (args.target.parentElement.classList.contains(classNames.firstButton)\n            || args.target.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if (args.target.parentElement.classList.contains(classNames.secondButton)\n            || (args.target.classList.contains(classNames.secondButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        if (value >= this.min && value <= this.max) {\n            this.changeHandleValue(value);\n            this.refreshTooltipOnMove();\n        }\n    };\n    Slider.prototype.repeatHandlerMouse = function (args) {\n        args.preventDefault();\n        if (args.type === ('mousedown') || args.type === ('touchstart')) {\n            this.buttonClick(args);\n            this.repeatInterval = setInterval(this.repeatButton.bind(this), 180, args);\n        }\n    };\n    Slider.prototype.materialChange = function () {\n        if (!this.getHandle().classList.contains('e-large-thumb-size')) {\n            this.getHandle().classList.add('e-large-thumb-size');\n        }\n    };\n    Slider.prototype.repeatHandlerUp = function (e) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n            this.closeTooltip();\n        }\n        clearInterval(this.repeatInterval);\n        this.getHandle().focus();\n    };\n    Slider.prototype.customTickCounter = function (bigNum) {\n        var tickCount = 4;\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            if (bigNum > 4) {\n                tickCount = 3;\n            }\n            if (bigNum > 7) {\n                tickCount = 2;\n            }\n            if (bigNum > 14) {\n                tickCount = 1;\n            }\n            if (bigNum > 28) {\n                tickCount = 0;\n            }\n        }\n        return tickCount;\n    };\n    Slider.prototype.renderScale = function () {\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        var spanText;\n        this.noOfDecimals = this.numberOfDecimals(this.step);\n        this.ul = this.createElement('ul', {\n            className: classNames.scale + ' ' + 'e-' + orien + '-scale ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        this.ul.style.zIndex = '-1';\n        if (Browser.isAndroid && orien === 'h') {\n            this.ul.classList.add(classNames.sliderTickPosition);\n        }\n        var smallStep = this.ticks.smallStep;\n        if (!this.ticks.showSmallTicks) {\n            this.ticks.largeStep > 0 ? (smallStep = this.ticks.largeStep) :\n                (smallStep = (parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        }\n        else if (smallStep <= 0) {\n            smallStep = parseFloat(formatUnit(this.step));\n        }\n        var min = this.fractionalToInteger(this.min);\n        var max = this.fractionalToInteger(this.max);\n        var steps = this.fractionalToInteger(smallStep);\n        var bigNum = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 && this.customValues.length - 1;\n        var customStep = this.customTickCounter(bigNum);\n        var count = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            (bigNum * customStep) + bigNum : Math.abs((max - min) / steps);\n        this.element.appendChild(this.ul);\n        var li;\n        var start = parseFloat(this.min.toString());\n        if (orien === 'v') {\n            start = parseFloat(this.max.toString());\n        }\n        var left = 0;\n        var islargeTick;\n        var tickWidth = 100 / count;\n        if (tickWidth === Infinity) {\n            tickWidth = 5;\n        }\n        for (var i = 0, y = !isNullOrUndefined(this.customValues) && this.customValues.length > 0 ?\n            this.customValues.length - 1 : 0, k = 0; i <= count; i++) {\n            li = (this.createElement('li', {\n                attrs: {\n                    class: classNames.tick, role: 'presentation', tabIndex: '-1',\n                    'aria-hidden': 'true'\n                }\n            }));\n            if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n                islargeTick = i % (customStep + 1) === 0;\n                if (islargeTick) {\n                    if (orien === 'h') {\n                        start = this.customValues[k];\n                        k++;\n                    }\n                    else {\n                        start = this.customValues[y];\n                        y--;\n                    }\n                    li.setAttribute('title', start.toString());\n                }\n            }\n            else {\n                li.setAttribute('title', start.toString());\n                if (this.numberOfDecimals(this.max) === 0 && this.numberOfDecimals(this.min) === 0 &&\n                    this.numberOfDecimals(this.step) === 0) {\n                    if (orien === 'h') {\n                        islargeTick = ((start - parseFloat(this.min.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                    else {\n                        islargeTick = (Math.abs(start - parseFloat(this.max.toString())) % this.ticks.largeStep === 0) ? true : false;\n                    }\n                }\n                else {\n                    var largestep = this.fractionalToInteger(this.ticks.largeStep);\n                    var startValue = this.fractionalToInteger(start);\n                    islargeTick = ((startValue - min) % largestep === 0) ? true : false;\n                }\n            }\n            if (islargeTick) {\n                li.classList.add(classNames.large);\n            }\n            (orien === 'h') ? (li.style.width = tickWidth + '%') : (li.style.height = tickWidth + '%');\n            var repeat = islargeTick ? (this.ticks.placement === 'Both' ? 2 : 1) : 0;\n            if (islargeTick) {\n                for (var j = 0; j < repeat; j++) {\n                    this.createTick(li, start);\n                }\n            }\n            else if (isNullOrUndefined(this.customValues)) {\n                this.formatTicksValue(li, start);\n            }\n            this.ul.appendChild(li);\n            this.tickElementCollection.push(li);\n            var decimalPoints = void 0;\n            if (isNullOrUndefined(this.customValues)) {\n                if (this.numberOfDecimals(smallStep) > this.numberOfDecimals(start)) {\n                    decimalPoints = this.numberOfDecimals(smallStep);\n                }\n                else {\n                    decimalPoints = this.numberOfDecimals(start);\n                }\n                if (orien === 'h') {\n                    start = this.makeRoundNumber(start + smallStep, decimalPoints);\n                }\n                else {\n                    start = this.makeRoundNumber(start - smallStep, decimalPoints);\n                }\n                left = this.makeRoundNumber(left + smallStep, decimalPoints);\n            }\n        }\n        this.tickesAlignment(orien, tickWidth);\n    };\n    Slider.prototype.tickesAlignment = function (orien, tickWidth) {\n        this.firstChild = this.ul.firstElementChild;\n        this.lastChild = this.ul.lastElementChild;\n        this.firstChild.classList.add(classNames.sliderFirstTick);\n        this.lastChild.classList.add(classNames.sliderLastTick);\n        this.sliderContainer.classList.add(classNames.scale + '-' + this.ticks.placement.toLowerCase());\n        if (orien === 'h') {\n            this.firstChild.style.width = tickWidth / 2 + '%';\n            this.lastChild.style.width = tickWidth / 2 + '%';\n        }\n        else {\n            this.firstChild.style.height = tickWidth / 2 + '%';\n            this.lastChild.style.height = tickWidth / 2 + '%';\n        }\n        var eventArgs = { ticksWrapper: this.ul, tickElements: this.tickElementCollection };\n        this.trigger('renderedTicks', eventArgs);\n        this.scaleAlignment();\n    };\n    Slider.prototype.createTick = function (li, start) {\n        var span = this.createElement('span', {\n            className: classNames.tickValue + ' ' + classNames.tick + '-' + this.ticks.placement.toLowerCase(),\n            attrs: { role: 'presentation', tabIndex: '-1', 'aria-hidden': 'true' }\n        });\n        li.appendChild(span);\n        span.innerHTML = isNullOrUndefined(this.customValues) ? this.formatTicksValue(li, start) : start;\n    };\n    Slider.prototype.formatTicksValue = function (li, start) {\n        var tickText = this.formatNumber(start);\n        var text = !isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format) ?\n            this.formatString(start, this.ticksFormatInfo).formatString : tickText;\n        var eventArgs = { value: start, text: text, tickElement: li };\n        this.trigger('renderingTicks', eventArgs);\n        li.setAttribute('title', eventArgs.text.toString());\n        return eventArgs.text.toString();\n    };\n    Slider.prototype.scaleAlignment = function () {\n        this.tickValuePosition();\n        var smallTick = 12;\n        var largeTick = 20;\n        var half = largeTick / 2;\n        var orien = this.orientation === 'Vertical' ? 'v' : 'h';\n        if (this.orientation === 'Vertical') {\n            (this.element.getBoundingClientRect().width <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n        else {\n            (this.element.getBoundingClientRect().height <= 15) ?\n                this.sliderContainer.classList.add(classNames.sliderSmallSize) :\n                this.sliderContainer.classList.remove(classNames.sliderSmallSize);\n        }\n    };\n    Slider.prototype.tickValuePosition = function () {\n        var first = this.firstChild.getBoundingClientRect();\n        var firstChild;\n        var smallStep = this.ticks.smallStep;\n        var count = Math.abs((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min)))) / smallStep;\n        if (this.firstChild.children.length > 0) {\n            firstChild = this.firstChild.children[0].getBoundingClientRect();\n        }\n        var tickElements = [this.sliderContainer.querySelectorAll('.' + classNames.tick + '.' +\n                classNames.large + ' .' + classNames.tickValue)];\n        var other;\n        if (this.ticks.placement === 'Both') {\n            other = [].slice.call(tickElements[0], 2);\n        }\n        else {\n            other = [].slice.call(tickElements[0], 1);\n        }\n        var tickWidth = this.orientation === 'Vertical' ?\n            (first.height * 2) : (first.width * 2);\n        for (var i = 0; i < this.firstChild.children.length; i++) {\n            if (this.orientation === 'Vertical') {\n                this.firstChild.children[i].style.top = -(firstChild.height / 2) + 'px';\n            }\n            else {\n                if (!this.enableRtl) {\n                    this.firstChild.children[i].style.left = -(firstChild.width / 2) + 'px';\n                }\n                else {\n                    this.firstChild.children[i].style.left = (tickWidth -\n                        this.firstChild.children[i].getBoundingClientRect().width) / 2 + 'px';\n                }\n            }\n        }\n        for (var i = 0; i < other.length; i++) {\n            var otherChild = other[i].getBoundingClientRect();\n            if (this.orientation === 'Vertical') {\n                setStyleAttribute(other[i], { top: (tickWidth - otherChild.height) / 2 + 'px' });\n            }\n            else {\n                setStyleAttribute(other[i], { left: (tickWidth - otherChild.width) / 2 + 'px' });\n            }\n        }\n        if (this.enableRtl && this.lastChild.children.length && count !== 0) {\n            this.lastChild.children[0].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            if (this.ticks.placement === 'Both') {\n                this.lastChild.children[1].style.left = -(this.lastChild.getBoundingClientRect().width / 2) + 'px';\n            }\n        }\n        if (count === 0) {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.left = this.firstHandle.style.left;\n                }\n                else {\n                    this.firstChild.classList.remove(classNames.sliderLastTick);\n                    this.firstChild.style.right = this.firstHandle.style.right;\n                    this.firstChild.children[0].style.left =\n                        (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    if (this.ticks.placement === 'Both') {\n                        this.firstChild.children[1].style.left =\n                            (this.firstChild.getBoundingClientRect().width / 2) + 2 + 'px';\n                    }\n                }\n            }\n            if (this.orientation === 'Vertical') {\n                this.firstChild.classList.remove(classNames.sliderLastTick);\n            }\n        }\n    };\n    Slider.prototype.setAriaAttrValue = function (element) {\n        var ariaValueText;\n        var isTickFormatted = ((!isNullOrUndefined(this.ticks) && !isNullOrUndefined(this.ticks.format))) ? true : false;\n        var text = !isTickFormatted ?\n            this.formatContent(this.ticksFormatInfo, false) : this.formatContent(this.tooltipFormatInfo, false);\n        var valuenow = isTickFormatted ? this.formatContent(this.ticksFormatInfo, true) :\n            this.formatContent(this.tooltipFormatInfo, true);\n        text = (!this.customAriaText) ? (text) : (this.customAriaText);\n        if (text.split(' - ').length === 2) {\n            ariaValueText = text.split(' - ');\n        }\n        else {\n            ariaValueText = [text, text];\n        }\n        this.setAriaAttributes(element);\n        if (this.type !== 'Range') {\n            attributes(element, { 'aria-valuenow': valuenow, 'aria-valuetext': text });\n        }\n        else {\n            (!this.enableRtl) ? ((element === this.firstHandle) ?\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }) :\n                attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] })) :\n                ((element === this.firstHandle) ?\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[1], 'aria-valuetext': ariaValueText[1] }) :\n                    attributes(element, { 'aria-valuenow': valuenow.split(' - ')[0], 'aria-valuetext': ariaValueText[0] }));\n        }\n    };\n    Slider.prototype.handleValueUpdate = function () {\n        var hVal;\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                hVal = this.handleVal1;\n            }\n            else {\n                hVal = this.handleVal2;\n            }\n        }\n        else {\n            hVal = this.handleVal1;\n        }\n        return hVal;\n    };\n    Slider.prototype.getLimitCorrectedValues = function (value) {\n        if (this.type === 'MinRange' || this.type === 'Default') {\n            value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n        }\n        else {\n            if (this.activeHandle === 1) {\n                value = (this.getLimitValueAndPosition(value, this.limits.minStart, this.limits.minEnd))[0];\n            }\n            else {\n                value = (this.getLimitValueAndPosition(value, this.limits.maxStart, this.limits.maxEnd))[0];\n            }\n        }\n        return value;\n    };\n    Slider.prototype.focusSliderElement = function () {\n        if (!this.isElementFocused) {\n            this.element.focus();\n            this.isElementFocused = true;\n        }\n    };\n    Slider.prototype.buttonClick = function (args) {\n        this.focusSliderElement();\n        var value;\n        var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n        var hVal = this.handleValueUpdate();\n        if ((args.keyCode === 40) || (args.keyCode === 37)\n            || args.currentTarget.classList.contains(classNames.firstButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), false));\n        }\n        else if ((args.keyCode === 38) || (args.keyCode === 39) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.step.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.step.toString()), true));\n        }\n        else if ((args.keyCode === 33\n            || args.currentTarget.classList.contains(classNames.firstButton))) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true));\n        }\n        else if ((args.keyCode === 34) ||\n            args.currentTarget.classList.contains(classNames.secondButton)) {\n            enabledRTL ? (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), true)) :\n                (value = this.add(hVal, parseFloat(this.ticks.largeStep.toString()), false));\n        }\n        else if ((args.keyCode === 36)) {\n            value = parseFloat(this.min.toString());\n        }\n        else if ((args.keyCode === 35)) {\n            value = parseFloat(this.max.toString());\n        }\n        if (this.limits.enabled) {\n            value = this.getLimitCorrectedValues(value);\n        }\n        this.changeHandleValue(value);\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        this.tooltipAnimation();\n        this.getHandle().focus();\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.add(this.firstBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.add(this.secondBtn, 'mouseup touchend', this.buttonUp, this);\n        }\n    };\n    Slider.prototype.tooltipAnimation = function () {\n        if (this.tooltip.isVisible) {\n            var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() : this.refreshTooltip();\n            }\n            else {\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.openTooltip();\n            }\n        }\n    };\n    Slider.prototype.buttonUp = function (args) {\n        if (this.tooltip.isVisible) {\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (args.currentTarget.classList.contains(classNames.firstButton)) {\n            EventHandler.remove(this.firstBtn, 'mouseup touchend', this.buttonUp);\n        }\n        if (args.currentTarget.classList.contains(classNames.secondButton)) {\n            EventHandler.remove(this.secondBtn, 'mouseup touchend', this.buttonUp);\n        }\n    };\n    Slider.prototype.setRangeBar = function () {\n        if (this.orientation === 'Horizontal') {\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else {\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n    };\n    Slider.prototype.checkValidValueAndPos = function (value) {\n        value = this.checkHandleValue(value);\n        value = this.checkHandlePosition(value);\n        return value;\n    };\n    Slider.prototype.setLimitBarPositions = function (fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion) {\n        if (this.orientation === 'Horizontal') {\n            if (!this.enableRtl) {\n                this.limitBarFirst.style.left = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n            else {\n                this.limitBarFirst.style.right = fromMinPostion + 'px';\n                this.limitBarFirst.style.width = (fromMaxpostion - fromMinPostion) + 'px';\n            }\n        }\n        else {\n            this.limitBarFirst.style.bottom = fromMinPostion + 'px';\n            this.limitBarFirst.style.height = (fromMaxpostion - fromMinPostion) + 'px';\n        }\n        if (this.type === 'Range') {\n            if (this.orientation === 'Horizontal') {\n                if (!this.enableRtl) {\n                    this.limitBarSecond.style.left = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n                else {\n                    this.limitBarSecond.style.right = toMinPostion + 'px';\n                    this.limitBarSecond.style.width = (toMaxpostion - toMinPostion) + 'px';\n                }\n            }\n            else {\n                this.limitBarSecond.style.bottom = toMinPostion + 'px';\n                this.limitBarSecond.style.height = (toMaxpostion - toMinPostion) + 'px';\n            }\n        }\n    };\n    Slider.prototype.setLimitBar = function () {\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            var fromPosition = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromPosition = this.checkValidValueAndPos(fromPosition);\n            var toPosition = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            toPosition = this.checkValidValueAndPos(toPosition);\n            this.setLimitBarPositions(fromPosition, toPosition);\n        }\n        else if (this.type === 'Range') {\n            var fromMinPostion = (this.getLimitValueAndPosition(this.limits.minStart, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMinPostion = this.checkValidValueAndPos(fromMinPostion);\n            var fromMaxpostion = (this.getLimitValueAndPosition(this.limits.minEnd, this.limits.minStart, this.limits.minEnd, true))[0];\n            fromMaxpostion = this.checkValidValueAndPos(fromMaxpostion);\n            var toMinPostion = (this.getLimitValueAndPosition(this.limits.maxStart, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMinPostion = this.checkValidValueAndPos(toMinPostion);\n            var toMaxpostion = (this.getLimitValueAndPosition(this.limits.maxEnd, this.limits.maxStart, this.limits.maxEnd, true))[0];\n            toMaxpostion = this.checkValidValueAndPos(toMaxpostion);\n            this.setLimitBarPositions(fromMinPostion, fromMaxpostion, toMinPostion, toMaxpostion);\n        }\n    };\n    Slider.prototype.getLimitValueAndPosition = function (currentValue, minValue, maxValue, limitBar) {\n        if (isNullOrUndefined(minValue)) {\n            minValue = this.min;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = minValue;\n            }\n        }\n        if (isNullOrUndefined(maxValue)) {\n            maxValue = this.max;\n            if (isNullOrUndefined(currentValue) && limitBar) {\n                currentValue = maxValue;\n            }\n        }\n        if (currentValue < minValue) {\n            currentValue = minValue;\n        }\n        if (currentValue > maxValue) {\n            currentValue = maxValue;\n        }\n        return [currentValue, this.checkHandlePosition(currentValue)];\n    };\n    Slider.prototype.setValue = function () {\n        if (!isNullOrUndefined(this.customValues) && this.customValues.length > 0) {\n            this.min = 0;\n            this.max = this.customValues.length - 1;\n        }\n        this.setAriaAttributes(this.firstHandle);\n        this.handleVal1 = isNullOrUndefined(this.value) ? this.checkHandleValue(parseFloat(this.min.toString())) :\n            this.checkHandleValue(parseFloat(this.value.toString()));\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.preHandlePos1 = this.handlePos1;\n        isNullOrUndefined(this.activeHandle) ? (this.type === 'Range' ? this.activeHandle = 2 : this.activeHandle = 1) :\n            this.activeHandle = this.activeHandle;\n        if (this.type === 'Default' || this.type === 'MinRange') {\n            if (this.limits.enabled) {\n                var values = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = values[0];\n                this.handlePos1 = values[1];\n                this.preHandlePos1 = this.handlePos1;\n            }\n            this.setHandlePosition();\n            this.handleStart();\n            this.value = this.handleVal1;\n            this.setAriaAttrValue(this.firstHandle);\n            this.changeEvent('changed');\n        }\n        else {\n            this.validateRangeValue();\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n    };\n    Slider.prototype.rangeValueUpdate = function () {\n        if (this.value === null || typeof (this.value) !== 'object') {\n            this.value = [parseFloat(formatUnit(this.min)), parseFloat(formatUnit(this.max))];\n        }\n    };\n    Slider.prototype.validateRangeValue = function () {\n        this.rangeValueUpdate();\n        this.setRangeValue();\n    };\n    Slider.prototype.modifyZindex = function () {\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.style.zIndex = (this.zIndex + 4) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 3) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                }\n            }\n            else {\n                this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n                this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n                if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement && this.secondTooltipElement) {\n                    this.firstTooltipElement.style.zIndex = (this.zIndex + 3) + '';\n                    this.secondTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n                }\n            }\n        }\n        else if (this.isMaterial && this.tooltip.isVisible && this.firstTooltipElement) {\n            this.firstTooltipElement.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setHandlePosition = function () {\n        var _this = this;\n        var pos = (this.activeHandle === 1) ? this.handlePos1 : this.handlePos2;\n        var val = (this.activeHandle === 1) ? this.handleVal1 : this.handleVal2;\n        var handle;\n        var tooltipElement;\n        if (this.isMaterial && this.tooltip.isVisible) {\n            tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            handle = [this.getHandle(), (this.activeHandle === 1 ? this.firstMaterialHandle : this.secondMaterialHandle)];\n        }\n        else {\n            handle = [this.getHandle()];\n        }\n        if (this.tooltip.isVisible && pos === 0 && this.type !== 'Range') {\n            handle[0].classList.add(classNames.sliderHandleStart);\n            if (this.isMaterial) {\n                handle[1].classList.add(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.add(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        else {\n            handle[0].classList.remove(classNames.sliderHandleStart);\n            if (this.tooltip.isVisible && this.isMaterial) {\n                handle[1].classList.remove(classNames.sliderHandleStart);\n                if (tooltipElement) {\n                    tooltipElement.classList.remove(classNames.sliderTooltipStart);\n                }\n            }\n        }\n        handle.forEach(function (handle) {\n            if (_this.orientation === 'Horizontal') {\n                _this.enableRtl ? (handle.style.right =\n                    pos + \"px\") : (handle.style.left = pos + \"px\");\n            }\n            else {\n                handle.style.bottom = pos + \"px\";\n            }\n        });\n        this.changeEvent('change');\n    };\n    Slider.prototype.getHandle = function () {\n        return (this.activeHandle === 1) ? this.firstHandle : this.secondHandle;\n    };\n    Slider.prototype.setRangeValue = function () {\n        var temp = this.activeHandle;\n        this.updateRangeValue();\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        this.activeHandle = 1;\n    };\n    Slider.prototype.changeEvent = function (eventName) {\n        var previous = eventName === 'change' ? this.previousVal : this.previousChanged;\n        if (this.type !== 'Range') {\n            this.setProperties({ 'value': this.handleVal1 }, true);\n            if (previous !== this.value) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.firstHandle);\n        }\n        else {\n            var value = this.value = [this.handleVal1, this.handleVal2];\n            this.setProperties({ 'value': value }, true);\n            if (previous.length === this.value.length\n                && this.value[0] !== previous[0] || this.value[1] !== previous[1]) {\n                this.trigger(eventName, this.changeEventArgs(eventName));\n                this.setPreviousVal(eventName, this.value);\n            }\n            this.setAriaAttrValue(this.getHandle());\n        }\n        this.hiddenInput.value = this.value.toString();\n    };\n    Slider.prototype.changeEventArgs = function (eventName) {\n        var eventArgs;\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: this.firstTooltipObj.content\n            };\n        }\n        else {\n            eventArgs = {\n                value: this.value,\n                previousValue: eventName === 'change' ? this.previousVal : this.previousChanged,\n                action: eventName, text: isNullOrUndefined(this.ticksFormatInfo.format) ? this.value.toString() :\n                    (this.type !== 'Range' ? this.formatString(this.value, this.ticksFormatInfo).formatString :\n                        (this.formatString(this.value[0], this.ticksFormatInfo).formatString + ' - ' +\n                            this.formatString(this.value[1], this.ticksFormatInfo).formatString))\n            };\n        }\n        return eventArgs;\n    };\n    Slider.prototype.setPreviousVal = function (eventName, value) {\n        if (eventName === 'change') {\n            this.previousVal = value;\n        }\n        else {\n            this.previousChanged = value;\n        }\n    };\n    Slider.prototype.updateRangeValue = function () {\n        var values = this.value.toString().split(',').map(Number);\n        if ((this.enableRtl && this.orientation !== 'Vertical') || this.rtl) {\n            this.value = [values[1], values[0]];\n        }\n        else {\n            this.value = [values[0], values[1]];\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            this.handleVal1 = this.checkHandleValue(this.value[1]);\n            this.handleVal2 = this.checkHandleValue(this.value[0]);\n        }\n        else {\n            this.handleVal1 = this.checkHandleValue(this.value[0]);\n            this.handleVal2 = this.checkHandleValue(this.value[1]);\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        if (this.handlePos1 > this.handlePos2) {\n            this.handlePos1 = this.handlePos2;\n            this.handleVal1 = this.handleVal2;\n        }\n        this.preHandlePos1 = this.handlePos1;\n        this.preHandlePos2 = this.handlePos2;\n        if (this.limits.enabled) {\n            this.activeHandle = 1;\n            var values_1 = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n            this.handleVal1 = values_1[0];\n            this.handlePos1 = values_1[1];\n            this.preHandlePos1 = this.handlePos1;\n            this.activeHandle = 2;\n            values_1 = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n            this.handleVal2 = values_1[0];\n            this.handlePos2 = values_1[1];\n            this.preHandlePos2 = this.handlePos2;\n        }\n    };\n    Slider.prototype.checkHandlePosition = function (value) {\n        var pos;\n        value = (100 *\n            (value - (parseFloat(formatUnit(this.min))))) / ((parseFloat(formatUnit(this.max))) - (parseFloat(formatUnit(this.min))));\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (value / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (value / 100);\n        }\n        if (((parseFloat(formatUnit(this.max))) === (parseFloat(formatUnit(this.min))))) {\n            if (this.orientation === 'Horizontal') {\n                pos = this.element.getBoundingClientRect().width;\n            }\n            else {\n                pos = this.element.getBoundingClientRect().height;\n            }\n        }\n        return pos;\n    };\n    Slider.prototype.checkHandleValue = function (value) {\n        if (this.min > this.max) {\n            this.min = this.max;\n        }\n        if (this.min === this.max) {\n            return (parseFloat(formatUnit(this.max)));\n        }\n        var handle = this.tempStartEnd();\n        if (value < handle.start) {\n            value = handle.start;\n        }\n        else if (value > handle.end) {\n            value = handle.end;\n        }\n        return value;\n    };\n    Slider.prototype.onResize = function () {\n        var _this = this;\n        this.firstHandle.style.transition = 'none';\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        if (this.type === 'Range') {\n            this.secondHandle.style.transition = 'none';\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        if (this.handleVal2) {\n            this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n        }\n        if (this.orientation === 'Horizontal') {\n            this.enableRtl ? this.firstHandle.style.right =\n                this.handlePos1 + \"px\" : this.firstHandle.style.left = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.enableRtl ? this.firstMaterialHandle.style.right =\n                    this.handlePos1 + \"px\" : this.firstMaterialHandle.style.left = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.enableRtl ? (this.rangeBar.style.right = '0px') : (this.rangeBar.style.left = '0px');\n                setStyleAttribute(this.rangeBar, { 'width': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.enableRtl ? this.secondHandle.style.right =\n                    this.handlePos2 + \"px\" : this.secondHandle.style.left = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.enableRtl ? this.secondMaterialHandle.style.right =\n                        this.handlePos2 + \"px\" : this.secondMaterialHandle.style.left = this.handlePos2 + \"px\";\n                }\n                this.enableRtl ? (this.rangeBar.style.right =\n                    this.handlePos1 + 'px') : (this.rangeBar.style.left = this.handlePos1 + 'px');\n                setStyleAttribute(this.rangeBar, { 'width': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        else {\n            this.firstHandle.style.bottom = this.handlePos1 + \"px\";\n            if (this.isMaterial && this.tooltip.isVisible && this.firstMaterialHandle) {\n                this.firstMaterialHandle.style.bottom = this.handlePos1 + \"px\";\n            }\n            if (this.type === 'MinRange') {\n                this.rangeBar.style.bottom = '0px';\n                setStyleAttribute(this.rangeBar, { 'height': isNullOrUndefined(this.handlePos1) ? 0 : this.handlePos1 + 'px' });\n            }\n            else if (this.type === 'Range') {\n                this.secondHandle.style.bottom = this.handlePos2 + \"px\";\n                if (this.isMaterial && this.tooltip.isVisible && this.secondMaterialHandle) {\n                    this.secondMaterialHandle.style.bottom = this.handlePos2 + \"px\";\n                }\n                this.rangeBar.style.bottom = this.handlePos1 + 'px';\n                setStyleAttribute(this.rangeBar, { 'height': this.handlePos2 - this.handlePos1 + 'px' });\n            }\n        }\n        if (this.limits.enabled) {\n            this.setLimitBar();\n        }\n        if (this.ticks.placement !== 'None' && this.ul) {\n            this.removeElement(this.ul);\n            this.renderScale();\n        }\n        if (!this.tooltip.isVisible) {\n            setTimeout(function () {\n                _this.firstHandle.style.transition = _this.scaleTransform;\n                if (_this.type === 'Range') {\n                    _this.secondHandle.style.transition = _this.scaleTransform;\n                }\n            });\n        }\n        this.refreshTooltip();\n    };\n    Slider.prototype.changeHandleValue = function (value) {\n        var position = null;\n        if (this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                this.handleVal1 = this.checkHandleValue(value);\n                this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n                if (this.type === 'Range' && this.handlePos1 > this.handlePos2) {\n                    this.handlePos1 = this.handlePos2;\n                    this.handleVal1 = this.handleVal2;\n                }\n                if (this.handlePos1 !== this.preHandlePos1) {\n                    position = this.preHandlePos1 = this.handlePos1;\n                }\n            }\n            this.modifyZindex();\n        }\n        else {\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                this.handleVal2 = this.checkHandleValue(value);\n                this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n                if (this.type === 'Range' && this.handlePos2 < this.handlePos1) {\n                    this.handlePos2 = this.handlePos1;\n                    this.handleVal2 = this.handleVal1;\n                }\n                if (this.handlePos2 !== this.preHandlePos2) {\n                    position = this.preHandlePos2 = this.handlePos2;\n                }\n            }\n            this.modifyZindex();\n        }\n        if (position !== null) {\n            if (this.type !== 'Default') {\n                this.setRangeBar();\n            }\n            this.setHandlePosition();\n        }\n    };\n    Slider.prototype.tempStartEnd = function () {\n        if (this.min > this.max) {\n            return {\n                start: this.max,\n                end: this.min\n            };\n        }\n        else {\n            return {\n                start: this.min,\n                end: this.max\n            };\n        }\n    };\n    Slider.prototype.xyToPosition = function (position) {\n        var pos;\n        if (this.min === this.max) {\n            return 100;\n        }\n        if (this.orientation === 'Horizontal') {\n            var left = position.x - this.element.getBoundingClientRect().left;\n            var num = this.element.offsetWidth / 100;\n            this.val = (left / num);\n        }\n        else {\n            var top_1 = position.y - this.element.getBoundingClientRect().top;\n            var num = this.element.offsetHeight / 100;\n            this.val = 100 - (top_1 / num);\n        }\n        var val = this.stepValueCalculation(this.val);\n        if (val < 0) {\n            val = 0;\n        }\n        else if (val > 100) {\n            val = 100;\n        }\n        if (this.enableRtl && this.orientation !== 'Vertical') {\n            val = 100 - val;\n        }\n        if (this.orientation === 'Horizontal') {\n            pos = this.element.getBoundingClientRect().width * (val / 100);\n        }\n        else {\n            pos = this.element.getBoundingClientRect().height * (val / 100);\n        }\n        return pos;\n    };\n    Slider.prototype.stepValueCalculation = function (value) {\n        if (this.step === 0) {\n            this.step = 1;\n        }\n        var percentStep = (parseFloat(formatUnit(this.step))) / ((parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min))) / 100);\n        var remain = value % Math.abs(percentStep);\n        if (remain !== 0) {\n            if ((percentStep / 2) > remain) {\n                value -= remain;\n            }\n            else {\n                value += Math.abs(percentStep) - remain;\n            }\n        }\n        return value;\n    };\n    Slider.prototype.add = function (a, b, addition) {\n        var precision;\n        var x = Math.pow(10, precision || 3);\n        var val;\n        if (addition) {\n            val = (Math.round(a * x) + Math.round(b * x)) / x;\n        }\n        else {\n            val = (Math.round(a * x) - Math.round(b * x)) / x;\n        }\n        return val;\n    };\n    Slider.prototype.round = function (a) {\n        var f = this.step.toString().split('.');\n        return f[1] ? parseFloat(a.toFixed(f[1].length)) : Math.round(a);\n    };\n    Slider.prototype.positionToValue = function (pos) {\n        var val;\n        var diff = parseFloat(formatUnit(this.max)) - parseFloat(formatUnit(this.min));\n        if (this.orientation === 'Horizontal') {\n            val = (pos / this.element.getBoundingClientRect().width) * diff;\n        }\n        else {\n            val = (pos / this.element.getBoundingClientRect().height) * diff;\n        }\n        var total = this.add(val, parseFloat(this.min.toString()), true);\n        return (total);\n    };\n    Slider.prototype.sliderBarClick = function (evt) {\n        evt.preventDefault();\n        var pos;\n        if (evt.type === 'mousedown' || evt.type === 'click') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else if (evt.type === 'touchstart') {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        if (this.type === 'Range' && (this.handlePos2 - handlepos) < (handlepos - this.handlePos1)) {\n            this.activeHandle = 2;\n            if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos2 = this.preHandlePos2 = handlepos;\n                this.handleVal2 = handleVal;\n            }\n            this.modifyZindex();\n            this.secondHandle.focus();\n        }\n        else {\n            this.activeHandle = 1;\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handleVal = value[0];\n                    handlepos = value[1];\n                }\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                this.handlePos1 = this.preHandlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.modifyZindex();\n            this.firstHandle.focus();\n        }\n        if (this.isMaterial && this.tooltip.isVisible) {\n            var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n            tooltipElement.classList.add(classNames.materialTooltipActive);\n        }\n        var focusedElement = this.element.querySelector('.' + classNames.sliderTabHandle);\n        if (focusedElement && this.getHandle() !== focusedElement) {\n            focusedElement.classList.remove(classNames.sliderTabHandle);\n        }\n        var handle = this.activeHandle === 1 ? this.firstHandle : this.secondHandle;\n        if (evt.target === handle) {\n            if (this.isMaterial && !this.tooltip.isVisible &&\n                !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n                this.materialChange();\n            }\n            this.tooltipAnimation();\n            return;\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        var transition = this.isMaterial && this.tooltip.isVisible ?\n            this.transitionOnMaterialTooltip : this.transition;\n        this.getHandle().style.transition = transition.handle;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = transition.rangeBar;\n        }\n        this.setHandlePosition();\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.refreshTooltipOnMove = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            this.activeHandle === 1 ? this.firstTooltipObj.refresh(this.firstHandle) :\n                this.secondTooltipObj.refresh(this.secondHandle);\n        }\n    };\n    Slider.prototype.sliderDown = function (event) {\n        event.preventDefault();\n        this.focusSliderElement();\n        if (this.type === 'Range' && this.drag && event.target === this.rangeBar) {\n            var xPostion = void 0;\n            var yPostion = void 0;\n            if (event.type === 'mousedown') {\n                _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n            }\n            else if (event.type === 'touchstart') {\n                _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n            }\n            if (this.orientation === 'Horizontal') {\n                this.firstPartRemain = xPostion - this.rangeBar.getBoundingClientRect().left;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().right - xPostion;\n            }\n            else {\n                this.firstPartRemain = yPostion - this.rangeBar.getBoundingClientRect().top;\n                this.secondPartRemain = this.rangeBar.getBoundingClientRect().bottom - yPostion;\n            }\n            this.minDiff = this.handleVal2 - this.handleVal1;\n            this.getHandle().focus();\n            EventHandler.add(document, 'mousemove touchmove', this.dragRangeBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.dragRangeBarUp, this);\n        }\n        else {\n            this.sliderBarClick(event);\n            EventHandler.add(document, 'mousemove touchmove', this.sliderBarMove, this);\n            EventHandler.add(document, 'mouseup touchend', this.sliderBarUp, this);\n        }\n        var _a, _b;\n    };\n    Slider.prototype.handleValueAdjust = function (handleValue, assignValue, handleNumber) {\n        if (handleNumber === 1) {\n            this.handleVal1 = assignValue;\n            this.handleVal2 = this.handleVal1 + this.minDiff;\n        }\n        else if (handleNumber === 2) {\n            this.handleVal2 = assignValue;\n            this.handleVal1 = this.handleVal2 - this.minDiff;\n        }\n        this.handlePos1 = this.checkHandlePosition(this.handleVal1);\n        this.handlePos2 = this.checkHandlePosition(this.handleVal2);\n    };\n    Slider.prototype.dragRangeBarMove = function (event) {\n        if (event.type !== 'touchmove') {\n            event.preventDefault();\n        }\n        var pos;\n        this.rangeBar.style.transition = 'none';\n        this.firstHandle.style.transition = 'none';\n        this.secondHandle.style.transition = 'none';\n        var xPostion;\n        var yPostion;\n        if (event.type === 'mousemove') {\n            _a = [event.clientX, event.clientY], xPostion = _a[0], yPostion = _a[1];\n        }\n        else {\n            _b = [event.changedTouches[0].clientX, event.changedTouches[0].clientY], xPostion = _b[0], yPostion = _b[1];\n        }\n        if (!(this.limits.enabled && this.limits.startHandleFixed) && !(this.limits.enabled && this.limits.endHandleFixed)) {\n            if (!this.enableRtl) {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            else {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion + this.secondPartRemain };\n            }\n            this.handlePos1 = this.xyToPosition(pos);\n            this.handleVal1 = this.positionToValue(this.handlePos1);\n            if (!this.enableRtl) {\n                pos = { x: xPostion + this.secondPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            else {\n                pos = { x: xPostion - this.firstPartRemain, y: yPostion - this.firstPartRemain };\n            }\n            this.handlePos2 = this.xyToPosition(pos);\n            this.handleVal2 = this.positionToValue(this.handlePos2);\n            if (this.limits.enabled) {\n                var value = this.getLimitValueAndPosition(this.handleVal1, this.limits.minStart, this.limits.minEnd);\n                this.handleVal1 = value[0];\n                this.handlePos1 = value[1];\n                if (this.handleVal1 === this.limits.minEnd) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minEnd, 1);\n                }\n                if (this.handleVal1 === this.limits.minStart) {\n                    this.handleValueAdjust(this.handleVal1, this.limits.minStart, 1);\n                }\n                value = this.getLimitValueAndPosition(this.handleVal2, this.limits.maxStart, this.limits.maxEnd);\n                this.handleVal2 = value[0];\n                this.handlePos2 = value[1];\n                if (this.handleVal2 === this.limits.maxStart) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxStart, 2);\n                }\n                if (this.handleVal2 === this.limits.maxEnd) {\n                    this.handleValueAdjust(this.handleVal2, this.limits.maxEnd, 2);\n                }\n            }\n            if (this.handleVal2 === this.max) {\n                this.handleValueAdjust(this.handleVal2, this.max, 2);\n            }\n            if (this.handleVal1 === this.min) {\n                this.handleValueAdjust(this.handleVal1, this.min, 1);\n            }\n        }\n        this.activeHandle = 1;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.firstTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.firstTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.activeHandle = 2;\n        this.setHandlePosition();\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !this.secondTooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !this.secondTooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        this.setRangeBar();\n        var _a, _b;\n    };\n    Slider.prototype.sliderBarUp = function () {\n        this.changeEvent('changed');\n        this.handleFocusOut();\n        this.firstHandle.classList.remove(classNames.sliderActiveHandle);\n        if (this.type === 'Range') {\n            this.secondHandle.classList.remove(classNames.sliderActiveHandle);\n        }\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always') {\n                this.closeTooltip();\n            }\n            if (!this.isMaterial) {\n                var tooltipObj = this.activeHandle === 1 ? this.firstTooltipObj : this.secondTooltipObj;\n                tooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'None' } };\n            }\n        }\n        if (this.isMaterial) {\n            this.getHandle().classList.remove('e-large-thumb-size');\n            if (this.tooltip.isVisible) {\n                var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n                tooltipElement.classList.remove(classNames.materialTooltipActive);\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.sliderBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.sliderBarUp);\n    };\n    Slider.prototype.sliderBarMove = function (evt) {\n        if (evt.type !== 'touchmove') {\n            evt.preventDefault();\n        }\n        var pos;\n        if (evt.type === 'mousemove') {\n            pos = { x: evt.clientX, y: evt.clientY };\n        }\n        else {\n            pos = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY };\n        }\n        var handlepos = this.xyToPosition(pos);\n        var handleVal = this.positionToValue(handlepos);\n        handlepos = Math.round(handlepos);\n        if (this.type !== 'Range' && this.activeHandle === 1) {\n            if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                if (this.limits.enabled) {\n                    var valueAndPostion = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                    handlepos = valueAndPostion[1];\n                    handleVal = valueAndPostion[0];\n                }\n                this.handlePos1 = handlepos;\n                this.handleVal1 = handleVal;\n            }\n            this.firstHandle.classList.add(classNames.sliderActiveHandle);\n        }\n        if (this.type === 'Range') {\n            if (this.activeHandle === 1) {\n                this.firstHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.startHandleFixed)) {\n                    if (handlepos > this.handlePos2) {\n                        handlepos = this.handlePos2;\n                        handleVal = this.handleVal2;\n                    }\n                    if (handlepos !== this.preHandlePos1) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.minStart, this.limits.minEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos1 = this.preHandlePos1 = handlepos;\n                        this.handleVal1 = handleVal;\n                        this.activeHandle = 1;\n                    }\n                }\n            }\n            else if (this.activeHandle === 2) {\n                this.secondHandle.classList.add(classNames.sliderActiveHandle);\n                if (!(this.limits.enabled && this.limits.endHandleFixed)) {\n                    if (handlepos < this.handlePos1) {\n                        handlepos = this.handlePos1;\n                        handleVal = this.handleVal1;\n                    }\n                    if (handlepos !== this.preHandlePos2) {\n                        if (this.limits.enabled) {\n                            var value = this.getLimitValueAndPosition(handleVal, this.limits.maxStart, this.limits.maxEnd);\n                            handleVal = value[0];\n                            handlepos = value[1];\n                        }\n                        this.handlePos2 = this.preHandlePos2 = handlepos;\n                        this.handleVal2 = handleVal;\n                        this.activeHandle = 2;\n                    }\n                }\n            }\n        }\n        if (!this.checkRepeatedValue(handleVal)) {\n            return;\n        }\n        this.getHandle().style.transition = this.scaleTransform;\n        if (this.type !== 'Default') {\n            this.rangeBar.style.transition = 'none';\n        }\n        this.setHandlePosition();\n        if (this.isMaterial && !this.tooltip.isVisible &&\n            !this.getHandle().classList.contains(classNames.sliderTabHandle)) {\n            this.materialChange();\n        }\n        var tooltipElement = this.activeHandle === 1 ? this.firstTooltipElement : this.secondTooltipElement;\n        if (this.tooltip.isVisible) {\n            if (this.isMaterial) {\n                !tooltipElement.classList.contains(classNames.materialTooltipOpen) ? this.openMaterialTooltip() :\n                    this.refreshTooltipOnMove();\n            }\n            else {\n                !tooltipElement ? this.openTooltip() : this.refreshTooltipOnMove();\n            }\n        }\n        if (this.type !== 'Default') {\n            this.setRangeBar();\n        }\n    };\n    Slider.prototype.dragRangeBarUp = function (event) {\n        this.changeEvent('changed');\n        if (this.tooltip.isVisible) {\n            if (this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                this.activeHandle = 1;\n                this.firstTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n                this.activeHandle = 2;\n                this.secondTooltipObj.animation = { open: { effect: 'None' }, close: { effect: 'FadeOut', duration: 500 } };\n                this.closeTooltip();\n            }\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.dragRangeBarMove);\n        EventHandler.remove(document, 'mouseup touchend', this.dragRangeBarUp);\n    };\n    Slider.prototype.checkRepeatedValue = function (currentValue) {\n        if (this.type === 'Range') {\n            var previousVal = this.enableRtl && this.orientation !== 'Vertical' ? (this.activeHandle === 1 ?\n                this.previousVal[1] : this.previousVal[0]) :\n                (this.activeHandle === 1 ? this.previousVal[0] : this.previousVal[1]);\n            if (currentValue === previousVal) {\n                return 0;\n            }\n        }\n        else {\n            if (currentValue === this.previousVal) {\n                return 0;\n            }\n        }\n        return 1;\n    };\n    Slider.prototype.refreshTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n    };\n    Slider.prototype.openTooltip = function () {\n        if (this.tooltip.isVisible && this.firstTooltipObj) {\n            this.tooltipValue();\n            if (this.isMaterial) {\n                this.openMaterialTooltip();\n            }\n            else {\n                if (this.activeHandle === 1) {\n                    this.firstTooltipObj.open(this.firstHandle);\n                }\n                else {\n                    this.secondTooltipObj.open(this.secondHandle);\n                }\n            }\n        }\n    };\n    Slider.prototype.keyDown = function (event) {\n        switch (event.keyCode) {\n            case 37:\n            case 38:\n            case 39:\n            case 40:\n            case 33:\n            case 34:\n            case 36:\n            case 35:\n                event.preventDefault();\n                this.buttonClick(event);\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n                break;\n        }\n    };\n    Slider.prototype.wireButtonEvt = function (destroy) {\n        if (!destroy) {\n            EventHandler.add(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut, this);\n            EventHandler.add(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse, this);\n            EventHandler.add(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp, this);\n            EventHandler.add(this.firstBtn, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.secondBtn, 'focusout', this.sliderFocusOut, this);\n        }\n        else {\n            EventHandler.remove(this.firstBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.secondBtn, 'mouseleave touchleave', this.buttonFocusOut);\n            EventHandler.remove(this.firstBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.firstBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.secondBtn, 'mousedown touchstart', this.repeatHandlerMouse);\n            EventHandler.remove(this.secondBtn, 'mouseup mouseleave touchup touchend', this.repeatHandlerUp);\n            EventHandler.remove(this.firstBtn, 'focusout', this.sliderFocusOut);\n            EventHandler.remove(this.secondBtn, 'focusout', this.sliderFocusOut);\n        }\n    };\n    Slider.prototype.wireEvents = function () {\n        this.onresize = this.onResize.bind(this);\n        window.addEventListener('resize', this.onresize);\n        if (this.enabled && !this.readonly) {\n            EventHandler.add(this.element, 'mousedown touchstart', this.sliderDown, this);\n            EventHandler.add(this.sliderContainer, 'keydown', this.keyDown, this);\n            EventHandler.add(this.sliderContainer, 'keyup', this.keyUp, this);\n            EventHandler.add(this.element, 'focusout', this.sliderFocusOut, this);\n            EventHandler.add(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover, this);\n            this.wireFirstHandleEvt(false);\n            if (this.type === 'Range') {\n                this.wireSecondHandleEvt(false);\n            }\n            if (this.showButtons) {\n                this.wireButtonEvt(false);\n            }\n            this.wireMaterialTooltipEvent(false);\n        }\n    };\n    Slider.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown touchstart', this.sliderDown);\n        EventHandler.remove(this.sliderContainer, 'keydown', this.keyDown);\n        EventHandler.remove(this.sliderContainer, 'keyup', this.keyUp);\n        EventHandler.remove(this.element, 'focusout', this.sliderFocusOut);\n        EventHandler.remove(this.sliderContainer, 'mouseover mouseout touchstart touchend', this.hover);\n        this.wireFirstHandleEvt(true);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(true);\n        }\n        if (this.showButtons) {\n            this.wireButtonEvt(true);\n        }\n        this.wireMaterialTooltipEvent(true);\n    };\n    Slider.prototype.keyUp = function (event) {\n        if (event.keyCode === 9 && event.target.classList.contains(classNames.sliderHandle)) {\n            this.focusSliderElement();\n            if (!event.target.classList.contains(classNames.sliderTabHandle)) {\n                if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                    this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n                }\n                event.target.classList.add(classNames.sliderTabHandle);\n                var parentElement = event.target.parentElement;\n                if (parentElement === this.element) {\n                    parentElement.querySelector('.' + classNames.sliderTrack).classList.add(classNames.sliderTabTrack);\n                    if (this.type === 'Range' || this.type === 'MinRange') {\n                        parentElement.querySelector('.' + classNames.rangeBar).classList.add(classNames.sliderTabRange);\n                    }\n                }\n                if (this.type === 'Range') {\n                    (event.target.previousSibling).classList.contains(classNames.sliderHandle) ?\n                        this.activeHandle = 2 : this.activeHandle = 1;\n                }\n                this.getHandle().focus();\n                this.tooltipAnimation();\n                if (this.tooltip.isVisible && this.tooltip.showOn !== 'Always' && !this.isMaterial) {\n                    this.closeTooltip();\n                }\n            }\n        }\n        this.changeEvent('changed');\n    };\n    Slider.prototype.hover = function (event) {\n        if (!isNullOrUndefined(event)) {\n            if (event.type === 'mouseover' || event.type === 'touchmove' || event.type === 'mousemove' ||\n                event.type === 'pointermove' || event.type === 'touchstart') {\n                this.sliderContainer.classList.add(classNames.sliderHover);\n            }\n            else {\n                this.sliderContainer.classList.remove(classNames.sliderHover);\n            }\n        }\n    };\n    Slider.prototype.sliderFocusOut = function (event) {\n        var _this = this;\n        if (event.relatedTarget !== this.secondHandle && event.relatedTarget !== this.firstHandle &&\n            event.relatedTarget !== this.element && event.relatedTarget !== this.firstBtn && event.relatedTarget !== this.secondBtn) {\n            if (this.isMaterial && this.tooltip.isVisible) {\n                var transformProperties_1 = this.getTooltipTransformProperties(this.previousTooltipClass);\n                var tooltipElement = this.type !== 'Range' ? [this.firstTooltipElement] :\n                    [this.firstTooltipElement, this.secondTooltipElement];\n                var hiddenHandle_1 = this.type !== 'Range' ? [this.firstHandle] : [this.firstHandle, this.secondHandle];\n                var handle_1 = this.type !== 'Range' ? [this.firstMaterialHandle] :\n                    [this.firstMaterialHandle, this.secondMaterialHandle];\n                tooltipElement.forEach(function (tooltipElement, index) {\n                    if (tooltipElement) {\n                        tooltipElement.style.transition = _this.scaleTransform;\n                        tooltipElement.firstChild.classList.remove(classNames.materialTooltipShow);\n                        tooltipElement.firstChild.classList.add(classNames.materialTooltipHide);\n                        hiddenHandle_1[index].style.cursor = '-webkit-grab';\n                        hiddenHandle_1[index].style.cursor = 'grab';\n                        handle_1[index].style.transform = 'scale(1)';\n                        tooltipElement.classList.remove(classNames.materialTooltipOpen);\n                        if (tooltipElement.firstElementChild.innerText.length > 4) {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' + 'scale(0.01)';\n                        }\n                        else {\n                            tooltipElement.style.transform = transformProperties_1.translate + ' ' +\n                                transformProperties_1.rotate + ' ' + 'scale(0.01)';\n                        }\n                        setTimeout(function () { tooltipElement.style.transition = 'none'; }, 2500);\n                    }\n                });\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabHandle)) {\n                this.element.querySelector('.' + classNames.sliderTabHandle).classList.remove(classNames.sliderTabHandle);\n            }\n            if (this.element.querySelector('.' + classNames.sliderTabTrack)) {\n                this.element.querySelector('.' + classNames.sliderTabTrack).classList.remove(classNames.sliderTabTrack);\n                if ((this.type === 'Range' || this.type === 'MinRange') &&\n                    this.element.querySelector('.' + classNames.sliderTabRange)) {\n                    this.element.querySelector('.' + classNames.sliderTabRange).classList.remove(classNames.sliderTabRange);\n                }\n            }\n            this.hiddenInput.focus();\n            this.hiddenInput.blur();\n            this.isElementFocused = false;\n        }\n    };\n    Slider.prototype.closeTooltip = function () {\n        if (this.tooltip.isVisible) {\n            this.tooltipValue();\n            if (this.activeHandle === 1) {\n                this.firstTooltipObj.close();\n            }\n            else {\n                this.secondTooltipObj.close();\n            }\n        }\n    };\n    Slider.prototype.removeElement = function (element) {\n        if (element.parentNode) {\n            element.parentNode.removeChild(element);\n        }\n    };\n    Slider.prototype.changeSliderType = function (type) {\n        if (this.isMaterial && this.firstMaterialHandle) {\n            this.sliderContainer.classList.remove(classNames.materialSlider);\n            this.removeElement(this.firstMaterialHandle);\n            this.firstTooltipElement = undefined;\n            this.firstHandleTooltipPosition = undefined;\n            if (this.secondMaterialHandle) {\n                this.removeElement(this.secondMaterialHandle);\n                this.secondTooltipElement = undefined;\n                this.secondHandleTooltipPosition = undefined;\n            }\n        }\n        if (this.tooltip.isVisible && this.isMaterial) {\n            this.sliderContainer.classList.add(classNames.materialSlider);\n        }\n        this.removeElement(this.firstHandle);\n        if (type !== 'Default') {\n            if (type === 'Range') {\n                this.removeElement(this.secondHandle);\n            }\n            this.removeElement(this.rangeBar);\n        }\n        if (this.tooltip.isVisible && !isNullOrUndefined(this.firstTooltipObj)) {\n            this.firstTooltipObj.destroy();\n            if (type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        if (this.limits.enabled && type === 'MinRange' || type === 'Default') {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                this.removeElement(this.limitBarFirst);\n            }\n        }\n        if (type === 'Range') {\n            if (this.limits.enabled) {\n                if (!isNullOrUndefined(this.limitBarFirst) && !isNullOrUndefined(this.limitBarSecond)) {\n                    this.removeElement(this.limitBarFirst);\n                    this.removeElement(this.limitBarSecond);\n                }\n            }\n        }\n        this.createRangeBar();\n        if (this.limits.enabled) {\n            this.createLimitBar();\n        }\n        this.setHandler();\n        this.setOrientClass();\n        this.wireFirstHandleEvt(false);\n        if (this.type === 'Range') {\n            this.wireSecondHandleEvt(false);\n        }\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.renderTooltip();\n            this.wireMaterialTooltipEvent(false);\n        }\n        this.updateConfig();\n    };\n    Slider.prototype.changeRtl = function () {\n        if (!this.enableRtl && this.type === 'Range') {\n            this.value = [this.handleVal2, this.handleVal1];\n        }\n        this.updateConfig();\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.refresh(this.firstHandle);\n            if (this.type === 'Range') {\n                this.secondTooltipObj.refresh(this.secondHandle);\n            }\n        }\n        if (this.showButtons) {\n            var enabledRTL = this.enableRtl && this.orientation !== 'Vertical';\n            attributes(enabledRTL ? this.secondBtn : this.firstBtn, { 'aria-label': 'Decrease', title: 'Decrease' });\n            attributes(enabledRTL ? this.firstBtn : this.secondBtn, { 'aria-label': 'Increase', title: 'Increase' });\n        }\n    };\n    Slider.prototype.changeOrientation = function () {\n        this.changeSliderType(this.type);\n    };\n    Slider.prototype.updateConfig = function () {\n        this.setEnableRTL();\n        this.setValue();\n        if (this.tooltip.isVisible) {\n            this.refreshTooltip();\n        }\n        if (this.ticks.placement !== 'None') {\n            if (this.ul) {\n                this.removeElement(this.ul);\n                this.renderScale();\n            }\n        }\n        this.limitsPropertyChange();\n    };\n    Slider.prototype.limitsPropertyChange = function () {\n        if (this.limits.enabled) {\n            if (isNullOrUndefined(this.limitBarFirst) && this.type !== 'Range') {\n                this.createLimitBar();\n            }\n            if (isNullOrUndefined(this.limitBarFirst) && isNullOrUndefined(this.limitBarSecond) && this.type === 'Range') {\n                this.createLimitBar();\n            }\n            this.setLimitBar();\n            this.setValue();\n        }\n        else {\n            if (!isNullOrUndefined(this.limitBarFirst)) {\n                detach(this.limitBarFirst);\n            }\n            if (!isNullOrUndefined(this.limitBarSecond)) {\n                detach(this.limitBarSecond);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Slider.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Prepares the slider for safe removal from the DOM.\n     * Detaches all event handlers, attributes, and classes to avoid memory leaks.\n     * @method destroy\n     * @return {void}\n     */\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        window.removeEventListener('resize', this.onresize);\n        removeClass([this.sliderContainer], [classNames.sliderDisabled]);\n        this.firstHandle.removeAttribute('aria-orientation');\n        if (this.type === 'Range') {\n            this.secondHandle.removeAttribute('aria-orientation');\n        }\n        this.sliderContainer.parentNode.insertBefore(this.element, this.sliderContainer);\n        detach(this.sliderContainer);\n        if (this.tooltip.isVisible) {\n            this.firstTooltipObj.destroy();\n            if (this.type === 'Range' && !isNullOrUndefined(this.secondTooltipObj)) {\n                this.secondTooltipObj.destroy();\n            }\n        }\n        this.element.innerHTML = '';\n    };\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Slider.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'value':\n                    var value = isNullOrUndefined(newProp.value) ?\n                        (this.type === 'Range' ? [this.min, this.max] : this.min) : newProp.value;\n                    this.setProperties({ 'value': value }, true);\n                    if (oldProp.value.toString() !== value.toString()) {\n                        this.setValue();\n                        this.refreshTooltip();\n                        if (this.type === 'Range') {\n                            if (isNullOrUndefined(newProp.value) || oldProp.value[1] === value[1]) {\n                                this.activeHandle = 1;\n                            }\n                            else {\n                                this.activeHandle = 2;\n                            }\n                        }\n                    }\n                    break;\n                case 'min':\n                case 'step':\n                case 'max':\n                    this.setMinMaxValue();\n                    break;\n                case 'tooltip':\n                    if (!isNullOrUndefined(newProp.tooltip) && !isNullOrUndefined(oldProp.tooltip)) {\n                        this.setTooltip();\n                    }\n                    break;\n                case 'type':\n                    this.changeSliderType(oldProp.type);\n                    this.setZindex();\n                    break;\n                case 'enableRtl':\n                    if (oldProp.enableRtl !== newProp.enableRtl && this.orientation !== 'Vertical') {\n                        this.rtl = oldProp.enableRtl;\n                        this.changeRtl();\n                    }\n                    break;\n                case 'limits':\n                    this.limitsPropertyChange();\n                    break;\n                case 'orientation':\n                    this.changeOrientation();\n                    break;\n                case 'ticks':\n                    if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n                        detach(this.ul);\n                        Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                            if (className.match(/e-scale-/)) {\n                                _this.sliderContainer.classList.remove(className);\n                            }\n                        });\n                    }\n                    if (this.ticks.placement !== 'None') {\n                        this.renderScale();\n                        this.setZindex();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showButtons) {\n                        this.buttonTitle();\n                    }\n                    break;\n                case 'showButtons':\n                    if (newProp.showButtons) {\n                        this.setButtons();\n                        this.onResize();\n                        if (this.enabled && !this.readonly) {\n                            this.wireButtonEvt(false);\n                        }\n                    }\n                    else {\n                        if (this.firstBtn && this.secondBtn) {\n                            this.sliderContainer.removeChild(this.firstBtn);\n                            this.sliderContainer.removeChild(this.secondBtn);\n                            this.firstBtn = undefined;\n                            this.secondBtn = undefined;\n                        }\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnabled();\n                    break;\n                case 'readonly':\n                    this.setReadOnly();\n                    break;\n                case 'customValue':\n                    this.setValue();\n                    this.onResize();\n                    break;\n            }\n        }\n    };\n    Slider.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            this.unwireEvents();\n            this.sliderContainer.classList.add(classNames.readonly);\n        }\n        else {\n            this.wireEvents();\n            this.sliderContainer.classList.remove(classNames.readonly);\n        }\n    };\n    Slider.prototype.setMinMaxValue = function () {\n        var _this = this;\n        this.setValue();\n        this.refreshTooltip();\n        if (!isNullOrUndefined(this.sliderContainer.querySelector('.' + classNames.scale))) {\n            if (this.ul) {\n                detach(this.ul);\n                Array.prototype.forEach.call(this.sliderContainer.classList, function (className) {\n                    if (className.match(/e-scale-/)) {\n                        _this.sliderContainer.classList.remove(className);\n                    }\n                });\n            }\n        }\n        if (this.ticks.placement !== 'None') {\n            this.renderScale();\n            this.setZindex();\n        }\n    };\n    Slider.prototype.setZindex = function () {\n        this.zIndex = 6;\n        if (!isNullOrUndefined(this.ticks) && this.ticks.placement !== 'None') {\n            this.ul.style.zIndex = (this.zIndex + -7) + '';\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        if (!this.isMaterial && !isNullOrUndefined(this.ticks) && this.ticks.placement === 'Both') {\n            this.element.style.zIndex = (this.zIndex + 2) + '';\n        }\n        this.firstHandle.style.zIndex = (this.zIndex + 3) + '';\n        if (this.type === 'Range') {\n            this.secondHandle.style.zIndex = (this.zIndex + 4) + '';\n        }\n    };\n    Slider.prototype.setTooltip = function () {\n        this.changeSliderType(this.type);\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    Slider.prototype.getModuleName = function () {\n        return 'slider';\n    };\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Slider.prototype, \"customValues\", void 0);\n    __decorate([\n        Property(1)\n    ], Slider.prototype, \"step\", void 0);\n    __decorate([\n        Property(0)\n    ], Slider.prototype, \"min\", void 0);\n    __decorate([\n        Property(100)\n    ], Slider.prototype, \"max\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"readonly\", void 0);\n    __decorate([\n        Property('Default')\n    ], Slider.prototype, \"type\", void 0);\n    __decorate([\n        Complex({}, TicksData)\n    ], Slider.prototype, \"ticks\", void 0);\n    __decorate([\n        Complex({}, LimitData)\n    ], Slider.prototype, \"limits\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Complex({}, TooltipData)\n    ], Slider.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Slider.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(true)\n    ], Slider.prototype, \"enableAnimation\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Slider.prototype, \"orientation\", void 0);\n    __decorate([\n        Property('')\n    ], Slider.prototype, \"cssClass\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"changed\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderingTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"renderedTicks\", void 0);\n    __decorate([\n        Event()\n    ], Slider.prototype, \"tooltipChange\", void 0);\n    Slider = __decorate([\n        NotifyPropertyChanges\n    ], Slider);\n    return Slider;\n}(Component));\nexport { Slider };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, append, Animation } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, KeyboardEvents, setValue, getValue, ChildProperty } from '@syncfusion/ej2-base';\nimport { Collection, Complex, Browser, Ajax, getUniqueID } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-uploader';\nvar CONTROL_WRAPPER = 'e-upload';\nvar INPUT_WRAPPER = 'e-file-select';\nvar DROP_AREA = 'e-file-drop';\nvar DROP_WRAPPER = 'e-file-select-wrap';\nvar LIST_PARENT = 'e-upload-files';\nvar FILE = 'e-upload-file-list';\nvar STATUS = 'e-file-status';\nvar ACTION_BUTTONS = 'e-upload-actions';\nvar UPLOAD_BUTTONS = 'e-file-upload-btn e-css e-btn e-flat e-primary';\nvar CLEAR_BUTTONS = 'e-file-clear-btn e-css e-btn e-flat';\nvar FILE_NAME = 'e-file-name';\nvar FILE_TYPE = 'e-file-type';\nvar FILE_SIZE = 'e-file-size';\nvar REMOVE_ICON = 'e-file-remove-btn';\nvar DELETE_ICON = 'e-file-delete-btn';\nvar ABORT_ICON = 'e-file-abort-btn';\nvar RETRY_ICON = 'e-file-reload-btn';\nvar DRAG_HOVER = 'e-upload-drag-hover';\nvar PROGRESS_WRAPPER = 'e-upload-progress-wrap';\nvar PROGRESSBAR = 'e-upload-progress-bar';\nvar PROGRESSBAR_TEXT = 'e-progress-bar-text';\nvar UPLOAD_INPROGRESS = 'e-upload-progress';\nvar UPLOAD_SUCCESS = 'e-upload-success';\nvar UPLOAD_FAILED = 'e-upload-fails';\nvar TEXT_CONTAINER = 'e-file-container';\nvar VALIDATION_FAILS = 'e-validation-fails';\nvar RTL = 'e-rtl';\nvar DISABLED = 'e-disabled';\nvar RTL_CONTAINER = 'e-rtl-container';\nvar ICON_FOCUSED = 'e-clear-icon-focus';\nvar PROGRESS_INNER_WRAPPER = 'e-progress-inner-wrap';\nvar PAUSE_UPLOAD = 'e-file-pause-btn';\nvar RESUME_UPLOAD = 'e-file-play-btn';\nvar FilesProp = /** @class */ (function (_super) {\n    __extends(FilesProp, _super);\n    function FilesProp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], FilesProp.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], FilesProp.prototype, \"type\", void 0);\n    return FilesProp;\n}(ChildProperty));\nexport { FilesProp };\nvar ButtonsProps = /** @class */ (function (_super) {\n    __extends(ButtonsProps, _super);\n    function ButtonsProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Browse...')\n    ], ButtonsProps.prototype, \"browse\", void 0);\n    __decorate([\n        Property('Upload')\n    ], ButtonsProps.prototype, \"upload\", void 0);\n    __decorate([\n        Property('Clear')\n    ], ButtonsProps.prototype, \"clear\", void 0);\n    return ButtonsProps;\n}(ChildProperty));\nexport { ButtonsProps };\nvar AsyncSettings = /** @class */ (function (_super) {\n    __extends(AsyncSettings, _super);\n    function AsyncSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"saveUrl\", void 0);\n    __decorate([\n        Property('')\n    ], AsyncSettings.prototype, \"removeUrl\", void 0);\n    __decorate([\n        Property(0)\n    ], AsyncSettings.prototype, \"chunkSize\", void 0);\n    __decorate([\n        Property(3)\n    ], AsyncSettings.prototype, \"retryCount\", void 0);\n    __decorate([\n        Property(500)\n    ], AsyncSettings.prototype, \"retryAfterDelay\", void 0);\n    return AsyncSettings;\n}(ChildProperty));\nexport { AsyncSettings };\n/**\n * The uploader component allows to upload images, documents, and other files from local to server.\n * ```html\n * <input type='file' name='images[]' id='upload'/>\n * ```\n * ```typescript\n * <script>\n *   var uploadObj = new Uploader();\n *   uploadObj.appendTo('#upload');\n * </script>\n * ```\n */\nvar Uploader = /** @class */ (function (_super) {\n    __extends(Uploader, _super);\n    /**\n     * Triggers when change the Uploader value.\n     */\n    function Uploader(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.initialAttr = { accept: null, multiple: false, disabled: false };\n        _this.fileList = [];\n        _this.filesData = [];\n        _this.uploadedFilesData = [];\n        _this.isForm = false;\n        _this.allTypes = false;\n        _this.pausedData = [];\n        _this.uploadMetaData = [];\n        _this.tabIndex = '0';\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    Uploader.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowedExtensions':\n                    this.setExtensions(this.allowedExtensions);\n                    this.clearAll();\n                    break;\n                case 'enabled':\n                    this.setControlStatus();\n                    break;\n                case 'multiple':\n                    this.setMultipleSelection();\n                    break;\n                case 'enableRtl':\n                    this.setRTL();\n                    this.reRenderFileList();\n                    break;\n                case 'buttons':\n                    this.buttons.browse = isNullOrUndefined(this.buttons.browse) ? '' : this.buttons.browse;\n                    this.buttons.clear = isNullOrUndefined(this.buttons.clear) ? '' : this.buttons.clear;\n                    this.buttons.upload = isNullOrUndefined(this.buttons.upload) ? '' : this.buttons.upload;\n                    this.renderButtonTemplates();\n                    break;\n                case 'dropArea':\n                    this.unBindDropEvents();\n                    this.setDropArea();\n                    break;\n                case 'files':\n                    this.renderPreLoadFiles();\n                    break;\n                case 'directoryUpload':\n                    this.updateDirectoryAttributes();\n                    break;\n                case 'minFileSize':\n                case 'maxFileSize':\n                case 'template':\n                case 'autoUpload':\n                    this.clearAll();\n                    break;\n                case 'locale':\n                    this.l10n.setLocale(this.locale);\n                    this.setLocalizedTexts();\n                    this.preLocaleObj = getValue('currentLocale', this.l10n);\n                    break;\n            }\n        }\n    };\n    Uploader.prototype.setLocalizedTexts = function () {\n        if (isNullOrUndefined(this.template)) {\n            if (typeof (this.buttons.browse) === 'string') {\n                this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                    this.localizedTexts('Browse') : this.buttons.browse;\n                this.browseButton.setAttribute('title', this.browseButton.innerText);\n                this.uploadWrapper.querySelector('.' + DROP_AREA).innerHTML = this.localizedTexts('dropFilesHint');\n            }\n            this.updateFileList();\n        }\n    };\n    Uploader.prototype.getKeyValue = function (val) {\n        var keyValue;\n        for (var _i = 0, _a = Object.keys(this.preLocaleObj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.preLocaleObj[key] === val) {\n                keyValue = key;\n            }\n        }\n        return keyValue;\n    };\n    Uploader.prototype.updateFileList = function () {\n        var element;\n        if (this.fileList.length > 0 && !isNullOrUndefined(this.uploadWrapper.querySelector('.' + LIST_PARENT))) {\n            for (var i = 0; i < this.fileList.length; i++) {\n                element = this.fileList[i].querySelector('.e-file-status');\n                element.innerHTML = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                this.filesData[i].status = this.localizedTexts(this.getKeyValue(this.filesData[i].status));\n                /* istanbul ignore next */\n                if (this.fileList[i].classList.contains(UPLOAD_SUCCESS)) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('delete'));\n                }\n                if (this.fileList[i].querySelector('.e-file-play-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('resume'));\n                }\n                if (this.fileList[i].querySelector('.e-file-remove-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('remove'));\n                }\n                if (this.fileList[i].querySelector('.e-file-reload-btn')) {\n                    this.fileList[i].querySelector('.e-icons').setAttribute('title', this.localizedTexts('retry'));\n                }\n                if (!this.autoUpload) {\n                    this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                        this.localizedTexts('Upload') : this.buttons.upload;\n                    this.uploadButton.setAttribute('title', this.localizedTexts('Upload'));\n                    this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                        this.localizedTexts('Clear') : this.buttons.clear;\n                    this.clearButton.setAttribute('title', this.localizedTexts('Clear'));\n                }\n            }\n        }\n    };\n    Uploader.prototype.reRenderFileList = function () {\n        if (this.listParent) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createFileList(this.filesData);\n            if (this.actionButtons) {\n                this.removeActionButtons();\n                this.renderActionButtons();\n                this.checkActionButtonStatus();\n            }\n        }\n    };\n    Uploader.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.localeText = { Browse: 'Browse...', Clear: 'Clear', Upload: 'Upload',\n            dropFilesHint: 'Or drop files here', invalidMaxFileSize: 'File size is too large',\n            invalidMinFileSize: 'File size is too small', invalidFileType: 'File type is not allowed',\n            uploadFailedMessage: 'File failed to upload', uploadSuccessMessage: 'File uploaded successfully',\n            removedSuccessMessage: 'File removed successfully', removedFailedMessage: 'Unable to remove file', inProgress: 'Uploading',\n            readyToUploadMessage: 'Ready to upload', abort: 'Abort', remove: 'Remove', cancel: 'Cancel', delete: 'Delete file',\n            pauseUpload: 'File upload paused', pause: 'Pause', resume: 'Resume', retry: 'Retry',\n            fileUploadCancel: 'File upload canceled'\n        };\n        this.l10n = new L10n('uploader', this.localeText, this.locale);\n        this.preLocaleObj = getValue('currentLocale', this.l10n);\n        this.checkHTMLAttributes();\n        if (this.asyncSettings.saveUrl === '' && this.asyncSettings.removeUrl === '' && !this.autoUpload) {\n            var parentEle = this.element.parentElement;\n            for (; parentEle && parentEle !== document.documentElement; parentEle = parentEle.parentElement) {\n                if (parentEle.tagName === 'FORM') {\n                    this.isForm = true;\n                    this.formElement = parentEle;\n                    parentEle.setAttribute('enctype', 'multipart/form-data');\n                    parentEle.setAttribute('encoding', 'multipart/form-data');\n                }\n            }\n        }\n        // tslint:disable-next-line\n        var ejInstance = getValue('ej2_instances', this.element);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-UPLOADER') {\n            var inputElement = this.createElement('input', { attrs: { type: 'file' } });\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            if (!inputElement.hasAttribute('name')) {\n                inputElement.setAttribute('name', 'UploadFiles');\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        /* istanbul ignore next */\n        if (ejInstance[0].isPureReactComponent) {\n            if (!isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.name);\n            }\n            else if (!isNullOrUndefined(ejInstance[0].props.id) && isNullOrUndefined(ejInstance[0].props.name)) {\n                this.element.setAttribute('name', ejInstance[0].props.id);\n            }\n            else {\n                this.element.setAttribute('name', 'UploadFiles');\n            }\n        }\n        if (isNullOrUndefined(this.element.getAttribute('name'))) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (!this.element.hasAttribute('type')) {\n            this.element.setAttribute('type', 'file');\n        }\n        this.updateDirectoryAttributes();\n        this.keyConfigs = {\n            previous: 'shift+tab',\n            enter: 'enter',\n            next: 'tab'\n        };\n        if (this.element.hasAttribute('tabindex')) {\n            this.tabIndex = this.element.getAttribute('tabindex');\n        }\n    };\n    Uploader.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Return the module name of the component.\n     */\n    Uploader.prototype.getModuleName = function () {\n        return 'uploader';\n    };\n    Uploader.prototype.updateDirectoryAttributes = function () {\n        if (this.directoryUpload) {\n            this.element.setAttribute('directory', 'true');\n            this.element.setAttribute('webkitdirectory', 'true');\n        }\n        else {\n            this.element.removeAttribute('directory');\n            this.element.removeAttribute('webkitdirectory');\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Uploader.prototype.render = function () {\n        this.renderBrowseButton();\n        this.initializeUpload();\n        this.wireEvents();\n        this.setMultipleSelection();\n        this.setExtensions(this.allowedExtensions);\n        this.setRTL();\n        this.renderPreLoadFiles();\n        this.setControlStatus();\n    };\n    Uploader.prototype.renderBrowseButton = function () {\n        this.browseButton = this.createElement('button', { className: 'e-css e-btn', attrs: { 'type': 'button' } });\n        this.browseButton.setAttribute('tabindex', this.tabIndex);\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        this.element.setAttribute('aria-label', 'Uploader');\n    };\n    Uploader.prototype.renderActionButtons = function () {\n        this.element.setAttribute('tabindex', '-1');\n        this.actionButtons = this.createElement('div', { className: ACTION_BUTTONS });\n        this.uploadButton = this.createElement('button', { className: UPLOAD_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.clearButton = this.createElement('button', { className: CLEAR_BUTTONS, attrs: { 'type': 'button', 'tabindex': '-1' } });\n        this.actionButtons.appendChild(this.clearButton);\n        this.actionButtons.appendChild(this.uploadButton);\n        this.renderButtonTemplates();\n        this.uploadWrapper.appendChild(this.actionButtons);\n        this.browseButton.blur();\n        this.uploadButton.focus();\n        this.wireActionButtonEvents();\n    };\n    Uploader.prototype.wireActionButtonEvents = function () {\n        EventHandler.add(this.uploadButton, 'click', this.uploadButtonClick, this);\n        EventHandler.add(this.clearButton, 'click', this.clearButtonClick, this);\n    };\n    Uploader.prototype.unwireActionButtonEvents = function () {\n        EventHandler.remove(this.uploadButton, 'click', this.uploadButtonClick);\n        EventHandler.remove(this.clearButton, 'click', this.clearButtonClick);\n    };\n    Uploader.prototype.removeActionButtons = function () {\n        if (this.actionButtons) {\n            this.unwireActionButtonEvents();\n            detach(this.actionButtons);\n            this.actionButtons = null;\n        }\n    };\n    Uploader.prototype.renderButtonTemplates = function () {\n        if (typeof (this.buttons.browse) === 'string') {\n            this.browseButton.innerText = (this.buttons.browse === 'Browse...') ?\n                this.localizedTexts('Browse') : this.buttons.browse;\n            this.browseButton.setAttribute('title', this.browseButton.innerText);\n        }\n        else {\n            this.browseButton.innerHTML = '';\n            this.browseButton.appendChild(this.buttons.browse);\n        }\n        if (this.uploadButton) {\n            var uploadText = void 0;\n            uploadText = isNullOrUndefined(this.buttons.upload) ? 'Upload' : this.buttons.upload;\n            this.buttons.upload = uploadText;\n            if (typeof (this.buttons.upload) === 'string') {\n                this.uploadButton.innerText = (this.buttons.upload === 'Upload') ?\n                    this.localizedTexts('Upload') : this.buttons.upload;\n                this.uploadButton.setAttribute('title', this.uploadButton.innerText);\n            }\n            else {\n                this.uploadButton.innerHTML = '';\n                this.uploadButton.appendChild(this.buttons.upload);\n            }\n        }\n        if (this.clearButton) {\n            var clearText = void 0;\n            clearText = isNullOrUndefined(this.buttons.clear) ? 'Clear' : this.buttons.clear;\n            this.buttons.clear = clearText;\n            if (typeof (this.buttons.clear) === 'string') {\n                this.clearButton.innerText = (this.buttons.clear === 'Clear') ?\n                    this.localizedTexts('Clear') : this.buttons.clear;\n                this.clearButton.setAttribute('title', this.clearButton.innerText);\n            }\n            else {\n                this.clearButton.innerHTML = '';\n                this.clearButton.appendChild(this.buttons.clear);\n            }\n        }\n    };\n    Uploader.prototype.initializeUpload = function () {\n        this.element.setAttribute('tabindex', '-1');\n        var inputWrapper = this.createElement('span', { className: INPUT_WRAPPER });\n        this.element.parentElement.insertBefore(inputWrapper, this.element);\n        this.dropAreaWrapper = this.createElement('div', { className: DROP_WRAPPER });\n        this.element.parentElement.insertBefore(this.dropAreaWrapper, this.element);\n        inputWrapper.appendChild(this.element);\n        this.dropAreaWrapper.appendChild(this.browseButton);\n        this.dropAreaWrapper.appendChild(inputWrapper);\n        var fileDropArea = this.createElement('span', { className: DROP_AREA });\n        fileDropArea.innerHTML = this.localizedTexts('dropFilesHint');\n        this.dropAreaWrapper.appendChild(fileDropArea);\n        this.uploadWrapper = this.createElement('div', { className: CONTROL_WRAPPER, attrs: { 'aria-activedescendant': 'li-focused' } });\n        this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper, this.dropAreaWrapper);\n        this.uploadWrapper.appendChild(this.dropAreaWrapper);\n        this.setDropArea();\n    };\n    Uploader.prototype.renderPreLoadFiles = function () {\n        if (isNullOrUndefined(this.files[0].size) || !isNullOrUndefined(this.template)) {\n            return;\n        }\n        var files = [].slice.call(this.files);\n        var filesData = [];\n        if (!this.multiple) {\n            this.clearData();\n            files = [files[0]];\n        }\n        for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n            var data = files_1[_i];\n            var fileData = {\n                name: data.name + '.' + data.type.split('.')[data.type.split('.').length - 1],\n                rawFile: '',\n                size: data.size,\n                status: this.localizedTexts('uploadSuccessMessage'),\n                type: data.type,\n                validationMessages: { minSize: '', maxSize: '' },\n                statusCode: '2'\n            };\n            filesData.push(fileData);\n            this.filesData.push(fileData);\n        }\n        this.createFileList(filesData);\n        if (!this.autoUpload && this.listParent && !this.actionButtons && !this.isForm && this.showFileList) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkActionButtonStatus = function () {\n        if (this.actionButtons) {\n            var length_1 = this.uploadWrapper.querySelectorAll('.' + VALIDATION_FAILS).length +\n                this.uploadWrapper.querySelectorAll('.e-upload-fails:not(.e-upload-progress)').length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_SUCCESS).length +\n                this.uploadWrapper.querySelectorAll('span.' + UPLOAD_INPROGRESS).length;\n            if (length_1 > 0 && length_1 === this.uploadWrapper.querySelectorAll('li').length) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n            else {\n                this.uploadButton.removeAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.setDropArea = function () {\n        var dropTextArea = this.dropAreaWrapper.querySelector('.e-file-drop');\n        if (this.dropArea) {\n            this.dropZoneElement = (typeof (this.dropArea) !== 'string') ? this.dropArea :\n                document.querySelector(this.dropArea);\n            var element = this.element;\n            var enableDropText = false;\n            while (element.parentNode) {\n                element = element.parentNode;\n                if (element === this.dropZoneElement) {\n                    enableDropText = true;\n                    dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n                }\n            }\n            if (!enableDropText) {\n                dropTextArea.textContent = '';\n            }\n        }\n        else {\n            this.dropZoneElement = this.uploadWrapper;\n            dropTextArea.textContent = this.localizedTexts('dropFilesHint');\n        }\n        this.bindDropEvents();\n    };\n    Uploader.prototype.setMultipleSelection = function () {\n        if (this.multiple && !this.element.hasAttribute('multiple')) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n        else if (!this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n    };\n    Uploader.prototype.checkAutoUpload = function (fileData) {\n        if (this.autoUpload) {\n            this.upload(fileData);\n            this.removeActionButtons();\n        }\n        else if (!this.actionButtons) {\n            this.renderActionButtons();\n        }\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.wireEvents = function () {\n        EventHandler.add(this.browseButton, 'click', this.browseButtonClick, this);\n        EventHandler.add(this.element, 'change', this.onSelectFiles, this);\n        EventHandler.add(document, 'click', this.removeFocus, this);\n        this.keyboardModule = new KeyboardEvents(this.uploadWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n    };\n    Uploader.prototype.unWireEvents = function () {\n        EventHandler.remove(this.browseButton, 'click', this.browseButtonClick);\n        EventHandler.remove(this.element, 'change', this.onSelectFiles);\n        EventHandler.remove(document, 'click', this.removeFocus);\n        this.keyboardModule.destroy();\n    };\n    Uploader.prototype.resetForm = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.keyActionHandler = function (e) {\n        var targetElement = e.target;\n        switch (e.action) {\n            case 'next':\n                if (e.target === this.browseButton && isNullOrUndefined(this.listParent)) {\n                    this.browseButton.blur();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButton.blur();\n                }\n                else {\n                    this.setTabFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (e.target === this.clearButton && this.uploadButton.hasAttribute('disabled')) {\n                        this.clearButton.blur();\n                    }\n                }\n                break;\n            case 'previous':\n                if (e.target === this.browseButton) {\n                    this.browseButton.blur();\n                }\n                else {\n                    this.setReverseFocus(e);\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'enter':\n                if (e.target === this.clearButton) {\n                    this.clearButtonClick();\n                }\n                else if (e.target === this.uploadButton) {\n                    this.uploadButtonClick();\n                }\n                else if (e.target === this.browseButton) {\n                    this.browseButtonClick();\n                }\n                else if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '4';\n                    metaData.file.status = this.localizedTexts('pauseUpload');\n                    this.abortUpload(metaData, false);\n                }\n                else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n                    this.resumeUpload(this.getCurrentMetaData(null, e), e);\n                }\n                else if (targetElement.classList.contains(RETRY_ICON)) {\n                    var metaData = this.getCurrentMetaData(null, e);\n                    metaData.file.statusCode = '1';\n                    metaData.file.status = this.localizedTexts('readyToUploadMessage');\n                    this.chunkUpload(metaData.file);\n                }\n                else {\n                    this.removeFiles(e);\n                    if (!targetElement.classList.contains(ABORT_ICON)) {\n                        this.browseButton.focus();\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                break;\n        }\n    };\n    Uploader.prototype.getCurrentMetaData = function (fileInfo, e) {\n        var fileData;\n        var targetMetaData;\n        if (isNullOrUndefined(fileInfo)) {\n            var target = this.uploadWrapper.querySelector('.' + ICON_FOCUSED).parentElement;\n            fileData = this.filesData[this.fileList.indexOf(target)];\n        }\n        else {\n            fileData = fileInfo;\n        }\n        for (var i = 0; i < this.uploadMetaData.length; i++) {\n            if (this.uploadMetaData[i].file.name === fileData.name) {\n                targetMetaData = this.uploadMetaData[i];\n            }\n        }\n        return targetMetaData;\n    };\n    Uploader.prototype.setReverseFocus = function (e) {\n        var target = e.target;\n        if (target === this.uploadButton) {\n            this.uploadButton.blur();\n            this.clearButton.focus();\n        }\n        else if (target === this.clearButton && this.listParent && this.listParent.querySelector('.e-icons')) {\n            this.clearButton.blur();\n            var items = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            items[items.length - 1].classList.add(ICON_FOCUSED);\n            items[items.length - 1].focus();\n        }\n        else {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index > 0) {\n                this.removeFocus();\n                iconElements[index - 1].classList.add(ICON_FOCUSED);\n                iconElements[index - 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.browseButton.focus();\n            }\n        }\n    };\n    Uploader.prototype.setTabFocus = function (e) {\n        var target = e.target;\n        if (target === this.clearButton) {\n            this.removeFocus();\n            if (this.uploadButton.hasAttribute('disabled')) {\n                return;\n            }\n            this.uploadButton.focus();\n        }\n        else if (target.classList.contains('e-icons')) {\n            var iconElements = [].slice.call(this.listParent.querySelectorAll('span.e-icons'));\n            var index = iconElements.indexOf(target);\n            if (index < (iconElements.length - 1)) {\n                this.removeFocus();\n                iconElements[index + 1].classList.add(ICON_FOCUSED);\n                iconElements[index + 1].focus();\n            }\n            else {\n                this.removeFocus();\n                this.clearButton.focus();\n            }\n        }\n        else {\n            this.browseButton.blur();\n            var iconElement = this.listParent.querySelectorAll('span.e-icons')[0];\n            iconElement.focus();\n            iconElement.classList.add(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.removeFocus = function () {\n        if (this.uploadWrapper && this.listParent && this.listParent.querySelector('.' + ICON_FOCUSED)) {\n            document.activeElement.blur();\n            this.listParent.querySelector('.' + ICON_FOCUSED).classList.remove(ICON_FOCUSED);\n        }\n    };\n    Uploader.prototype.browseButtonClick = function () {\n        this.element.click();\n    };\n    Uploader.prototype.uploadButtonClick = function () {\n        this.upload(this.filesData);\n    };\n    Uploader.prototype.clearButtonClick = function () {\n        this.clearAll();\n    };\n    Uploader.prototype.bindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.add(this.dropZoneElement, 'drop', this.dropElement, this);\n            EventHandler.add(this.dropZoneElement, 'dragover', this.dragHover, this);\n            EventHandler.add(this.dropZoneElement, 'dragleave', this.onDragLeave, this);\n            EventHandler.add(this.dropZoneElement, 'paste', this.onPasteFile, this);\n        }\n    };\n    Uploader.prototype.unBindDropEvents = function () {\n        if (this.dropZoneElement) {\n            EventHandler.remove(this.dropZoneElement, 'drop', this.dropElement);\n            EventHandler.remove(this.dropZoneElement, 'dragover', this.dragHover);\n            EventHandler.remove(this.dropZoneElement, 'dragleave', this.onDragLeave);\n        }\n    };\n    Uploader.prototype.onDragLeave = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n    };\n    Uploader.prototype.dragHover = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.dropZoneElement.classList.add(DRAG_HOVER);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    Uploader.prototype.dropElement = function (e) {\n        this.dropZoneElement.classList.remove(DRAG_HOVER);\n        this.onSelectFiles(e);\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.onPasteFile = function (event) {\n        var item = event.clipboardData.items;\n        if (item.length !== 1) {\n            return;\n        }\n        var pasteFile = [].slice.call(item)[0];\n        if ((pasteFile.kind === 'file') && pasteFile.type.match('^image/')) {\n            this.renderSelectedFiles(event, [pasteFile.getAsFile()], false, true);\n        }\n    };\n    Uploader.prototype.removeFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var selectedElement = args.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var liElement = this.fileList[index];\n        var fileData = this.filesData[index];\n        if (args.target.classList.contains(ABORT_ICON)) {\n            fileData.statusCode = '5';\n            if (!isNullOrUndefined(liElement)) {\n                var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n        }\n        else {\n            this.remove(fileData, false, false, args);\n        }\n        this.element.value = '';\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.removeFilesData = function (file, customTemplate) {\n        var index;\n        if (customTemplate) {\n            if (!this.showFileList) {\n                index = this.filesData.indexOf(file);\n                this.filesData.splice(index, 1);\n            }\n            return;\n        }\n        var selectedElement = this.getLiElement(file);\n        if (isNullOrUndefined(selectedElement)) {\n            return;\n        }\n        detach(selectedElement);\n        index = this.fileList.indexOf(selectedElement);\n        this.fileList.splice(index, 1);\n        this.filesData.splice(index, 1);\n        if (this.fileList.length === 0 && !isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n            this.removeActionButtons();\n        }\n    };\n    Uploader.prototype.removeUploadedFile = function (file, eventArgs, removeDirectly, custom) {\n        var _this = this;\n        var selectedFiles = file;\n        var name = this.element.getAttribute('name');\n        var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n        var formData = new FormData();\n        var liElement = this.getLiElement(file);\n        ajax.beforeSend = function (e) {\n            eventArgs.currentRequest = ajax.httpRequest;\n            if (!removeDirectly) {\n                _this.trigger('removing', eventArgs);\n            }\n            if (eventArgs.cancel) {\n                e.cancel = true;\n                return;\n            }\n            if (!isNullOrUndefined(liElement) && (!isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON)) ||\n                !isNullOrUndefined(liElement.querySelector('.' + REMOVE_ICON)))) {\n                var spinnerTarget = void 0;\n                spinnerTarget = liElement.querySelector('.' + DELETE_ICON) ? liElement.querySelector('.' + DELETE_ICON) :\n                    liElement.querySelector('.' + REMOVE_ICON);\n                createSpinner({ target: spinnerTarget, width: '20px' });\n                showSpinner(spinnerTarget);\n            }\n            if (eventArgs.postRawFile && !isNullOrUndefined(selectedFiles.rawFile) && selectedFiles.rawFile !== '') {\n                formData.append(name, selectedFiles.rawFile);\n            }\n            else {\n                formData.append(name, selectedFiles.name);\n            }\n            _this.updateFormData(formData, eventArgs.customFormData);\n        };\n        ajax.onLoad = function (e) { _this.removeCompleted(e, selectedFiles, custom); return {}; };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.removeFailed(e, selectedFiles, custom); return {}; };\n        ajax.send(formData);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateFormData = function (formData, customData) {\n        if (customData.length > 0 && customData[0]) {\n            var _loop_1 = function (i) {\n                var data = customData[i];\n                // tslint:disable-next-line\n                var value = Object.keys(data).map(function (e) {\n                    return data[e];\n                });\n                formData.append(Object.keys(data)[0], value);\n            };\n            for (var i = 0; i < customData.length; i++) {\n                _loop_1(i);\n            }\n        }\n    };\n    Uploader.prototype.removeCompleted = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedSuccessMessage'), '2')\n        };\n        this.trigger('success', args);\n        this.removeFilesData(files, customTemplate);\n        var index = this.uploadedFilesData.indexOf(files);\n        this.uploadedFilesData.splice(index, 1);\n        this.trigger('change', { files: this.uploadedFilesData });\n    };\n    Uploader.prototype.removeFailed = function (e, files, customTemplate) {\n        var args = {\n            e: e, operation: 'remove', file: this.updateStatus(files, this.localizedTexts('removedFailedMessage'), '0')\n        };\n        if (!customTemplate) {\n            var index = this.filesData.indexOf(files);\n            var rootElement = this.fileList[index];\n            if (rootElement) {\n                var statusElement = rootElement.querySelector('.' + STATUS);\n                rootElement.classList.remove(UPLOAD_SUCCESS);\n                statusElement.classList.remove(UPLOAD_SUCCESS);\n                rootElement.classList.add(UPLOAD_FAILED);\n                statusElement.classList.add(UPLOAD_FAILED);\n            }\n            this.checkActionButtonStatus();\n        }\n        this.trigger('failure', args);\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && !isNullOrUndefined(liElement.querySelector('.' + DELETE_ICON))) {\n            var spinnerTarget = liElement.querySelector('.' + DELETE_ICON);\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.getFilesFromFolder = function (event) {\n        this.filesEntries = [];\n        var items;\n        items = this.multiple ? event.dataTransfer.items : [event.dataTransfer.items[0]];\n        var validDirectoryUpload = this.checkDirectoryUpload(items);\n        if (!validDirectoryUpload) {\n            return;\n        }\n        var _loop_2 = function (i) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isFile) {\n                var files_2 = [];\n                // tslint:disable-next-line\n                item.file(function (fileObj) {\n                    var path = item.fullPath;\n                    files_2.push({ 'path': path, 'file': fileObj });\n                });\n                this_1.renderSelectedFiles(event, files_2, true);\n            }\n            else if (item.isDirectory) {\n                this_1.traverseFileTree(item, event);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < items.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.checkDirectoryUpload = function (items) {\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i].webkitGetAsEntry();\n            if (item.isDirectory) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // tslint:disable\n    /* istanbul ignore next */\n    Uploader.prototype.traverseFileTree = function (item, event) {\n        var _this = this;\n        if (typeof (item) === 'boolean') {\n            var files_3 = [];\n            var _loop_3 = function (i) {\n                this_2.filesEntries[i].file(function (fileObj) {\n                    var path = _this.filesEntries[i].fullPath;\n                    files_3.push({ 'path': path, 'file': fileObj });\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i < this.filesEntries.length; i++) {\n                _loop_3(i);\n            }\n            this.renderSelectedFiles(event, files_3, true);\n        }\n        else if (item.isFile) {\n            this.filesEntries.push(item);\n        }\n        else if (item.isDirectory) {\n            var directoryReader = item.createReader();\n            directoryReader.readEntries(function (entries) {\n                for (var i = 0; i < entries.length; i++) {\n                    _this.traverseFileTree(entries[i]);\n                }\n                ;\n                _this.traverseFileTree(true);\n                _this.filesEntries = [];\n            });\n        }\n    };\n    // tslint:enable\n    Uploader.prototype.onSelectFiles = function (args) {\n        if (!this.enabled) {\n            return;\n        }\n        var targetFiles;\n        if (args.type === 'drop') {\n            /* istanbul ignore next */\n            if (this.directoryUpload) {\n                this.getFilesFromFolder(args);\n            }\n            else {\n                var files = args.dataTransfer.files;\n                targetFiles = this.multiple ? this.sortFileList(files) : [files[0]];\n                this.renderSelectedFiles(args, targetFiles);\n            }\n        }\n        else {\n            targetFiles = [].slice.call(args.target.files);\n            this.renderSelectedFiles(args, targetFiles);\n        }\n    };\n    Uploader.prototype.renderSelectedFiles = function (args, \n        // tslint:disable-next-line\n        targetFiles, directory, paste) {\n        if (targetFiles.length < 1) {\n            return;\n        }\n        var fileData = [];\n        if (!this.multiple) {\n            this.clearData(true);\n            targetFiles = [targetFiles[0]];\n        }\n        for (var i = 0; i < targetFiles.length; i++) {\n            var file = directory ? targetFiles[i].file : targetFiles[i];\n            var fileName = directory ? targetFiles[i].path.substring(1, targetFiles[i].path.length) : paste ?\n                getUniqueID(file.name.substring(0, file.name.lastIndexOf('.'))) + '.' + this.getFileType(file.name) :\n                this.directoryUpload ? targetFiles[i].webkitRelativePath : file.name;\n            var eventArgs_1 = {\n                name: fileName,\n                rawFile: file,\n                size: file.size,\n                status: this.localizedTexts('readyToUploadMessage'),\n                type: this.getFileType(file.name),\n                validationMessages: this.validatedFileSize(file.size),\n                statusCode: '1'\n            };\n            if (paste) {\n                eventArgs_1.fileSource = 'paste';\n            }\n            eventArgs_1.status = eventArgs_1.validationMessages.minSize !== '' ? this.localizedTexts('invalidMinFileSize') :\n                eventArgs_1.validationMessages.maxSize !== '' ? this.localizedTexts('invalidMaxFileSize') : eventArgs_1.status;\n            if (eventArgs_1.validationMessages.minSize !== '' || eventArgs_1.validationMessages.maxSize !== '') {\n                eventArgs_1.statusCode = '0';\n            }\n            fileData.push(eventArgs_1);\n        }\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: fileData,\n            isModified: false,\n            modifiedFilesData: [],\n            progressInterval: ''\n        };\n        if (this.allowedExtensions.indexOf('*') > -1) {\n            this.allTypes = true;\n        }\n        if (!this.allTypes) {\n            fileData = this.checkExtension(fileData);\n        }\n        this.trigger('selected', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.showFileList) {\n            if (eventArgs.isModified && eventArgs.modifiedFilesData.length > 0) {\n                var dataFiles = this.allTypes ? eventArgs.modifiedFilesData :\n                    this.checkExtension(eventArgs.modifiedFilesData);\n                this.updateSortedFileList(dataFiles);\n                this.filesData = dataFiles;\n                if (!this.isForm) {\n                    this.checkAutoUpload(dataFiles);\n                }\n            }\n            else {\n                this.createFileList(fileData);\n                this.filesData = this.filesData.concat(fileData);\n                if (!this.isForm) {\n                    this.checkAutoUpload(fileData);\n                }\n            }\n            if (!isNullOrUndefined(eventArgs.progressInterval) && eventArgs.progressInterval !== '') {\n                this.progressInterval = eventArgs.progressInterval;\n            }\n        }\n        else {\n            this.filesData = this.filesData.concat(fileData);\n            if (this.autoUpload) {\n                this.upload(this.filesData, true);\n            }\n        }\n    };\n    Uploader.prototype.clearData = function (singleUpload) {\n        if (!isNullOrUndefined(this.listParent)) {\n            detach(this.listParent);\n            this.listParent = null;\n        }\n        if (Browser.info.name !== 'msie' && !singleUpload) {\n            this.element.value = '';\n        }\n        this.fileList = [];\n        this.filesData = [];\n        this.removeActionButtons();\n    };\n    Uploader.prototype.updateSortedFileList = function (filesData) {\n        var previousListClone = this.createElement('div', { id: 'clonewrapper' });\n        var added = -1;\n        var removedList;\n        if (this.listParent) {\n            for (var i = 0; i < this.listParent.querySelectorAll('li').length; i++) {\n                var liElement = this.listParent.querySelectorAll('li')[i];\n                previousListClone.appendChild(liElement.cloneNode(true));\n            }\n            removedList = this.listParent.querySelectorAll('li');\n            for (var _i = 0, removedList_1 = removedList; _i < removedList_1.length; _i++) {\n                var item = removedList_1[_i];\n                detach(item);\n            }\n            this.removeActionButtons();\n            var oldList = [].slice.call(previousListClone.childNodes);\n            detach(this.listParent);\n            this.listParent = null;\n            this.fileList = [];\n            this.createParentUL();\n            for (var index = 0; index < filesData.length; index++) {\n                for (var j = 0; j < this.filesData.length; j++) {\n                    if (this.filesData[j].name === filesData[index].name) {\n                        this.listParent.appendChild(oldList[j]);\n                        EventHandler.add(oldList[j].querySelector('.e-icons'), 'click', this.removeFiles, this);\n                        this.fileList.push(oldList[j]);\n                        added = index;\n                    }\n                }\n                if (added !== index) {\n                    this.createFileList([filesData[index]]);\n                }\n            }\n        }\n        else {\n            this.createFileList(filesData);\n        }\n    };\n    Uploader.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    Uploader.prototype.checkExtension = function (files) {\n        var dropFiles = files;\n        if (!this.isBlank(this.allowedExtensions)) {\n            var allowedExtensions = [];\n            var extensions = this.allowedExtensions.split(',');\n            for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n                var extension = extensions_1[_i];\n                allowedExtensions.push(extension.trim().toLocaleLowerCase());\n            }\n            for (var i = 0; i < files.length; i++) {\n                if (allowedExtensions.indexOf(('.' + files[i].type).toLocaleLowerCase()) === -1) {\n                    files[i].status = this.localizedTexts('invalidFileType');\n                    files[i].statusCode = '0';\n                }\n            }\n        }\n        return dropFiles;\n    };\n    Uploader.prototype.validatedFileSize = function (fileSize) {\n        var minSizeError = '';\n        var maxSizeError = '';\n        if (fileSize < this.minFileSize) {\n            minSizeError = this.localizedTexts('invalidMinFileSize');\n        }\n        else if (fileSize > this.maxFileSize) {\n            maxSizeError = this.localizedTexts('invalidMaxFileSize');\n        }\n        else {\n            minSizeError = '';\n            maxSizeError = '';\n        }\n        var errorMessage = { minSize: minSizeError, maxSize: maxSizeError };\n        return errorMessage;\n    };\n    Uploader.prototype.createCustomfileList = function (fileData) {\n        this.createParentUL();\n        for (var _i = 0, fileData_1 = fileData; _i < fileData_1.length; _i++) {\n            var listItem = fileData_1[_i];\n            var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n            this.uploadTemplateFn = this.templateComplier(this.template);\n            this.listParent.appendChild(liElement);\n            var fromElements = [].slice.call(this.uploadTemplateFn(listItem));\n            append(fromElements, liElement);\n            this.fileList.push(liElement);\n        }\n    };\n    Uploader.prototype.createParentUL = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            this.listParent = this.createElement('ul', { className: LIST_PARENT });\n            this.uploadWrapper.appendChild(this.listParent);\n        }\n    };\n    Uploader.prototype.createFileList = function (fileData) {\n        this.createParentUL();\n        if (this.template !== '' && !isNullOrUndefined(this.template)) {\n            this.createCustomfileList(fileData);\n        }\n        else {\n            for (var _i = 0, fileData_2 = fileData; _i < fileData_2.length; _i++) {\n                var listItem = fileData_2[_i];\n                var liElement = this.createElement('li', { className: FILE, attrs: { 'data-file-name': listItem.name } });\n                var textContainer = this.createElement('span', { className: TEXT_CONTAINER });\n                var textElement = this.createElement('span', { className: FILE_NAME, attrs: { 'title': listItem.name } });\n                textElement.innerHTML = this.getFileNameOnly(listItem.name);\n                var fileExtension = this.createElement('span', { className: FILE_TYPE });\n                fileExtension.innerHTML = '.' + this.getFileType(listItem.name);\n                if (!this.enableRtl) {\n                    textContainer.appendChild(textElement);\n                    textContainer.appendChild(fileExtension);\n                }\n                else {\n                    var rtlContainer = this.createElement('span', { className: RTL_CONTAINER });\n                    rtlContainer.appendChild(fileExtension);\n                    rtlContainer.appendChild(textElement);\n                    textContainer.appendChild(rtlContainer);\n                }\n                var fileSize = this.createElement('span', { className: FILE_SIZE });\n                fileSize.innerHTML = this.bytesToSize(listItem.size);\n                textContainer.appendChild(fileSize);\n                var statusElement = this.createElement('span', { className: STATUS });\n                textContainer.appendChild(statusElement);\n                statusElement.innerHTML = listItem.status;\n                liElement.appendChild(textContainer);\n                var iconElement = this.createElement('span', { className: ' e-icons', attrs: { 'tabindex': '-1' } });\n                /* istanbul ignore next */\n                if (Browser.info.name === 'msie') {\n                    iconElement.classList.add('e-msie');\n                }\n                iconElement.setAttribute('title', this.localizedTexts('remove'));\n                liElement.appendChild(iconElement);\n                EventHandler.add(iconElement, 'click', this.removeFiles, this);\n                if (listItem.statusCode === '2') {\n                    statusElement.classList.add(UPLOAD_SUCCESS);\n                    iconElement.classList.add(DELETE_ICON);\n                    iconElement.setAttribute('title', this.localizedTexts('delete'));\n                }\n                else if (listItem.statusCode !== '1') {\n                    statusElement.classList.remove(UPLOAD_SUCCESS);\n                    statusElement.classList.add(VALIDATION_FAILS);\n                }\n                if (this.autoUpload && listItem.statusCode === '1' && this.asyncSettings.saveUrl !== '') {\n                    statusElement.innerHTML = '';\n                }\n                if (!iconElement.classList.contains(DELETE_ICON)) {\n                    iconElement.classList.add(REMOVE_ICON);\n                }\n                this.listParent.appendChild(liElement);\n                this.fileList.push(liElement);\n                this.truncateName(textElement);\n            }\n        }\n    };\n    Uploader.prototype.truncateName = function (name) {\n        var nameElement = name;\n        var text;\n        if (nameElement.offsetWidth < nameElement.scrollWidth) {\n            text = nameElement.textContent;\n            nameElement.dataset.tail = text.slice(text.length - 10);\n        }\n    };\n    Uploader.prototype.getFileType = function (name) {\n        var extension;\n        var index = name.lastIndexOf('.');\n        if (index >= 0) {\n            extension = name.substring(index + 1);\n        }\n        return extension ? extension : '';\n    };\n    Uploader.prototype.getFileNameOnly = function (name) {\n        var type = this.getFileType(name);\n        var names = name.split('.' + type);\n        return type = names[0];\n    };\n    Uploader.prototype.setInitialAttributes = function () {\n        if (this.initialAttr.accept) {\n            this.element.setAttribute('accept', this.initialAttr.accept);\n        }\n        if (this.initialAttr.disabled) {\n            this.element.setAttribute('disabled', 'disabled');\n        }\n        if (this.initialAttr.multiple) {\n            var newAttr = document.createAttribute('multiple');\n            this.element.setAttributeNode(newAttr);\n        }\n    };\n    Uploader.prototype.filterfileList = function (files) {\n        var filterFiles = [];\n        var li;\n        for (var i = 0; i < files.length; i++) {\n            li = this.getLiElement(files[i]);\n            if (!li.classList.contains(UPLOAD_SUCCESS)) {\n                filterFiles.push(files[i]);\n            }\n        }\n        return filterFiles;\n    };\n    Uploader.prototype.updateStatus = function (files, status, statusCode) {\n        if (!(status === '' || isNullOrUndefined(status)) && !(statusCode === '' || isNullOrUndefined(statusCode))) {\n            files.status = status;\n            files.statusCode = statusCode;\n        }\n        var li = this.getLiElement(files);\n        if (!isNullOrUndefined(li)) {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS)) && !((status === '' || isNullOrUndefined(status)))) {\n                li.querySelector('.' + STATUS).textContent = status;\n            }\n        }\n        return files;\n    };\n    Uploader.prototype.getLiElement = function (files) {\n        var index;\n        for (var i = 0; i < this.filesData.length; i++) {\n            if (this.filesData[i].name === files.name) {\n                index = i;\n            }\n        }\n        return this.fileList[index];\n    };\n    Uploader.prototype.createProgressBar = function (liElement) {\n        var progressbarWrapper = this.createElement('span', { className: PROGRESS_WRAPPER });\n        var progressBar = this.createElement('progressbar', { className: PROGRESSBAR, attrs: { value: '0', max: '100' } });\n        var progressbarInnerWrapper = this.createElement('span', { className: PROGRESS_INNER_WRAPPER });\n        progressBar.setAttribute('style', 'width: 0%');\n        var progressbarText = this.createElement('span', { className: PROGRESSBAR_TEXT });\n        progressbarText.textContent = '0%';\n        progressbarInnerWrapper.appendChild(progressBar);\n        progressbarWrapper.appendChild(progressbarInnerWrapper);\n        progressbarWrapper.appendChild(progressbarText);\n        liElement.querySelector('.' + TEXT_CONTAINER).appendChild(progressbarWrapper);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.updateProgressbar = function (e, li) {\n        if (!isNaN(Math.round((e.loaded / e.total) * 100)) && !isNullOrUndefined(li.querySelector('.' + PROGRESSBAR))) {\n            if (!isNullOrUndefined(this.progressInterval) && this.progressInterval !== '') {\n                var value = (Math.round((e.loaded / e.total) * 100)) % parseInt(this.progressInterval, 10);\n                if (value === 0 || value === 100) {\n                    this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n                }\n            }\n            else {\n                this.changeProgressValue(li, Math.round((e.loaded / e.total) * 100).toString() + '%');\n            }\n        }\n    };\n    Uploader.prototype.changeProgressValue = function (li, progressValue) {\n        li.querySelector('.' + PROGRESSBAR).setAttribute('style', 'width:' + progressValue);\n        li.querySelector('.' + PROGRESSBAR_TEXT).textContent = progressValue;\n    };\n    Uploader.prototype.uploadInProgress = function (e, files, customUI, request) {\n        var li = this.getLiElement(files);\n        if (isNullOrUndefined(li) && (!customUI)) {\n            return;\n        }\n        if (!isNullOrUndefined(li)) {\n            /* istanbul ignore next */\n            if (files.statusCode === '5') {\n                this.cancelUploadingFile(files, e, request, li);\n            }\n            if (!(li.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0) && li.querySelector('.' + STATUS)) {\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_INPROGRESS);\n                this.createProgressBar(li);\n                this.updateProgressBarClasses(li, UPLOAD_INPROGRESS);\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            }\n            this.updateProgressbar(e, li);\n            var iconEle = li.querySelector('.' + REMOVE_ICON);\n            if (!isNullOrUndefined(iconEle)) {\n                iconEle.classList.add(ABORT_ICON, UPLOAD_INPROGRESS);\n                iconEle.setAttribute('title', this.localizedTexts('abort'));\n                iconEle.classList.remove(REMOVE_ICON);\n            }\n        }\n        else {\n            this.cancelUploadingFile(files, e, request);\n        }\n        var args = { e: e, operation: 'upload', file: this.updateStatus(files, this.localizedTexts('inProgress'), '3') };\n        this.trigger('progress', args);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.cancelUploadingFile = function (files, e, request, li) {\n        var _this = this;\n        if (files.statusCode === '5') {\n            var eventArgs = {\n                event: e,\n                fileData: files,\n                cancel: false\n            };\n            this.trigger('canceling', eventArgs);\n            if (eventArgs.cancel) {\n                files.statusCode = '3';\n                if (!isNullOrUndefined(li)) {\n                    var spinnerTarget = li.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(li.querySelector('.e-spinner-pane'));\n                    }\n                }\n                return;\n            }\n            request.emitError = false;\n            request.httpRequest.abort();\n            var formData = new FormData();\n            if (files.statusCode === '5') {\n                var name_1 = this.element.getAttribute('name');\n                formData.append(name_1, files.name);\n                formData.append('cancel-uploading', files.name);\n                var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                ajax.onLoad = function (e) { _this.removecanceledFile(e, files); return {}; };\n                ajax.send(formData);\n            }\n        }\n    };\n    Uploader.prototype.removecanceledFile = function (e, file) {\n        var liElement = this.getLiElement(file);\n        if (liElement.querySelector('.' + RETRY_ICON) || isNullOrUndefined(liElement.querySelector('.' + ABORT_ICON))) {\n            return;\n        }\n        this.updateStatus(file, this.localizedTexts('fileUploadCancel'), '5');\n        this.renderFailureState(e, file, liElement);\n        var spinnerTarget = liElement.querySelector('.' + REMOVE_ICON);\n        if (!isNullOrUndefined(liElement)) {\n            hideSpinner(spinnerTarget);\n            detach(liElement.querySelector('.e-spinner-pane'));\n        }\n        var args = { event: e, operation: 'cancel', file: file };\n        this.trigger('success', args);\n    };\n    Uploader.prototype.renderFailureState = function (e, file, liElement) {\n        var _this = this;\n        this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        this.removeProgressbar(liElement, 'failure');\n        if (!isNullOrUndefined(liElement.querySelector('.e-file-status'))) {\n            liElement.querySelector('.e-file-status').classList.add(UPLOAD_FAILED);\n        }\n        var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n        if (isNullOrUndefined(deleteIcon)) {\n            return;\n        }\n        deleteIcon.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n        deleteIcon.classList.add(REMOVE_ICON);\n        deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, deleteIcon);\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        /* istanbul ignore next */\n        retryElement.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement, false); }, false);\n    };\n    Uploader.prototype.reloadcanceledFile = function (e, file, liElement, custom) {\n        file.statusCode = '1';\n        file.status = this.localizedTexts('readyToUploadMessage');\n        if (!custom) {\n            liElement.querySelector('.' + STATUS).classList.remove(UPLOAD_FAILED);\n            if (!isNullOrUndefined(liElement.querySelector('.' + RETRY_ICON))) {\n                detach(liElement.querySelector('.' + RETRY_ICON));\n            }\n            this.pauseButton = null;\n        }\n        this.upload([file]);\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.uploadComplete = function (e, file, customUI) {\n        var status = e.target;\n        if (status.readyState === 4 && status.status >= 200 && status.status <= 299) {\n            var li = this.getLiElement(file);\n            if (isNullOrUndefined(li) && (!customUI || isNullOrUndefined(customUI))) {\n                return;\n            }\n            if (!isNullOrUndefined(li)) {\n                this.updateProgressBarClasses(li, UPLOAD_SUCCESS);\n                this.removeProgressbar(li, 'success');\n                var iconEle = li.querySelector('.' + ABORT_ICON);\n                if (!isNullOrUndefined(iconEle)) {\n                    iconEle.classList.add(DELETE_ICON);\n                    iconEle.setAttribute('title', this.localizedTexts('delete'));\n                    iconEle.classList.remove(ABORT_ICON);\n                    iconEle.classList.remove(UPLOAD_INPROGRESS);\n                }\n            }\n            this.raiseSuccessEvent(e, file);\n        }\n        else {\n            this.uploadFailed(e, file);\n        }\n    };\n    Uploader.prototype.raiseSuccessEvent = function (e, file) {\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadSuccessMessage'), '2') };\n        this.trigger('success', args);\n        this.uploadedFilesData.push(file);\n        this.trigger('change', { file: this.uploadedFilesData });\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.uploadFailed = function (e, file) {\n        var li = this.getLiElement(file);\n        var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n        if (!isNullOrUndefined(li)) {\n            this.renderFailureState(e, file, li);\n        }\n        this.trigger('failure', args);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.updateProgressBarClasses = function (li, className) {\n        var progressBar = li.querySelector('.' + PROGRESSBAR);\n        if (!isNullOrUndefined(progressBar)) {\n            progressBar.classList.add(className);\n        }\n    };\n    Uploader.prototype.removeProgressbar = function (li, callType) {\n        var _this = this;\n        if (!isNullOrUndefined(li.querySelector('.' + PROGRESS_WRAPPER))) {\n            this.progressAnimation = new Animation({ duration: 1250 });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESS_WRAPPER), { name: 'FadeOut' });\n            this.progressAnimation.animate(li.querySelector('.' + PROGRESSBAR_TEXT), { name: 'FadeOut' });\n            setTimeout(function () { _this.animateProgressBar(li, callType); }, 750);\n        }\n    };\n    /* istanbul ignore next */\n    Uploader.prototype.animateProgressBar = function (li, callType) {\n        if (callType === 'success') {\n            li.classList.add(UPLOAD_SUCCESS);\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_SUCCESS);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(li.querySelector('.' + STATUS))) {\n                li.querySelector('.' + STATUS).classList.remove(UPLOAD_INPROGRESS);\n                this.progressAnimation.animate(li.querySelector('.' + STATUS), { name: 'FadeIn' });\n                li.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n            }\n        }\n        if (li.querySelector('.' + PROGRESS_WRAPPER)) {\n            detach(li.querySelector('.' + PROGRESS_WRAPPER));\n        }\n    };\n    Uploader.prototype.setExtensions = function (extensions) {\n        this.element.setAttribute('accept', extensions);\n    };\n    Uploader.prototype.templateComplier = function (uploadTemplate) {\n        if (uploadTemplate) {\n            var exception = void 0;\n            try {\n                if (document.querySelectorAll(uploadTemplate).length) {\n                    return compile(document.querySelector(uploadTemplate).innerHTML.trim());\n                }\n            }\n            catch (exception) {\n                return compile(uploadTemplate);\n            }\n        }\n        return undefined;\n    };\n    Uploader.prototype.setRTL = function () {\n        this.enableRtl ? addClass([this.uploadWrapper], RTL) : removeClass([this.uploadWrapper], RTL);\n    };\n    Uploader.prototype.localizedTexts = function (localeText) {\n        this.l10n.setLocale(this.locale);\n        return this.l10n.getConstant(localeText);\n    };\n    Uploader.prototype.setControlStatus = function () {\n        if (!this.enabled) {\n            this.uploadWrapper.classList.add(DISABLED);\n            this.element.setAttribute('disabled', 'disabled');\n            this.browseButton.setAttribute('disabled', 'disabled');\n            if (!isNullOrUndefined(this.clearButton)) {\n                this.clearButton.setAttribute('disabled', 'disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton)) {\n                this.uploadButton.setAttribute('disabled', 'disabled');\n            }\n        }\n        else {\n            if (this.uploadWrapper.classList.contains(DISABLED)) {\n                this.uploadWrapper.classList.remove(DISABLED);\n            }\n            if (!isNullOrUndefined(this.browseButton) && this.element.hasAttribute('disabled')) {\n                this.element.removeAttribute('disabled');\n                this.browseButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.clearButton) && this.clearButton.hasAttribute('disabled')) {\n                this.clearButton.removeAttribute('disabled');\n            }\n            if (!isNullOrUndefined(this.uploadButton) && this.uploadButton.hasAttribute('disabled')) {\n                this.uploadButton.hasAttribute('disabled');\n            }\n        }\n    };\n    Uploader.prototype.checkHTMLAttributes = function () {\n        if (this.element.hasAttribute('accept')) {\n            this.allowedExtensions = this.element.getAttribute('accept');\n            this.initialAttr.accept = this.allowedExtensions;\n        }\n        if (this.element.hasAttribute('multiple')) {\n            this.multiple = true;\n            this.initialAttr.multiple = true;\n        }\n        if (this.element.hasAttribute('disabled')) {\n            this.enabled = false;\n            this.initialAttr.disabled = true;\n        }\n    };\n    Uploader.prototype.chunkUpload = function (file, custom) {\n        var start = 0;\n        var end = Math.min(this.asyncSettings.chunkSize, file.size);\n        var index = 0;\n        var blob = file.rawFile.slice(start, end);\n        var metaData = { chunkIndex: index, blob: blob, file: file, start: start, end: end, retryCount: 0, request: null };\n        this.sendRequest(file, metaData, custom);\n    };\n    Uploader.prototype.sendRequest = function (file, metaData, custom) {\n        var _this = this;\n        var formData = new FormData();\n        var blob = file.rawFile.slice(metaData.start, metaData.end);\n        formData.append('chunkFile', blob, file.name);\n        formData.append('chunk-index', metaData.chunkIndex.toString());\n        var totalChunk = Math.max(Math.ceil(file.size / this.asyncSettings.chunkSize), 1);\n        formData.append('total-chunk', totalChunk.toString());\n        var ajax = new Ajax({ url: this.asyncSettings.saveUrl, type: 'POST', async: true, contentType: null });\n        ajax.onLoad = function (e) { _this.chunkUploadComplete(e, metaData, custom); return {}; };\n        ajax.onUploadProgress = function (e) {\n            _this.chunkUploadInProgress(e, metaData, custom);\n            return {};\n        };\n        var eventArgs = {\n            fileData: file,\n            customFormData: [],\n            cancel: false,\n            chunkSize: this.asyncSettings.chunkSize === 0 ? null : this.asyncSettings.chunkSize\n        };\n        ajax.beforeSend = function (e) {\n            if (metaData.chunkIndex !== 0) {\n                return;\n            }\n            eventArgs.currentRequest = ajax.httpRequest;\n            _this.trigger('uploading', eventArgs);\n            if (eventArgs.cancel) {\n                _this.eventCancelByArgs(e, eventArgs, file);\n            }\n            else {\n                _this.updateFormData(formData, eventArgs.customFormData);\n            }\n        };\n        /* istanbul ignore next */\n        ajax.onError = function (e) { _this.chunkUploadFailed(e, metaData, custom); return {}; };\n        ajax.send(formData);\n        metaData.request = ajax;\n    };\n    Uploader.prototype.eventCancelByArgs = function (e, eventArgs, file) {\n        var _this = this;\n        e.cancel = true;\n        if (eventArgs.fileData.statusCode === '5') {\n            return;\n        }\n        var liElement = this.getLiElement(eventArgs.fileData);\n        liElement.querySelector('.' + STATUS).innerHTML = this.localizedTexts('fileUploadCancel');\n        liElement.querySelector('.' + STATUS).classList.add(UPLOAD_FAILED);\n        eventArgs.fileData.statusCode = '5';\n        eventArgs.fileData.status = this.localizedTexts('fileUploadCancel');\n        this.pauseButton = this.createElement('span', { className: 'e-icons e-file-reload-btn', attrs: { 'tabindex': '-1' } });\n        liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + REMOVE_ICON));\n        this.pauseButton.setAttribute('title', this.localizedTexts('retry'));\n        /* istanbul ignore next */\n        this.pauseButton.addEventListener('click', function (e) { _this.reloadcanceledFile(e, file, liElement); }, false);\n        this.checkActionButtonStatus();\n    };\n    Uploader.prototype.checkChunkUpload = function () {\n        return (this.asyncSettings.chunkSize <= 0 || isNullOrUndefined(this.asyncSettings.chunkSize)) ? false : true;\n    };\n    Uploader.prototype.chunkUploadComplete = function (e, metaData, custom) {\n        var _this = this;\n        var response = e.target;\n        var liElement;\n        if (response.readyState === 4 && response.status >= 200 && response.status < 300) {\n            var totalChunk = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n            var eventArgs = {\n                event: e,\n                file: metaData.file,\n                chunkIndex: metaData.chunkIndex,\n                totalChunk: totalChunk,\n                chunkSize: this.asyncSettings.chunkSize\n            };\n            this.trigger('chunkSuccess', eventArgs);\n            if (isNullOrUndefined(custom) || !custom) {\n                liElement = this.getLiElement(metaData.file);\n            }\n            this.updateMetaData(metaData);\n            if (metaData.end === metaData.file.size) {\n                metaData.file.statusCode = '3';\n            }\n            if (metaData.file.statusCode === '5') {\n                var eventArgs_2 = { event: e, fileData: metaData.file, cancel: false };\n                this.trigger('canceling', eventArgs_2);\n                if (eventArgs_2.cancel) {\n                    metaData.file.statusCode = '3';\n                    var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n                    if (!isNullOrUndefined(liElement) && !isNullOrUndefined(spinnerTarget)) {\n                        hideSpinner(spinnerTarget);\n                        detach(liElement.querySelector('.e-spinner-pane'));\n                    }\n                    this.sendNextRequest(metaData);\n                    return;\n                }\n                metaData.request.emitError = false;\n                response.abort();\n                var formData = new FormData();\n                var name_2 = this.element.getAttribute('name');\n                formData.append(name_2, metaData.file.name);\n                formData.append('cancel-uploading', metaData.file.name);\n                var ajax = new Ajax(this.asyncSettings.removeUrl, 'POST', true, null);\n                ajax.onLoad = function (e) { _this.removeChunkFile(e, metaData, custom); return {}; };\n                ajax.send(formData);\n            }\n            else {\n                if ((totalChunk - 1) === metaData.chunkIndex && totalChunk > metaData.chunkIndex) {\n                    var index = this.pausedData.indexOf(metaData);\n                    if (index >= 0) {\n                        this.pausedData.splice(index, 1);\n                    }\n                    if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n                        if (liElement) {\n                            detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                        }\n                        this.removeChunkProgressBar(metaData);\n                    }\n                    this.raiseSuccessEvent(e, metaData.file);\n                    return;\n                }\n                this.sendNextRequest(metaData);\n            }\n        }\n        else {\n            this.chunkUploadFailed(e, metaData);\n        }\n    };\n    Uploader.prototype.sendNextRequest = function (metaData) {\n        metaData.start = metaData.end;\n        metaData.end += this.asyncSettings.chunkSize;\n        metaData.end = Math.min(metaData.end, metaData.file.size);\n        metaData.chunkIndex += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.removeChunkFile = function (e, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) && !custom)) {\n            var liElement = this.getLiElement(metaData.file);\n            var deleteIcon = liElement.querySelector('.' + ABORT_ICON);\n            var spinnerTarget = deleteIcon;\n            this.updateStatus(metaData.file, this.localizedTexts('fileUploadCancel'), '5');\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n            this.removeProgressbar(liElement, 'failure');\n            deleteIcon.classList.remove(ABORT_ICON);\n            deleteIcon.classList.add(REMOVE_ICON);\n            deleteIcon.setAttribute('title', this.localizedTexts('remove'));\n            var pauseIcon = liElement.querySelector('.' + PAUSE_UPLOAD);\n            pauseIcon.classList.add(RETRY_ICON);\n            pauseIcon.classList.remove(PAUSE_UPLOAD);\n            pauseIcon.setAttribute('title', this.localizedTexts('retry'));\n            if (!isNullOrUndefined(liElement) && !isNullOrUndefined(deleteIcon)) {\n                hideSpinner(spinnerTarget);\n                detach(liElement.querySelector('.e-spinner-pane'));\n            }\n        }\n    };\n    Uploader.prototype.pauseUpload = function (metaData, e, custom) {\n        metaData.file.statusCode = '4';\n        metaData.file.status = this.localizedTexts('pause');\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.abortUpload(metaData, custom, eventArgs);\n    };\n    Uploader.prototype.abortUpload = function (metaData, custom, eventArgs) {\n        metaData.request.emitError = false;\n        metaData.request.httpRequest.abort();\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            var targetElement = liElement.querySelector('.' + PAUSE_UPLOAD);\n            targetElement.classList.remove(PAUSE_UPLOAD);\n            targetElement.classList.add(RESUME_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('resume'));\n            targetElement.nextElementSibling.classList.add(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.remove(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('remove'));\n        }\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].file.name === metaData.file.name) {\n                this.pausedData.splice(i, 1);\n            }\n        }\n        this.pausedData.push(metaData);\n        this.trigger('pausing', eventArgs);\n    };\n    Uploader.prototype.resumeUpload = function (metaData, e, custom) {\n        var liElement = this.getLiElement(metaData.file);\n        var targetElement;\n        if (!isNullOrUndefined(liElement)) {\n            targetElement = liElement.querySelector('.' + RESUME_UPLOAD);\n        }\n        if (!isNullOrUndefined(targetElement) && (isNullOrUndefined(custom) || !custom)) {\n            targetElement.classList.remove(RESUME_UPLOAD);\n            targetElement.classList.add(PAUSE_UPLOAD);\n            targetElement.setAttribute('title', this.localizedTexts('pause'));\n            targetElement.nextElementSibling.classList.remove(REMOVE_ICON);\n            targetElement.nextElementSibling.classList.add(ABORT_ICON);\n            targetElement.nextElementSibling.setAttribute('title', this.localizedTexts('abort'));\n        }\n        metaData.file.status = this.localizedTexts('inProgress');\n        metaData.file.statusCode = '3';\n        this.updateMetaData(metaData);\n        var eventArgs = {\n            event: e ? e : null,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            chunkCount: Math.round(metaData.file.size / this.asyncSettings.chunkSize),\n            chunkSize: this.asyncSettings.chunkSize\n        };\n        this.trigger('resuming', eventArgs);\n        for (var i = 0; i < this.pausedData.length; i++) {\n            if (this.pausedData[i].end === this.pausedData[i].file.size) {\n                this.chunkUploadComplete(e, metaData, custom);\n            }\n            else {\n                if (this.pausedData[i].file.name === metaData.file.name) {\n                    this.pausedData[i].start = this.pausedData[i].end;\n                    this.pausedData[i].end = this.pausedData[i].end + this.asyncSettings.chunkSize;\n                    this.pausedData[i].end = Math.min(this.pausedData[i].end, this.pausedData[i].file.size);\n                    this.pausedData[i].chunkIndex = this.pausedData[i].chunkIndex + 1;\n                    this.sendRequest(this.pausedData[i].file, this.pausedData[i], custom);\n                }\n            }\n        }\n    };\n    Uploader.prototype.updateMetaData = function (metaData) {\n        if (this.uploadMetaData.indexOf(metaData) === -1) {\n            this.uploadMetaData.push(metaData);\n        }\n        else {\n            this.uploadMetaData.splice(this.uploadMetaData.indexOf(metaData), 1);\n            this.uploadMetaData.push(metaData);\n        }\n    };\n    Uploader.prototype.removeChunkProgressBar = function (metaData) {\n        var liElement = this.getLiElement(metaData.file);\n        if (!isNullOrUndefined(liElement)) {\n            this.updateProgressBarClasses(liElement, UPLOAD_SUCCESS);\n            this.removeProgressbar(liElement, 'success');\n            var cancelButton = liElement.querySelector('.' + ABORT_ICON);\n            if (!isNullOrUndefined(cancelButton)) {\n                cancelButton.classList.add(DELETE_ICON);\n                cancelButton.setAttribute('title', this.localizedTexts('delete'));\n                cancelButton.classList.remove(ABORT_ICON, UPLOAD_INPROGRESS);\n            }\n        }\n    };\n    Uploader.prototype.chunkUploadFailed = function (e, metaData, custom) {\n        var _this = this;\n        var chunkCount = Math.max(Math.ceil(metaData.file.size / this.asyncSettings.chunkSize), 1);\n        var liElement;\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom)) {\n            liElement = this.getLiElement(metaData.file);\n        }\n        var eventArgs = {\n            event: e,\n            file: metaData.file,\n            chunkIndex: metaData.chunkIndex,\n            totalChunk: chunkCount,\n            chunkSize: this.asyncSettings.chunkSize,\n            cancel: false\n        };\n        this.trigger('chunkFailure', eventArgs);\n        /* tslint:disable */\n        var eventArgsData = eventArgs;\n        var values = Object.keys(eventArgsData).map(function (e) {\n            return eventArgsData[e];\n        });\n        /* tslint:enable */\n        // To prevent triggering of failure event\n        if (!values[values.length - 2]) {\n            if (metaData.retryCount < this.asyncSettings.retryCount) {\n                setTimeout(function () { _this.retryRequest(liElement, metaData, custom); }, this.asyncSettings.retryAfterDelay);\n            }\n            else {\n                if (!isNullOrUndefined(liElement)) {\n                    var pauseButton = liElement.querySelector('.' + PAUSE_UPLOAD) ?\n                        liElement.querySelector('.' + PAUSE_UPLOAD) : liElement.querySelector('.' + RESUME_UPLOAD);\n                    if (!isNullOrUndefined(pauseButton)) {\n                        pauseButton.classList.add(RETRY_ICON);\n                        pauseButton.classList.remove(PAUSE_UPLOAD, RESUME_UPLOAD);\n                    }\n                    this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n                    this.removeProgressbar(liElement, 'failure');\n                    liElement.querySelector('.e-icons').classList.remove(UPLOAD_INPROGRESS);\n                    var iconElement = liElement.querySelector('.' + ABORT_ICON);\n                    iconElement.classList.remove(ABORT_ICON);\n                    if (!isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD))) {\n                        detach(liElement.querySelector('.' + PAUSE_UPLOAD));\n                    }\n                    if (metaData.start > 0) {\n                        iconElement.classList.add(DELETE_ICON);\n                        iconElement.setAttribute('title', this.localizedTexts('delete'));\n                    }\n                    else {\n                        iconElement.classList.add(REMOVE_ICON);\n                        iconElement.setAttribute('title', this.localizedTexts('remove'));\n                    }\n                }\n                metaData.retryCount = 0;\n                var file = metaData.file;\n                var args = { e: e, operation: 'upload', file: this.updateStatus(file, this.localizedTexts('uploadFailedMessage'), '0') };\n                this.trigger('failure', args);\n            }\n        }\n    };\n    Uploader.prototype.retryRequest = function (liElement, metaData, custom) {\n        if (isNullOrUndefined(this.template) && (isNullOrUndefined(custom) || !custom) && liElement) {\n            this.updateProgressBarClasses(liElement, UPLOAD_FAILED);\n        }\n        metaData.retryCount += 1;\n        this.sendRequest(metaData.file, metaData);\n    };\n    Uploader.prototype.checkPausePlayAction = function (e) {\n        var targetElement = e.target;\n        var selectedElement = e.target.parentElement;\n        var index = this.fileList.indexOf(selectedElement);\n        var fileData = this.filesData[index];\n        var metaData = this.getCurrentMetaData(fileData);\n        if (targetElement.classList.contains(PAUSE_UPLOAD)) {\n            this.pauseUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RESUME_UPLOAD)) {\n            this.resumeUpload(metaData, e);\n        }\n        else if (targetElement.classList.contains(RETRY_ICON)) {\n            if (metaData.file.status === this.localizedTexts('fileUploadCancel')) {\n                this.retryUpload(metaData, false);\n            }\n            else {\n                this.retryUpload(metaData, true);\n            }\n        }\n    };\n    Uploader.prototype.retryUpload = function (metaData, fromcanceledStage) {\n        if (fromcanceledStage) {\n            metaData.end = metaData.end + this.asyncSettings.chunkSize;\n            metaData.start = metaData.start + this.asyncSettings.chunkSize;\n            this.sendRequest(metaData.file, metaData);\n        }\n        else {\n            metaData.file.statusCode = '1';\n            metaData.file.status = this.localizedTexts('readyToUploadMessage');\n            this.chunkUpload(metaData.file);\n        }\n    };\n    Uploader.prototype.chunkUploadInProgress = function (e, metaData, custom) {\n        var _this = this;\n        if (metaData.file.statusCode === '4') {\n            return;\n        }\n        if (metaData.file.statusCode !== '4' && metaData.file.statusCode !== '5') {\n            metaData.file.statusCode = '3';\n            metaData.file.status = this.localizedTexts('inProgress');\n        }\n        this.updateMetaData(metaData);\n        var liElement = this.getLiElement(metaData.file);\n        if (isNullOrUndefined(liElement)) {\n            return;\n        }\n        var target;\n        var retryElement = liElement.querySelector('.' + RETRY_ICON);\n        if (!isNullOrUndefined(retryElement)) {\n            retryElement.classList.add(PAUSE_UPLOAD);\n            retryElement.setAttribute('title', this.localizedTexts('pause'));\n            retryElement.classList.remove(RETRY_ICON);\n        }\n        if (!isNullOrUndefined(liElement)) {\n            if (!(liElement.querySelectorAll('.' + PROGRESS_WRAPPER).length > 0)) {\n                var statusElement = liElement.querySelector('.' + STATUS);\n                if (isNullOrUndefined(this.template)) {\n                    statusElement.classList.add(UPLOAD_INPROGRESS);\n                    statusElement.classList.remove(UPLOAD_FAILED);\n                    this.createProgressBar(liElement);\n                    this.updateProgressBarClasses(liElement, UPLOAD_INPROGRESS);\n                }\n                var clearIcon = liElement.querySelector('.' + REMOVE_ICON) ? liElement.querySelector('.' + REMOVE_ICON) :\n                    liElement.querySelector('.' + DELETE_ICON);\n                if (!isNullOrUndefined(clearIcon)) {\n                    clearIcon.classList.add(ABORT_ICON);\n                    clearIcon.setAttribute('title', this.localizedTexts('abort'));\n                    clearIcon.classList.remove(REMOVE_ICON);\n                }\n            }\n            if (!isNaN(Math.round((e.loaded / e.total) * 100)) && isNullOrUndefined(this.template) && metaData.file.statusCode !== '4') {\n                var loadedSize = (metaData.chunkIndex * this.asyncSettings.chunkSize);\n                var value = Math.min((((loadedSize + e.loaded) / metaData.file.size) * 100), 100);\n                this.changeProgressValue(liElement, Math.round(value).toString() + '%');\n            }\n            if (metaData.chunkIndex === 0) {\n                this.checkActionButtonStatus();\n            }\n        }\n        if (isNullOrUndefined(liElement.querySelector('.' + PAUSE_UPLOAD)) && isNullOrUndefined(this.template)) {\n            this.pauseButton = this.createElement('span', { className: 'e-icons e-file-pause-btn', attrs: { 'tabindex': '-1' } });\n            if (Browser.info.name === 'msie') {\n                this.pauseButton.classList.add('e-msie');\n            }\n            liElement.insertBefore(this.pauseButton, liElement.querySelector('.' + ABORT_ICON));\n            this.pauseButton.setAttribute('title', this.localizedTexts('pause'));\n            this.pauseButton.addEventListener('click', function (e) { _this.checkPausePlayAction(e); }, false);\n        }\n    };\n    /**\n     * It is used to convert bytes value into kilobytes or megabytes depending on the size based\n     * on [binary prefix](https://en.wikipedia.org/wiki/Binary_prefix).\n     * @param { number } bytes - specifies the file size in bytes.\n     * @returns string\n     */\n    Uploader.prototype.bytesToSize = function (bytes) {\n        var i = -1;\n        var size;\n        if (!bytes) {\n            return '0.0 KB';\n        }\n        do {\n            bytes = bytes / 1024;\n            i++;\n        } while (bytes > 99);\n        if (i >= 2) {\n            bytes = bytes * 1024;\n            i = 1;\n        }\n        return Math.max(bytes, 0).toFixed(1) + ' ' + ['KB', 'MB'][i];\n    };\n    /**\n     * Allows you to sort the file data alphabetically based on its file name clearly.\n     * @param { FileList } filesData - specifies the files data for upload.\n     * @returns File[]\n     */\n    Uploader.prototype.sortFileList = function (filesData) {\n        var files = filesData;\n        var fileNames = [];\n        for (var i = 0; i < files.length; i++) {\n            fileNames.push(files[i].name);\n        }\n        var sortedFileNames = fileNames.sort();\n        var sortedFilesData = [];\n        var index = 0;\n        for (var _i = 0, sortedFileNames_1 = sortedFileNames; _i < sortedFileNames_1.length; _i++) {\n            var name_3 = sortedFileNames_1[_i];\n            for (var i = 0; i < files.length; i++) {\n                if (name_3 === files[i].name) {\n                    sortedFilesData.push(files[i]);\n                }\n            }\n        }\n        return sortedFilesData;\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    Uploader.prototype.destroy = function () {\n        this.element.value = null;\n        this.clearAll();\n        this.unWireEvents();\n        this.unBindDropEvents();\n        if (this.multiple) {\n            this.element.removeAttribute('multiple');\n        }\n        if (!this.enabled) {\n            this.element.removeAttribute('disabled');\n        }\n        this.element.removeAttribute('accept');\n        this.setInitialAttributes();\n        this.uploadWrapper.parentElement.appendChild(this.cloneElement);\n        this.cloneElement.classList.remove('e-control', ROOT);\n        detach(this.uploadWrapper);\n        this.uploadWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Allows you to call the upload process manually by calling save URL action.\n     * To process the selected files (added in upload queue), pass an empty argument otherwise\n     * upload the specific file based on its argument.\n     * @param { FileInfo | FileInfo[] } files - specifies the files data for upload.\n     * @returns void\n     */\n    Uploader.prototype.upload = function (files, custom) {\n        var uploadFiles = this.validateFileType(files);\n        this.uploadFiles(uploadFiles, custom);\n    };\n    Uploader.prototype.validateFileType = function (files) {\n        var uploadFiles = [];\n        if (files instanceof Array) {\n            uploadFiles = files;\n        }\n        else {\n            uploadFiles.push(files);\n        }\n        return uploadFiles;\n    };\n    Uploader.prototype.uploadFiles = function (files, custom) {\n        var _this = this;\n        var selectedFiles = [];\n        if (this.asyncSettings.saveUrl === '' || isNullOrUndefined(this.asyncSettings.saveUrl)) {\n            return;\n        }\n        if (!custom || isNullOrUndefined(custom)) {\n            if (!this.multiple) {\n                var file = [];\n                file.push(files[0]);\n                selectedFiles = this.filterfileList(file);\n            }\n            else {\n                selectedFiles = this.filterfileList(files);\n            }\n        }\n        else {\n            selectedFiles = files;\n        }\n        var chunkEnabled = this.checkChunkUpload();\n        var _loop_4 = function (i) {\n            var ajax = new Ajax(this_3.asyncSettings.saveUrl, 'POST', true, null);\n            var eventArgs = {\n                fileData: selectedFiles[i],\n                customFormData: [],\n                cancel: false\n            };\n            var formData = new FormData();\n            ajax.beforeSend = function (e) {\n                eventArgs.currentRequest = ajax.httpRequest;\n                _this.trigger('uploading', eventArgs);\n                if (eventArgs.cancel) {\n                    _this.eventCancelByArgs(e, eventArgs, selectedFiles[i]);\n                }\n                _this.updateFormData(formData, eventArgs.customFormData);\n            };\n            if (selectedFiles[i].statusCode === '1') {\n                var name_4 = this_3.element.getAttribute('name');\n                formData.append(name_4, selectedFiles[i].rawFile, selectedFiles[i].name);\n                if (chunkEnabled && selectedFiles[i].size > this_3.asyncSettings.chunkSize) {\n                    this_3.chunkUpload(selectedFiles[i], custom);\n                }\n                else {\n                    ajax.onLoad = function (e) { _this.uploadComplete(e, selectedFiles[i], custom); return {}; };\n                    ajax.onUploadProgress = function (e) {\n                        _this.uploadInProgress(e, selectedFiles[i], custom, ajax);\n                        return {};\n                    };\n                    /* istanbul ignore next */\n                    ajax.onError = function (e) { _this.uploadFailed(e, selectedFiles[i]); return {}; };\n                    ajax.send(formData);\n                }\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < selectedFiles.length; i++) {\n            _loop_4(i);\n        }\n    };\n    /**\n     * Remove the uploaded file from server manually by calling the remove URL action.\n     * If you pass an empty argument to this method, the complete file list can be cleared,\n     * otherwise remove the specific file based on its argument (file_data).\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to remove from file list/server.\n     * @param { boolean } customTemplate - Set true if the component rendering with customize template.\n     * @param { boolean } removeDirectly - Set true if files remove without removing event.\n     * @returns void\n     */\n    Uploader.prototype.remove = function (fileData, customTemplate, removeDirectly, args) {\n        var eventArgs = {\n            event: args,\n            cancel: false,\n            filesData: [],\n            customFormData: [],\n            postRawFile: true\n        };\n        if (this.isForm) {\n            eventArgs.filesData = this.getFilesData();\n            this.trigger('removing', eventArgs);\n            if (!eventArgs.cancel) {\n                this.clearAll();\n            }\n            return;\n        }\n        var removeFiles = [];\n        fileData = !isNullOrUndefined(fileData) ? fileData : this.filesData;\n        if (fileData instanceof Array) {\n            removeFiles = fileData;\n        }\n        else {\n            removeFiles.push(fileData);\n        }\n        eventArgs.filesData = removeFiles;\n        var removeUrl = this.asyncSettings.removeUrl;\n        var validUrl = (removeUrl === '' || isNullOrUndefined(removeUrl)) ? false : true;\n        for (var _i = 0, removeFiles_1 = removeFiles; _i < removeFiles_1.length; _i++) {\n            var files = removeFiles_1[_i];\n            if ((files.statusCode === '2' || files.statusCode === '4') && validUrl) {\n                this.removeUploadedFile(files, eventArgs, removeDirectly, customTemplate);\n            }\n            else {\n                if (!removeDirectly) {\n                    this.trigger('removing', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    return;\n                }\n                this.removeFilesData(files, customTemplate);\n            }\n        }\n    };\n    /**\n     * Clear all the file entries from list that can be uploaded files or added in upload queue.\n     * @returns void\n     */\n    Uploader.prototype.clearAll = function () {\n        if (isNullOrUndefined(this.listParent)) {\n            if (Browser.info.name !== 'msie') {\n                this.element.value = '';\n            }\n            this.filesData = [];\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            filesData: this.filesData\n        };\n        this.trigger('clearing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.clearData();\n    };\n    /**\n     * Get the data of files which are shown in file list.\n     * @returns FileInfo[]\n     */\n    Uploader.prototype.getFilesData = function () {\n        return this.filesData;\n    };\n    /**\n     * Pauses the in-progress chunked upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to pause from uploading.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.pause = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.pauseUploading(fileDataFiles, custom);\n    };\n    Uploader.prototype.pauseUploading = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '3') {\n                this.pauseUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    Uploader.prototype.getFiles = function (fileData) {\n        var files = [];\n        if (!isNullOrUndefined(fileData) && !(fileData instanceof Array)) {\n            files.push(fileData);\n        }\n        else {\n            files = fileData;\n        }\n        return files;\n    };\n    /**\n     * Resumes the chunked upload that is previously paused based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to resume the paused file.\n     * @param { boolean } custom - Set true if used custom UI.\n     * @returns void\n     */\n    Uploader.prototype.resume = function (fileData, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.resumeFiles(fileDataFiles, custom);\n    };\n    Uploader.prototype.resumeFiles = function (fileData, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '4') {\n                this.resumeUpload(this.getCurrentMetaData(files[i], null), null, custom);\n            }\n        }\n    };\n    /**\n     * Retries the canceled or failed file upload based on the file data.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to retry the canceled or failed file.\n     * @param { boolean } fromcanceledStage - Set true to retry from canceled stage and set false to retry from initial stage.\n     * @returns void\n     */\n    Uploader.prototype.retry = function (fileData, fromcanceledStage, custom) {\n        var fileDataFiles = this.validateFileType(fileData);\n        this.retryFailedFiles(fileDataFiles, fromcanceledStage, custom);\n    };\n    Uploader.prototype.retryFailedFiles = function (fileData, fromcanceledStage, custom) {\n        var files = this.getFiles(fileData);\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].statusCode === '5' || files[i].statusCode === '0') {\n                if (this.asyncSettings.chunkSize > 0) {\n                    this.retryUpload(this.getCurrentMetaData(files[i], null), fromcanceledStage);\n                }\n                else {\n                    var liElement = void 0;\n                    if (!custom) {\n                        liElement = this.fileList[this.filesData.indexOf(files[i])];\n                    }\n                    this.reloadcanceledFile(null, files[i], liElement, custom);\n                }\n            }\n        }\n    };\n    /**\n     * Stops the in-progress chunked upload based on the file data.\n     * When the file upload is canceled, the partially uploaded file is removed from server.\n     * @param { FileInfo | FileInfo[] } fileData - specifies the files data to cancel the progressing file.\n     * @returns void\n     */\n    Uploader.prototype.cancel = function (fileData) {\n        var cancelingFiles = this.validateFileType(fileData);\n        this.cancelUpload(cancelingFiles);\n    };\n    Uploader.prototype.cancelUpload = function (fileData) {\n        var files = this.getFiles(fileData);\n        if (this.asyncSettings.chunkSize > 0) {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    var metaData = this.getCurrentMetaData(files[i], null);\n                    metaData.file.statusCode = '5';\n                    metaData.file.status = this.localizedTexts('fileUploadCancel');\n                    this.updateMetaData(metaData);\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < files.length; i++) {\n                if (files[i].statusCode === '3') {\n                    files[i].statusCode = '5';\n                    files[i].status = this.localizedTexts('fileUploadCancel');\n                    this.showHideUploadSpinner(files[i]);\n                }\n            }\n        }\n    };\n    Uploader.prototype.showHideUploadSpinner = function (files) {\n        var liElement = this.getLiElement(files);\n        if (!isNullOrUndefined(liElement) && isNullOrUndefined(this.template)) {\n            var spinnerTarget = liElement.querySelector('.' + ABORT_ICON);\n            createSpinner({ target: spinnerTarget, width: '20px' });\n            showSpinner(spinnerTarget);\n        }\n    };\n    __decorate([\n        Complex({ saveUrl: '', removeUrl: '' }, AsyncSettings)\n    ], Uploader.prototype, \"asyncSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"template\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"multiple\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"autoUpload\", void 0);\n    __decorate([\n        Complex({}, ButtonsProps)\n    ], Uploader.prototype, \"buttons\", void 0);\n    __decorate([\n        Property('')\n    ], Uploader.prototype, \"allowedExtensions\", void 0);\n    __decorate([\n        Property(0)\n    ], Uploader.prototype, \"minFileSize\", void 0);\n    __decorate([\n        Property(30000000)\n    ], Uploader.prototype, \"maxFileSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Uploader.prototype, \"dropArea\", void 0);\n    __decorate([\n        Collection([{}], FilesProp)\n    ], Uploader.prototype, \"files\", void 0);\n    __decorate([\n        Property(true)\n    ], Uploader.prototype, \"showFileList\", void 0);\n    __decorate([\n        Property(false)\n    ], Uploader.prototype, \"directoryUpload\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"uploading\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"success\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"failure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"clearing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkSuccess\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"chunkFailure\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"canceling\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"pausing\", void 0);\n    __decorate([\n        Event()\n    ], Uploader.prototype, \"resuming\", void 0);\n    Uploader = __decorate([\n        NotifyPropertyChanges\n    ], Uploader);\n    return Uploader;\n}(Component));\nexport { Uploader };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Collection, Event, NotifyPropertyChanges, detach, Property, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, getUniqueID, rippleEffect } from '@syncfusion/ej2-base';\nimport { attributes, Component, closest, select } from '@syncfusion/ej2-base';\nimport { classList, removeClass } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { getModel, Item } from './../common/common';\nvar classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ``````html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar DropDownButton = /** @class */ (function (_super) {\n    __extends(DropDownButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {DropDownButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function DropDownButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    DropDownButton.prototype.preRender = function () {\n        /** */\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    DropDownButton.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     * @returns void\n     */\n    DropDownButton.prototype.toggle = function () {\n        this.canOpen() ? this.openPopUp() : this.closePopup();\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n    };\n    DropDownButton.prototype.createPopup = function () {\n        var div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, (_a = {},\n            _a['role'] = 'menu',\n            _a['aria-haspopup'] = this.items.length || this.target ? 'true' : 'false',\n            _a['aria-expanded'] = 'false',\n            _a['aria-owns'] = this.getPopUpElement().id,\n            _a['type'] = 'button',\n            _a));\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        var _a;\n    };\n    DropDownButton.prototype.getTargetElement = function () {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    };\n    DropDownButton.prototype.createItems = function (items) {\n        var showIcon = this.hasIcon(items, 'iconCss');\n        var span;\n        var item;\n        var li;\n        var eventArgs;\n        var ul = this.createElement('ul', {\n            attrs: { 'tabindex': '0' }\n        });\n        for (var i = 0; i < items.length; i++) {\n            item = items[i];\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : item.text,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                li.insertBefore(span, li.childNodes[0]);\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        return ul;\n    };\n    DropDownButton.prototype.hasIcon = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    DropDownButton.prototype.createAnchor = function (item) {\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: item.text, attrs: { 'href': item.url } });\n    };\n    DropDownButton.prototype.initialize = function () {\n        this.button = new Button({\n            iconCss: this.iconCss, iconPosition: this.iconPosition, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.createElement = this.createElement;\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.appendArrowSpan();\n        this.createPopup();\n        this.setActiveElem([this.element]);\n    };\n    DropDownButton.prototype.appendArrowSpan = function () {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    };\n    DropDownButton.prototype.setActiveElem = function (elem) {\n        this.activeElem = elem;\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    DropDownButton.prototype.getModuleName = function () {\n        return 'dropdown-btn';\n    };\n    DropDownButton.prototype.canOpen = function () {\n        return this.getPopUpElement().classList.contains('e-popup-close');\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    DropDownButton.prototype.destroy = function () {\n        var _this = this;\n        if (this.element.querySelector('span.e-caret')) {\n            detach(this.element.querySelector('span.e-caret'));\n        }\n        _super.prototype.destroy.call(this);\n        this.button.destroy();\n        ['role', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n            _this.element.removeAttribute(key);\n        });\n        removeClass([this.element], ['e-btn']);\n        removeClass(this.activeElem, ['e-active']);\n        this.dropDown.destroy();\n        var popupEle = document.getElementById(this.getPopUpElement().id);\n        if (popupEle) {\n            removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n            detach(popupEle);\n        }\n        if (!this.disabled) {\n            this.unWireEvents();\n        }\n    };\n    DropDownButton.prototype.getPopUpElement = function () {\n        return this.dropDown.element;\n    };\n    DropDownButton.prototype.getULElement = function () {\n        return this.getPopUpElement().children[0];\n    };\n    DropDownButton.prototype.wireEvents = function () {\n        var popupElement = this.getPopUpElement();\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(popupElement, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n        EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    };\n    DropDownButton.prototype.keyBoardHandler = function (e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    };\n    DropDownButton.prototype.upDownKeyHandler = function (e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        var ul = this.getULElement();\n        var defaultIdx = e.keyCode === 40 ? 0 : ul.childElementCount - 1;\n        var liIdx = defaultIdx;\n        var li = null;\n        this.removeCustomSelection();\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classNames.FOCUS)) {\n                li = ul.children[i];\n                liIdx = i;\n                li.classList.remove(classNames.FOCUS);\n                e.keyCode === 40 ? liIdx++ : liIdx--;\n                if (liIdx === (e.keyCode === 40 ? ul.childElementCount : -1)) {\n                    liIdx = defaultIdx;\n                }\n            }\n        }\n        li = ul.children[liIdx];\n        liIdx = this.isValidLI(li, liIdx, e.keyCode);\n        if (liIdx !== -1) {\n            addClass([ul.children[liIdx]], classNames.FOCUS);\n            ul.children[liIdx].focus();\n        }\n    };\n    DropDownButton.prototype.removeCustomSelection = function () {\n        var selectedLi = this.getULElement().querySelector('.e-selected');\n        if (selectedLi) {\n            selectedLi.classList.remove('e-selected');\n        }\n    };\n    DropDownButton.prototype.isValidLI = function (li, index, keyCode, count) {\n        if (count === void 0) { count = 0; }\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            if (index === (keyCode === 40 ? this.items.length - 1 : 0)) {\n                index = keyCode === 40 ? 0 : this.items.length - 1;\n            }\n            else {\n                keyCode === 40 ? index++ : index--;\n            }\n        }\n        li = this.getULElement().children[index];\n        if (li.classList.contains(classNames.SEPARATOR) || li.classList.contains(classNames.DISABLED)) {\n            count++;\n            if (count === this.items.length) {\n                return index = -1;\n            }\n            index = this.isValidLI(li, index, keyCode, count);\n        }\n        return index;\n    };\n    DropDownButton.prototype.keyEventHandler = function (e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    };\n    DropDownButton.prototype.getLI = function (elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    };\n    DropDownButton.prototype.mousedownHandler = function (e) {\n        var trgt = e.target;\n        if (!this.canOpen() && !(closest(trgt, '#' + this.getPopUpElement().id) || closest(trgt, '#' + this.element.id))) {\n            this.closePopup(e);\n        }\n    };\n    DropDownButton.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var canOpen = this.canOpen();\n        if (closest(trgt, '#' + this.element.id)) {\n            if (canOpen) {\n                this.openPopUp(e);\n            }\n            else {\n                this.closePopup(e, this.activeElem[0]);\n            }\n        }\n        else {\n            if (closest(trgt, '#' + this.getPopUpElement().id)) {\n                var eventArgs = void 0;\n                var liIdx = void 0;\n                var item = void 0;\n                var li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    };\n    DropDownButton.prototype.openPopUp = function (e) {\n        if (e === void 0) { e = null; }\n        if (!this.target) {\n            this.getPopUpElement().appendChild(this.createItems(this.items));\n        }\n        var ul = this.getULElement();\n        var beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        if (!beforeOpenArgs.cancel) {\n            this.dropDown.show(null, this.element);\n            addClass([this.element], 'e-active');\n            this.element.setAttribute('aria-expanded', 'true');\n            ul.focus();\n            var openArgs = { element: ul, items: this.items };\n            this.trigger('open', openArgs);\n        }\n    };\n    DropDownButton.prototype.closePopup = function (e, focusEle) {\n        if (e === void 0) { e = null; }\n        var ul = this.getULElement();\n        var beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        if (!beforeCloseArgs.cancel) {\n            this.removeCustomSelection();\n            this.dropDown.hide();\n            removeClass(this.activeElem, 'e-active');\n            this.element.setAttribute('aria-expanded', 'false');\n            if (focusEle) {\n                focusEle.focus();\n            }\n            var closeArgs = { element: ul, items: this.items };\n            this.trigger('close', closeArgs);\n            if (!this.target && ul) {\n                detach(ul);\n            }\n        }\n    };\n    DropDownButton.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        this.rippleFn();\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {DropDownButtonModel} newProp\n     * @param  {DropDownButtonModel} oldProp\n     * @returns void\n     * @private\n     */\n    DropDownButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n        this.button.setProperties(getModel(newProp, btnModel));\n        var popupElement = this.getPopUpElement();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (!this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        var arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (oldProp.cssClass) {\n                        removeClass([popupElement], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([popupElement], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    popupElement.classList.toggle(classNames.RTL);\n                    break;\n                case 'target':\n                    this.target = newProp.target;\n                    detach(this.getULElement());\n                    popupElement.appendChild(this.getTargetElement());\n                    this.dropDown.content = this.getTargetElement();\n                    break;\n                case 'items':\n                    this.dropDown.refresh();\n                    if (popupElement.classList.contains('e-popup-open')) {\n                        classList(popupElement, ['e-popup-close'], ['e-popup-open']);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], DropDownButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], DropDownButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownButton.prototype, \"created\", void 0);\n    DropDownButton = __decorate([\n        NotifyPropertyChanges\n    ], DropDownButton);\n    return DropDownButton;\n}(Component));\nexport { DropDownButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nimport { Event, remove, addClass, removeClass, detach, getValue, setValue } from '@syncfusion/ej2-base';\nimport { EventHandler, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { attributes, getUniqueID, getInstance, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { getModel, Item } from './../common/common';\nimport { DropDownButton } from '../drop-down-button/drop-down-button';\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {SplitButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function SplitButton(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize Angular support.\n     * @private\n     */\n    SplitButton.prototype.preRender = function () {\n        var ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            var ejInstance = getValue('ej2_instances', ele);\n            var btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            var wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    SplitButton.prototype.render = function () {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n    };\n    SplitButton.prototype.initWrapper = function () {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    };\n    SplitButton.prototype.createPrimaryButton = function () {\n        var btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            iconPosition: this.iconPosition,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel);\n        this.primaryBtnObj.createElement = this.createElement;\n        this.primaryBtnObj.appendTo(this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n    };\n    SplitButton.prototype.createSecondaryButton = function () {\n        var _this = this;\n        var btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        var dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            beforeItemRender: function (args) {\n                _this.trigger('beforeItemRender', args);\n            },\n            beforeOpen: function (args) {\n                _this.trigger('beforeOpen', args);\n            },\n            beforeClose: function (args) {\n                _this.trigger('beforeClose', args);\n            },\n            open: function (args) {\n                _this.trigger('open', args);\n            },\n            close: function (args) {\n                _this.trigger('close', args);\n            },\n            select: function (args) {\n                _this.trigger('select', args);\n            }\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n        this.secondaryBtnObj.createElement = this.createElement;\n        this.secondaryBtnObj.appendTo(btnElem);\n        this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n        this.dropDown = this.secondaryBtnObj.dropDown;\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.secondaryBtnObj.keyBoardHandler);\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    };\n    SplitButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'role': 'listbox', 'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.secondaryBtnObj.dropDown.element.id\n        });\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    SplitButton.prototype.getModuleName = function () {\n        return 'split-btn';\n    };\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     * @returns void\n     */\n    SplitButton.prototype.toggle = function () {\n        this.secondaryBtnObj.toggle();\n    };\n    SplitButton.prototype.destroy = function () {\n        var _this = this;\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        var element = document.getElementById(this.element.id);\n        if (element && element.parentElement === this.wrapper) {\n            if (this.wrapper.tagName === TAGNAME) {\n                this.wrapper.innerHTML = '';\n                removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                removeClass([this.wrapper], this.cssClass.split(' '));\n            }\n            else {\n                removeClass([this.element], ['e-' + this.getModuleName(), RTL]);\n                ['role', 'aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n                this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                remove(this.wrapper);\n            }\n            this.unWireEvents();\n        }\n    };\n    SplitButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        EventHandler.add(this.getPopUpElement(), 'keydown', this.keyBoardHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    };\n    SplitButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    };\n    SplitButton.prototype.primaryBtnClickHandler = function () {\n        this.trigger('click', { element: this.element });\n    };\n    SplitButton.prototype.btnKeyBoardHandler = function (e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {SplitButtonModel} newProp\n     * @param  {SplitButtonModel} oldProp\n     * @returns void\n     */\n    SplitButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['items', 'beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl'];\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], SplitButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('Left')\n    ], SplitButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Collection([], Item)\n    ], SplitButton.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], SplitButton.prototype, \"target\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], SplitButton.prototype, \"created\", void 0);\n    SplitButton = __decorate([\n        NotifyPropertyChanges\n    ], SplitButton);\n    return SplitButton;\n}(DropDownButton));\nexport { SplitButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { EventHandler, Property, NotifyPropertyChanges, Animation, attributes } from '@syncfusion/ej2-base';\nimport { Event, remove, removeClass } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar HIDESPINNER = 'e-hide-spinner';\nvar PROGRESS = 'e-progress';\nvar PROGRESSACTIVE = 'e-progress-active';\nvar CONTENTCLS = 'e-btn-content';\n/**\n * The ProgressButton visualizes the progression of an operation to indicate the user\n * that a process is happening in the background with visual representation.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var progressButtonObj = new ProgressButton({ content: 'Progress Button' });\n * progressButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nvar ProgressButton = /** @class */ (function (_super) {\n    __extends(ProgressButton, _super);\n    /**\n     * Constructor for creating the widget\n     * @param  {ProgressButtonModel} options?\n     * @param  {string|HTMLButtonElement} element?\n     */\n    function ProgressButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.step = 1;\n        return _this;\n    }\n    ProgressButton.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * Initialize the Component rendering\n     * @returns void\n     * @private\n     */\n    ProgressButton.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.init();\n        this.wireEvents();\n        this.setAria();\n    };\n    /**\n     * Starts the button progress at the specified percent.\n     * @param percent Starts the button progress at this percent.\n     * @returns void\n     */\n    ProgressButton.prototype.start = function (percent) {\n        this.isPaused = false;\n        this.startProgress(percent ? percent : this.percent, this.progressTime);\n    };\n    /**\n     * Stops the button progress.\n     * @returns void\n     */\n    ProgressButton.prototype.stop = function () {\n        this.isPaused = true;\n        cancelAnimationFrame(this.timerId);\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ProgressButton.prototype.getModuleName = function () {\n        return 'progress-btn';\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ProgressButton.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        removeClass([this.element], [HIDESPINNER, PROGRESSACTIVE, 'e-round-corner', 'e-' + _super.prototype.getModuleName.call(this)]);\n    };\n    ProgressButton.prototype.init = function () {\n        this.element.classList.add('e-' + _super.prototype.getModuleName.call(this));\n        this.setContent();\n        this.createSpinner();\n        if (this.enableProgress) {\n            this.createProgress();\n        }\n    };\n    ProgressButton.prototype.createSpinner = function () {\n        var spinner = this.createElement('span', { className: 'e-spinner' });\n        this.setSpinPosition(spinner);\n        createSpinner({\n            target: spinner, width: this.spinSettings.width || 16, template: this.spinSettings.template\n        }, this.createElement);\n    };\n    ProgressButton.prototype.setSpinPosition = function (ele) {\n        var position = this.spinSettings.position || 'Left';\n        if (position === 'Left' || position === 'Top') {\n            this.element.insertBefore(ele, this.element.getElementsByClassName(CONTENTCLS)[0]);\n        }\n        else {\n            this.element.appendChild(ele);\n        }\n        this.element.classList.add('e-spin-' + position.toLowerCase());\n    };\n    ProgressButton.prototype.createProgress = function () {\n        this.element.appendChild(this.createElement('span', { className: PROGRESS }));\n    };\n    ProgressButton.prototype.setContent = function () {\n        var cont = this.element.innerHTML;\n        this.element.innerHTML = '';\n        this.element.appendChild(this.createElement('span', { className: CONTENTCLS, innerHTML: cont }));\n    };\n    ProgressButton.prototype.clickHandler = function () {\n        if (this.element.classList.contains(PROGRESSACTIVE)) {\n            return;\n        }\n        this.startProgress();\n    };\n    ProgressButton.prototype.startProgress = function (percent, progressTime) {\n        var _this = this;\n        var clsList = this.element.classList;\n        var isVertical = clsList.contains('e-vertical');\n        clsList.add(PROGRESSACTIVE);\n        if (!(clsList.contains(HIDESPINNER))) {\n            showSpinner(this.element);\n            if (!this.enableProgress) {\n                setTimeout(function () {\n                    _this.hideSpin();\n                    // tslint:disable-next-line\n                }, this.duration);\n            }\n        }\n        if (this.enableProgress) {\n            this.startAnimate(Date.now(), progressTime ? progressTime : 0, progressTime ? Date.now() - (this.duration * 1 / 100) : Date.now(), percent ? percent : 0, 0, this.step, 0, isVertical);\n        }\n        this.startContAnimate();\n    };\n    ProgressButton.prototype.startAnimate = function (timestamp, progressTime, prevTime, percent, prevPercent, step, prevProgressTime, isVertical) {\n        var _this = this;\n        try {\n            var args_1;\n            var timeDiff = timestamp - prevTime;\n            var stepTime = this.duration * step / 100;\n            var timeDiffBuffer = timeDiff ? (timeDiff < stepTime ? timeDiff - stepTime : timeDiff % stepTime) : 0;\n            this.progressTime = progressTime = progressTime + timeDiff - timeDiffBuffer;\n            prevTime = timestamp - timeDiffBuffer;\n            percent = percent + (timeDiff - timeDiffBuffer) / this.duration * 100;\n            prevPercent = ((progressTime - prevProgressTime) % stepTime === 0 || percent === 100) ? percent : prevPercent;\n            args_1 = { percent: prevPercent, currentDuration: progressTime, step: step };\n            if (percent === 0) {\n                this.trigger('begin', args_1);\n            }\n            else if (percent === 100 || progressTime === this.duration) {\n                this.trigger('end', args_1);\n            }\n            else {\n                this.trigger('progress', args_1);\n            }\n            if (percent !== args_1.percent && args_1.percent !== prevPercent) {\n                percent = args_1.percent;\n            }\n            this.percent = percent;\n            this.step = args_1.step;\n            if ((progressTime - prevProgressTime) % (this.duration * args_1.step / 100) === 0 || percent === 100) {\n                this.timerId = requestAnimationFrame(function () {\n                    _this.element.getElementsByClassName(PROGRESS)[0]\n                        .style[isVertical ? 'height' : 'width'] = percent + '%';\n                    _this.element.setAttribute('aria-valuenow', percent.toString());\n                });\n                prevPercent = percent;\n                prevProgressTime = progressTime;\n            }\n            if (!this.isPaused) {\n                if (progressTime < this.duration && percent < 100) {\n                    setTimeout(function () {\n                        _this.startAnimate(Date.now(), progressTime, prevTime, percent, prevPercent, args_1.step, prevProgressTime, isVertical);\n                        // tslint:disable-next-line\n                    }, (this.duration / 100) - timeDiffBuffer);\n                }\n                else {\n                    setTimeout(function () {\n                        _this.progressTime = _this.percent = 0;\n                        _this.element.getElementsByClassName(PROGRESS)[0].style[isVertical ? 'height' : 'width'] = '0%';\n                        _this.element.setAttribute('aria-valuenow', '0');\n                        _this.hideSpin();\n                        // tslint:disable-next-line\n                    }, 100);\n                }\n            }\n        }\n        catch (e) {\n            cancelAnimationFrame(this.timerId);\n            this.trigger('fail', e);\n        }\n    };\n    ProgressButton.prototype.startContAnimate = function () {\n        var _this = this;\n        var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (this.animationSettings.effect !== 'None') {\n            (new Animation({})).animate(ele, {\n                duration: this.animationSettings.duration,\n                name: 'Progress' + this.animationSettings.effect,\n                timingFunction: this.animationSettings.easing,\n                begin: function () {\n                    if (_this.spinSettings.position === 'Center') {\n                        _this.setSpinnerSize();\n                    }\n                },\n                end: function () {\n                    ele.classList.add('e-animate-end');\n                }\n            });\n        }\n        else if (this.spinSettings.position === 'Center') {\n            this.setSpinnerSize();\n        }\n    };\n    ProgressButton.prototype.setSpinnerSize = function () {\n        var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        var spinner = this.element.getElementsByClassName('e-spinner')[0];\n        spinner.style.width = Math.max(spinner.offsetWidth, ele.offsetWidth) + 'px';\n        spinner.style.height = Math.max(spinner.offsetHeight, ele.offsetHeight) + 'px';\n        ele.classList.add('e-cont-animate');\n    };\n    ProgressButton.prototype.hideSpin = function () {\n        var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (!(this.element.classList.contains(HIDESPINNER))) {\n            hideSpinner(this.element);\n        }\n        this.element.classList.remove(PROGRESSACTIVE);\n        if (this.animationSettings.effect !== 'None') {\n            cont.classList.remove('e-animate-end');\n        }\n        if (this.spinSettings.position === 'Center') {\n            var ele = this.element.getElementsByClassName('e-spinner')[0];\n            cont.classList.remove('e-cont-animate');\n            ele.style.width = 'auto';\n            ele.style.height = 'auto';\n        }\n    };\n    ProgressButton.prototype.setIconSpan = function () {\n        var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        var iconSpan = this.element.getElementsByClassName('e-btn-icon')[0];\n        if (cont.childNodes[0] && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n            cont.insertBefore(iconSpan, cont.childNodes[0]);\n        }\n        else {\n            cont.appendChild(iconSpan);\n        }\n    };\n    ProgressButton.prototype.setAria = function () {\n        attributes(this.element, {\n            'aria-label': this.element.textContent + ' progress', 'aria-valuemin': '0', 'aria-valuemax': '100', 'aria-valuenow': '0'\n        });\n    };\n    ProgressButton.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n    };\n    ProgressButton.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ProgressButton} newProp\n     * @param  {ProgressButton} oldProp\n     * @returns void\n     * @private\n     */\n    ProgressButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    this.setContent();\n                    this.createSpinner();\n                    if (this.enableProgress) {\n                        this.createProgress();\n                    }\n                    this.element.setAttribute('aria-label', this.element.textContent + ' progress');\n                    break;\n                case 'iconCss':\n                    if (!oldProp.iconCss) {\n                        this.setIconSpan();\n                    }\n                    break;\n                case 'iconPosition':\n                    this.setIconSpan();\n                    break;\n                case 'enableProgress':\n                    if (newProp.enableProgress) {\n                        this.createProgress();\n                    }\n                    else {\n                        remove(this.element.getElementsByClassName(PROGRESS)[0]);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"enableProgress\", void 0);\n    __decorate([\n        Property(2000)\n    ], ProgressButton.prototype, \"duration\", void 0);\n    __decorate([\n        Property('Left')\n    ], ProgressButton.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ProgressButton.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], ProgressButton.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property({ template: null, width: 16, position: 'Left' })\n    ], ProgressButton.prototype, \"spinSettings\", void 0);\n    __decorate([\n        Property({ duration: 400, effect: 'None', easing: 'ease' })\n    ], ProgressButton.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], ProgressButton.prototype, \"fail\", void 0);\n    ProgressButton = __decorate([\n        NotifyPropertyChanges\n    ], ProgressButton);\n    return ProgressButton;\n}(Button));\nexport { ProgressButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Event, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, closest, detach, EventHandler, getInstance, select, selectAll, formatUnit } from '@syncfusion/ej2-base';\nimport { addClass, attributes, classList, isNullOrUndefined, L10n } from '@syncfusion/ej2-base';\nimport { remove, removeClass, rippleEffect } from '@syncfusion/ej2-base';\nimport { SplitButton, getModel } from '@syncfusion/ej2-splitbuttons';\nimport { Tooltip, getZindexPartial, Popup } from '@syncfusion/ej2-popups';\nimport { Input } from './../input/index';\nimport { NumericTextBox } from './../numerictextbox/index';\nimport { Slider } from './../slider/slider';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar CURRENT = 'e-current';\nvar CONTAINER = 'e-container';\nvar CTRLBTN = 'e-ctrl-btn';\nvar CTRLSWITCH = 'e-switch-ctrl-btn';\nvar DISABLED = 'e-disabled';\nvar FORMATSWITCH = 'e-value-switch-btn';\nvar HANDLER = 'e-handler';\nvar HEX = 'e-hex';\nvar HIDEHEX = 'e-hide-hex-value';\nvar HIDEOPACITY = 'e-hide-opacity';\nvar HIDERGBA = 'e-hide-switchable-value';\nvar HIDEVALUE = 'e-hide-value';\nvar HIDEVALUESWITCH = 'e-hide-valueswitcher';\nvar HSVAREA = 'e-hsv-color';\nvar HSVCONTAINER = 'e-hsv-container';\nvar INPUTWRAPPER = 'e-selected-value';\nvar MODESWITCH = 'e-mode-switch-btn';\nvar NOCOLOR = 'e-nocolor-item';\nvar OPACITY = 'e-opacity-value';\nvar PALETTES = 'e-palette';\nvar PALETTECONTENT = 'e-color-palette';\nvar PICKERCONTENT = 'e-color-picker';\nvar PREVIEW = 'e-preview-container';\nvar PREVIOUS = 'e-previous';\nvar RTL = 'e-rtl';\nvar SHOWVALUE = 'e-show-value';\nvar SELECT = 'e-selected';\nvar SPLITPREVIEW = 'e-split-preview';\nvar TILE = 'e-tile';\nvar presets = {\n    default: ['#000000', '#f44336', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#ffeb3b',\n        '#ffffff', '#ffebee', '#fce4ec', '#f3e5f5', '#ede7f6', '#e3f2fd', '#e1f5fe', '#e0f7fa', '#e0f2f1', '#fffde7',\n        '#f2f2f2', '#ffcdd2', '#f8bbd0', '#e1bee7', '#d1c4e9', '#bbdefb', '#b3e5fc', '#b2ebf2', '#b2dfdb', '#fff9c4',\n        '#e6e6e6', '#ef9a9a', '#f48fb1', '#ce93d8', '#b39ddb', '#90caf9', '#81d4fa', '#80deea', '#80cbc4', '#fff59d',\n        '#cccccc', '#e57373', '#f06292', '#ba68c8', '#9575cd', '#64b5f6', '#4fc3f7', '#4dd0e1', '#4db6ac', '#fff176',\n        '#b3b3b3', '#ef5350', '#ec407a', '#ab47bc', '#7e57c2', '#42a5f5', '#29b6f6', '#26c6da', '#26a69a', '#ffee58',\n        '#999999', '#e53935', '#d81b60', '#8e24aa', '#5e35b1', '#1e88e5', '#039be5', '#00acc1', '#00897b', '#fdd835',\n        '#808080', '#d32f2f', '#c2185b', '#7b1fa2', '#512da8', '#1976d2', '#0288d1', '#0097a7', '#00796b', '#fbc02d',\n        '#666666', '#c62828', '#ad1457', '#6a1b9a', '#4527a0', '#1565c0', '#0277bd', '#00838f', '#00695c', '#f9a825',\n        '#4d4d4d', '#b71c1c', '#880e4f', '#4a148c', '#311b92', '#0d47a1', '#01579b', '#006064', '#004d40', '#f57f17']\n};\n/**\n * ColorPicker component is a user interface to select and adjust color values. It provides supports for various\n * color specification like Red Green Blue, Hue Saturation Value and Hex codes.\n * ```html\n * <input type=\"color\" id=\"color-picker\">\n * ```\n * ```typescript\n * <script>\n *   let colorPickerObj: ColorPicker = new ColorPicker(null , \"#color-picker\");\n * </script>\n * ```\n */\nvar ColorPicker = /** @class */ (function (_super) {\n    __extends(ColorPicker, _super);\n    function ColorPicker(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ColorPicker.prototype.preRender = function () {\n        var localeText = { Apply: 'Apply', Cancel: 'Cancel', ModeSwitcher: 'Switch Mode' };\n        this.l10n = new L10n('colorpicker', localeText, this.locale);\n    };\n    /**\n     * To Initialize the component rendering\n     * @private\n     */\n    ColorPicker.prototype.render = function () {\n        this.initWrapper();\n        if (this.inline) {\n            this.createWidget();\n        }\n        else {\n            this.createSplitBtn();\n        }\n        if (!this.enableOpacity) {\n            addClass([this.container.parentElement], HIDEOPACITY);\n        }\n    };\n    ColorPicker.prototype.initWrapper = function () {\n        var wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n        this.element.parentNode.insertBefore(wrapper, this.element);\n        wrapper.appendChild(this.element);\n        attributes(this.element, { 'tabindex': '-1', 'spellcheck': 'false' });\n        this.container = this.createElement('div', { className: CONTAINER });\n        this.getWrapper().appendChild(this.container);\n        var value = this.value ? this.roundValue(this.value).toLowerCase() : '#008000ff';\n        this.element.value = value.slice(0, 7);\n        this.setProperties({ 'value': value }, true);\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        this.tileRipple = rippleEffect(this.container, { selector: '.' + TILE });\n        this.ctrlBtnRipple = rippleEffect(this.container, { selector: '.e-btn' });\n    };\n    ColorPicker.prototype.getWrapper = function () {\n        return this.element.parentElement;\n    };\n    ColorPicker.prototype.createWidget = function () {\n        if (this.mode === 'Palette') {\n            this.createPalette();\n            if (!this.inline) {\n                this.firstPaletteFocus();\n            }\n        }\n        else {\n            this.createPicker();\n            if (!this.inline) {\n                this.getDragHandler().focus();\n            }\n        }\n        this.isRgb = true;\n        this.createInput();\n        this.createCtrlBtn();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        if (this.inline && this.disabled) {\n            this.toggleDisabled(true);\n        }\n        if (Browser.isDevice) {\n            this.refreshPopupPos();\n        }\n    };\n    ColorPicker.prototype.createSplitBtn = function () {\n        var _this = this;\n        var splitButton = this.createElement('button', { className: 'e-split-colorpicker' });\n        this.getWrapper().appendChild(splitButton);\n        this.splitBtn = new SplitButton({\n            iconCss: 'e-selected-color',\n            target: this.container,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            beforeOpen: this.beforeOpenFn.bind(this),\n            open: this.onOpen.bind(this),\n            beforeClose: this.beforePopupClose.bind(this),\n            click: function (args) {\n                _this.trigger('change', {\n                    currentValue: { hex: _this.value.slice(0, 7), rgba: _this.convertToRgbString(_this.hexToRgb(_this.value)) },\n                    previousValue: { hex: null, rgba: null }\n                });\n            }\n        });\n        this.splitBtn.createElement = this.createElement;\n        this.splitBtn.appendTo(splitButton);\n        var preview = this.createElement('span', { className: SPLITPREVIEW });\n        select('.e-selected-color', splitButton).appendChild(preview);\n        preview.style.backgroundColor = this.convertToRgbString(this.hexToRgb(this.value));\n        var popupEle = this.getPopupEle();\n        addClass([popupEle], 'e-colorpicker-popup');\n        if (this.cssClass) {\n            addClass([popupEle], this.cssClass.split(' '));\n        }\n        if (Browser.isDevice) {\n            var popupInst = this.getPopupInst();\n            popupInst.relateTo = document.body;\n            popupInst.position = { X: 'center', Y: 'center' };\n            popupInst.targetType = 'container';\n            popupInst.collision = { X: 'fit', Y: 'fit' };\n            popupInst.offsetY = 4;\n            popupEle.style.zIndex = getZindexPartial(this.splitBtn.element).toString();\n        }\n    };\n    ColorPicker.prototype.onOpen = function (args) {\n        this.trigger('open', { element: this.container });\n    };\n    ColorPicker.prototype.getPopupInst = function () {\n        return getInstance(this.getPopupEle(), Popup);\n    };\n    ColorPicker.prototype.beforeOpenFn = function (args) {\n        var beforeOpenArgs = { element: this.container, event: args.event, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs);\n        args.cancel = beforeOpenArgs.cancel;\n        if (!args.cancel) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.display = 'block';\n            this.createWidget();\n            popupEle.style.display = '';\n            if (Browser.isDevice) {\n                this.modal = this.createElement('div');\n                this.modal.className = 'e-' + this.getModuleName() + ' e-modal';\n                this.modal.style.display = 'none';\n                document.body.insertBefore(this.modal, popupEle);\n                document.body.className += ' e-colorpicker-overflow';\n                this.modal.style.display = 'block';\n                this.modal.style.zIndex = (Number(popupEle.style.zIndex) - 1).toString();\n            }\n        }\n    };\n    ColorPicker.prototype.beforePopupClose = function (args) {\n        if (!isNullOrUndefined(args.event)) {\n            var beforeCloseArgs = { element: this.container, event: args.event, cancel: false };\n            this.trigger('beforeClose', beforeCloseArgs);\n            if (Browser.isDevice && args.event.target === this.modal) {\n                beforeCloseArgs.cancel = true;\n            }\n            args.cancel = beforeCloseArgs.cancel;\n            if (!args.cancel) {\n                this.onPopupClose();\n            }\n        }\n    };\n    ColorPicker.prototype.onPopupClose = function () {\n        this.unWireEvents();\n        this.destroyOtherComp();\n        this.container.style.width = '';\n        select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n        this.container.innerHTML = '';\n        removeClass([this.container], [PICKERCONTENT, PALETTECONTENT]);\n        if (Browser.isDevice && this.modal) {\n            removeClass([document.body], 'e-colorpicker-overflow');\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    ColorPicker.prototype.createPalette = function () {\n        classList(this.container, [PALETTECONTENT], [PICKERCONTENT]);\n        if (this.presetColors) {\n            var paletteGroup = this.createElement('div', { className: 'e-custom-palette' });\n            this.appendElement(paletteGroup);\n            var keys = Object.keys(this.presetColors);\n            if (keys.length === 1) {\n                this.appendPalette(this.presetColors[keys[0]], keys[0], paletteGroup);\n            }\n            else {\n                for (var i = 0, len = keys.length; i < len; i++) {\n                    this.appendPalette(this.presetColors[keys[i]], keys[i], paletteGroup);\n                }\n            }\n            if (selectAll('.e-row', paletteGroup).length > 10) {\n                addClass([paletteGroup], 'e-palette-group');\n            }\n        }\n        else {\n            this.appendPalette(presets.default, 'default');\n        }\n        if (this.mode === 'Palette' && !this.modeSwitcher && this.noColor) {\n            this.setNoColor();\n        }\n        var width = parseInt(getComputedStyle(this.container).borderBottomWidth, 10);\n        this.container.style.width = formatUnit(this.container.children[0].offsetWidth + width + width);\n        this.rgb = this.hexToRgb(this.roundValue(this.value));\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n    };\n    ColorPicker.prototype.firstPaletteFocus = function () {\n        if (!select('.' + SELECT, this.container.children[0])) {\n            selectAll('.' + PALETTES, this.container)[0].focus();\n        }\n    };\n    ColorPicker.prototype.appendPalette = function (colors, key, refEle) {\n        var palette = this.createElement('div', { className: PALETTES, attrs: { 'tabindex': '0' } });\n        if (refEle) {\n            refEle.appendChild(palette);\n        }\n        else {\n            this.appendElement(palette);\n        }\n        var row;\n        var tile;\n        var roundedColor;\n        for (var i = 0, len = colors.length; i < len; i++) {\n            if (i === 0 || i % this.columns === 0) {\n                row = this.createElement('div', {\n                    className: 'e-row', attrs: { 'role': 'row' }\n                });\n                palette.appendChild(row);\n            }\n            roundedColor = this.roundValue(colors[i]).toLowerCase();\n            tile = this.createElement('span', {\n                className: TILE, attrs: { 'role': 'gridcell', 'aria-label': roundedColor, 'aria-selected': 'false' }\n            });\n            this.trigger('beforeTileRender', { element: tile, presetName: key, value: colors[i] });\n            row.appendChild(tile);\n            if (this.value === roundedColor) {\n                this.addTileSelection(tile);\n                palette.focus();\n            }\n            tile.style.backgroundColor = this.convertToRgbString(this.hexToRgb(roundedColor));\n        }\n    };\n    ColorPicker.prototype.setNoColor = function () {\n        var noColorEle = selectAll('.e-row')[0].children[0];\n        noColorEle.classList.add(NOCOLOR);\n        if (!this.value) {\n            noColorEle.classList.add(SELECT);\n            closest(noColorEle, '.' + PALETTES).focus();\n        }\n        ['aria-selected', 'aria-label'].forEach(function (attr) { noColorEle.removeAttribute(attr); });\n        noColorEle.style.backgroundColor = '';\n    };\n    ColorPicker.prototype.appendElement = function (ele, insertPos) {\n        if (insertPos === void 0) { insertPos = 0; }\n        var refEle = this.container.children[insertPos];\n        refEle ? this.container.insertBefore(ele, refEle) : this.container.appendChild(ele);\n    };\n    ColorPicker.prototype.addTileSelection = function (ele) {\n        ele.classList.add(SELECT);\n        ele.setAttribute('aria-selected', 'true');\n    };\n    ColorPicker.prototype.createPicker = function () {\n        classList(this.container, [PICKERCONTENT], [PALETTECONTENT]);\n        var hsvContainer = this.createElement('div', { className: HSVCONTAINER });\n        this.appendElement(hsvContainer);\n        hsvContainer.appendChild(this.createElement('div', { className: HSVAREA }));\n        var dragHandler = this.createElement('span', { className: HANDLER, attrs: { 'tabindex': '0' } });\n        hsvContainer.appendChild(dragHandler);\n        this.rgb = this.hexToRgb(this.value);\n        this.hsv = this.rgbToHsv.apply(this, this.rgb);\n        this.setHsvContainerBg();\n        this.setHandlerPosition();\n        this.createSlider();\n        this.createDragTooltip();\n    };\n    ColorPicker.prototype.setHsvContainerBg = function (h) {\n        if (h === void 0) { h = this.hsv[0]; }\n        this.getHsvContainer().style.backgroundColor = this.convertToRgbString(this.hsvToRgb(h, 100, 100, 1));\n    };\n    ColorPicker.prototype.getHsvContainer = function () {\n        return select('.' + HSVCONTAINER, this.container);\n    };\n    ColorPicker.prototype.setHandlerPosition = function () {\n        var dragHandler = this.getDragHandler();\n        var hsvArea = select('.' + HSVAREA, this.container);\n        if (this.enableRtl) {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * Math.abs(100 - this.hsv[1]) / 100);\n        }\n        else {\n            dragHandler.style.left = formatUnit(hsvArea.offsetWidth * this.hsv[1] / 100);\n        }\n        dragHandler.style.top = formatUnit(hsvArea.offsetHeight * (100 - this.hsv[2]) / 100);\n    };\n    ColorPicker.prototype.createSlider = function () {\n        var sliderPreviewWrapper = this.createElement('div', { className: 'e-slider-preview' });\n        this.appendElement(sliderPreviewWrapper, 1);\n        this.createPreview(sliderPreviewWrapper);\n        var sliderWrapper = this.createElement('div', { className: 'e-colorpicker-slider' });\n        sliderPreviewWrapper.insertBefore(sliderWrapper, sliderPreviewWrapper.children[0]);\n        var slider = this.createElement('div', { className: 'e-hue-slider' });\n        sliderWrapper.appendChild(slider);\n        this.hueSlider = new Slider({\n            value: this.hsv[0],\n            min: 0,\n            max: 359,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.hueChange.bind(this)\n        });\n        this.hueSlider.createElement = this.createElement;\n        this.hueSlider.appendTo(slider);\n        if (this.enableOpacity) {\n            slider = this.createElement('div', { className: 'e-opacity-slider' });\n            sliderWrapper.appendChild(slider);\n            this.createOpacitySlider(slider);\n        }\n    };\n    ColorPicker.prototype.createOpacitySlider = function (slider) {\n        this.opacitySlider = new Slider({\n            value: this.rgb[3] * 100,\n            min: 0,\n            max: 100,\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            change: this.opacityChange.bind(this)\n        });\n        this.opacitySlider.createElement = this.createElement;\n        this.opacitySlider.appendTo(slider);\n        var opacityBgTrack = this.createElement('div', { className: 'e-opacity-empty-track' });\n        slider.appendChild(opacityBgTrack);\n        this.updateOpacitySliderBg();\n    };\n    ColorPicker.prototype.updateOpacitySliderBg = function () {\n        var direction = this.enableRtl ? 'to left' : 'to right';\n        select('.e-slider-track', this.opacitySlider.element).style.background =\n            'linear-gradient(' + direction + ', rgba(' + this.rgb.slice(0, 3) + ', 0) 0%, ' +\n                this.convertToRgbString(this.rgb.slice(0, 3)) + ' 100%)';\n    };\n    ColorPicker.prototype.hueChange = function (args) {\n        this.hsv[0] = args.value;\n        this.setHsvContainerBg();\n        this.convertToOtherFormat();\n    };\n    ColorPicker.prototype.opacityChange = function (args) {\n        var value = args.value;\n        var pValue = this.rgbToHex(this.rgb);\n        this.hsv[3] = value / 100;\n        this.rgb[3] = value / 100;\n        var cValue = this.rgbToHex(this.rgb);\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            getInstance(select('.' + OPACITY, this.container), NumericTextBox).value = value;\n        }\n        var rgb = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgb);\n        this.triggerEvent(cValue, pValue, rgb);\n    };\n    ColorPicker.prototype.createPreview = function (parentEle) {\n        var previewContainer = this.createElement('div', { className: PREVIEW });\n        parentEle.appendChild(previewContainer);\n        var preview = this.createElement('span', { className: 'e-preview ' + CURRENT });\n        previewContainer.appendChild(preview);\n        var colorValue = this.convertToRgbString(this.rgb);\n        preview.style.backgroundColor = colorValue;\n        preview = this.createElement('span', { className: 'e-preview ' + PREVIOUS });\n        previewContainer.appendChild(preview);\n        preview.style.backgroundColor = colorValue;\n    };\n    ColorPicker.prototype.isPicker = function () {\n        return !this.container.classList.contains(PALETTECONTENT);\n    };\n    ColorPicker.prototype.getPopupEle = function () {\n        return this.container.parentElement;\n    };\n    ColorPicker.prototype.createNumericInput = function (element, value, label, max) {\n        var _this = this;\n        var numericInput = new NumericTextBox({\n            value: value,\n            placeholder: label,\n            min: 0,\n            max: max,\n            format: '###.##',\n            showSpinButton: false,\n            floatLabelType: 'Always',\n            enableRtl: this.enableRtl,\n            enabled: !this.disabled,\n            readonly: this.isPicker() ? false : true,\n            change: function (args) {\n                if (args.event) {\n                    _this.inputHandler(args.event);\n                }\n            }\n        });\n        numericInput.createElement = this.createElement;\n        numericInput.appendTo(element);\n    };\n    ColorPicker.prototype.createInput = function () {\n        var isPicker = this.isPicker();\n        var wrapper = this.getWrapper();\n        if ((isPicker && !wrapper.classList.contains(HIDEVALUE)) || (!isPicker && wrapper.classList.contains(SHOWVALUE))) {\n            var inputWrap = this.createElement('div', { className: INPUTWRAPPER });\n            isPicker ? this.appendElement(inputWrap, 2) : this.appendElement(inputWrap, 1);\n            var container = this.createElement('div', { className: 'e-input-container' });\n            inputWrap.appendChild(container);\n            if (!wrapper.classList.contains(HIDEVALUESWITCH)) {\n                this.appendValueSwitchBtn(inputWrap);\n            }\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                var hexInput = this.createElement('input', {\n                    className: HEX,\n                    attrs: { 'maxlength': '7', 'spellcheck': 'false' }\n                });\n                container.appendChild(hexInput);\n                Input.createInput({\n                    element: hexInput,\n                    floatLabelType: 'Always',\n                    properties: {\n                        placeholder: 'HEX',\n                        enableRtl: this.enableRtl,\n                        enabled: !this.disabled,\n                        readonly: this.isPicker() ? false : true\n                    }\n                }, this.createElement);\n                Input.setValue(this.value.slice(0, 7), hexInput);\n                hexInput.addEventListener('input', this.inputHandler.bind(this));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                var label = void 0;\n                var value = void 0;\n                if (this.isRgb) {\n                    label = 'RGB';\n                    value = this.rgb;\n                }\n                else {\n                    label = 'HSV';\n                    value = this.hsv;\n                }\n                var clsName = ['rh', 'gs', 'bv'];\n                for (var i = 0; i < 3; i++) {\n                    this.createNumericInput(container.appendChild(this.createElement('input', { className: 'e-' + clsName[i] + '-value' })), value[i], label[i], 255);\n                }\n                if (this.enableOpacity) {\n                    this.appendOpacityValue(container);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.appendOpacityValue = function (container) {\n        this.createNumericInput(container.appendChild(this.createElement('input', { className: OPACITY })), this.rgb[3] * 100, 'A', 100);\n    };\n    ColorPicker.prototype.appendValueSwitchBtn = function (targetEle) {\n        var valueSwitchBtn = this.createElement('button', { className: 'e-icons e-btn e-flat e-icon-btn ' + FORMATSWITCH });\n        targetEle.appendChild(valueSwitchBtn);\n        if (this.isPicker() && !this.getWrapper().classList.contains(HIDERGBA)) {\n            valueSwitchBtn.addEventListener('click', this.formatSwitchHandler.bind(this));\n        }\n    };\n    ColorPicker.prototype.createCtrlBtn = function () {\n        if (this.modeSwitcher || this.showButtons) {\n            this.l10n.setLocale(this.locale);\n            var btnWrapper = this.createElement('div', { className: CTRLSWITCH });\n            this.container.appendChild(btnWrapper);\n            if (this.showButtons) {\n                var controlBtnWrapper = this.createElement('div', { className: CTRLBTN });\n                btnWrapper.appendChild(controlBtnWrapper);\n                var apply = this.l10n.getConstant('Apply');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: apply,\n                    className: 'e-btn e-flat e-primary e-small ' + APPLY,\n                    attrs: { 'title': apply }\n                }));\n                var cancel = this.l10n.getConstant('Cancel');\n                controlBtnWrapper.appendChild(this.createElement('button', {\n                    innerHTML: cancel,\n                    className: 'e-btn e-flat e-small ' + CANCEL,\n                    attrs: { 'title': cancel }\n                }));\n            }\n            if (this.modeSwitcher) {\n                this.appendModeSwitchBtn();\n            }\n        }\n    };\n    ColorPicker.prototype.appendModeSwitchBtn = function () {\n        var modeSwitcher = this.createElement('button', {\n            className: 'e-icons e-btn e-flat e-icon-btn ' + MODESWITCH, attrs: { title: this.l10n.getConstant('ModeSwitcher') }\n        });\n        select('.' + CTRLSWITCH, this.container).insertBefore(modeSwitcher, select('.' + CTRLBTN, this.container));\n    };\n    ColorPicker.prototype.createDragTooltip = function () {\n        var _this = this;\n        var tooltip = new Tooltip({\n            opensOn: 'Custom',\n            showTipPointer: false,\n            cssClass: 'e-color-picker-tooltip',\n            beforeOpen: function (args) {\n                _this.tooltipEle = args.element;\n            },\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        tooltip.createElement = this.createElement;\n        tooltip.appendTo(this.container);\n        tooltip.open(this.container);\n        this.tooltipEle.style.zIndex = getZindexPartial(this.tooltipEle).toString();\n        select('.e-tip-content', this.tooltipEle).appendChild(this.createElement('div', { className: 'e-tip-transparent' }));\n    };\n    ColorPicker.prototype.getTooltipInst = function () {\n        return getInstance(this.container, Tooltip);\n    };\n    ColorPicker.prototype.setTooltipOffset = function (value) {\n        this.getTooltipInst().offsetY = value;\n    };\n    ColorPicker.prototype.toggleDisabled = function (enable) {\n        enable ? this.getWrapper().classList.add(DISABLED) : this.getWrapper().classList.remove(DISABLED);\n        if (this.showButtons) {\n            ([].slice.call(selectAll('.e-btn', this.container))).forEach(function (ele) {\n                enable ? attributes(ele, { 'disabled': '' }) : ele.removeAttribute('disabled');\n            });\n        }\n    };\n    ColorPicker.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    ColorPicker.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    ColorPicker.prototype.updateHsv = function () {\n        this.hsv[1] = this.hsv[1] > 100 ? 100 : this.hsv[1];\n        this.hsv[2] = this.hsv[2] > 100 ? 100 : this.hsv[2];\n        this.setHandlerPosition();\n    };\n    ColorPicker.prototype.convertToOtherFormat = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.hsvToRgb.apply(this, this.hsv);\n        var cValue = this.rgbToHex(this.rgb);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.updateInput(cValue);\n        this.triggerEvent(cValue, pValue, rgba, isKey);\n    };\n    ColorPicker.prototype.updateInput = function (value) {\n        var wrapper = this.getWrapper();\n        if (!wrapper.classList.contains(HIDEVALUE)) {\n            if (!wrapper.classList.contains(HIDEHEX)) {\n                Input.setValue(value.substr(0, 7), select('.' + HEX, this.container));\n            }\n            if (!wrapper.classList.contains(HIDERGBA)) {\n                if (this.isRgb) {\n                    this.updateValue(this.rgb, false);\n                }\n                else {\n                    this.updateValue(this.hsv, false);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.updatePreview = function (value) {\n        if (this.enableOpacity) {\n            this.updateOpacitySliderBg();\n        }\n        select('.e-tip-transparent', this.tooltipEle).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = value;\n        select('.' + PREVIEW + ' .' + PREVIOUS, this.container).style.backgroundColor\n            = this.convertToRgbString(this.hexToRgb(this.value));\n    };\n    ColorPicker.prototype.getDragHandler = function () {\n        return select('.' + HANDLER, this.container);\n    };\n    ColorPicker.prototype.removeTileSelection = function () {\n        var selectedEle = [].slice.call(selectAll('.' + SELECT, this.container.children[0]));\n        selectedEle.forEach(function (ele) {\n            ele.classList.remove(SELECT);\n            ele.setAttribute('aria-selected', 'false');\n        });\n    };\n    ColorPicker.prototype.convertRgbToNumberArray = function (value) {\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    /**\n     * To get color value in specified type.\n     * @param value - Specify the color value.\n     * @param type - Specify the type to which the specified color needs to be converted.\n     * @method getValue\n     * @return {string}\n     */\n    ColorPicker.prototype.getValue = function (value, type) {\n        if (!value) {\n            value = this.value;\n        }\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To show/hide ColorPicker popup based on current state of the SplitButton.\n     * @method toggle\n     * @return {void}\n     */\n    ColorPicker.prototype.toggle = function () {\n        this.splitBtn.toggle();\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ColorPicker.prototype.getModuleName = function () {\n        return 'colorpicker';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    ColorPicker.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ColorPicker.prototype.wireEvents = function () {\n        if (this.isPicker()) {\n            var dragHandler = this.getDragHandler();\n            EventHandler.add(dragHandler, 'keydown', this.pickerKeyDown, this);\n            EventHandler.add(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown, this);\n            if (this.modeSwitcher || this.showButtons) {\n                this.addCtrlSwitchEvent();\n            }\n            EventHandler.add(select('.' + PREVIOUS, this.container), 'click', this.previewHandler, this);\n        }\n        else {\n            EventHandler.add(this.container, 'click', this.paletteClickHandler, this);\n            EventHandler.add(this.container, 'keydown', this.paletteKeyDown, this);\n        }\n    };\n    ColorPicker.prototype.addCtrlSwitchEvent = function () {\n        EventHandler.add(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler, this);\n    };\n    ColorPicker.prototype.pickerKeyDown = function (e) {\n        switch (e.keyCode) {\n            case 39:\n                this.handlerDragPosition(1, this.enableRtl ? -1 : 1, e);\n                break;\n            case 37:\n                this.handlerDragPosition(1, this.enableRtl ? 1 : -1, e);\n                break;\n            case 38:\n                this.handlerDragPosition(2, 1, e);\n                break;\n            case 40:\n                this.handlerDragPosition(2, -1, e);\n                break;\n            case 13:\n                e.preventDefault();\n                var cValue = this.rgbToHex(this.rgb);\n                this.enterKeyHandler(cValue, e);\n        }\n    };\n    ColorPicker.prototype.enterKeyHandler = function (value, e) {\n        this.triggerChangeEvent(value);\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.closePopup = function (e) {\n        var beforeCloseArgs = { element: this.container, event: e, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs);\n        if (!beforeCloseArgs.cancel) {\n            this.toggle();\n            this.onPopupClose();\n        }\n    };\n    ColorPicker.prototype.triggerChangeEvent = function (value) {\n        var hex = value.slice(0, 7);\n        this.trigger('change', {\n            currentValue: { hex: hex, rgba: this.convertToRgbString(this.rgb) },\n            previousValue: { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) }\n        });\n        this.setProperties({ 'value': value }, true);\n        this.element.value = hex ? hex : '#000000';\n    };\n    ColorPicker.prototype.handlerDragPosition = function (prob, value, e) {\n        e.preventDefault();\n        this.hsv[prob] += value * (e.ctrlKey ? 1 : 3);\n        if (this.hsv[prob] < 0) {\n            this.hsv[prob] = 0;\n        }\n        this.updateHsv();\n        this.convertToOtherFormat(true);\n    };\n    ColorPicker.prototype.handlerDown = function (e) {\n        e.preventDefault();\n        var x;\n        var y;\n        if (e.type === 'mousedown') {\n            this.clientX = Math.abs(e.pageX - pageXOffset);\n            this.clientY = Math.abs(e.pageY - pageYOffset);\n            this.setTooltipOffset(8);\n        }\n        else {\n            this.clientX = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            this.clientY = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n            this.setTooltipOffset(-8);\n        }\n        this.setHsv(this.clientX, this.clientY);\n        this.getDragHandler().style.transition = 'left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)';\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getDragHandler().focus();\n        EventHandler.add(document, 'mousemove touchmove', this.handlerMove, this);\n        EventHandler.add(document, 'mouseup touchend', this.handlerEnd, this);\n    };\n    ColorPicker.prototype.handlerMove = function (e) {\n        if (e.type !== 'touchmove') {\n            e.preventDefault();\n        }\n        var x;\n        var y;\n        if (e.type === 'mousemove') {\n            x = Math.abs(e.pageX - pageXOffset);\n            y = Math.abs(e.pageY - pageYOffset);\n        }\n        else {\n            x = Math.abs(e.changedTouches[0].pageX - pageXOffset);\n            y = Math.abs(e.changedTouches[0].pageY - pageYOffset);\n        }\n        this.setHsv(x, y);\n        var dragHandler = this.getDragHandler();\n        var left = parseInt(dragHandler.style.left, 10);\n        var top = parseInt(dragHandler.style.top, 10);\n        this.updateHsv();\n        this.convertToOtherFormat();\n        this.getTooltipInst().refresh(dragHandler);\n        if (!this.tooltipEle.style.transform) {\n            if (Math.abs(this.clientX - x) > 8 || Math.abs(this.clientY - y) > 8) {\n                select('.' + HSVAREA, this.container).style.cursor = 'pointer';\n                dragHandler.style.transition = 'none';\n                if (!this.inline) {\n                    this.tooltipEle.style.zIndex = (parseInt(this.getPopupEle().style.zIndex, 10) + 1).toString();\n                }\n                this.tooltipEle.style.transform = 'rotate(45deg)';\n                dragHandler.classList.add('e-hide-handler');\n            }\n        }\n    };\n    ColorPicker.prototype.setHsv = function (clientX, clientY) {\n        var ele = select('.' + HSVAREA, this.container);\n        var position = ele.getBoundingClientRect();\n        if (this.enableRtl) {\n            clientX = clientX > position.right ? 0 : Math.abs(clientX - position.right);\n        }\n        else {\n            clientX = clientX > position.left ? Math.abs(clientX - position.left) : 0;\n        }\n        clientY = clientY > position.top ? Math.abs(clientY - position.top) : 0;\n        this.hsv[2] = Math.round(Number(100 * (ele.offsetHeight -\n            Math.max(0, Math.min(ele.offsetHeight, (clientY - ele.offsetTop)))) / ele.offsetHeight) * 10) / 10;\n        this.hsv[1] =\n            Math.round(Number(100 * (Math.max(0, Math.min(ele.offsetWidth, (clientX - ele.offsetLeft)))) / ele.offsetWidth) * 10) / 10;\n    };\n    ColorPicker.prototype.handlerEnd = function (e) {\n        if (e.type !== 'touchend') {\n            e.preventDefault();\n        }\n        EventHandler.remove(document, 'mousemove touchmove', this.handlerMove);\n        EventHandler.remove(document, 'mouseup touchend', this.handlerEnd);\n        var dragHandler = this.getDragHandler();\n        select('.' + HSVAREA, this.container).style.cursor = '';\n        if (this.tooltipEle.style.transform) {\n            this.tooltipEle.style.transform = '';\n            dragHandler.classList.remove('e-hide-handler');\n        }\n        if (!this.inline && !this.showButtons) {\n            this.closePopup(e);\n        }\n    };\n    ColorPicker.prototype.btnClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.' + MODESWITCH)) {\n            e.stopPropagation();\n            this.switchToPalette();\n        }\n        else {\n            if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                this.ctrlBtnClick(target, e);\n            }\n        }\n    };\n    ColorPicker.prototype.switchToPalette = function () {\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Palette' });\n        this.unWireEvents();\n        this.destroyOtherComp();\n        detach(select('.e-slider-preview', this.container));\n        if (!this.getWrapper().classList.contains(HIDEVALUE)) {\n            remove(select('.' + INPUTWRAPPER, this.container));\n        }\n        detach(this.getHsvContainer());\n        this.createPalette();\n        this.firstPaletteFocus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.refreshPopupPos = function () {\n        if (!this.inline) {\n            var popupEle = this.getPopupEle();\n            popupEle.style.left = formatUnit(0 + pageXOffset);\n            popupEle.style.top = formatUnit(0 + pageYOffset);\n            this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement);\n        }\n    };\n    ColorPicker.prototype.formatSwitchHandler = function (e) {\n        var target = e.target.parentElement;\n        if (this.isRgb) {\n            this.updateValue(this.hsv, true, 3, [360, 100, 100]);\n            this.isRgb = false;\n        }\n        else {\n            this.updateValue(this.rgb, true, 2);\n            this.isRgb = true;\n        }\n    };\n    ColorPicker.prototype.updateValue = function (value, format, idx, max) {\n        var clsName = ['e-rh-value', 'e-gs-value', 'e-bv-value'];\n        var inst;\n        for (var i = 0, len = clsName.length; i < len; i++) {\n            inst = getInstance(select('.' + clsName[i], this.container), NumericTextBox);\n            inst.value = Math.round(value[i]);\n            if (format) {\n                inst.placeholder = clsName[i].substr(idx, 1).toUpperCase();\n                inst.max = max ? max[i] : 255;\n            }\n            inst.dataBind();\n        }\n    };\n    ColorPicker.prototype.previewHandler = function (e) {\n        var target = e.target;\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = this.convertRgbToNumberArray(target.style.backgroundColor);\n        if (!this.rgb[3]) {\n            this.rgb[3] = 1;\n        }\n        var cValue = this.rgbToHex(this.rgb);\n        var hsv = this.rgbToHsv.apply(this, this.rgb);\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n        }\n        this.setHsvContainerBg(hsv[0]);\n        if (this.enableOpacity && hsv[3] !== this.hsv[3]) {\n            this.opacitySlider.setProperties({ 'value': hsv[3] * 100 }, true);\n            this.opacitySlider.refresh();\n            this.updateOpacitySliderBg();\n        }\n        this.hsv = hsv;\n        this.setHandlerPosition();\n        this.updateInput(cValue);\n        select('.' + PREVIEW + ' .' + CURRENT, this.container).style.backgroundColor = this.convertToRgbString(this.rgb);\n        this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n    };\n    ColorPicker.prototype.paletteClickHandler = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        if (target.classList.contains(TILE)) {\n            this.removeTileSelection();\n            this.addTileSelection(target);\n            if (target.classList.contains(NOCOLOR)) {\n                this.noColorTile();\n            }\n            else {\n                var cValue = target.getAttribute('aria-label');\n                var pValue = this.rgbToHex(this.rgb);\n                this.rgb = this.hexToRgb(this.roundValue(cValue));\n                this.hsv = this.rgbToHsv.apply(this, this.rgb);\n                if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                    this.updateInput(cValue);\n                }\n                this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb));\n            }\n            if (!this.inline && !this.showButtons) {\n                this.closePopup(e);\n            }\n        }\n        else {\n            if (closest(target, '.' + MODESWITCH)) {\n                this.switchToPicker();\n            }\n            else {\n                if (target.classList.contains(APPLY) || target.classList.contains(CANCEL)) {\n                    this.ctrlBtnClick(target, e);\n                }\n                else {\n                    if (this.getWrapper().classList.contains(SHOWVALUE) && closest(target, '.' + FORMATSWITCH)) {\n                        this.formatSwitchHandler(e);\n                    }\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.noColorTile = function (isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var pValue = this.rgbToHex(this.rgb);\n        this.rgb = [];\n        this.hsv = [];\n        this.triggerEvent('', pValue, '', isKey);\n    };\n    ColorPicker.prototype.switchToPicker = function () {\n        var wrapper = this.getWrapper();\n        this.trigger('beforeModeSwitch', { element: this.container, mode: 'Picker' });\n        this.unWireEvents();\n        ([].slice.call(selectAll('.' + PALETTES, this.container))).forEach(function (ele) {\n            detach(ele);\n        });\n        if (wrapper.classList.contains(SHOWVALUE)) {\n            detach(select('.' + INPUTWRAPPER, this.container));\n        }\n        this.container.style.width = '';\n        var grpEle = select('.e-custom-palette', this.container);\n        if (this.presetColors) {\n            remove(grpEle);\n        }\n        this.createPicker();\n        this.getDragHandler().focus();\n        this.createInput();\n        this.refreshPopupPos();\n        this.wireEvents();\n    };\n    ColorPicker.prototype.ctrlBtnClick = function (ele, e) {\n        if (ele.classList.contains(APPLY)) {\n            var cValue = this.rgbToHex(this.rgb);\n            this.triggerChangeEvent(cValue);\n        }\n        if (!this.inline) {\n            this.closePopup(e);\n            this.splitBtn.element.focus();\n        }\n    };\n    ColorPicker.prototype.paletteKeyDown = function (e) {\n        var target = e.target;\n        if (!target.classList.contains(PALETTES)) {\n            return;\n        }\n        var selectedEle;\n        var idx;\n        var tiles = [].slice.call(selectAll('.' + TILE, target));\n        var prevSelectedEle = (tiles.filter(function (tile) { return tile.classList.contains('e-selected'); })).pop();\n        switch (!e.altKey && e.keyCode) {\n            case 39:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? -1 : 1)]\n                    : tiles[this.enableRtl ? tiles.length - 1 : 0];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 37:\n                e.preventDefault();\n                selectedEle = prevSelectedEle ? tiles[this.tilePosition(tiles, prevSelectedEle, this.enableRtl ? 1 : -1)]\n                    : tiles[this.enableRtl ? 0 : tiles.length - 1];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 38:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, -this.columns) : 0;\n                selectedEle = tiles[idx] ? tiles[idx] : tiles[idx - this.columns];\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 40:\n                e.preventDefault();\n                idx = prevSelectedEle ? this.tilePosition(tiles, prevSelectedEle, this.columns) : tiles.length - 1;\n                if (tiles[idx]) {\n                    selectedEle = tiles[idx];\n                }\n                else {\n                    idx %= tiles.length;\n                    idx += tiles[tiles.length - 1].parentElement.childElementCount;\n                    selectedEle = tiles[idx];\n                }\n                this.keySelectionChanges(selectedEle);\n                break;\n            case 13:\n                e.preventDefault();\n                if (prevSelectedEle) {\n                    var cValue = prevSelectedEle.getAttribute('aria-label');\n                    this.enterKeyHandler(cValue ? cValue : '', e);\n                }\n        }\n    };\n    ColorPicker.prototype.keySelectionChanges = function (newEle) {\n        this.removeTileSelection();\n        this.addTileSelection(newEle);\n        if (newEle.classList.contains(NOCOLOR)) {\n            this.noColorTile(true);\n        }\n        else {\n            var cValue = newEle.getAttribute('aria-label');\n            var pValue = this.rgbToHex(this.rgb);\n            this.rgb = this.hexToRgb(cValue);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            if (this.getWrapper().classList.contains(SHOWVALUE)) {\n                this.updateInput(cValue);\n            }\n            this.triggerEvent(cValue, pValue, this.convertToRgbString(this.rgb), true);\n        }\n    };\n    ColorPicker.prototype.tilePosition = function (items, element, cIdx) {\n        items = Array.prototype.slice.call(items);\n        var n = items.length;\n        var emptyCount = this.columns - items[n - 1].parentElement.childElementCount;\n        var idx = items.indexOf(element);\n        idx += cIdx;\n        idx < 0 ? idx += n + emptyCount : idx %= n + emptyCount;\n        return idx;\n    };\n    ColorPicker.prototype.inputHandler = function (e) {\n        var target = e.target;\n        if (!target.value.length) {\n            return;\n        }\n        var hsv;\n        var pValue;\n        var label = select('.e-float-text', target.parentElement).textContent;\n        switch (label) {\n            case 'HEX':\n                var value = '';\n                if ((target.value[0] === '#' && target.value.length !== 5) || (target.value[0] !== '#' && target.value.length !== 4)) {\n                    value = this.roundValue(target.value);\n                }\n                if (value.length === 9) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb = this.hexToRgb(value + value.substr(-2));\n                    this.inputValueChange(this.rgbToHsv.apply(this, this.rgb), pValue, target.value);\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'R':\n                if (this.rgb[0] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[0] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'G':\n                if (this.rgb[1] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[1] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'B':\n                if (this.rgb[2] !== Number(target.value)) {\n                    pValue = this.rgbToHex(this.rgb);\n                    this.rgb[2] = Number(target.value);\n                    hsv = this.rgbToHsv.apply(this, this.rgb);\n                    this.inputValueChange(hsv, pValue);\n                }\n                break;\n            case 'H':\n                this.hueSlider.value = Number(target.value);\n                break;\n            case 'S':\n                if (this.hsv[1] !== Number(target.value)) {\n                    this.hsv[1] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'V':\n                if (this.hsv[2] !== Number(target.value)) {\n                    this.hsv[2] = Number(target.value);\n                    this.updateHsv();\n                    this.convertToOtherFormat();\n                }\n                break;\n            case 'A':\n                this.opacitySlider.value = Number(target.value);\n                break;\n        }\n    };\n    ColorPicker.prototype.inputValueChange = function (hsv, pValue, value) {\n        if (hsv[0] !== this.hsv[0]) {\n            this.hueSlider.setProperties({ 'value': hsv[0] }, true);\n            this.hueSlider.refresh();\n            this.setHsvContainerBg(hsv[0]);\n        }\n        this.hsv = hsv;\n        var cValue = this.rgbToHex(this.rgb);\n        this.setHandlerPosition();\n        this.updateInput(value ? value : cValue);\n        var rgba = this.convertToRgbString(this.rgb);\n        this.updatePreview(rgba);\n        this.triggerEvent(cValue, pValue, rgba);\n    };\n    ColorPicker.prototype.triggerEvent = function (cValue, pValue, rgba, isKey) {\n        if (isKey === void 0) { isKey = false; }\n        var hex = cValue.slice(0, 7);\n        var eventArgs = {\n            currentValue: { hex: hex, rgba: rgba },\n            previousValue: { hex: pValue.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(pValue)) }\n        };\n        if (!this.showButtons && !isKey) {\n            eventArgs.previousValue = { hex: this.value.slice(0, 7), rgba: this.convertToRgbString(this.hexToRgb(this.value)) };\n            this.trigger('change', eventArgs);\n            this.setProperties({ 'value': cValue }, true);\n            this.element.value = hex ? hex : '#000000';\n        }\n        else {\n            this.trigger('select', eventArgs);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    ColorPicker.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        ['tabindex', 'spellcheck'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        if (this.inline) {\n            this.unWireEvents();\n            this.destroyOtherComp();\n        }\n        else {\n            if (this.isPopupOpen()) {\n                this.unWireEvents();\n                this.destroyOtherComp();\n            }\n            this.splitBtn.destroy();\n            this.splitBtn = null;\n        }\n        this.tileRipple();\n        this.tileRipple = null;\n        this.ctrlBtnRipple();\n        this.ctrlBtnRipple = null;\n        detach(this.element.nextElementSibling);\n        wrapper.parentElement.insertBefore(this.element, wrapper);\n        detach(wrapper);\n        this.container = null;\n    };\n    ColorPicker.prototype.destroyOtherComp = function () {\n        if (this.isPicker()) {\n            this.hueSlider.destroy();\n            if (this.enableOpacity) {\n                this.opacitySlider.destroy();\n                this.opacitySlider = null;\n            }\n            this.hueSlider = null;\n            var tooltipInst = this.getTooltipInst();\n            tooltipInst.close();\n            tooltipInst.destroy();\n            this.tooltipEle = null;\n        }\n    };\n    ColorPicker.prototype.isPopupOpen = function () {\n        return this.getPopupEle().classList.contains('e-popup-open');\n    };\n    ColorPicker.prototype.unWireEvents = function () {\n        if (this.isPicker()) {\n            var wrapper = this.getWrapper();\n            var dragHandler = this.getDragHandler();\n            EventHandler.remove(dragHandler, 'keydown', this.pickerKeyDown);\n            EventHandler.remove(this.getHsvContainer(), 'mousedown touchstart', this.handlerDown);\n            if (this.modeSwitcher || this.showButtons) {\n                EventHandler.remove(select('.' + CTRLSWITCH, this.container), 'click', this.btnClickHandler);\n            }\n            EventHandler.remove(select('.' + PREVIOUS, this.container), 'click', this.previewHandler);\n        }\n        else {\n            EventHandler.remove(this.container, 'click', this.paletteClickHandler);\n            EventHandler.remove(this.container, 'keydown', this.paletteKeyDown);\n        }\n    };\n    ColorPicker.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    ColorPicker.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    ColorPicker.prototype.rgbToHsv = function (r, g, b, opacity) {\n        if (this.rgb && !this.rgb.length) {\n            return [];\n        }\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var s;\n        var v = max;\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    ColorPicker.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        var i;\n        var f;\n        var p;\n        var q;\n        var t;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        i = Math.floor(h);\n        f = h - i;\n        p = v * (1 - s);\n        q = v * (1 - s * f);\n        t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    ColorPicker.prototype.rgbToHex = function (rgb) {\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    ColorPicker.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    ColorPicker.prototype.changeModeSwitcherProp = function (prop) {\n        var ctrlSwitchWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlSwitchWrapper) {\n                this.appendModeSwitchBtn();\n            }\n            else {\n                this.createCtrlBtn();\n                if (this.isPicker() && !this.disabled) {\n                    this.addCtrlSwitchEvent();\n                }\n            }\n        }\n        else {\n            if (ctrlSwitchWrapper) {\n                if (this.showButtons) {\n                    detach(select('.' + MODESWITCH, ctrlSwitchWrapper));\n                }\n                else {\n                    remove(ctrlSwitchWrapper);\n                }\n            }\n        }\n    };\n    ColorPicker.prototype.changeShowBtnProps = function (prop) {\n        var ctrlBtnWrapper = select('.' + CTRLSWITCH, this.container);\n        if (prop) {\n            if (ctrlBtnWrapper) {\n                remove(ctrlBtnWrapper);\n            }\n            this.createCtrlBtn();\n            if (this.isPicker() && !this.disabled) {\n                this.addCtrlSwitchEvent();\n            }\n        }\n        else {\n            if (this.modeSwitcher) {\n                detach(select('.' + CTRLBTN, ctrlBtnWrapper));\n            }\n            else {\n                remove(ctrlBtnWrapper);\n            }\n        }\n    };\n    ColorPicker.prototype.changeValueProp = function (newProp) {\n        if (this.isPicker()) {\n            this.rgb = this.hexToRgb(newProp);\n            this.hsv = this.rgbToHsv.apply(this, this.rgb);\n            this.setHandlerPosition();\n            detach(closest(this.hueSlider.element, '.e-slider-preview'));\n            this.createSlider();\n            this.setHsvContainerBg();\n            this.updateInput(newProp);\n        }\n        else {\n            this.removeTileSelection();\n            this.addTileSelection(select('span[aria-label=\"' + this.roundValue(newProp) + '\"]', this.container));\n        }\n        this.element.value = newProp.slice(0, 7);\n    };\n    ColorPicker.prototype.setInputEleProps = function (prop) {\n        remove(select('.' + INPUTWRAPPER, this.container));\n        this.createInput();\n    };\n    ColorPicker.prototype.changeDisabledProp = function (newProp) {\n        if (this.isPicker()) {\n            this.hueSlider.enabled = !newProp;\n            this.opacitySlider.enabled = !newProp;\n            this.setInputEleProps(newProp);\n        }\n        if (newProp) {\n            this.toggleDisabled(true);\n            this.unWireEvents();\n        }\n        else {\n            this.toggleDisabled(false);\n            this.wireEvents();\n        }\n    };\n    ColorPicker.prototype.changeCssClassProps = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        var popupWrapper = this.getPopupEle();\n        if (oldProp) {\n            removeClass([wrapper, popupWrapper], oldProp.split(' '));\n        }\n        if (newProp) {\n            addClass([wrapper, popupWrapper], newProp.split(' '));\n        }\n    };\n    ColorPicker.prototype.changeRtlProps = function (newProp) {\n        if (newProp) {\n            addClass([this.getWrapper()], 'e-rtl');\n        }\n        else {\n            removeClass([this.getWrapper()], 'e-rtl');\n        }\n    };\n    ColorPicker.prototype.changePaletteProps = function () {\n        detach(this.container.children[0]);\n        this.container.style.width = '';\n        this.createPalette();\n    };\n    ColorPicker.prototype.changeOpacityProps = function (newProp) {\n        var wrapper = this.getWrapper();\n        if (newProp) {\n            removeClass([this.container.parentElement], HIDEOPACITY);\n            this.createOpacitySlider(select('.e-colorpicker-slider', this.container).appendChild(this.createElement('div', { className: 'e-opacity-slider' })));\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                this.appendOpacityValue(select('.e-input-container', this.container));\n            }\n        }\n        else {\n            addClass([this.container.parentElement], HIDEOPACITY);\n            this.opacitySlider.destroy();\n            remove(this.opacitySlider.element);\n            this.opacitySlider = null;\n            if (!wrapper.classList.contains(HIDEVALUE) && !wrapper.classList.contains(HIDERGBA)) {\n                remove(select('.' + OPACITY, this.container).parentElement);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {ColorPickerModel} newProp\n     * @param  {ColorPickerModel} oldProp\n     * @returns void\n     * @private\n     */\n    ColorPicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (!this.inline && isNullOrUndefined(newProp.inline)) {\n            var otherCompModel = ['disabled', 'enableRtl'];\n            this.splitBtn.setProperties(getModel(newProp, otherCompModel));\n            if (!this.isPopupOpen()) {\n                if (newProp.value) {\n                    select('.' + SPLITPREVIEW, this.splitBtn.element).style.backgroundColor = newProp.value;\n                }\n                this.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                this.changeRtlProps(newProp.enableRtl);\n                return;\n            }\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'inline':\n                    if (newProp.inline) {\n                        this_1.getWrapper().appendChild(this_1.container);\n                        this_1.splitBtn.destroy();\n                        detach(this_1.element.nextElementSibling);\n                        if (!this_1.container.children.length) {\n                            this_1.createWidget();\n                        }\n                    }\n                    else {\n                        this_1.destroyOtherComp();\n                        this_1.unWireEvents();\n                        this_1.container.innerHTML = '';\n                        this_1.createSplitBtn();\n                    }\n                    break;\n                case 'cssClass':\n                    this_1.changeCssClassProps(newProp.cssClass, oldProp.cssClass);\n                    var props = newProp.cssClass.split(' ').concat(oldProp.cssClass.split(' '));\n                    props = props.reduce(function (a, b) { if (a.indexOf(b) < 0) {\n                        a.push(b);\n                    } return a; }, []);\n                    var count_1 = 0;\n                    props.forEach(function (cls) {\n                        if (count_1 === 0 &&\n                            (cls === HIDEVALUE || cls === HIDEVALUESWITCH || cls === SHOWVALUE || cls === HIDEHEX || cls === HIDERGBA)) {\n                            var inputWrap = select('.' + INPUTWRAPPER, _this.container);\n                            if (inputWrap) {\n                                remove(select('.' + INPUTWRAPPER, _this.container));\n                            }\n                            _this.createInput();\n                            count_1++;\n                        }\n                    });\n                    break;\n                case 'enableRtl':\n                    if (this_1.isPicker()) {\n                        this_1.hueSlider.enableRtl = newProp.enableRtl;\n                        if (this_1.enableOpacity) {\n                            this_1.opacitySlider.enableRtl = newProp.enableRtl;\n                        }\n                        this_1.setInputEleProps(newProp.enableRtl);\n                    }\n                    this_1.changeRtlProps(newProp.enableRtl);\n                    break;\n                case 'disabled':\n                    this_1.changeDisabledProp(newProp.disabled);\n                    break;\n                case 'value':\n                    this_1.changeValueProp(newProp.value);\n                    break;\n                case 'showButtons':\n                    this_1.changeShowBtnProps(newProp.showButtons);\n                    break;\n                case 'mode':\n                    if (newProp.mode === 'Picker') {\n                        this_1.switchToPicker();\n                    }\n                    else {\n                        this_1.switchToPalette();\n                    }\n                    break;\n                case 'modeSwitcher':\n                    this_1.changeModeSwitcherProp(newProp.modeSwitcher);\n                    break;\n                case 'columns':\n                case 'presetColors':\n                    if (!this_1.isPicker()) {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'noColor':\n                    if (newProp.noColor) {\n                        if (this_1.mode === 'Palette' && !this_1.modeSwitcher) {\n                            this_1.setNoColor();\n                        }\n                    }\n                    else {\n                        this_1.changePaletteProps();\n                    }\n                    break;\n                case 'enableOpacity':\n                    this_1.changeOpacityProps(newProp.enableOpacity);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    };\n    __decorate([\n        Property('#008000ff')\n    ], ColorPicker.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ColorPicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Picker')\n    ], ColorPicker.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"modeSwitcher\", void 0);\n    __decorate([\n        Property(null)\n    ], ColorPicker.prototype, \"presetColors\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"showButtons\", void 0);\n    __decorate([\n        Property(10)\n    ], ColorPicker.prototype, \"columns\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"inline\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"noColor\", void 0);\n    __decorate([\n        Property(false)\n    ], ColorPicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], ColorPicker.prototype, \"enableOpacity\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeTileRender\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"beforeModeSwitch\", void 0);\n    __decorate([\n        Event()\n    ], ColorPicker.prototype, \"created\", void 0);\n    ColorPicker = __decorate([\n        NotifyPropertyChanges\n    ], ColorPicker);\n    return ColorPicker;\n}(Component));\nexport { ColorPicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, setValue, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, Internationalization, getUniqueID } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-textbox';\nvar CONTROL = 'e-control';\nvar HIDE_CLEAR = 'e-clear-icon-hide';\n/**\n * Represents the TextBox component that allows the user to enter the values based on it's type.\n * ```html\n * <input name='images' id='textbox'/>\n * ```\n * ```typescript\n * <script>\n *   var textboxObj = new TextBox();\n *   textboxObj.appendTo('#textbox');\n * </script>\n * ```\n */\nvar TextBox = /** @class */ (function (_super) {\n    __extends(TextBox, _super);\n    function TextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     * @private\n     */\n    TextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'floatLabelType':\n                    Input.removeFloating(this.textboxWrapper);\n                    Input.addFloating(this.element, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.element, this.floatLabelType, this.textboxWrapper.container);\n                    break;\n                case 'value':\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    if (!this.isBlank(this.value)) {\n                        this.value = this.value.toString();\n                    }\n                    this.isProtectedOnChange = prevOnChange;\n                    Input.setValue(this.value, this.element, this.floatLabelType, this.showClearButton);\n                    this.raiseChangeEvent();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.element);\n                    break;\n                case 'type':\n                    this.element.setAttribute('type', this.type);\n                    this.raiseChangeEvent();\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.element, this.textboxWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.textboxWrapper.container]);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    break;\n                case 'cssClass':\n                    Input.setCssClass(this.cssClass, [this.textboxWrapper.container]);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     * @private\n     */\n    TextBox.prototype.getModuleName = function () {\n        return 'textbox';\n    };\n    TextBox.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    TextBox.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-TEXTBOX') {\n            var ejInstance = getValue('ej2_instances', this.element);\n            var inputElement = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                inputElement.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                inputElement.innerHTML = this.element.innerHTML;\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        var attributes = this.element.attributes;\n        this.checkAttributes(attributes);\n        this.element.setAttribute('type', this.type);\n        this.globalize = new Internationalization(this.locale);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('textbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        if (!this.element.hasAttribute('id')) {\n            this.element.setAttribute('id', getUniqueID('textbox'));\n        }\n    };\n    TextBox.prototype.checkAttributes = function (attrs) {\n        for (var i = 0; i < attrs.length; i++) {\n            var key = attrs[i].nodeName;\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attrs[i].nodeValue }, true);\n            }\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TextBox.prototype.render = function () {\n        this.textboxWrapper = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                cssClass: this.cssClass,\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        });\n        this.wireEvents();\n    };\n    TextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n        }\n    };\n    TextBox.prototype.focusHandler = function (args) {\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('focus', eventArgs);\n    };\n    TextBox.prototype.focusOutHandler = function (args) {\n        if (!(this.previousValue === null && this.value === null && this.element.value === '') &&\n            (this.previousValue !== this.element.value)) {\n            this.raiseChangeEvent(args, true);\n        }\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('blur', eventArgs);\n    };\n    TextBox.prototype.inputHandler = function (args) {\n        var eventArgs = {\n            event: args,\n            value: this.element.value,\n            previousValue: this.value,\n            container: this.textboxWrapper.container\n        };\n        this.trigger('input', eventArgs);\n    };\n    TextBox.prototype.changeHandler = function (args) {\n        this.setProperties({ value: this.element.value }, true);\n        this.raiseChangeEvent(args, true);\n    };\n    TextBox.prototype.raiseChangeEvent = function (event, interaction) {\n        var eventArgs = {\n            event: event,\n            value: this.value,\n            previousValue: this.previousValue,\n            container: this.textboxWrapper.container,\n            isInteraction: interaction ? interaction : false\n        };\n        this.trigger('change', eventArgs);\n        this.previousValue = this.value;\n    };\n    TextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler, this);\n        }\n    };\n    TextBox.prototype.resetInputHandler = function (event) {\n        event.preventDefault();\n        if (!(this.textboxWrapper.clearButton.classList.contains(HIDE_CLEAR))) {\n            Input.setValue('', this.element, this.floatLabelType, this.showClearButton);\n        }\n    };\n    TextBox.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also, it maintains the initial TextBox element from the DOM.\n     * @method destroy\n     * @return {void}\n     */\n    TextBox.prototype.destroy = function () {\n        this.unWireEvents();\n        this.textboxWrapper.container.parentElement.appendChild(this.cloneElement);\n        detach(this.textboxWrapper.container);\n        this.textboxWrapper = null;\n        this.cloneElement.classList.remove(ROOT, CONTROL);\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     * @return {string}\n     */\n    TextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Adding the multiple attributes as key-value pair to the TextBox element.\n     * @param { { [key: string]: string } } attributes - Specifies the attributes to be add to TextBox element.\n     * @return {void}\n     */\n    TextBox.prototype.addAttributes = function (attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n                Input.setEnabled(this.enabled, this.element, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n                Input.setReadonly(this.readonly, this.element);\n            }\n            else if (key === 'class') {\n                this.element.classList.add(attributes[key]);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attributes[key] }, true);\n                Input.setPlaceholder(this.placeholder, this.element);\n            }\n            else {\n                this.element.setAttribute(key, attributes[key]);\n            }\n        }\n    };\n    /**\n     * Removing the multiple attributes as key-value pair to the TextBox element.\n     * @param { string[] } attributes - Specifies the attributes name to be removed from TextBox element.\n     * @return {void}\n     */\n    TextBox.prototype.removeAttributes = function (attributes) {\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var key = attributes_1[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: true }, true);\n                Input.setEnabled(this.enabled, this.element, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: false }, true);\n                Input.setReadonly(this.readonly, this.element);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: null }, true);\n                Input.setPlaceholder(this.placeholder, this.element);\n            }\n            else {\n                this.element.removeAttribute(key);\n            }\n        }\n    };\n    __decorate([\n        Property('text')\n    ], TextBox.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('Never')\n    ], TextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property('')\n    ], TextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], TextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"input\", void 0);\n    TextBox = __decorate([\n        NotifyPropertyChanges\n    ], TextBox);\n    return TextBox;\n}(Component));\nexport { TextBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, setStyleAttribute, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\n/* tslint:disable */\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n// don't use space in classnames \nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden'\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        return _this;\n    }\n    ;\n    /**\n     * Initialize the event handler.\n     * @private\n     */\n    DropDownList.prototype.preRender = function () {\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.renderList = function (isEmptyData) {\n        _super.prototype.render.call(this, isEmptyData);\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clear(e);\n        this.onChangeEvent(e);\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete') {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clear = function (e, properties) {\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) && isNullOrUndefined(properties.dataSource))) {\n            this.resetSelection();\n        }\n        var dataItem = this.getItemData();\n        if (this.previousValue === dataItem.value) {\n            return;\n        }\n        this.onChangeEvent(e);\n    };\n    DropDownList.prototype.resetSelection = function () {\n        if (this.list) {\n            if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n            }\n            this.resetFocusElement();\n        }\n        this.hiddenElement.innerHTML = '';\n        this.inputElement.value = '';\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.container.classList.add(this.htmlAttributes[htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && this.htmlAttributes[htmlAttr] === 'readonly') {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder'];\n                    var validateAttr = ['name', 'required'];\n                    if (validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        htmlAttr === 'placeholder' ? Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputElement) :\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            'aria-activedescendant': 'null',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ;\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return this.inputWrapper.container;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    ;\n    DropDownList.prototype.initValue = function () {\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.setSelection(this.getElementByValue(this.value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlur = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction();\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function () {\n        this.isInteracted = false;\n        this.focusOut();\n        this.onFocusOut();\n    };\n    DropDownList.prototype.onFocusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(null);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function () {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            this.trigger('focus');\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            this.value = null;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlur, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        EventHandler.remove(this.targetElement(), 'blur', this.onBlur);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '') {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, 'click', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    ;\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            if (!this.isRequested && !isNullOrUndefined(this.list.querySelector('li'))) {\n                this.incrementalSearch(e);\n            }\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    ;\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    DropDownList.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    ;\n    DropDownList.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    ;\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true);\n            if (!isNullOrUndefined(li)) {\n                this.setSelection(li, e);\n                this.setScrollPosition();\n            }\n        }\n    };\n    ;\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (isTabAction && this.isPopupOpen || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n                    if (this.isSelectFocusItem(focusEle)) {\n                        this.setSelection(focusEle, e);\n                    }\n                    else {\n                        var nextItem = void 0;\n                        var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n                        var startIndex = 0;\n                        if (this.getModuleName() === 'autocomplete') {\n                            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n                        }\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex] : this.liCollections[index];\n                        this.setSelection(nextItem, e);\n                    }\n                    e.preventDefault();\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        e.preventDefault();\n                        if (this.activeIndex === 0) {\n                            return;\n                        }\n                        this.setSelection(this.liCollections[0], e);\n                    }\n                    break;\n                case 'end':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        e.preventDefault();\n                        var lastLi = this.getItems().length - 1;\n                        if (this.activeIndex === lastLi) {\n                            return;\n                        }\n                        this.setSelection(this.liCollections[lastLi], e);\n                    }\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup();\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup();\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'escape':\n                case 'tab':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup();\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup();\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.getPageCount = function () {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        this.setSelection(previousItem, event);\n    };\n    ;\n    DropDownList.prototype.pageDownSelection = function (steps, event) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        this.setSelection(previousItem, event);\n    };\n    ;\n    DropDownList.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n        EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, 'click', this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    ;\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id)) &&\n            !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                this.isInteracted = false;\n                this.hidePopup();\n                if (!isActive) {\n                    this.onFocusOut();\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn();\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn();\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup();\n            }\n            var proxy_1 = this;\n            if (!this.isSecondClick) {\n                setTimeout(function () { proxy_1.cloneElements(); }, 100);\n            }\n        }\n        else {\n            this.focusIn();\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n                this.isSecondClick = true;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect) {\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        this.item = li;\n        this.itemData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect) {\n            var items = this.detachChanges();\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: this.item,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs);\n            if (eventArgs.cancel) {\n                return true;\n            }\n        }\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n        return false;\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (this.previousValue === dataItem.value) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n            var argsCancel = this.updateSelectedItem(li, e, false);\n            if (argsCancel) {\n                return;\n            }\n        }\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if (this.isPopupOpen) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            if (this.isFilterLayout()) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n            }\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        this.valueTempElement.innerHTML = '';\n        compiledString = compile(this.valueTemplate);\n        for (var _i = 0, _a = compiledString(this.itemData); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.valueTempElement.appendChild(item);\n        }\n    };\n    DropDownList.prototype.removeSelection = function () {\n        var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n        if (selectedItems.length) {\n            removeClass(selectedItems, dropDownBaseClasses.selected);\n            selectedItems[0].removeAttribute('aria-selected');\n        }\n    };\n    ;\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     */\n    DropDownList.prototype.onChangeEvent = function (eve) {\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        this.setProperties({ 'value': dataItem.value, 'index': index, 'text': dataItem.text }, true);\n        this.detachChangeEvent(eve);\n    };\n    ;\n    DropDownList.prototype.detachChanges = function () {\n        var items;\n        if (typeof this.itemData === 'string' ||\n            typeof this.itemData === 'boolean' ||\n            typeof this.itemData === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: this.itemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.itemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = this.itemData;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges();\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n            var selectedElement = this.hiddenElement.querySelector('option');\n            selectedElement.setAttribute('value', this.value.toString());\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        this.isValidKey = e.keyCode === 40 || e.keyCode === 38 || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                case 38: //up arrow \n                case 40://down arrow \n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8://backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        this.resetFocusElement();\n                        this.activeIndex = null;\n                        if (this.getModuleName() === 'autocomplete') {\n                            this.hidePopup();\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13://enter\n                break;\n            case 40: //down arrow\n            case 38://up arrow \n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9://tab \n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1);\n            if (eventArgs_1.cancel) {\n                return;\n            }\n            if (!this.isCustomFilter && !eventArgs_1.preventDefaultAction) {\n                var filterQuery = this.query ? this.query.clone() : new Query();\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', 'startswith', this.filterInput.value, true, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', 'startswith', this.filterInput.value, true, this.ignoreAccent);\n                }\n                this.filteringAction(this.dataSource, filterQuery, this.fields);\n            }\n        }\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = true;\n            if (this.filterInput.value.trim() === '') {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                this.resetList(dataSource, fields, query);\n            }\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    ;\n    DropDownList.prototype.onInput = function () {\n        this.isValidKey = true;\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (this.isNotSearchList) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.isActive) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            this.list.scrollTop = 0;\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            if (this.initRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.updateValues();\n                this.initRemoteRender = false;\n                this.initial = false;\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource.length) && this.dataSource.length !== 0)))) {\n                    this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n                }\n                this.addNewItem(list, selectedItem);\n                if (!isNullOrUndefined(this.itemData)) {\n                    this.focusIndexItem();\n                }\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup();\n            }\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_1 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_1) ||\n                    (getValue(_this.fields.value, data) === value_1));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item) {\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n            if (this.isFiltering()) {\n                this.actionCompleteData.list.push(item);\n            }\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.list.querySelector('[data-value=\"' + value + '\"]');\n        this.selectedLI = element;\n        this.activeItem(element);\n        this.removeFocus();\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    ;\n    DropDownList.prototype.renderPopup = function () {\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args);\n        if (args.cancel) {\n            return;\n        }\n        var popupEle = this.createElement('div', {\n            id: this.element.id + '_popup', className: 'e-ddl e-popup ' + (this.cssClass != null ? this.cssClass : '')\n        });\n        var searchBox = this.setSearchBox(popupEle);\n        this.listHeight = formatUnit(this.popupHeight);\n        if (this.headerTemplate) {\n            this.setHeaderTemplate(popupEle);\n        }\n        append([this.list], popupEle);\n        if (this.footerTemplate) {\n            this.setFooterTemplate(popupEle);\n        }\n        document.body.appendChild(popupEle);\n        popupEle.style.visibility = 'hidden';\n        if (this.popupHeight !== 'auto') {\n            this.searchBoxHeight = 0;\n            if (!isNullOrUndefined(searchBox.container)) {\n                this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                this.listHeight = (parseInt(this.listHeight, 10) - (this.searchBoxHeight)).toString() + 'px';\n            }\n            if (this.headerTemplate) {\n                var height = Math.round(this.header.getBoundingClientRect().height);\n                this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + 'px';\n            }\n            if (this.footerTemplate) {\n                var height = Math.round(this.footer.getBoundingClientRect().height);\n                this.listHeight = (parseInt(this.listHeight, 10) - (height + this.searchBoxHeight)).toString() + 'px';\n            }\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n        var offsetValue = 0;\n        var left;\n        if (!isNullOrUndefined(this.selectedLI) && (!isNullOrUndefined(this.activeIndex) && this.activeIndex >= 0)) {\n            this.setScrollPosition();\n        }\n        else {\n            this.list.scrollTop = 0;\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            offsetValue = this.getOffsetValue(popupEle);\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10));\n        }\n        this.getFocusElement();\n        this.createPopup(popupEle, offsetValue, left);\n        this.checkCollision(popupEle);\n        if (Browser.isDevice) {\n            this.popupObj.element.classList.add(dropDownListClasses.device);\n            if (this.getModuleName() === 'dropdownlist' || (this.getModuleName() === 'combobox'\n                && !this.allowFiltering && this.isDropDownClick)) {\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n            if (this.isFilterLayout()) {\n                this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                this.popupObj.position = { X: 0, Y: 0 };\n                this.popupObj.dataBind();\n                attributes(this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                addClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n                this.setSearchBoxPosition();\n                this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n            }\n        }\n        popupEle.style.visibility = 'visible';\n        addClass([popupEle], 'e-popup-close');\n        var scrollParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n            var element = scrollParentElements_1[_i];\n            EventHandler.add(element, 'scroll', this.scrollHandler, this);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            EventHandler.add(this.list, 'scroll', this.listScroll, this);\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'true' });\n        var inputParent = this.isFiltering() ? this.filterInput.parentElement : this.inputWrapper.container;\n        addClass([inputParent], [dropDownListClasses.inputFocus]);\n        var animModel = { name: 'FadeIn', duration: 100 };\n        this.beforePopupOpen = true;\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n        this.popupObj.show(new Animation(eventArgs.animation), (this.zIndex === 1000) ? this.element : null);\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTop, 10);\n        var borderBottom = parseInt(popupStyles.borderBottom, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            this.hidePopup();\n        }\n        if (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement)) {\n            this.fixedHeaderElement.style.zIndex = '0';\n            this.fixedHeaderElement.style.display = 'none';\n        }\n    };\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial) {\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n        var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (this.activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = nextOffset;\n        }\n    };\n    DropDownList.prototype.scrollTop = function () {\n        var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n        var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n        nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n        if (this.activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0) {\n            this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.searchLists(null);\n    };\n    DropDownList.prototype.listScroll = function () {\n        this.filterInput.blur();\n    };\n    DropDownList.prototype.closePopup = function (delay) {\n        this.isTyped = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n            EventHandler.remove(this.list, 'scroll', this.listScroll);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            EventHandler.remove(this.filterInput, 'input', this.onInput);\n            EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n            EventHandler.remove(this.filterInput, 'blur', this.onBlur);\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false', 'aria-activedescendant': null });\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('close', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.getModuleName() === 'autocomplete') {\n            this.rippleFun();\n        }\n        if (this.isPopupOpen) {\n            this.popupObj.hide(new Animation(eventArgs.animation));\n        }\n        else {\n            this.destroyPopup();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.popupObj.destroy();\n        detach(this.popupObj.element);\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    DropDownList.prototype.render = function () {\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n        }\n        else {\n            this.inputElement = this.createElement('input');\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: this.cssClass,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.setHTMLAttributes();\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            this.initValue();\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) { e.stopImmediatePropagation(); };\n        this.inputElement.onchange = function (e) { e.stopImmediatePropagation(); };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n    };\n    ;\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        compiledString = compile(this.footerTemplate);\n        for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.footer.appendChild(item);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        compiledString = compile(this.headerTemplate);\n        for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            this.header.appendChild(item);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props) {\n        this.clear(null, props);\n        this.resetList(this.dataSource);\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.itemData = this.getDataByValue(this.value);\n            var dataItem = this.getItemData();\n            this.setProperties({ 'value': dataItem.value, 'text': dataItem.text });\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownlist') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this.inputElement);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp, oldProp);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this.clear();\n                        break;\n                    }\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var li = this.getElementByText(newProp.text);\n                        if (this.isValidLI(li)) {\n                            this.setSelection(li, null);\n                        }\n                        else {\n                            this.setOldText(oldProp.text);\n                        }\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this.clear();\n                        break;\n                    }\n                    this.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var item = this.getElementByValue(newProp.value);\n                        if (this.isValidLI(item)) {\n                            this.setSelection(item, null);\n                        }\n                        else {\n                            this.setOldValue(oldProp.value);\n                        }\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this.clear();\n                        break;\n                    }\n                    if (!this.list) {\n                        if (this.dataSource instanceof DataManager) {\n                            this.initRemoteRender = true;\n                        }\n                        this.renderList();\n                    }\n                    if (!this.initRemoteRender) {\n                        var element = this.liCollections[newProp.index];\n                        if (this.isValidLI(element)) {\n                            this.setSelection(element, null);\n                        }\n                        else {\n                            this.index = oldProp.index;\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.popupObj) {\n                        this.setFooterTemplate(this.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this.popupObj) {\n                        this.setHeaderTemplate(this.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this.itemData) && this.valueTemplate != null) {\n                        this.setValueTemplate();\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, newProp.floatLabelType, this.placeholder, this.createElement);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(newProp.showClearButton, this.inputElement, this.inputWrapper, null, this.createElement);\n                    this.bindClearEvent();\n                    break;\n                default:\n                    var ddlProps = void 0;\n                    ddlProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, ddlProps.newProperty, ddlProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.setCssClass = function (newProp, oldProp) {\n        this.inputWrapper.container.classList.remove(oldProp.cssClass);\n        Input.setCssClass(newProp.cssClass, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.element.classList.remove(oldProp.cssClass);\n            this.popupObj.element.classList.add(newProp.cssClass);\n        }\n    };\n    /**\n     * Return the module name.\n     * @private\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     * @returns void.\n     */\n    DropDownList.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderList();\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list.children[0]) || this.list.classList.contains(dropDownBaseClasses.noData)) {\n            this.renderPopup();\n        }\n        attributes(this.targetElement(), { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n    };\n    /**\n     * Hides the popup if it is in an open state.\n     * @returns void.\n     */\n    DropDownList.prototype.hidePopup = function () {\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                this.selectedLI = this.liCollections[this.index];\n                this.updateSelectedItem(this.selectedLI, null, true);\n                if (this.valueTemplate && this.itemData !== null) {\n                    this.setValueTemplate();\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.closePopup();\n        var dataItem = this.getItemData();\n        if (this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            !isNullOrUndefined(this.selectedLI) && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clear();\n        }\n    };\n    /**\n     * Sets the focus on the component for interaction.\n     * @returns void.\n     */\n    DropDownList.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus();\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     * @returns void.\n     */\n    DropDownList.prototype.focusOut = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.isTyped = true;\n        this.hidePopup();\n        this.targetElement().blur();\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}.\n     */\n    DropDownList.prototype.destroy = function () {\n        var _this = this;\n        this.isActive = false;\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        var attrArray = ['readonly', 'aria-disabled', 'aria-placeholder',\n            'placeholder', 'aria-owns', 'aria-labelledby', 'aria-haspopup', 'aria-expanded',\n            'aria-activedescendant', 'autocomplete', 'aria-readonly', 'autocorrect',\n            'autocapitalize', 'spellcheck', 'aria-autocomplete'];\n        attrArray.forEach(function (value) {\n            _this.inputElement.removeAttribute(value);\n        });\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n        this.inputElement.classList.remove('e-input');\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    ;\n    /**\n     * Gets all the list items bound on this component.\n     * @returns Element[].\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\n/* tslint:disable */\nimport { Input } from '@syncfusion/ej2-inputs';\n/* tslint:enable */\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    ;\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlur, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if (this.previousValue !== this.value) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var li = this.getElementByValue(this.value);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if (this.allowCustom) {\n                this.valueMuteChange(this.value);\n            }\n            else {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-owns': this.element.id + '_options',\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-hasPopup': 'true',\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        return (this.isFiltering() ? this.inputWrapper : inputObject);\n    };\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n            this.inlineSearch();\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n        var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var activeItem = Search(inputValue, this.liCollections, 'StartsWith', true);\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    this.list.scrollTop = count * height + fixedHead;\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    this.list.scrollTop = 0;\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && this.previousValue !== currentFillValue) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clear = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clear.call(this, e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            this.list.scrollTop = 0;\n            var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n            this.setHoverList(focusItem);\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup();\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ;\n    ComboBox.prototype.setAutoFillSelection = function (currentValue) {\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ;\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlur);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n        if (!this.readonly) {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n            EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n            EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clear(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue();\n        }\n        this.hidePopup();\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ;\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus();\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function () {\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                var fields = this.fields;\n                var eventArgs = void 0;\n                eventArgs = { text: value_1, item: {} };\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs);\n                }\n                var item = eventArgs.item;\n                var dataItem = {};\n                if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n                    dataItem = item;\n                }\n                else {\n                    setValue(fields.text, value_1, dataItem);\n                    setValue(fields.value, value_1, dataItem);\n                }\n                this.itemData = dataItem;\n                var changeData = {\n                    text: getValue(fields.text, this.itemData),\n                    value: getValue(fields.value, this.itemData),\n                    index: null\n                };\n                this.setProperties(changeData, true);\n                this.setSelection(null, null);\n                this.isSelectCustom = true;\n            }\n            else {\n                this.isSelectCustom = false;\n                this.setProperties({ value: value });\n            }\n            if (previousValue !== this.value) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default:\n                    var comboProps = void 0;\n                    comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     * @private\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n    };\n    ;\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Hides the popup if it is in open state.\n     * @returns void.\n     */\n    ComboBox.prototype.hidePopup = function () {\n        var inputValue = this.inputElement.value === '' ? null : this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n            if (dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(null);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue();\n            }\n        }\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     * @returns void.\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, attributes, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\n/* tslint:disable */\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/* tslint:enable */\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     */\n    function AutoComplete(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFiltered = false;\n        return _this;\n    }\n    ;\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.value)) ? this.value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null) {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.isSelectCustom = false;\n        this.isDataFetched = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, true);\n        }\n        var isDownUpKey = e.keyCode === 40 || e.keyCode === 38;\n        this.queryString = this.filterInput.value;\n        if (isDownUpKey) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (!this.isFiltered && !eventArgs.preventDefaultAction) {\n            this.filterAction(this.dataSource, null, this.fields);\n        }\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength || this.isFiltered)) {\n            this.resetList(dataSource, fields, query);\n        }\n        else {\n            this.hidePopup();\n        }\n    };\n    AutoComplete.prototype.clear = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clear.call(this, e);\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        this.fixedHeaderElement = null;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0])) {\n            var items = [this.liCollections[0]];\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase);\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill) {\n                this.preventAutoFill = false;\n                _super.prototype.setAutoFill.call(this, li);\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    ;\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function () {\n        this.list.scrollTop = 0;\n        _super.prototype.renderPopup.call(this);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return true && this.inputElement.value.trim() !== '';\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     * @returns void.\n     */\n    AutoComplete.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n        }\n        else {\n            this.resetList(this.dataSource, this.fields);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     * @returns void.\n     */\n    AutoComplete.prototype.hidePopup = function () {\n        _super.prototype.hidePopup.call(this);\n        this.activeIndex = -1;\n    };\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default:\n                    var atcProps = void 0;\n                    atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     * @private\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    ;\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { attributes, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, setStyleAttribute, closest, detach, remove } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\n/* tslint:disable */\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur } from './float-label';\n/* tslint:enable */\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ;\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.mode === 'CheckBox') {\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            this.allowFiltering = true;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class':\n                        this.overAllWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                        this.popupWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                        break;\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        break;\n                    default:\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else if (validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (state || this.mode === 'CheckBox') {\n            this.inputElement.setAttribute('readonly', 'true');\n        }\n        else {\n            this.inputElement.removeAttribute('readonly');\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (this.cssClass) {\n            this.popupWrapper.classList.add(this.cssClass);\n            this.overAllWrapper.classList.add(this.cssClass);\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function () {\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.focusAtFirstListItem();\n        document.body.appendChild(this.popupObj.element);\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], [iconAnimation]);\n        }\n        this.popupObj.show(eventArgs.animation, (this.zIndex === 1000) ? this.element : null);\n        attributes(this.inputElement, { 'aria-expanded': 'true' });\n        if (!this.isFirstClick) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            }\n            this.isFirstClick = true;\n        }\n        this.refreshListItems(null);\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                element = this.ulElement.querySelector('li.'\n                    + dropDownBaseClasses.li + ':not(.'\n                    + HIDE_LIST + ')');\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                Search(this.value[this.value.length - 1], this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            this.scrollBottom(activeElement.item, activeElement.index);\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-multiselectable': 'true',\n            'aria-activedescendant': 'null',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n        var disableStatus = (this.inputElement.disabled) ? true : false;\n        attributes(this.inputElement, this.getAriaAttributes());\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var elements;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.value.slice();\n        }\n        this.removeValue(value, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox') {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        for (var i = 0; i < valuecheck.length; i++) {\n            if (i === 0) {\n                predicate = new Predicate(field, 'equal', valuecheck[i]);\n            }\n            else {\n                predicate = predicate.or(field, 'equal', valuecheck[i]);\n            }\n        }\n        return new Query().where(predicate);\n    };\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var proxy = this;\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n            for (var i = 0; i < this.value.length; i++) {\n                var checkEle = ulElement.querySelector('li[data-value=\"' + proxy.value[i] + '\"]');\n                if (!checkEle) {\n                    valuecheck.push(proxy.value[i]);\n                }\n            }\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)) {\n            this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n                proxy.addItem(e.result, list.length);\n                proxy.updateActionList(ulElement, list, e);\n            });\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n    };\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (!isNullOrUndefined(this.mainData) && this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering) {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            return;\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && this.inputElement.value !== '') ||\n            this.mode === 'CheckBox')) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            this.initialValueUpdate();\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            this.updateValueState(null, this.value, null);\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown();\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.value[index];\n                element = this.list.querySelector('li[data-value=\"' + value + '\"]');\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                        }\n                        else {\n                            this.ulElement = this.ulElement.cloneNode ? this.ulElement.cloneNode(true) : this.ulElement;\n                            this.l10nUpdate();\n                            addClass([this.list], dropDownBaseClasses.noData);\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.firstElementChild.getAttribute('aria-checked');\n                        if (isNullOrUndefined(ariaValue) || ariaValue === 'false') {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.ulElement.querySelector('li[data-value=\"' + value + '\"]');\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var searchCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if ((searchCount === searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n    };\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox') {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup();\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.KeyUp = function (e) {\n        var _this = this;\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    if (!this.isPopupOpen() && this.openOnClick) {\n                        this.showPopup();\n                    }\n                    this.openClick(e);\n                    if (this.checkTextLength() && !this.allowFiltering && (e.keyCode !== 8)) {\n                        this.focusAtFirstListItem();\n                    }\n                    else {\n                        var text = this.targetElement();\n                        this.keyCode = e.keyCode;\n                        if (this.allowFiltering) {\n                            var eventArgs_1 = {\n                                preventDefaultAction: false,\n                                text: this.targetElement(),\n                                updateData: function (dataSource, query, fields) {\n                                    if (eventArgs_1.cancel) {\n                                        return;\n                                    }\n                                    _this.isFiltered = true;\n                                    _this.remoteFilterAction = true;\n                                    _this.dataUpdater(dataSource, query, fields);\n                                },\n                                event: e,\n                                cancel: false\n                            };\n                            this.trigger('filtering', eventArgs_1);\n                            if (eventArgs_1.cancel) {\n                                return;\n                            }\n                            if (!this.isFiltered && !eventArgs_1.preventDefaultAction) {\n                                this.filterAction = true;\n                                this.dataUpdater(this.dataSource, null, this.fields);\n                            }\n                        }\n                        else if (this.allowCustomValue) {\n                            var query = new Query();\n                            query = (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                            this.dataUpdater(this.mainData, query, this.fields);\n                            break;\n                        }\n                        else {\n                            var liCollections = void 0;\n                            liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                            var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                            if (activeElement && activeElement.item !== null) {\n                                this.addListFocus(activeElement.item);\n                                this.list.scrollTop =\n                                    activeElement.item.offsetHeight * activeElement.index;\n                            }\n                            else if (this.targetElement() !== '') {\n                                this.removeFocus();\n                            }\n                            else {\n                                this.focusAtFirstListItem();\n                            }\n                        }\n                    }\n            }\n        }\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.filterAction) {\n            if (this.targetElement() !== null) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', 'startswith', this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', 'startswith', this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            return filterQuery;\n        }\n        else {\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (typeof (customData) !== 'string') {\n                var dataItem = {};\n                setValue(fields.text, value, dataItem);\n                setValue(fields.value, value, dataItem);\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, dataItem);\n                this.resetList(tempData, fields ? fields : this.fields, query);\n            }\n            else {\n                var tempData = [this.inputElement.value];\n                this.resetList(tempData, fields ? fields : this.fields);\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        if (this.readonly || !this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus && this.mode !== 'CheckBox') {\n            this.dispatchEvent(this.inputElement, 'focus');\n        }\n        if (!this.inputFocus && this.mode === 'CheckBox') {\n            this.focusIn();\n        }\n        if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            return;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup();\n        }\n        else {\n            this.hidePopup();\n            if (this.mode === 'CheckBox') {\n                this.showOverAllClear();\n                this.inputFocus = true;\n                if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                    this.overAllWrapper.classList.add(FOCUS);\n                }\n            }\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlur = function (eve) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            return;\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve)) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            eve.preventDefault();\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.refreshListItems(null);\n            this.updateDelimView();\n        }\n        this.updateValueState(eve, this.value, this.tempValues);\n        this.dispatchEvent(this.hiddenElement, 'change');\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup();\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!this.value || !this.value.length) {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        else {\n            this.searchWrapper.classList.add(ZERO_SIZE);\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: oldVal,\n                value: newVal,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n        }\n    };\n    MultiSelect.prototype.getPagingCount = function () {\n        var height = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        return Math.round(this.list.offsetHeight / parseInt(height, 10));\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem;\n        previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    ;\n    MultiSelect.prototype.pageDownSelection = function (steps) {\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem;\n        previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')));\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement ? this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')') : null;\n    };\n    MultiSelect.prototype.focusIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (!this.value) {\n                this.tempValues = this.value;\n            }\n            else {\n                this.tempValues = this.value.slice();\n            }\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            if (this.focused) {\n                this.inputElement.focus();\n                this.trigger('focus');\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (keyCode) {\n        switch (keyCode) {\n            case 38:\n                this.hidePopup();\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n        }\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e.keyCode);\n            e.preventDefault();\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            switch (e.keyCode) {\n                case 36:\n                case 35: break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPagingCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.hidePopup();\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    return;\n                case 32:\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.hidePopup();\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        this.refreshPopup();\n    };\n    MultiSelect.prototype.arrowDown = function (e) {\n        e.preventDefault();\n        this.moveByList(1);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains('e-input-filter')) {\n            this.list.focus();\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        else {\n            this.list.focus();\n        }\n        this.moveByList(-1);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            if (!document.activeElement.classList.contains('e-input-filter')) {\n                e.preventDefault();\n                this.keyAction = true;\n                this.list.focus();\n            }\n            this.selectByKey(e);\n        }\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37://left arrow  \n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39://right arrow  \n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46://del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.value[this.value.length - 1];\n                this.removeValue(temp, e);\n                this.updateDelimeter(this.delimiterChar);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.value && this.validateValues(this.value, temp)) {\n            this.value = temp;\n            this.initialValueUpdate();\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex) {\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        boxRange = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset) {\n            this.list.scrollTop = nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = nextOffset;\n        }\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex) {\n        var nextOffset = selectedLI.offsetTop - this.list.scrollTop;\n        var nextBottom = selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLI.offsetTop + selectedLI.offsetHeight - this.list.scrollTop);\n        if (activeIndex === 0) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0) {\n            this.list.scrollTop = this.list.scrollTop + nextOffset;\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (li !== null) {\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.refreshInputHight();\n                    this.updateDelimeter(this.delimiterChar);\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                this.refreshPopup();\n            }\n            if (this.closePopupOnSelect) {\n                this.hidePopup();\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = void 0;\n            if (this.sortOrder === 'Descending' || this.sortOrder === 'Ascending') {\n                list = this.ulElement.cloneNode ? this.ulElement.cloneNode(true) : this.ulElement;\n            }\n            else {\n                list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            }\n            this.onActionComplete(list, this.mainData);\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            this.removeValue(selectedElem.getAttribute('data-value'), e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup();\n        }\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.moveByList = function (position) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var temp = -1;\n            if (elements.length) {\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        this.addListFocus(elements[++temp]);\n                        this.scrollBottom(elements[temp], temp);\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        this.removeFocus();\n                        this.addListFocus(elements[--temp]);\n                        this.scrollTop(elements[temp], temp);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var elements;\n        var selectedElem;\n        var temp;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var value = this.getFormattedValue(element.getAttribute('data-value'));\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup();\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            if (isNullOrUndefined(this.list.querySelector('li[data-value=\"' + value + '\"]')) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar);\n            this.makeTextBoxEmpty();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if (this.value && this.value.length) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = this.placeholder;\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length) {\n        var index = this.value.indexOf(this.getFormattedValue(value));\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var element = this.list.querySelector('li[data-value=\"' + value + '\"]');\n            var val = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.value.splice(index, 1);\n            this.setProperties({ value: [].concat([], this.value) }, true);\n            if (element !== null) {\n                var hideElement = this.mainList.querySelector('li[data-value=\"' + value + '\"]');\n                element.setAttribute('aria-selected', 'false');\n                hideElement.setAttribute('aria-selected', 'false');\n                removeClass([element, hideElement], className);\n                this.notify('activeList', {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox', li: element,\n                    e: this, index: index\n                });\n                this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n                attributes(this.inputElement, { 'aria-activedescendant': element.id });\n                if ((this.value.length !== this.mainData.length) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n                    this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n                }\n            }\n            if (this.hideSelectedItem && this.fields.groupBy) {\n                this.hideGroupItem(value);\n            }\n            this.updateMainList(true, value);\n            this.removeChip(value);\n            this.updateChipStatus();\n            var limit = this.value && this.value.length ? this.value.length : 0;\n            if (limit < this.maximumSelectionLength) {\n                var collection = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ':not(.e-active)');\n                removeClass(collection, 'e-disable');\n            }\n            this.trigger('removed', eventArgs);\n            if (length) {\n                this.selectAllEventData.push(val);\n                this.selectAllEventEle.push(element);\n            }\n            if (length === 1) {\n                var args = {\n                    event: eve,\n                    items: this.selectAllEventEle,\n                    itemData: this.selectAllEventData,\n                    isInteracted: eve ? true : false,\n                    isChecked: false\n                };\n                this.trigger('selectedAll', args);\n                this.selectAllEventData = [];\n                this.selectAllEventEle = [];\n            }\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value) {\n        if (this.allowFiltering) {\n            var element2 = this.mainList.querySelector('li[data-value=\"' + value + '\"]');\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        element2.firstElementChild.setAttribute('aria-checked', 'false');\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        element2.firstElementChild.setAttribute('aria-checked', 'true');\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value) {\n        if (this.chipCollectionWrapper) {\n            var element = this.chipCollectionWrapper.querySelector('span[data-value=\"' + value + '\"]');\n            if (element) {\n                remove(element);\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n        var element = this.list.querySelector('li[data-value=\"' + value + '\"]');\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        if (this.initStatus && !isNotTrigger) {\n            var val = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs);\n            if (eventArgs.cancel) {\n                return true;\n            }\n            if (length) {\n                this.selectAllEventData.push(val);\n                this.selectAllEventEle.push(element);\n            }\n            if (length === 1) {\n                var args = {\n                    event: eve,\n                    items: this.selectAllEventEle,\n                    itemData: this.selectAllEventData,\n                    isInteracted: eve ? true : false,\n                    isChecked: true\n                };\n                this.trigger('selectedAll', args);\n                this.selectAllEventData = [];\n            }\n        }\n        return false;\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            var item = this.getChip(text, value, e);\n            if (item.cancel) {\n                return;\n            }\n            this.chipCollectionWrapper.appendChild(item.element);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements;\n        var closeElements;\n        elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var compiledString = compile(this.valueTemplate);\n            for (var _i = 0, _a = compiledString(itemData); _i < _a.length; _i++) {\n                var item = _a[_i];\n                chipContent.appendChild(item);\n            }\n        }\n        else {\n            chipContent.innerHTML = data;\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.trigger('tagging', eventArgs);\n        if (eventArgs.cancel) {\n            return { cancel: true, element: chip };\n        }\n        if (Browser.isDevice) {\n            chip.classList.add(MOBILE_CHIP);\n            append([chipClose], chip);\n            chipClose.style.display = 'none';\n            EventHandler.add(chip, 'click', this.onMobileChipInteraction, this);\n        }\n        else {\n            EventHandler.add(chip, 'mousedown', this.chipClick, this);\n            if (this.showClearButton) {\n                chip.appendChild(chipClose);\n            }\n        }\n        EventHandler.add(chipClose, 'mousedown', this.onChipRemove, this);\n        return { cancel: false, element: chip };\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            var args = { cancel: false };\n            this.trigger('beforeOpen', args);\n            if (args.cancel) {\n                return;\n            }\n            document.body.appendChild(this.popupWrapper);\n            var overAllHeight = parseInt(this.popupHeight, 10);\n            this.popupWrapper.style.visibility = 'hidden';\n            if (this.headerTemplate) {\n                this.setHeaderTemplate();\n                overAllHeight -= this.header.offsetHeight;\n            }\n            append([this.list], this.popupWrapper);\n            if (this.footerTemplate) {\n                this.setFooterTemplate();\n                overAllHeight -= this.footer.offsetHeight;\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                overAllHeight -= this.selectAllHeight;\n            }\n            else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate || !this.footerTemplate)) {\n                this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                overAllHeight = parseInt(this.popupHeight, 10);\n            }\n            else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                overAllHeight = parseInt(this.popupHeight, 10);\n                if (this.headerTemplate && this.header) {\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                if (this.footerTemplate && this.footer) {\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                var args_1 = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    popupElement: this.popupWrapper\n                };\n                this.notify('searchBox', args_1);\n                overAllHeight -= this.searchBoxHeight;\n                addClass([this.popupWrapper], 'e-checkbox');\n            }\n            if (this.popupHeight !== 'auto') {\n                this.list.style.maxHeight = formatUnit(overAllHeight);\n                this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n            }\n            else {\n                this.list.style.maxHeight = formatUnit(this.popupHeight);\n            }\n            this.popupObj = new Popup(this.popupWrapper, {\n                width: this.calcPopupWidth(), targetType: 'relative', position: { X: 'left', Y: 'bottom' },\n                relateTo: this.overAllWrapper, collision: { X: 'flip', Y: 'flip' }, offsetY: 1,\n                enableRtl: this.enableRtl,\n                zIndex: this.zIndex,\n                close: function () {\n                    if (_this.popupObj.element.parentElement) {\n                        detach(_this.popupObj.element);\n                    }\n                },\n                open: function () {\n                    _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus' });\n                }\n            });\n            this.popupObj.close();\n            this.popupWrapper.style.visibility = '';\n            if (this.mode === 'CheckBox' && Browser.isDevice) {\n                this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n            }\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        compiledString = compile(this.headerTemplate);\n        var elements = compiledString({});\n        for (var temp = 0; temp < elements.length; temp++) {\n            this.header.appendChild(elements[temp]);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        compiledString = compile(this.footerTemplate);\n        var elements = compiledString({});\n        for (var temp = 0; temp < elements.length; temp++) {\n            this.footer.appendChild(elements[temp]);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.ClearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            var tempValues = this.value ? this.value.slice() : [];\n            if (this.value) {\n                for (temp = this.value[0]; this.value.length !== 0; temp = this.value[0]) {\n                    this.removeValue(temp, e);\n                }\n            }\n            if (this.mainList && this.listData && this.allowFiltering) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.focusAtFirstListItem();\n            this.updateDelimeter(this.delimiterChar);\n            if (this.mode !== 'Box') {\n                this.updateDelimView();\n            }\n            this.makeTextBoxEmpty();\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            if (!this.inputFocus) {\n                this.updateValueState(e, this.value, tempValues);\n                if (this.mode !== 'CheckBox') {\n                    this.inputElement.focus();\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.refreshPlaceHolder();\n                this.refreshInputHight();\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if (!this.inputFocus && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            this.value = null;\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.KeyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlur, this);\n        EventHandler.add(this.componentWrapper, 'mousemove', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mouseup', this.ClearAll, this);\n    };\n    MultiSelect.prototype.onInput = function () {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n    };\n    MultiSelect.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        this.listData = this.mainData;\n        this.hiddenElement.innerHTML = '';\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                if (this.listData) {\n                    temp = this.getTextByValue(this.value[index]);\n                }\n                else {\n                    temp = this.value[index];\n                }\n                data += temp + delimiterChar + ' ';\n                text.push(temp);\n                this.hiddenElement.innerHTML += '<option selected value =\"' + this.value[index] + '\">' + index + '</option>';\n            }\n        }\n        this.text = text.toString();\n        if (delim) {\n            this.delimiterWrapper.innerHTML = data;\n        }\n        this.listData = tempData;\n    };\n    MultiSelect.prototype.initialValueUpdate = function () {\n        if (this.list) {\n            var text = void 0;\n            var textField = void 0;\n            var valueField = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.value[index];\n                    element = this.hideSelectedItem ? this.ulElement.querySelector('li[data-value=\"' + value + '\"]')\n                        : this.list.querySelector('li[data-value=\"' + value + '\"]');\n                    text = this.getTextByValue(value);\n                    if ((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) {\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if (value && this.allowCustomValue) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        this.addItem(newValue, indexItem);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                this.updateValueState(null, this.value, this.tempValues);\n                this.refreshInputHight();\n                this.updateDelimeter(this.delimiterChar);\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && isNullOrUndefined(this.value)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (!this.inputFocus) {\n                if (this.mode === 'Box') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                    this.showDelimWrapper();\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    ;\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var text = this.getTextByValue(value);\n        this.removeHover();\n        if (!this.value || this.value.indexOf(value) === -1) {\n            var argsCancel = this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n            if (argsCancel) {\n                return;\n            }\n            if ((this.allowCustomValue || this.allowFiltering) && !this.mainList.querySelector('li[data-value=\"' + value + '\"]')) {\n                var temp = li.cloneNode(true);\n                var data = this.getDataByValue(value);\n                append([temp], this.mainList);\n                this.mainData.push(data);\n                var eventArgs = {\n                    newData: data,\n                    cancel: false\n                };\n                this.trigger('customValueSelection', eventArgs);\n                if (eventArgs.cancel) {\n                    return;\n                }\n            }\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        selectItems[temp1 - 1].firstElementChild.setAttribute('aria-checked', 'false');\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    ;\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    ;\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'));\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox') {\n                var ariaCheck = element.firstElementChild.getAttribute('aria-checked');\n                if (ariaCheck === 'false' || isNullOrUndefined(ariaCheck)) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper !== null) {\n                this.removeChipSelection();\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': element.id });\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar) {\n        this.updateData(delimChar);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        this.scrollFocusStatus = false;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (this.isValidLI(li)) {\n            var limit = this.value && this.value.length ? this.value.length : 0;\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                    if (this.mode !== 'CheckBox') {\n                        this.focusAtLastListItem(li.getAttribute('data-value'));\n                    }\n                    this.refreshSelection();\n                }\n                else {\n                    this.makeTextBoxEmpty();\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                this.refreshInputHight();\n                this.updateDelimeter(this.delimiterChar);\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            this.checkSelectAll();\n            this.refreshPopup();\n            if (this.hideSelectedItem) {\n                this.focusAtFirstListItem();\n            }\n            if (this.closePopupOnSelect) {\n                this.hidePopup();\n            }\n            else {\n                e.preventDefault();\n            }\n            this.makeTextBoxEmpty();\n        }\n        else {\n            e.preventDefault();\n        }\n        if (this.mode !== 'CheckBox') {\n            this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id)) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n        EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    ;\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    ;\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     * @returns void.\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            if (this.overAllClear.style.display !== 'none') {\n                this.spinnerElement = this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     * @returns void.\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        this.viewWrapper.style.display = '';\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            this.viewWrapper.innerHTML = '';\n            var l10nLocale = {\n                noRecordsTemplate: 'No Records Found',\n                actionFailureTemplate: 'The Request Failed',\n                overflowCountTemplate: '+${count} more..'\n            };\n            var l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var compiledString = compile(remainContent);\n            raminElement.appendChild(compiledString({ 'count': this.value.length })[0]);\n            this.viewWrapper.appendChild(raminElement);\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            this.viewWrapper.innerHTML = '';\n            var inputleng = this.searchWrapper.offsetWidth;\n            var overAllContainer = parseInt(window.getComputedStyle(this.componentWrapper).width, 10) -\n                parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n            var remainValue = void 0;\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    data += (index === 0) ? '' : this.delimiterChar + ' ';\n                    if (this.mainData && this.mainData.length) {\n                        if (this.mode === 'CheckBox') {\n                            remainValue = 110;\n                            var newTemp = this.listData;\n                            this.listData = this.mainData;\n                            temp = this.getTextByValue(this.value[index]);\n                            this.listData = newTemp;\n                        }\n                        else {\n                            remainValue = 0;\n                            temp = this.getTextByValue(this.value[index]);\n                        }\n                    }\n                    else {\n                        temp = this.value[index];\n                    }\n                    data += temp;\n                    temp = this.viewWrapper.innerHTML;\n                    this.viewWrapper.innerHTML = data;\n                    wrapperleng = this.viewWrapper.offsetWidth;\n                    if ((wrapperleng) > overAllContainer - remainValue) {\n                        if (tempData !== undefined) {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.viewWrapper.innerHTML = temp;\n                        remaining = this.value.length - index;\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                raminElement.innerHTML = '';\n                raminElement.appendChild(compiledString({ 'count': remaining })[0]);\n                this.viewWrapper.appendChild(raminElement);\n            }\n        }\n        else {\n            this.viewWrapper.innerHTML = '';\n            this.viewWrapper.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(this.inputElement, 'focus', this.focusIn);\n        EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.remove(this.inputElement, 'input', this.onInput);\n        }\n        EventHandler.remove(this.inputElement, 'keyup', this.KeyUp);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.onBlur);\n        EventHandler.remove(this.componentWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.ClearAll);\n    };\n    MultiSelect.prototype.selectAllItem = function (state) {\n        var li;\n        li = this.list.querySelectorAll(state ?\n            'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n            'li[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        var length = li.length;\n        if (li && li.length) {\n            while (length > 0) {\n                this.updateListSelection(li[length - 1], null, length);\n                length--;\n            }\n        }\n        if (this.mode !== 'Box' && !this.isPopupOpen()) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            this.refreshInputHight();\n            this.updateDelimeter(this.delimiterChar);\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ;\n    /**\n     * Dynamically change the value of properties.\n     * @private\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.mainList = null;\n            this.mainData = null;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'value':\n                    if (!this.list) {\n                        this.onLoadSelect();\n                    }\n                    else if (!this.inputFocus) {\n                        this.initialValueUpdate();\n                        if (this.mode !== 'Box') {\n                            this.updateDelimView();\n                        }\n                        this.refreshInputHight();\n                        this.refreshPlaceHolder();\n                        this.updateValueState(null, this.value, oldProp.value);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.overAllWrapper, { 'width': formatUnit(newProp.width) });\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.popupWrapper.classList.remove(oldProp.cssClass);\n                    this.overAllWrapper.classList.remove(oldProp.cssClass);\n                    this.updateCssClass();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                default:\n                    var msProps = void 0;\n                    msProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    break;\n            }\n        }\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     * @returns void\n     */\n    MultiSelect.prototype.hidePopup = function () {\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel };\n            this.trigger('close', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.beforePopupOpen = false;\n            this.overAllWrapper.classList.remove(iconAnimation);\n            this.popupObj.hide(new Animation(eventArgs.animation));\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'clear' });\n            this.popupObj.hide();\n            removeClass([document.body, this.popupObj.element], 'e-popup-full-page');\n            EventHandler.remove(this.list, 'keydown', this.onKeyDown);\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     * @returns void\n     */\n    MultiSelect.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.ulElement) {\n            this.beforePopupOpen = true;\n            _super.prototype.render.call(this);\n            return;\n        }\n        var mainLiLength = this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n        var liLength = this.ulElement.querySelectorAll('li.'\n            + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n        if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === this.mainData.length)) {\n            this.beforePopupOpen = false;\n            return;\n        }\n        this.onPopupShown();\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     * @returns void\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: state ? 'check' : 'uncheck'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state);\n        }\n    };\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    ;\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    MultiSelect.prototype.render = function () {\n        var _this = this;\n        this.initStatus = false;\n        this.setDynValue = false;\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        var iconClass;\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.overAllWrapper.style.width = formatUnit(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0'\n            }\n        });\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': 'true' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        if (this.value && this.value.length) {\n            this.renderPopup();\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate();\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    _this.initialValueUpdate();\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.mode === 'CheckBox' && this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box') {\n            this.updateDelimView();\n        }\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @method destroy\n     * @return {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'aria-placeholder', 'placeholder'];\n        var length = temp.length;\n        while (length > 0) {\n            this.inputElement.removeAttribute(temp[length - 1]);\n            length--;\n        }\n        this.element.style.display = 'block';\n        if (this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n    };\n    ;\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlur, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlur);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    };\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    ;\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (item.className !== 'e-list-group-item ' && item.className !== 'e-list-group-item') {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            var id = item.getAttribute('data-uid');\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.filterParent)) {\n                        append([this.checkAllParent], this.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.filterParent)) {\n                        this.filterParent.parentNode.insertBefore(this.checkAllParent, this.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata')) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            target = !isNullOrUndefined(args.e.target) ?\n                args.e.target.classList.contains('e-frame') ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            target = args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAll(true);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAll(false);\n                this.setLocale();\n            }\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            append([this.filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-owns': this.parent.element.id + '_options',\n                'role': 'listbox',\n                'aria-activedescendant': null,\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.KeyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlur, this);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    ;\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        this.parent.refreshPopup();\n        this.parent.refreshListItems(null);\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n        addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        this.parent.targetInputElement = this.filterInput;\n        this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlur = function (e) {\n        var target;\n        if (this.parent.keyAction) {\n            return;\n        }\n        if (Browser.isIE) {\n            target = !isNullOrUndefined(e) && e.target;\n        }\n        if (!Browser.isIE) {\n            target = !isNullOrUndefined(e) && e.relatedTarget;\n        }\n        if (document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE) {\n            this.filterInput.focus();\n            return;\n        }\n        if (this.parent.scrollFocusStatus) {\n            e.preventDefault();\n            this.filterInput.focus();\n            this.parent.scrollFocusStatus = false;\n            return;\n        }\n        if (document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n            this.parent.inputFocus = false;\n            this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n            this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n        }\n        if (document.body.contains(this.parent.popupObj.element) &&\n            !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n            this.parent.inputFocus = false;\n            this.parent.overAllWrapper.classList.remove(FOCUS);\n            this.parent.trigger('blur');\n            this.parent.focused = true;\n        }\n        if (document.body.contains(this.parent.popupObj.element) &&\n            !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n            this.parent.hidePopup();\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '#' + this.parent.popupObj.element.id)) {\n            e.preventDefault();\n        }\n        if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '#' + this.parent.popupObj.element.id)) &&\n            !this.parent.overAllWrapper.contains(e.target)) {\n            if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                this.parent.inputFocus = false;\n                this.parent.hidePopup();\n                this.parent.onBlur();\n                this.parent.focused = true;\n            }\n        }\n        else {\n            this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.filterInput);\n        }\n        if (!this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n            !this.parent.isPopupOpen()) {\n            this.parent.onBlur(e);\n        }\n        if (this.filterInput === target) {\n            this.filterInput.focus();\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check' && this.checkAllParent.getAttribute('aria-checked') !== 'true') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            var compiledString = void 0;\n            this.selectAllSpan.textContent = '';\n            compiledString = compile(template);\n            for (var _i = 0, _a = compiledString({}); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            var removeEle = this.parent.createElement('div');\n            if (activeLiCount > 0) {\n                append(this.parent.ulElement.querySelectorAll('li.e-active'), ulEle);\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                prepend([ulEle], this.parent.list);\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","queryString","String","fromCharCode","setTimeout","index","toLowerCase","prevString","i","matches","length","classList","contains","activeClass","listItems","strLength","item","innerText","substr","push","Search","inputVal","searchType","undefined","itemData","queryStr","toLocaleLowerCase","itemsData","text","textContent","replace","highlightSearch","element","query","type","ignoreRegex","test","replaceQuery","findTextNode","RegExp","pattern","childNodes","nodeType","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","createInstance","classFunction","params","arrayParam","unshift","Function","prototype","bind","apply","setImmediate","handler","unbind","num","Uint16Array","window","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","data","addEventListener","postMessage","removeEventListener","getValue","nameSpace","obj","value","splits","split","isUndefined","setValue","key","keys","start","fromObj","isNullOrUndefined","deleteObject","isObject","objCon","constructor","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","_i","keys_1","Object","indexOf","Array","isArray","extend","copied","first","second","deep","result","arguments","arguments_1","obj1","forEach","clone","src","copy","getUniqueID","definedName","uid","debounce","eventFunction","delay","out","_this","this","args","later","clearTimeout","queryParams","array","keys_2","encodeURIComponent","join","isObjectArray","parser","toString","call","compareElementParent","child","parent","node","throwError","message","Error","e","stack","print","printWindow","div","createElement","links","slice","getElementsByTagName","reference","open","appendChild","cloneNode","len","outerHTML","write","close","focus","interval","setInterval","ready","clearInterval","formatUnit","getInstance","component","elem","querySelector","instances","_a","inst","addInstance","instance","uniqueID","ret","tagName","properties","SVG_REG","createElementNS","className","id","styles","setAttribute","attrs","attributes","addClass","elements","classes","getClassList","ele","_b","classList_1","add","removeClass","classList_2","remove","isVisible","style","visibility","offsetWidth","prepend","fromElements","toElement","docFrag","createDocumentFragment","insertBefore","firstElementChild","append","detach","removeChild","EventHandler","clearEvents","select","selector","context","selectAll","closest","el","siblings","childNodes_1","curNode","Node","ELEMENT_NODE","getAttributeOrDefault","property","attrVal","getAttribute","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","getComponent","comp","ej2_instances","getModuleName","getObject","curKey","defaultValue","hasOwnProperty","getObjectArray","isSetter","isFactory","curType","setProperties","propertyGetter","propertySetter","newValue","oldVal","saveChanges","complexGetter","complexSetter","complexFactoryGetter","complexFactorySetter","complexArrayGetter","defCollection","complexArraySetter","oldValueCollection","newValCollection","complexArrayFactorySetter","complexArrayFactoryGetter","Property","target","propertyDescriptor","set","get","enumerable","configurable","defineProperty","addPropertyCollection","Complex","ComplexFactory","Collection","CollectionFactory","Event","eventDescriptor","oldValue","finalContext","getParentContext","prefix","NotifyPropertyChanges","classConstructor","propertyType","propList","props","complexProps","colProps","events","propNames","complexPropNames","colPropNames","eventNames","propertyName","getBuilderProperties","builderObject","propCollections","isPropertyArray","rex","_c","prop","childType","tempValue","CreateBuilder","builderFunction","create","temp","curText","rippleEffect","rippleOptions","done","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","Browser","isPointer","removeAttribute","ignore","isCenterRipple","duration","offset","getBoundingClientRect","offsetX","pageX","body","scrollLeft","offsetY","pageY","scrollTop","documentElement","Math","max","abs","left","right","top","bottom","radius","sqrt","diameter","x","y","rippleElement","getComputedStyle","getPropertyValue","transform","removeRipple","eventArgs","rippleElements","opacity","getElementsByClassName","enableRipple","isRipple","setCulture","cultureName","defaultCulture","onIntlChange","notify","locale","setCurrencyCode","currencyCode","defaultCurrencyCode","loadCldr","data_1","cldrData","enableRtl","status","rightToLeft","getNumericObject","numObject","IntlBase","getDependables","mapper","dateObject","numSystem","symbPattern","getSymbolPattern","getFormatData","dateSeparator","getDateSeparator","getDefaultDateObject","compile","template","helper","fnCode","evalExp","str","varCOunt","localKeys","LINES","DBL_QUOTED_STR","exp","match","cnt","matchStr","CALL_FUNCTION","rlStr","ELSEIF_STMT","WORD","trim","addNameSpace","QUOTES","IF_STMT","strs","FOR_STMT","rlStr_1","mtc","fnStr","fNameSpace","ELSE_STMT","IF_OR_FOR","addNS","ignoreList","NOT_NUMBER","templateString","compiler","engineObj","propName","HAS_SVG","HAS_ROW","setTemplateEngine","classObj","getTemplateEngine","wrapperInitialize","tag","WRAPPER","role","input","ejInstance","nodeName","nodeValue","class","aria-checked","getTextNode","childnode","destroy","ejInst","wrapper","checked","preRender","proxy","control","moduleName","createCheckBox","options","cssClass","rippleSpan","frameSpan","label","labelSpan","rippleMouseHandler","event_1","createEvent","initEvent","dispatchEvent","getFieldValues","dataItem","fields","fieldData","isHeader","dataField","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","tempAnchor","offsetParent","position","offsetLeft","offsetTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","popupRect","fixedParent","parentDocument","ownerDocument","pos","updatePosition","setPosx","setPosy","posX","posY","elementRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","getBodyScrollLeft","height","width","fit","viewPortElement","axis","X","Y","elemData","targetContainer","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","elemOffset","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","flip","tEdge","TL","TR","BL","BR","eEdge","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parentStyle","overflow","overflowY","overflowX","getZindexPartial","parentZindex","defaultView","childrenZindex","children","isEqualNode","siblingsZindex","finalValue","concat","currentZindexValue","getMaxZindex","maxZindex","i_1","createSpinner","internalCreateElement","makeElement","container","create_spinner_container","wrap","spinTemplate","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","CLS_SPINTEMPLATE","replaceContent","spinCSSClass","CLS_HIDESPIN","labelEle","CLS_SPINLABEL","createMaterialSpinner","random_generator","globalTimeOut","timeOut","create_material_element","mat_calculate_attributes","startMatAnimate","globalObject","globalVariables","animateMaterial","globalInfo","timeOutVar","createFabricSpinner","create_fabric_element","CLS_FABRICSPIN","fb_calculate_attributes","createHighContrastSpinner","CLS_HIGHCONTRASTSPIN","innerContainer","CLS_SPININWRAP","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","CLS_BOOTSPIN","firstChild","bootCircle","CLS_SPINCIRCLE","defaultRadius","startArc","defineArcPoints","circleEle","generateSeries","begin","stop","formSeries","series","end","count","increment","parseFloat","toFixed","animateBootstrap","circle","boot_animate","isAnimate","defaultSize","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","previousId","random","combine","charAt","floor","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","CLS_SPINARC","svgMaterial","CLS_MATERIALSPIN","matCirclePath","spinnerContainer","CLS_SPINWRAP","spinnerInnerContainer","spinnerInfo","createCircle","easeAnimation","easing","mat_animation","currentTime","min","Date","getTime","startTime","updatePath","change","path","getDashOffset","strokeSize","getSize","getStrokeSize","rotate","transformOrigin","drawArc","PI","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","defineCircle","defineArc","angle","radians","cos","sin","endArc","showSpinner","showHideSpinner","isHide","spinnerWrap","inner","CLS_SHOWSPIN","svgEle","hideSpinner","setSpinner","ensureTemplate","makeEle","replaceTheme","svgElement","createMask","autocomplete","autocorrect","autocapitalize","spellcheck","aria-live","aria-valuenow","mask","splitMask","splitInnerMask","j","pushIntoRegExpCollec","chkSpace","customRegExpCollec","hiddenMask","promptChar","escapeMaskValue","promptMask","customCharacters","escapeNumber","substring","aria-invalid","applyMask","setElementValue","setMaskValue","wireEvents","maskInputKeyDownHandler","maskInputKeyPressHandler","maskInputKeyUpHandler","maskInputHandler","maskInputFocusHandler","maskInputBlurHandler","maskInputPasteHandler","maskInputCutHandler","maskInputDropHandler","enabled","bindClearEvent","unwireEvents","showClearButton","inputObj","clearButton","resetHandler","preventDefault","clear","redoCollec","startIndex","selectionStart","endIndex","selectionEnd","triggerMaskChangeEvent","setSelectionRange","unstrippedValue","strippedValue","maskValues","k","checkMask","maskValue","regExpCollec","focusEventArgs","trigger","isFocus","isDevice","info","version","isIos","placeholder","floatLabelType","labelElement","TOPLABEL","sIndex_1","eIndex_1","oldValue_1","_callPasteHandler","maskKeyPress","validateValue","preValue_1","sIndex_2","eIndex","undoCollec","value_1","isIE","ctrlKey","removeMaskInputValues","addedValues","preEleVal","val","prevValue","startValue","collec","splice","mobileRemoveFunction","sIndex","autoFillMaskInputValues","isRemove","oldEventVal","isDeleted","initStartIndex","initEndIndex","curMask","multipleDel","preValue","prompt_1","elementValue","code","isIosInvalid","changeEventArgs","isInitial","maskedValue","isInteraction","removeMaskError","val_1","startIndex_1","isSpace","isAndroid","preventUnsupportedValues","temp_1","mobileSwipeCheck","mobileValidation","isCtrlKey","eventOldVal","allowText","prevSupport","isEqualVal","keyValue","customValArr","applySupportedValues","addMaskErrorClass","changeToLowerUpperCase","sIdx","idx","ctrl","chkSupport","timer","INPUTGROUP","FLOATINPUT","ERROR","curVal","caseCount","toUpperCase","newVal","BOTTOMLABEL","Input","maskInput","inputEle","getMaskInput","UTILMASK","regularExpressions","getVal","getUtilMaskEle","getMaskedVal","getModel","model","createFloatLabel","overAllWrapper","searchWrapper","inputElement","floatLinelement","floatLabelElement","FLOATLINE","FLOATTEXT","aria-labelledby","updateFloatLabelState","LABELBOTTOM","LABELTOP","removeFloating","componentWrapper","placeholderText","placeholderElement","floatLine","setPlaceHolder","floatLabelFocus","floatLabelBlur","headerRegex","defaultType","Ajax","async","contentType","mode","emitError","url","send","cancel","Promise","resolve","reject","httpRequest","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onload","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","setRequestHeader","beforeSend","successHandler","onSuccess","failureHandler","reason","onFailure","responseText","dataType","JSON","parse","error","readyState","statusText","getResponseHeader","responseHeaders","header","headers","exec","getAllResponseHeaders","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","name","some","copyData","shift","eventProp","eventData_1","Observer","ranArray","boundedEvents","on","cntxt","notExist","isHandlerPresent","off","curObject","indexLocation","argument","curObject_1","cur","boundedEvents_1","Base","isProtectedOnChange","changedProperties","oldProperties","refreshing","finalUpdate","childChangedProperties","modelObserver","isDestroyed","muteOnChange","prevDetection","dataBind","callChildDataBind","obj_1","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","moduleClass","filter","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","extractBrowserDetail","browserInfo","culture","clientInfo","userAgent","language","navigator","getEvent","isTouch","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","uA","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","__extends","extendStatics","setPrototypeOf","__proto__","d","b","p","__","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","Animation","_super","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","elements_1","element_1","delayAnimation","animation","animationId","frameId","parseInt","cancelAnimationFrame","applyAnimation","timeStamp","step","timerId","prevTimeStamp","startAnimation","avg","timingFunction","progress","requestAnimationFrame","performance","now","fail","newProp","oldProp","CanvasRenderer","rootID","rootId","getOptionValue","createCanvas","canvasObj","ctx","getContext","setCanvasSize","getElementById","size","setAttributes","lineWidth","dashArray","dashArrayString","setLineDash","strokeStyle","drawLine","save","beginPath","stroke","moveTo","x1","y1","lineTo","x2","y2","restore","dataUrl","toDataURL","drawRectangle","canvasCtx","cornerRadius","rx","globalAlpha","rect","drawCornerRadius","fill","fillStyle","fillRect","arcTo","closePath","drawPath","canvasTranslate","dataSplit","borderWidth","flag","translate","innerR","cx","c1","c2","c3","c4","bezierCurveTo","arc","counterClockWise","cy","drawText","fontWeight","fontSize","fontFamily","font","textAlign","baseline","textBaseline","labelRotation","fillText","drawCircle","drawPolyline","points","point","drawEllipse","circumference","ry","scaleX","scaleY","scale","drawImage","imageObj","Image","href","createLinearGradient","colors","myGradient","colorStop","setGradientValues","createRadialGradient","colorName","color","newColorStop","stopColor","addColorStop","setElementAttributes","values","map","updateCanvasAttributes","img_1","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clean","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","modules","usedModules","arg","removableModule_1","mod","ChildProperty","parentObj","controlParent","isParentArray","updateChange","updateTimeOut","changeTime_1","clearUpdate","curIndex","defaultNumberingSystem","latn","_digits","_type","defaultNumberSymbols","decimal","group","percentSign","plusSign","minusSign","infinity","nan","exponential","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","res","propKeys_1","getSymbolRegex","regexStr","getSymbolMatch","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","errorText","ms","ls","mf","lf","NumberFormat","numberFormatter","option","cldr","symbolPattern","fOptions","cOptions","dOptions","dependable","base","numberMapper","parserObject","currencySymbol","getCurrencySymbol","numericObject","currency","percentSymbol","minusSymbol","symbols","formatRegex","format","customFormat","getProperNumericSkeleton","isCurrency","isPercent","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","useGrouping","defaultCurrency","nData","pData","groupSeparator","groupData","getGroupingDetails","minimumFraction","mval","maximumFraction","mfrac","lfrac","isNaN","isFinite","intNumberFormatter","negativeDataRegex","pattern_1","lastIndexOf","primary","s","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","range","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","latnParseRegex","nlead","nend","toPrecision","level1","sep","decimalSymbol","level2","lead","getResultantPattern","skeleton","resPattern","iType","basicPatterns","dPattern","tPattern","defaultObject","patternMatcher","needFraction","cSymbol","fractionOnly","customRegex","changeCurrencySymbol","groupPattern","fraction","fmatch","fractionRegex","sym","formatSplit","customNumberFormat","integerPart","fractionPart","isCurrencyPercent","parts","actual","symbol","part","loc","typeMapper","dateObj","getActualDateTimeFormat","isExcelFormat","actualPattern","patternRegex","patternMatch","tLength","timeZonePattern","options_1","timeZone","numMapper","timezone","getTimezoneOffset","hourFormat","gmtZeroFormat","DateFormat","getTimeZoneValue","gmtFormat","getActualNumberFormat","minFrac","parseOptions","custom","curMatch","currencyFormatRegex","curCode","hasNegativePattern","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","cPattern","minDigits","maxDigits","a","diff","integer","no","getWeekData","firstDay","defaultFirstDay","iCulture","firstDayMapper","G","M","L","H","'"," a","yy","EEEE","E","sun","mon","tue","wed","thu","fri","sat","curWithoutNumberRegex","$","%","-","0","1","dateParseRegex","dates","calendars","gregorian","months","stand-alone","abbreviated","2","3","4","5","6","7","8","9","10","11","12","narrow","wide","days","short","dayPeriods","am","pm","eras","eraNames","0-alt-variant","1-alt-variant","eraAbbr","eraNarrow","dateFormats","full","long","medium","timeFormats","dateTimeFormats","availableFormats","Ed","Ehm","EHm","Ehms","EHms","Gy","GyMMM","GyMMMd","GyMMMEd","h","hm","Hm","hms","Hms","hmsv","Hmsv","hmv","Hmv","Md","MEd","MMM","MMMd","MMMEd","MMMMd","yM","yMd","yMEd","yMMM","yMMMd","yMMMEd","yMMMM","timeZoneNames","numbers","currencies","USD","displayName","symbol-alt-narrow","EUR","GBP","minimumGroupingDigits","symbols-numberSystem-latn","list","superscriptingExponent","perMille","decimalFormats-numberSystem-latn","standard","percentFormats-numberSystem-latn","currencyFormats-numberSystem-latn","accounting","scientificFormats-numberSystem-latn","monthIndex","month","C","P","N","A","lastPageID","weekdayKey","timeSetter","m","datePartMatcher","z","Z","dateFormat","formatOptions","dateSeperator","patternMatch_1","char","weekday","designator","eText","era","getDate","intDateFormatter","matches_1","length_1","curval","processNumber","curstr","getMonth","getDay","getFullYear","desig","getHours","dec","checkTwodigitNumber","tVal","curPattern","ishour","latnRegex","minute","hour","day","DateParser","dateParser","hourOnly","numOptions","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","canUpdate","charKey","optional","weekObject","hour12","tzone","hpattern","parseTimeZoneRegx","parserRegex","parsedDateParts","internalDateParse","getDateObject","setMilliseconds","tKeys","year","setFullYear","tKeys_1","tValue","pDate","setDate","lDate","lastDay","setHours","tzValue","setMinutes","getMinutes","retOptions","props_1","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","NumberParser","numberParser","symbolRegex","symbolpattern","getParsedNumber","isNegative","Infinity","NaN","exponent","Internationalization","getDateFormat","getCulture","getNumberFormat","getDateParser","getNumberParser","formatNumber","formatDate","parseDate","parseNumber","getDatePattern","getNumberPattern","getFirstDayOfWeek","componentCount","lastHistoryLen","Component","randomId","needsID","moduleLoader","localObserver","detectFunction","appendTo","enablePersistence","setPersistData","refresh","injectModules","render","mergePersistData","event_2","getInjectedModules","injectedModules","Inject","localStorage","getItem","setItem","getPersistData","clearTemplate","templateName","isHistoryChanged","pageID","location","history","hash","charCodeAt","addOnPersist","persistObj","objValue","getActualProperties","stringify","ignoreOnPersist","iterateJsonProperties","newObj","this_1","newList","ListBase","defaultPosition","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","padding","diffX","diffY","droppables","toggleEvents","scope","isUnWire","handle","initialize","evt","currentTarget","abort","changedTouches","intCoord","getCoordinates","initialPosition","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","calculateParentPosition","getMousePosition","distance","getHelperElement","dragTargetElement","helperElement","parentClientRect","dragStart","curTarget","getProperTargetElement","dragArea","setDragArea","enableTailMode","posValue","getProcessedPositionValue","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetHeight","pageYOffset","pageXOffset","queryPositionInfo","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","dragData","intOver","hoverObject","intOut","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","dragValue","enableAutoScroll","scrollIntoView","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","display","elementFromPoint","clientX","clientY","cursorAt","sender","reset","draggable","draggedElement","dropIns","getDropInstance","drop","eleInst","eleInst_1","Droppable","mouseOver","area","accept","isDrag","isDropArea","canDrop","droppedElement","coord","backspace","tab","enter","alt","pause","capslock","space","escape","pageup","pagedown","home","leftarrow","uparrow","rightarrow","downarrow","insert","delete","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","semicolon","plus","comma","minus","dot","forwardslash","graveaccent","openbracket","backslash","closebracket","singlequote","KeyboardEvents","keyPressHandler","isAltKey","altKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","action","keyAction","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","load","localeObject","getConstant","SvgRenderer","svgLink","createSvg","svgObj","setSVGSize","line","rectangle","polyline","ellipse","drawPolygon","polygon","img","setAttributeNS","preserveAspectRatio","createText","createTSpan","tSpan","createTitle","title","createDefs","createClipPath","clipPath","createForeignObject","foreignObject","createGroup","createPattern","newOptions","fx","fy","drawGradient","gradientType","defs","gradient","stop_1","drawClipPath","drawCircularClipPath","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","timeOutTapHold","tapHoldEvent","tapHoldThreshold","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","eTapArgs","pnt","newX","newY","newT","xDist","yDist","Engine","Query","from","subQuery","isChild","distincts","queries","fKey","fromTable","lookups","expands","sortedColumns","groupedColumns","setKey","field","using","dataManager","execute","always","executeQuery","DataUtil","executeLocal","cloned","subQuerySelector","isCountRequired","tableName","addParams","fn","distinct","expand","tables","where","fieldName","operator","ignoreAccent","predicate","Predicate","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sorts","order","endsWith","fnSort","filterQueries","direction","sortByDesc","page","pageIndex","pageSize","take","nos","skip","hierarchy","selectorFn","foreignKey","requiresCount","aggregate","q","filterQueryLists","singles","filtered","isComplex","processOperator","condition","predicates","and","combinePredicates","or","fromJson","json","fromJSONData","pred","validate","record","isAnd","toJson","preds","consts","GroupGuid","startsWith","fnAscending","fnDescending","localeCompare","extractFields","jsonArray","newData","aggregates","level","groupDs","jsonData","indx","childLevels","grouped","groupedArray","records","this_2","tempObj","aggs","buildHierarchy","lookup","pKey","grp","fKeyData","getFieldList","copyObj","sort","ds","middle","ignoreDiacritics","diacritics","callAdaptorFunction","adaptor","fnName","param1","param2","getAddParams","adp","dm","req","reqParams","isPlainObject","isCors","xhr","getGuid","rand","arr","Uint8Array","isNull","getItemFromComparer","castRequired","requiresCompleteRecord","tmp","serverTimezoneOffset","sum","average","truecount","DataManager","falsecount","operatorSymbols","<",">","<=",">=","==","!=","*=","$=","^=","odBiOperator","lessthan","lessthanorequal","greaterthan","greaterthanorequal","equal","notequal","odUniOperator","endswith","startswith","odv4UniOperator","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","expected","notnull","isnull","processSymbols","parseJson","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","dupValue","dateParse","toTimeZone","isJson","isGuid","replacer","jsonReplacer","arrayReplacer","keys_3","addSelfOffset","toJSON","date","toUTC","utc","unix","toLocalTime","datefn","differenceString","localtimefn","norm","getSeconds","Adaptor","requestType","dataSource","pvt","processResponse","JsonAdaptor","processQuery","countFlg","agg","batchRequest","changes","deletedRecordsLen","deletedRecords","addedRecords","changedRecords","update","onWhere","onAggregates","onSearch","onSortBy","fnCompare","onGroup","aggQuery","onPage","onRange","onTake","onSkip","onSelect","keyField","UrlAdaptor","hierarchyFilters","getQueryRequest","request","groups","filters","searches","getFiltersFrom","getRequestQuery","pvtData","convertToQueryString","request1","selects","requests","getAggregateResult","original","batchUrl","crudUrl","removeUrl","changed","added","deleted","table","insertUrl","keyColumn","updateUrl","predicats","aggregateData","groupQuery","ODataAdaptor","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","updateType","onPredicate","requiresCast","guid","returnValue","getField","onComplexPredicate","onEachWhere","onEachSearch","onEachSort","reverse","onCount","settings","overrideMimeType","dataCopy","results","emptyAndBatch","processBatchResponse","versionCheck","requiresFormat","keys_4","localTimeReplacer","convertObj","localTime","compareAndRemove","initialGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","stat","method","generateBodyContent","org","o","cIdx","jsonObj","exVal","changeGuid","valueOf","ODataV4Adaptor","getModulename","isDate","onExpand","selected","expanded","exArr","ex","onDistinct","distinctFields","WebApiAdaptor","Count","Items","WebMethodAdaptor","param","RemoteSaveAdaptor","updateKey","CacheAdaptor","isCrudAction","isInsertAction","cacheAdaptor","guidId","forDel","requestTime","removeItem","generateKey","currentFilter","newQuery","cachedItems","crossDomain","offline","timeTillExpiration","cachingPageSize","enableCaching","jsonp","defaultQuery","isDataAvailable","then","setDefaultQuery","deffered","Deferred","nextTick","getDeferedArgs","makeRequest","promise","extendRequest","fnSuccess","fnFail","cache","processData","isSelector","process","virtualSelectRecords","fnQueryChild","subDeffer","childArgs","subUrl","childReq","subData","virtualRecords","ajax","catch","all","pResult","cResult","deff","doAjaxRequest","defer","cssClassName","RTL","BUTTON","PRIMARY","ICONBTN","Button","isPrimary","setIconCss","disabled","controlStatus","removeRippleEffect","iconCss","span","iconPosition","isToggle","btnClickHandler","unWireEvents","RIPPLE","CheckBox","isKeyPressed","changeState","state","ariaState","getWrapper","indeterminate","clickHandler","focusOutHandler","focusHandler","setDisabled","initWrapper","for","labelPosition","setText","keyDownHandler","labelMouseHandler","mouseDownHandler","labelWrap","RadioButton","RadioButton_1","changeHandler","radioGrp","radioWrap","getLabel","nextElementSibling","labelRippleHandler","textLabel","rippleLabel","Switch","bar","onLabel","offLabel","setLabel","switchInner","rippleTouchHandler","eventType","onText","offText","switchFocusHandler","switchMouseUp","toggle","li","ul","icon","check","hasChild","collapsible","image","iconWrapper","createList","isSingleLevel","curOpt","defaultListBaseOptions","ariaAttributes","defaultAriaAttributes","typeofData","typeof","createListFromArray","createListFromJson","generateUL","createListItemFromArray","subChild","getModuleClass","generateId","itemCreating","generateSingleLevelLI","generateLI","itemCreated","createListItemFromJson","defaultMappedFields","curItem","innerEle","showCheckBox","showIcon","itemClass","tooltip","htmlAttributes","imageUrl","attr","imageAttributes","processSubChild","listClass","getSiblingLI","elementArray","isPrevious","siblingLI","liIndex","liCollections","groupDataSource","sortOrder","curFields","cusQuery","groupBy","getDataSource","addSorting","itemObj","grpItem","createJsonFromElement","curEle","jsonAr","childs","hasChildNodes","attributes_1","getAllAttributes","urlAttributes","elementAttributes","renderContentTemplate","ulElement","compiledString","liCollection","renderGroupTemplate","groupTemplate","headerItems","category","headerItems_1","headerData","subDS","hasChildren","subLi","expandCollapse","expandIconPosition","expandIconClass","innerElements","grpLI","elementID","groupItemRole","itemRole","anchorTag","uID","innerDiv","wrapperRole","itemText","liElement","listRole","generateIcon","isChecked","headerTemplate","DialogUtility","effectsConfig","None","SlideLeft","SlideDown","Zoom","Fade","effectsRTLConfig","classNames","root","hover","focused","parentItem","listItem","listIcon","listItemText","groupListItem","view","headerText","headerTemplateText","disable","backIcon","checkboxWrapper","checkbox","checklist","checkboxIcon","checkboxRight","checkboxLeft","listviewCheckbox","itemCheckList","FieldSettings","ListView","setHTMLAttribute","setCSSClass","setEnable","setSize","setEnableRTL","listBaseOption","enableVirtualization","virtualizationModule","reRenderUiVirtualization","reRender","curDSLevel","headerTitle","contentContainer","setCheckbox","curViewDS","getSubDS","resetCurrentList","oldCSSClass","css","isWindow","enableElement","enable","isEnabled","showBack","headerEle","showHeader","innerHeaderEle","textEle","hedBackButton","headerTemplateEle","switchView","fromView","toView","fPos_1","overflow_1","anim","effect","aniObj","curUL","renderCheckbox","initialization","animateOptions","currentLiElements","isNestedList","selectedData","selectedId","isValidLI","checkboxElement","frameElement_1","checkInternally","checkBoxPosition","checkItem","toggleCheckBase","HTMLLIElement","getLiFromObjOrElement","setSelectedItemData","uncheckItem","checkAllItems","toggleAllCheckBase","uncheckAllItems","checkIcon","checkedItem","args_1","getItemData","removeElement","selectedItems","back","removeFocus","selectEventData","removeHover","removeSelect","setSelectLI","setCheckboxLI","hoverHandler","curLi","setHoverLI","leaveHandler","homeKeyHandler","focusedElement","onArrowKeyDown","prev","arrowKeyHandler","elementTop","elementHeight","firstItemBounds","heightDiff","groupItemBounds","siblingTop","siblingHeight","scrollTo","uiFirstIndex","onUIScrolled","listItemHeight","topHeight","headerBounds","enterKeyHandler","spaceKeyHandler","keyActionHandler","tabFocus","swipeActionHandler","focusout","activeElement","touchModule","swipe","focusedLI_1","hoverLI","selectedLI_1","renderSubList","isInteracted","selectedLI","lastLi","levelKeys","localData","levelKeys_1","curDSJSON","findItemFromDS","curDS","getElementUID","resultJSON","getQuery","columns","column","setViewDataSource","isInAnimation","setLocalData","renderList","renderIntoDom","isNgTemplate","createUIItem","uiVirtualization","Element","tabindex","rippleFn","classAr","pID","pop","toUL","fromUL","selectItem","selectMultipleItems","getParentId","parentId","getSelectedItems","liTextCollection","liDataCollection","dataParent","tempData","findItem","enableItem","setItemState","disableItem","isEnable","showItem","showHideItem","hideItem","addItem","addListItem","removeItemFromList","groupLi","previousElementSibling","dsIndex","removeMultipleItems","Virtualization","listViewInstance","templateRef","firstDs","expectedDomItemCount","ValidateItemCount","domItemCount","uiLastIndex","wireScrollEvent","otherDs","topElement","bottomElement","totalHeight","topElementHeight","bottomElementHeight","listDiff","uiIndicesInitialization","onVirtualScroll","onVirtualUiScroll","dataSourceLength","itemCount","round","uiIndices","activeIndices","disabledItemIndices","hiddenItemIndices","viewContainerRef","_embeddedViews","getscrollerHeight","startingHeight","scrollPosition","scroll","onLongScroll","onNormalScroll","isScrollingDown","updateUI","nextSibling","updateUiContent","curViewDs","dataset","checkListWrapper","changeElementAttributes","checklistElement","activeIndex","findDSAndIndexFromId","dataCollection_1","textCollection_1","curViewDS_1","curViewDS_2","text_1","resutJSON","isSelected","removeUiItem","addUiItem","changeUiIndices","liItem","lastElementChild","previousSibling","commonTemplate","templateElements","groupTemplateElements","templateData","nodes","flatTemplateNodes","groupTemplateNodes","compileTemplate","textProperty","classProperty","attributeProperty","onChange","listElement","updateContextData","regexMatch","resultantOutput","classNameMatch","subNode","bindedvalue","attributeNames","attributeName","attributeNameFunction","attributeValueFunction","attrNameMatch","attrValueMatch","subNode_1","attrName","attributeValue","isChildHasTextContent","textPropertyMatch","textFunction","targetElement","onNgChange","$implicit","dropDownBaseClasses","rtl","noData","fixedHead","ListBaseClasses","grouping","DropDownBase","getPropObject","newProperty","oldProperty","getValueByText","listData","checkValueCase","isTextByValue","typeOfData","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","textItem","typedText","getFormattedValue","l10nUpdate","actionFailure","noRecordsTemplate","actionFailureTemplate","l10nLocale","l10n","getTextByValue","setEnableRtl","enableRtlElements","bindEvent","jsonElement","resetList","renderItemsBySelect","setListData","setEnabled","getJSONfromOption","optionGroup","scrollTimer","isRequested","isDataFetched","isActive","emptyDataRequest","renderItems","onActionComplete","onActionFailure","localDataArgs","postRender","focusItem","selectedItem","listEle","createListItems","getSortedDataSource","listOption","fieldValues","setFloatingHeader","fixedHeaderElement","setFixedHeader","zIndex","scrollStop","liHeight","topIndex","currentLi","itemTemplate","templateListItem","liWidth","firstLi","textField","getIndexByValue","getItems","setFields","updateSelection","updateDataSource","setUpdateInitial","updateData","setZIndex","isEmptyData","rippleFun","wrapperElement","itemIndex","itemsCount","selectedItemValue","updateActionCompleteData","tempLi","validationAttribute","hidden","getDataByValue","PositionData","CLASSNAMES","ROOT","OPEN","CLOSE","Popup","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","orientationOnChange","getRelateToElement","scrollRefresh","parent_2","relateToElement","relateTo","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","scrollElement","parent_3","isElementVisible","checkGetBoundingClientRect","win","windowView","scrollY","scrollX","outerWidth","outerHeight","elementView","parent_4","reposition","collision","checkFixedParent","checkCollision","getAnchorPosition","anchorEle","eleRect","anchorRect","targetType","callFlip","callFit","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","showAnimation","hideAnimation","ButtonProps","AnimationSettings","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","Dialog","initRender","headerContent","classArray","clonedEle","closeIconClickEventHandler","dlgOverlayClickEventHandler","localeText","prevOnChange","keyDown","isModal","buttonObj","btnObj","focusableElements","isTagName","isContentEdit","hasAttribute","closeOnEscape","primaryButtonEle","buttonIndex_1","buttons","buttonModel","click","targetEle","setMaxHeight","initialRender","setzIndex","calculatezIndex","setTargetContent","setHeader","showCloseIcon","renderCloseIcon","footerTemplate","setButton","setFooterTemplate","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","focusContent","dlgOverlay","unBindEvent","closeArgs","storeActiveElement","positionChange","setOverlayZindex","visible","zIndexValue","setPopupPosition","dragObj","buttonContent","buttonType","btn","ftrTemplateContent","aria-describedby","contentEle","innerContentElement","HTMLElement","setTemplate","maxHeight","isContent","createHeaderContent","closeIcon","closeIconBtnObj","DLG_CLOSE_ICON","closeIconTitle","getValidFocusNode","u","clientHeight","tabIndex","disableElement","getAutoFocusNode","validNode","t","elementMatch","updateIsModal","setPopupZindex","isFullScreen","fullScreen","openAnimation","animationSettings","dialogOpen","closeAnimation","getButtons","alert","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","formOptions","setAlertButtonModel","setConfirmButtonModel","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","Tooltip","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","ARROW_TIP","tipClass","ARROW_TIP_OUTER","ARROW_TIP_INNER","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","tooltipEventArgs","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","isSticky","tipClose","ICON","onStickyClose","addDescribedBy","describedby","data-tooltip-id","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","targetList_1","ctrlId","target_1","restoreElement","showTooltip","wireMouseEvents","showTimer","hideTimer","isHidden","TOOLTIP_WRAP","aria-hidden","maxWidth","PopupAnimation","openDelay","horizontal","vertical","affectedPos","newpos","collidedPosition","eleOffset","arrowleft","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","touches","colpos","touchEnd","scrollHandler","opensOn","triggerList_1","getTriggerList","wireFocusEvents","tapHold","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","findTarget","DISABLE","INPUT","CLEARICON","CLEARICONHIDE","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","createInput","inputObject","createInputContainer","createFloatingInput","getParentNode","setClearButton","appendSpan","setPropertyValue","_focusFn","_blurFn","wireFloatingEvents","unwireFloatingEvents","customTag","updateLabelState","setCssClass","setPlaceholder","setReadonly","readonly","updateIconState","button","createClearButton","initial","insertAdjacentElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","oldClass","aria-placeholder","isReadonly","isRtl","inputContainer","disabledAttrs","aria-disabled","considerWrapper","removeAttributes","addAttributes","isClear","addFloating","iconEle","floatText","setRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","iconClass","ErrorOption","SPINICON","INTREGEXP","NumericTextBox","isPrevFocused","decimalSeparator","intRegExp","isCalled","cloneElement","angularTagName","incrementTitle","decrementTitle","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","checkAttributes","validateMinMax","validateStep","updatePlaceholder","createWrapper","showSpinButton","spinBtnCreation","changeValue","strictMode","trimValue","decimals","roundNumber","inputWrapper","aria-readonly","hiddenInput","validateHidden","spinDown","aria-label","spinUp","wireSpinBtnEvents","MAX_VALUE","formattedValue","aria-valuemin","aria-valuemax","operation","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","focusIn","focusOut","keyUpHandler","inputHandler","pasteHandler","mouseDownOnSpinner","mouseUpOnSpinner","touchMoveOnSpinner","unwireSpinBtnEvents","parsedInput","updateValue","previousValue","beforeUpdate","preventHandler","iOS","platform","currentPos","prevPos","ignoreKeyCode","valArray","prevVal","nextEle","cursorPosChanged","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","stepCount","roundValue","precision","divide","pow","updateCurrency","propVal","numberOfDecimals","decimalPart","modifyText","validateState","result1","result2","metaKey","currentChar","stopPropagation","fractionRule","validateDecimalOnType","mouseWheel","delta","rawEvent","wheelDelta","detail","formatValue_1","ele_1","focusEvent","getElementData","mouseUpClick","floatLabelTypeUpdate","decrement","getText","keyEntity","propValue","#","?","&","MaskUndo","MaskedTextBox","resetMaskedTextBox","setMaskPlaceholder","setWidth","blur","setVal","dynamicPlaceholder","strippedValue_1","strippedVal","getMaskedValue","TicksData","LimitData","TooltipData","sliderHiddenInput","controlWrapper","sliderHandle","rangeBar","sliderButton","firstButton","secondButton","tick","large","tickValue","sliderTooltip","sliderHover","sliderFirstHandle","sliderSecondHandle","sliderDisabled","sliderContainer","horizontalTooltipBefore","horizontalTooltipAfter","verticalTooltipBefore","verticalTooltipAfter","materialTooltip","materialTooltipOpen","materialTooltipActive","materialSlider","sliderTrack","sliderHandleFocused","verticalSlider","horizontalSlider","sliderHandleStart","sliderTooltipStart","sliderTabHandle","sliderButtonIcon","sliderSmallSize","sliderTickPosition","sliderFirstTick","sliderLastTick","sliderButtonClass","sliderTooltipWrapper","sliderTabTrack","sliderTabRange","sliderActiveHandle","sliderMaterialHandle","sliderMaterialRange","sliderMaterialDefault","materialTooltipShow","materialTooltipHide","limits","limitBarDefault","limitBarFirst","limitBarSecond","dragHorizontal","dragVertical","Slider","horDir","verDir","transition","transitionOnMaterialTooltip","scaleTransform","customAriaText","isElementFocused","tickElementCollection","tooltipFormatInfo","ticksFormatInfo","internationalization","ticks","formatString","formatInfo","formatValue","makeRoundNumber","elementVal","fractionalToInteger","noOfDecimals","tens","setZindex","tooltipElement","firstTooltipElement","secondTooltipElement","showOn","isMaterial","isBootstrap","setHandler","createRangeBar","createLimitBar","setOrientClass","showButtons","setButtons","rangeValueUpdate","previousVal","checkHandleValue","previousChanged","setLimitBar","placement","renderScale","renderTooltip","orientation","firstElementClassName","firstHandle","secondHandle","setAriaAttributes","customValues","createSecondHandle","secondMaterialHandle","createFirstHandle","firstMaterialHandle","wireFirstHandleEvt","handleFocus","transitionEnd","handleOver","handleLeave","wireSecondHandleEvt","handleStart","activeHandle","handlePos1","handlePos2","getHandle","tooltipObj","firstTooltipObj","secondTooltipObj","refreshTooltip","openMaterialTooltip","tooltipAnimation","closeTooltip","handleFocusOut","tooltipValue","preDir","setTooltipContent","addTooltipClass","setAriaAttrValue","formatContent","handleVal1","ariaContent","handle1","handle2","handleVal2","count_1","getTooltipTransformProperties","previousTooltipClass","tooltipPlacement","tooltipPosition","tooltipBeforeOpen","transformProperties","bootstrapCollisionArgs","wireMaterialTooltipEvent","sliderDown","tooltipPositionCalculation","cursor","checkTooltipPosition","firstHandleTooltipPosition","secondHandleTooltipPosition","tooltipClass","tooltipPointer","beforeOpen","beforeCollision","afterClose","tooltipAfterClose","firstBtn","secondBtn","buttonTitle","enabledRTL","buttonFocusOut","repeatButton","openTooltip","hVal","handleValueUpdate","getLimitCorrectedValues","changeHandleValue","refreshTooltipOnMove","repeatHandlerMouse","buttonClick","repeatInterval","materialChange","repeatHandlerUp","changeEvent","customTickCounter","bigNum","tickCount","orien","smallStep","showSmallTicks","largeStep","steps","customStep","islargeTick","tickWidth","largestep","repeat","createTick","formatTicksValue","decimalPoints","tickesAlignment","lastChild","ticksWrapper","tickElements","scaleAlignment","tickText","tickElement","tickValuePosition","other","otherChild","ariaValueText","isTickFormatted","valuenow","aria-valuetext","getLimitValueAndPosition","minStart","minEnd","maxStart","maxEnd","focusSliderElement","buttonUp","setRangeBar","checkValidValueAndPos","checkHandlePosition","setLimitBarPositions","fromMinPostion","fromMaxpostion","toMinPostion","toMaxpostion","fromPosition","toPosition","currentValue","minValue","maxValue","limitBar","preHandlePos1","setHandlePosition","validateRangeValue","setRangeValue","modifyZindex","updateRangeValue","previous","setPreviousVal","preHandlePos2","values_1","tempStartEnd","onResize","startHandleFixed","endHandleFixed","xyToPosition","top_1","stepValueCalculation","percentStep","remain","addition","f","positionToValue","sliderBarClick","handlepos","handleVal","checkRepeatedValue","xPostion","yPostion","firstPartRemain","secondPartRemain","minDiff","dragRangeBarMove","dragRangeBarUp","sliderBarMove","sliderBarUp","handleValueAdjust","handleValue","assignValue","handleNumber","valueAndPostion","wireButtonEvt","sliderFocusOut","onresize","keyUp","relatedTarget","transformProperties_1","hiddenHandle_1","handle_1","changeSliderType","updateConfig","changeRtl","changeOrientation","limitsPropertyChange","setMinMaxValue","setTooltip","setReadOnly","VALIDATE_EMAIL","VALIDATE_URL","VALIDATE_DATE_ISO","VALIDATE_DIGITS","VALIDATE_PHONE","VALIDATE_CREDITCARD","FormValidator","validated","errorRules","allowSubmit","required","infoElement","selectQuery","defaultMessages","email","dateIso","creditcard","number","maxLength","minLength","rangeLength","tel","equalTo","rules","inputElements","createHTML5Rules","FormValidator_1","addRules","removeRules","validateRules","rules_1","name_1","clearForm","getInputElement","errorClass","validClass","elements_2","getErrorElement","hideMessage","defRules","acceptedTypes","allRule","defRules_1","rule","defRule","annotationRule","ruleCon","ruleName","rulesList","ruleFirstName","ruleSecondName","minvalue","maxvalue","annotationMessage","isCheckable","submitHandler","excludeKeys","hiddenType","validateHiddenType","vhPos","hPos","rules_2","errorMessage","getErrorMessage","errorRule","isValid","removeErrorRules","showMessage","createErrorElement","errorElement","optionalValidationStatus","refer","currentRule","formElement","checkValidator","ruleValue","formats","errorOption","Message","errorContainer","containerId","customPlacement","checkRequired","inputType","compareTo","Label","FILE","STATUS","REMOVE_ICON","DELETE_ICON","ABORT_ICON","RETRY_ICON","PROGRESS_WRAPPER","PROGRESSBAR","UPLOAD_SUCCESS","UPLOAD_FAILED","ICON_FOCUSED","PAUSE_UPLOAD","FilesProp","ButtonsProps","AsyncSettings","Uploader","initialAttr","multiple","fileList","filesData","uploadedFilesData","isForm","allTypes","pausedData","uploadMetaData","setExtensions","allowedExtensions","clearAll","setControlStatus","setMultipleSelection","setRTL","reRenderFileList","browse","renderButtonTemplates","unBindDropEvents","setDropArea","renderPreLoadFiles","updateDirectoryAttributes","setLocalizedTexts","preLocaleObj","browseButton","localizedTexts","uploadWrapper","updateFileList","getKeyValue","autoUpload","uploadButton","listParent","createFileList","actionButtons","removeActionButtons","renderActionButtons","checkActionButtonStatus","Browse","Clear","Upload","dropFilesHint","invalidMaxFileSize","invalidMinFileSize","invalidFileType","uploadFailedMessage","uploadSuccessMessage","removedSuccessMessage","removedFailedMessage","inProgress","readyToUploadMessage","pauseUpload","resume","retry","fileUploadCancel","checkHTMLAttributes","asyncSettings","saveUrl","isPureReactComponent","next","directoryUpload","renderBrowseButton","initializeUpload","wireActionButtonEvents","uploadButtonClick","clearButtonClick","unwireActionButtonEvents","uploadText","clearText","dropAreaWrapper","fileDropArea","aria-activedescendant","files","clearData","files_1","fileData","rawFile","validationMessages","minSize","maxSize","statusCode","showFileList","dropTextArea","dropArea","dropZoneElement","enableDropText","bindDropEvents","newAttr","createAttribute","setAttributeNode","checkAutoUpload","browseButtonClick","onSelectFiles","keyboardModule","resetForm","setTabFocus","setReverseFocus","metaData","getCurrentMetaData","file","abortUpload","resumeUpload","chunkUpload","removeFiles","fileInfo","targetMetaData","iconElements","iconElement","dropElement","dragHover","onDragLeave","onPasteFile","clipboardData","pasteFile","kind","renderSelectedFiles","getAsFile","selectedElement","spinnerTarget","removeFilesData","customTemplate","getLiElement","removeUploadedFile","removeDirectly","selectedFiles","formData","FormData","currentRequest","postRawFile","updateFormData","customFormData","removeCompleted","removeFailed","customData","updateStatus","rootElement","statusElement","getFilesFromFolder","filesEntries","dataTransfer","checkDirectoryUpload","webkitGetAsEntry","isFile","files_2","fileObj","fullPath","isDirectory","traverseFileTree","files_3","createReader","readEntries","entries","targetFiles","sortFileList","directory","paste","eventArgs_1","getFileType","webkitRelativePath","validatedFileSize","fileSource","isModified","modifiedFilesData","progressInterval","checkExtension","dataFiles","updateSortedFileList","singleUpload","removedList","previousListClone","removedList_1","oldList","createParentUL","isBlank","dropFiles","extensions_1","extension","fileSize","minSizeError","maxSizeError","minFileSize","maxFileSize","createCustomfileList","fileData_1","data-file-name","uploadTemplateFn","templateComplier","fileData_2","textContainer","textElement","getFileNameOnly","fileExtension","rtlContainer","bytesToSize","truncateName","nameElement","scrollWidth","tail","setInitialAttributes","filterfileList","filterFiles","createProgressBar","progressbarWrapper","progressBar","progressbarInnerWrapper","progressbarText","updateProgressbar","loaded","total","changeProgressValue","progressValue","uploadInProgress","customUI","cancelUploadingFile","updateProgressBarClasses","removecanceledFile","renderFailureState","removeProgressbar","deleteIcon","pauseButton","reloadcanceledFile","uploadComplete","raiseSuccessEvent","uploadFailed","callType","progressAnimation","animateProgressBar","extensions","uploadTemplate","exception","chunkSize","chunkIndex","blob","retryCount","sendRequest","totalChunk","ceil","chunkUploadComplete","chunkUploadInProgress","eventCancelByArgs","chunkUploadFailed","checkChunkUpload","response","updateMetaData","eventArgs_2","sendNextRequest","name_2","removeChunkFile","removeChunkProgressBar","pauseIcon","chunkCount","eventArgsData","retryRequest","retryAfterDelay","checkPausePlayAction","retryUpload","fromcanceledStage","retryElement","clearIcon","loadedSize","bytes","fileNames","sortedFilesData","sortedFileNames_1","name_3","uploadFiles","validateFileType","chunkEnabled","this_3","name_4","getFilesData","validUrl","removeFiles_1","fileDataFiles","pauseUploading","getFiles","resumeFiles","retryFailedFiles","cancelingFiles","cancelUpload","showHideUploadSpinner","Item","DISABLED","FOCUS","ITEM","POPUP","SEPARATOR","VERTICAL","DropDownButton","canOpen","openPopUp","closePopup","createPopup","dropDown","getTargetElement","getPopUpElement","createItems","hasIcon","separator","createAnchor","appendArrowSpan","setActiveElem","activeElem","popupEle","getULElement","popupElement","delegateMousedownHandler","mousedownHandler","keyBoardHandler","upDownKeyHandler","keyEventHandler","defaultIdx","childElementCount","liIdx","removeCustomSelection","selectedLi","getLI","trgt","beforeOpenArgs","openArgs","focusEle","beforeCloseArgs","btnModel","TAGNAME","SplitButton","createPrimaryButton","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","btnElem","dropDownBtnModel","beforeItemRender","beforeClose","aria-expanded","aria-haspopup","aria-owns","primaryBtnClickHandler","btnKeyBoardHandler","altdownarrow","CONTENTCLS","ProgressButton","init","percent","isPaused","startProgress","progressTime","enableProgress","createProgress","spinner","setSpinPosition","spinSettings","cont","clsList","isVertical","hideSpin","startAnimate","startContAnimate","prevTime","prevPercent","prevProgressTime","timeDiff","stepTime","timeDiffBuffer","currentDuration","setSpinnerSize","setIconSpan","iconSpan","CTRLSWITCH","HIDEHEX","HIDERGBA","HIDEVALUE","HSVAREA","INPUTWRAPPER","MODESWITCH","NOCOLOR","OPACITY","PREVIEW","SHOWVALUE","SELECT","TILE","presets","default","ColorPicker","Apply","Cancel","ModeSwitcher","inline","createWidget","createSplitBtn","enableOpacity","tileRipple","ctrlBtnRipple","createPalette","firstPaletteFocus","createPicker","getDragHandler","isRgb","createCtrlBtn","toggleDisabled","refreshPopupPos","splitButton","splitBtn","beforeOpenFn","onOpen","beforePopupClose","hex","rgba","convertToRgbString","hexToRgb","preview","backgroundColor","getPopupEle","popupInst","getPopupInst","modal","onPopupClose","destroyOtherComp","presetColors","paletteGroup","appendElement","appendPalette","modeSwitcher","noColor","setNoColor","borderBottomWidth","rgb","hsv","rgbToHsv","refEle","palette","row","tile","roundedColor","aria-selected","presetName","addTileSelection","noColorEle","insertPos","hsvContainer","dragHandler","setHsvContainerBg","setHandlerPosition","createSlider","createDragTooltip","getHsvContainer","hsvToRgb","hsvArea","sliderPreviewWrapper","createPreview","sliderWrapper","slider","hueSlider","hueChange","createOpacitySlider","opacitySlider","opacityChange","opacityBgTrack","updateOpacitySliderBg","background","convertToOtherFormat","pValue","rgbToHex","cValue","updatePreview","triggerEvent","previewContainer","colorValue","isPicker","createNumericInput","numericInput","inputWrap","appendValueSwitchBtn","hexInput","maxlength","clsName","appendOpacityValue","valueSwitchBtn","formatSwitchHandler","btnWrapper","controlBtnWrapper","appendModeSwitchBtn","getTooltipInst","setTooltipOffset","convertToHsvString","updateHsv","isKey","updateInput","removeTileSelection","convertRgbToNumberArray","n","pickerKeyDown","handlerDown","addCtrlSwitchEvent","previewHandler","paletteClickHandler","paletteKeyDown","handlerDragPosition","triggerChangeEvent","prob","setHsv","handlerMove","handlerEnd","switchToPalette","ctrlBtnClick","noColorTile","switchToPicker","grpEle","selectedEle","tiles","prevSelectedEle","tilePosition","keySelectionChanges","newEle","emptyCount","inputValueChange","isPopupOpen","tooltipInst","len_1","bigInt","g","v","changeModeSwitcherProp","ctrlSwitchWrapper","changeShowBtnProps","ctrlBtnWrapper","changeValueProp","setInputEleProps","changeDisabledProp","changeCssClassProps","popupWrapper","changeRtlProps","changePaletteProps","changeOpacityProps","otherCompModel","reduce","cls","TextBox","textboxWrapper","globalize","interaction","resetInputHandler","dropDownListClasses","inputFocus","iconAnimation","device","filterBarClearIcon","filterInput","filterParent","mobileFilter","footer","clearIconHide","popupFullScreen","disableIcon","hiddenElement","DropDownList","initializeData","isDocumentClick","isFilterFocus","beforePopupOpen","initRemoteRender","isNotSearchList","isTyped","preventFocus","preventAutoFill","isValidKey","typedString","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isCustomFilter","isSecondClick","keyConfigure","down","up","pageUp","pageDown","wireListEvents","floatLabelChange","floatElement","onChangeEvent","resetFocusElement","removeSelection","resetSelection","allowFiltering","valueTempElement","setSelection","setHTMLAttributes","htmlAttr","defaultAttr","getAriaAttributes","hidePopup","preventTabIndex","getNgDirective","getElementByText","getElementByValue","listItems_1","initValue","updateValues","setHiddenValue","onBlur","isFilterLayout","focusOutAction","onFocusOut","onFocus","resetValueHandler","wireEvent","dropDownClick","bindCommonEvent","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","setHover","hoveredItem","setScrollPosition","spinnerElement","filterInputObj","preventAction","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","isSelectFocusItem","nextItem","pageUpSelection","getPageCount","pageDownSelection","showPopup","focusDropDown","selectCurrentItem","previousItem","unWireEvent","unWireListEvents","onDocumentClick","activeStateChange","proxy_1","cloneElements","updateSelectedItem","preventSelect","detachChanges","focusedItem","activeItem","valueTemplate","setValueTemplate","previousItemData","previousSelectedLI","dataValue","dataText","eve","detachChangeEvent","defineProperties","preItems","onFilterUp","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","isFiltering","preventDefaultAction","filteringAction","baseEventArgs","filterQuery","focusIndexItem","setSearchBox","filterBarPlaceholder","clearIconElement","searchKeyModule","onInput","addNewItem","newElement","highlightedItem","refreshPopup","searchBox","listHeight","popupHeight","setHeaderTemplate","searchBoxHeight","offsetValue","getOffsetValue","firstItem","isEmptyList","textIndent","paddingLeft","borderLeftWidth","getFocusElement","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","listScroll","animModel","popup","popupStyles","borderTop","borderBottom","destroyPopup","clearElement","border","popupOffset","lastItem","paddingBottom","popupWidth","scrollBottom","currentOffset","nextBottom","nextOffset","paddingTop","boxRange","isPopupButton","scrollableParentElements_1","selectElement","onselect","stopImmediatePropagation","onchange","setOldText","setOldValue","ddlProps","proxy_2","onpopstate","pushState","ComboBox","preventBlur","targetFocus","customValue","allowCustom","valueMuteChange","inputValue","aria-autocomplete","aria-hasPopup","setHoverList","inlineSearch","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","currentPoints","prevEnd","curEnd","prevStart","curStart","isKeyNavigate","changeData","comboProps","isEscape","searchItem","AutoComplete","isFiltered","filterType","mapping","suggestionCount","isDownUpKey","filterAction","postBackAction","fieldsSettings","highlight","itemCreated_1","showPopupButton","atcProps","HIDE_LIST","CHIP","MultiSelect","selectAllEventData","selectAllEventEle","scrollFocusStatus","keyDownStatus","enableRTL","allowCustomValue","hideSelectedItem","closePopupOnSelect","updateHTMLAttribute","validateAttr","containerAttr","updateReadonly","updateClearButton","overAllClear","updateCssClass","onPopupShown","focusAtFirstListItem","isFirstClick","mainList","refreshListItems","addListFocus","focusAtLastListItem","aria-multiselectable","updateListARIA","disableStatus","removelastSelection","chipCollectionWrapper","tempValues","removeValue","removeChipSelection","updateDelimeter","delimiterChar","makeTextBoxEmpty","mainData","refreshSelection","targetInputElement","getForQuery","valuecheck","updateActionList","showSelectAll","mainListCollection","remoteCustomValue","checkForCustomValue","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialValueUpdate","initialUpdate","refreshPlaceHolder","updateValueState","hideGroupItem","ariaValue","checkSelectAll","checkMaxSelection","element1","temp1","searchCount","searchActiveCount","openClick","openOnClick","KeyUp","expandTextbox","showOverAllClear","checkTextLength","remoteFilterAction","dataUpdater","backCommand","dataChecks","wrapperClick","updateDelimView","removeChipFocus","refreshInputHight","validateValues","initStatus","getPagingCount","collection","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","mobFilter","calcPopupWidth","popupKeyActions","updateAriaAttribute","onKeyDown","arrowUp","arrowDown","selectByKey","spaceKeySelection","escapeAction","keyNavigation","enableSelectionOrder","checkBackCommand","moveByList","focuseElem","moveBy","removeSelectedChip","selectListByKey","hideOverAllClear","limit","maximumSelectionLength","updateListSelection","selectedElem","addChipSelection","moveByTop","chipClick","onChipRemove","setFloatLabelType","hideElement","updateMainList","removeChip","updateChipStatus","element2","addValue","addListSelection","addChip","dispatchSelect","isNotTrigger","getChip","closeElements","onMobileChipInteraction","chipElem","chipClose","chip","data-value","chipContent","setClass","mouseIn","mouseOut","fieldProperty","listCurrentOptions","overAllHeight","selectAllHeight","onListMouseDown","ClearAll","windowResize","delim","removeListSelection","indexItem","selectItems","mainlist","addListHover","ariaCheck","delimChar","CLOSEICON_CLASS","tempIndex","wrapperleng","remaining","remainContent","overflowCountTemplate","raminElement","remainSize","overAllContainer","paddingRight","remainValue","newTemp","selectAllItem","onLoadSelect","dropDownIcon","msProps","mainLiLength","liLength","DELIMITER_VIEW","checkAutoFocus","showDropDownIcon","dropIcon","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","checkboxEle","checkAllParent","selectAllSpan","checkWrapper","checkElement","validateCheckNode","checkWrap","isCheck","isPrevent","unSelect","selectAllText","unSelectAllText","activeLiCount","ulEle"],"mappings":"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,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,KACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,IACVC,IAAU,KAEdt9B,EAASqB,aAQLqH,MAAO,SAAUlvB,EAAQ+jD,EAAUt5F,EAAY68D,GAK3C,MAJIA,KACAtnB,EAASwmB,EAAS6F,iBAAiBrsB,GACnC+jD,EAAWv9B,EAAS6F,iBAAiB03B,IAErCt5F,EACO+7D,EAASz7D,YAAYi1C,KAAYwmB,EAASz7D,YAAYg5F,GAE1D/jD,IAAW+jD,GAQtB50B,SAAU,SAAUnvB,EAAQ+jD,EAAUt5F,EAAY68D,GAK9C,MAJIA,KACAtnB,EAASwmB,EAAS6F,iBAAiBrsB,GACnC+jD,EAAWv9B,EAAS6F,iBAAiB03B,KAEjCv9B,EAASqB,YAAYqH,MAAMlvB,EAAQ+jD,EAAUt5F,IAQzDqkE,SAAU,SAAU9uB,EAAQ+jD,EAAUt5F,GAClC,MAAIA,GACO+7D,EAASz7D,YAAYi1C,GAAUwmB,EAASz7D,YAAYg5F,GAExD/jD,EAAS+jD,GAQpB/0B,YAAa,SAAUhvB,EAAQ+jD,EAAUt5F,GACrC,MAAIA,GACO+7D,EAASz7D,YAAYi1C,GAAUwmB,EAASz7D,YAAYg5F,GAExD/jD,EAAS+jD,GAQpBh1B,gBAAiB,SAAU/uB,EAAQ+jD,EAAUt5F,GACzC,MAAIA,GACO+7D,EAASz7D,YAAYi1C,IAAWwmB,EAASz7D,YAAYg5F,GAEzD/jD,GAAU+jD,GAQrB90B,mBAAoB,SAAUjvB,EAAQ+jD,EAAUt5F,GAC5C,MAAIA,GACO+7D,EAASz7D,YAAYi1C,IAAWwmB,EAASz7D,YAAYg5F,GAEzD/jD,GAAU+jD,GAQrB14F,SAAU,SAAU20C,EAAQ+jD,EAAUt5F,EAAY68D,GAK9C,MAJIA,KACAtnB,EAASwmB,EAAS6F,iBAAiBrsB,GACnC+jD,EAAWv9B,EAAS6F,iBAAiB03B,IAErCt5F,GACQ4F,EAAkB2vC,KAAY3vC,EAAkB0zF,KACsB,IAA1Ev9B,EAASz7D,YAAYi1C,GAAQ5uC,QAAQo1D,EAASz7D,YAAYg5F,KAE1D1zF,EAAkB2vC,KAAY3vC,EAAkB0zF,KACX,IAAzC/jD,EAAOzsC,WAAWnC,QAAQ2yF,IAOlCC,QAAS,SAAUhkD,GACf,MAAkB,QAAXA,GAOXikD,OAAQ,SAAUjkD,GACd,MAAkB,QAAXA,GAQXsvB,WAAY,SAAUtvB,EAAQ+jD,EAAUt5F,EAAY68D,GAKhD,MAJIA,KACAtnB,EAASwmB,EAAS6F,iBAAiBrsB,GACnC+jD,EAAWv9B,EAAS6F,iBAAiB03B,IAErCt5F,EACOu1C,GAAU+jD,GAAYv9B,EAASgE,WAAWhE,EAASz7D,YAAYi1C,GAASwmB,EAASz7D,YAAYg5F,IAEjG/jD,GAAU+jD,GAAYv9B,EAASgE,WAAWxqB,EAAQ+jD,IAQ7D10B,SAAU,SAAUrvB,EAAQ+jD,EAAUt5F,EAAY68D,GAK9C,MAJIA,KACAtnB,EAASwmB,EAAS6F,iBAAiBrsB,GACnC+jD,EAAWv9B,EAAS6F,iBAAiB03B,IAErCt5F,EACOu1C,GAAU+jD,GAAYv9B,EAAS0B,SAAS1B,EAASz7D,YAAYi1C,GAASwmB,EAASz7D,YAAYg5F,IAE/F/jD,GAAU+jD,GAAYv9B,EAAS0B,SAASloB,EAAQ+jD,IAO3DG,eAAgB,SAAU78B,GACtB,GAAIoF,GAASjG,EAAS2H,gBAAgB9G,EACtC,OAAIoF,GACSjG,EAASqB,YAAY4E,GAG3BjG,EAAS3yD,WAAW,gDAO/B01D,gBAAiB,SAAUlC,GACvB,GAAIN,GAAKP,EAASqB,YAAYR,EAC9B,OAAIN,IAGGP,EAASqB,YAAYq8B,eAAe78B,KAMnDb,EAAS7hC,OAKLw/D,UAAW,SAAUC,GAUjB,MATwB,gBAAbA,GACPA,EAAW1/D,KAAKC,MAAMy/D,EAAU59B,EAAS7hC,MAAM0/D,aAE1CD,YAAoB/yF,OACzBm1D,EAAS7hC,MAAM2/D,sBAAsBF,GAEZ,gBAAbA,IAAsC,OAAbA,GACrC59B,EAAS7hC,MAAM4/D,qBAAqBH,GAEjCA,GAOXE,sBAAuB,SAAUrxF,GAC7B,IAAK,GAAIhI,GAAI,EAAGA,EAAIgI,EAAM9H,OAAQF,IACN,gBAAbgI,GAAMhI,IAAgC,OAAbgI,EAAMhI,GACtCu7D,EAAS7hC,MAAM4/D,qBAAqBtxF,EAAMhI,IAEjB,gBAAbgI,GAAMhI,IAAoB,6BAA6B4B,KAAKoG,EAAMhI,IAI9EgI,EAAMhI,GAAKu7D,EAAS7hC,MAAMw/D,UAAUlxF,EAAMhI,IAH1CgI,EAAMhI,GAAKu7D,EAAS7hC,MAAM0/D,YAAY,GAAIpxF,EAAMhI,KAY5Ds5F,qBAAsB,SAAUz6B,GAG5B,IAAK,GAFDl6D,GAEKqB,EAAK,EAAGiC,EADN/B,OAAOjB,KAAK45D,GACS74D,EAAKiC,EAAO/H,OAAQ8F,IAAM,CACtD,GAAI6M,GAAO5K,EAAOjC,EACdu1D,GAASgE,WAAW1sD,EAAM,QAIT,iBADrBlO,EAAQk6D,EAAKhsD,IAELlO,YAAiByB,OACjBm1D,EAAS7hC,MAAM2/D,sBAAsB10F,GAEhCA,GACL42D,EAAS7hC,MAAM4/D,qBAAqB30F,GAIxCk6D,EAAKhsD,GAAQ0oD,EAAS7hC,MAAM0/D,YAAYv6B,EAAKhsD,GAAOlO,MAUhEy0F,YAAa,SAAUn+B,EAAOt2D,GAC1B,GAAI40F,GAAW50F,CACf,IAAqB,gBAAVA,GAAoB,CAC3B,GAAIqpC,GAAK,6CAA6C9T,KAAKv1B,EAC3D,IAAIqpC,EACA,MAAOutB,GAASi+B,UAAUC,WAAW,GAAIzvE,MAAK2X,SAASqM,EAAG,GAAI,KAAMutB,EAASqH,sBAAsB,EAElG,IAAI,sEAAsEhhE,KAAK+C,GAAQ,CACxF,GAAI09D,GAAMk3B,EAAS10F,MAAM,SACzBF,GAAQ42D,EAASi+B,UACZC,WAAW,GAAIzvE,MAAK2X,SAAS0gC,EAAI,GAAI,IAAK1gC,SAAS0gC,EAAI,GAAI,IAAM,EAAG1gC,SAAS0gC,EAAI,GAAI,IAAK1gC,SAAS0gC,EAAI,GAAI,IAAK1gC,SAAS0gC,EAAI,GAAI,IAAK1gC,SAAS0gC,EAAI,GAAI,KAAM9G,EAASqH,sBAAsB,IAGzM,MAAOj+D,IAMX+0F,OAAQ,SAAUz5B,GACd,MAA2B,gBAAhBA,GAAS,GACTA,EAEJ1E,EAAS7hC,MAAMw/D,UAAUj5B,IAMpC05B,OAAQ,SAAUh1F,GAGd,MAAgB,OAFJ,wDACMu1B,KAAKv1B,IAS3Bi1F,SAAU,SAAUj1F,EAAOkjD,GACvB,MAAI0T,GAASyG,cAAcr9D,GAChB42D,EAAS7hC,MAAMmgE,aAAal1F,EAAOkjD,GAE1CljD,YAAiByB,OACVm1D,EAAS7hC,MAAMogE,cAAcn1F,GAEpCA,YAAiBqlB,MACVuxC,EAAS7hC,MAAMmgE,cAAe/nE,IAAKntB,GAASkjD,GAAW/1B,IAE3DntB,GAQXk1F,aAAc,SAAU/nE,EAAK+1B,GAGzB,IAAK,GAFDljD,GAEKqB,EAAK,EAAG+zF,EADN7zF,OAAOjB,KAAK6sB,GACS9rB,EAAK+zF,EAAO75F,OAAQ8F,IAAM,CACtD,GAAI6M,GAAOknF,EAAO/zF,EAElB,KADArB,EAAQmtB,EAAIjf,aACWmX,MAAvB,CAGA,GAAI6V,GAAIl7B,CACRmtB,GAAIjf,GAAQ0oD,EAASi+B,UAAUC,WAAWl+B,EAASi+B,UAAUQ,cAAcn6D,GAAI07B,EAASqH,sBAAsBq3B,UAElH,MAAOnoE,IAQXgoE,cAAe,SAAUhoE,GACrB,IAAK,GAAI9xB,GAAI,EAAGA,EAAI8xB,EAAI5xB,OAAQF,IACxBu7D,EAASyG,cAAclwC,EAAI9xB,IAC3B8xB,EAAI9xB,GAAKu7D,EAAS7hC,MAAMmgE,aAAa/nE,EAAI9xB,IAEpC8xB,EAAI9xB,YAAcgqB,QACvB8H,EAAI9xB,GAAKu7D,EAAS7hC,MAAMmgE,cAAeK,KAAMpoE,EAAI9xB,KAAMk6F,KAG/D,OAAOpoE,KAMfypC,EAASi+B,WACLQ,cAAe,SAAUh/E,GACrB,MAAO,IAAIgP,OAAMhP,EAAqC,IAA5BA,EAAMg7B,sBAEpCmkD,MAAO,SAAUn/E,GACb,MAAO,IAAIgP,OAAMhP,EAAqC,IAA5BA,EAAMg7B,sBAEpCyjD,WAAY,SAAUz+E,EAAO3G,EAAQ+lF,GACjC,GAAe,OAAX/lF,EACA,MAAO2G,EAEX,IAAIq/E,GAAOD,EAAM7+B,EAASi+B,UAAUW,MAAMn/E,GAASA,CACnD,OAAO,IAAIgP,OAAMqwE,EAAiB,KAAThmF,IAE7BimF,YAAa,SAAUt/E,GACnB,GAAIu/E,GAASv/E,EACT66B,GAAY0kD,EAAOvkD,oBACnBwkD,EAAmB3kD,GAAY,EAAI,IAAM,IACzC4kD,EAAc,SAAUh3F,GACxB,GAAIi3F,GAAO3lF,KAAK6T,MAAM7T,KAAKE,IAAIxR,GAC/B,QAAQi3F,EAAO,GAAK,IAAM,IAAMA,EAQpC,OANUH,GAAO75C,cAAgB,IAAM+5C,EAAYF,EAAO/5C,WAAa,GAAK,IAAMi6C,EAAYF,EAAOt6C,WACjG,IAAMw6C,EAAYF,EAAO35C,YACzB,IAAM65C,EAAYF,EAAO92C,cACzB,IAAMg3C,EAAYF,EAAOI,cACzBH,EAAmBC,EAAY5kD,EAAW,IAC1C,IAAM4kD,EAAY5kD,EAAW,MAIlC0lB,KCh0DP97B,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAWnF46D,GAAyB,WAOzB,QAASA,GAAQ15B,GAEbv5D,KAAKsU,SACDo+C,KAAM,QACNwgC,YAAa,OACbh+B,OAAQ,SACRvvD,OAAQ,SACRqwD,KAAM,OACNtyB,MAAO,QACPoyB,KAAM,OACNjB,OAAQ,SACR50C,MAAO,iBACPs0C,MAAO,QACP4D,WAAY,cAMhBn4D,KAAKjG,KAAOk5F,EACZjzF,KAAKmzF,WAAa55B,EAClBv5D,KAAKozF,OAaT,MAHAH,GAAQz3F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,GAC3D,MAAO99D,IAEJw2F,KAOPK,GAA6B,SAAUv6D,GAEvC,QAASu6D,KACL,MAAkB,QAAXv6D,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAqR/D,MAvRA83B,IAAUw7D,EAAav6D,GAUvBu6D,EAAY93F,UAAU+3F,aAAe,SAAU//B,EAAa15D,GAOxD,IAAK,GAHDuJ,GACAhG,EAJA2B,EAASw0D,EAAY2/B,WAAWj8B,KAAKv1D,MAAM,GAC3Cse,EAAQjhB,EAAOzG,OACfi7F,GAAW,EAGXC,KACKp7F,EAAI,EAAGA,EAAIyB,EAAMg5D,QAAQv6D,OAAQF,IAEtCgL,EAAMrD,MADN3C,EAAMvD,EAAMg5D,QAAQz6D,IACL87D,IAAIvzD,KAAKZ,KAAMhB,EAAQ3B,EAAI+D,EAAGtH,GAC9B,iBAAXuD,EAAI82D,GACJs/B,EAAIp2F,EAAI+D,EAAEkyD,MAAQ,MAAQj2D,EAAI+D,EAAErH,MAAQsJ,EAGxCrE,MAAiB5F,KAARiK,EAAoBA,EAAMrE,EAExB,WAAX3B,EAAI82D,IAA8B,WAAX92D,EAAI82D,IAA8B,WAAX92D,EAAI82D,IAA8B,YAAX92D,EAAI82D,KACzEq/B,GAAW,GAEXA,IACAvzE,EAAQjhB,EAAOzG,OAUvB,OAPIuB,GAAMk6D,kBACNh1D,GACIA,OAAQA,EACRihB,MAAOA,EACPk4C,WAAYs7B,IAGbz0F,GAQXs0F,EAAY93F,UAAUk4F,aAAe,SAAUx5B,EAAIy5B,EAASvyF,GACxD,GAAI/I,GACAu7F,EAAoBD,EAAQE,eAAet7F,MAC/C,KAAKF,EAAI,EAAGA,EAAIs7F,EAAQG,aAAav7F,OAAQF,IACzC2H,KAAK+oD,OAAOmR,EAAIy5B,EAAQG,aAAaz7F,GAEzC,KAAKA,EAAI,EAAGA,EAAIs7F,EAAQI,eAAex7F,OAAQF,IAC3C2H,KAAKg0F,OAAO95B,EAAI94D,EAAE/D,IAAKs2F,EAAQI,eAAe17F,GAElD,KAAKA,EAAI,EAAGA,EAAIu7F,EAAmBv7F,IAC/B2H,KAAK0E,OAAOw1D,EAAI94D,EAAE/D,IAAKs2F,EAAQE,eAAex7F,GAElD,OAAOs7F,IAOXL,EAAY93F,UAAUy4F,QAAU,SAAU16B,EAAIn4D,GAC1C,MAAKm4D,IAAOA,EAAGhhE,OAGRghE,EAAG9jC,OAAO,SAAU14B,GACvB,GAAIqE,EACA,MAAOA,GAAEi2D,SAASt6D,KAJfw8D,GAcf+5B,EAAY93F,UAAU04F,aAAe,SAAU36B,EAAIn4D,GAC/C,GAAI+yD,GAAKP,GAASuE,WAAW/2D,EAAErH,KAC/B,OAAKw/D,IAAOpF,GAAoB,IAAdoF,EAAGhhE,OAGd47D,EAAGoF,EAAIn4D,EAAEkyD,OAFL,MASfggC,EAAY93F,UAAU24F,SAAW,SAAU56B,EAAIn4D,GAC3C,MAAKm4D,IAAOA,EAAGhhE,QAGa,IAAxB6I,EAAE2zD,WAAWx8D,QACbq7D,GAASwF,aAAaG,EAAG,GAAIn4D,EAAE2zD,YAE5BwE,EAAG9jC,OAAO,SAAU14B,GACvB,IAAK,GAAIyoB,GAAI,EAAGA,EAAIpkB,EAAE2zD,WAAWx8D,OAAQitB,IACrC,GAAIpkB,EAAE4zD,SAASp0D,KAAK7D,EAAK62D,GAASzsD,UAAU/F,EAAE2zD,WAAWvvC,GAAIzoB,GAAMqE,EAAE0zD,UAAW1zD,EAAEvJ,WAAYuJ,EAAEszD,cAC5F,OAAO,CAGf,QAAO,KAXA6E,GAoBf+5B,EAAY93F,UAAU44F,SAAW,SAAU76B,EAAIn4D,EAAGtH,GAC9C,IAAKy/D,IAAOA,EAAGhhE,OACX,MAAOghE,EAEX,IAAI86B,GACA/gC,EAAQM,GAAS/2D,SAASuE,EAAEozD,UAAW16D,EAC3C,KAAKw5D,EACD,MAAOiG,GAAGD,KAAKl4D,EAAE4zD,SAErB,IAAI1B,YAAiB70D,OAAO,CAExB,IAAK,GAAIpG,IADTi7D,EAAQA,EAAM3xD,MAAM,IACDpJ,OAAS,EAAGF,GAAK,EAAGA,IAC9Bi7D,EAAMj7D,KAGXg8F,EAAYjzF,EAAE4zD,SACVpB,GAAS0B,SAAShC,EAAMj7D,GAAI,WAC5Bg8F,EAAYzgC,GAAS2B,OAAO,cAC5BjC,EAAMj7D,GAAKi7D,EAAMj7D,GAAGsB,QAAQ,QAAS,KAEzC4/D,EAAK3F,GAAS0F,KAAKC,EAAIjG,EAAMj7D,GAAIg8F,GAErC,OAAO96B,GAEX,MAAO3F,IAAS0F,KAAKC,EAAIjG,EAAOlyD,EAAE4zD,WAQtCs+B,EAAY93F,UAAU84F,QAAU,SAAU/6B,EAAIn4D,EAAGtH,GAC7C,IAAKy/D,IAAOA,EAAGhhE,OACX,MAAOghE,EAEX,IAAIg7B,GAAW9hC,GAAM+C,cAAc17D,EAAMg5D,QAAS,gBAC9C2gC,IACJ,IAAIc,EAASh8F,OAET,IAAK,GADDyiE,OAAM,GACD3iE,EAAI,EAAGA,EAAIk8F,EAASh8F,OAAQF,IACjC2iE,EAAMu5B,EAASl8F,GAAG+I,EAClBqyF,EAAIz6F,MAAOe,KAAMihE,EAAIjhE,KAAMu5D,MAAOM,GAAS/2D,SAASm+D,EAAI1H,MAAOx5D,IAGvE,OAAO85D,IAASlwB,MAAM61B,EAAI3F,GAAS/2D,SAASuE,EAAEozD,UAAW16D,GAAQ25F,EAAK,KAAM,KAAMryF,EAAE4zD,WASxFs+B,EAAY93F,UAAUg5F,OAAS,SAAUj7B,EAAIn4D,EAAGtH,GAC5C,GAAI6hC,GAAOi4B,GAAS/2D,SAASuE,EAAEy0D,SAAU/7D,GACrCyD,GAASq2D,GAAS/2D,SAASuE,EAAEw0D,UAAW97D,GAAS,GAAK6hC,EACtD3b,EAAMziB,EAAQo+B,CAClB,OAAK49B,IAAOA,EAAGhhE,OAGRghE,EAAG53D,MAAMpE,EAAOyiB,GAFZu5C,GAUf+5B,EAAY93F,UAAUi5F,QAAU,SAAUl7B,EAAIn4D,GAC1C,MAAKm4D,IAAOA,EAAGhhE,OAGRghE,EAAG53D,MAAMiyD,GAAS/2D,SAASuE,EAAE7D,OAAQq2D,GAAS/2D,SAASuE,EAAE4e,MAFrDu5C,GASf+5B,EAAY93F,UAAUk5F,OAAS,SAAUn7B,EAAIn4D,GACzC,MAAKm4D,IAAOA,EAAGhhE,OAGRghE,EAAG53D,MAAM,EAAGiyD,GAAS/2D,SAASuE,EAAE20D,MAF5BwD,GASf+5B,EAAY93F,UAAUm5F,OAAS,SAAUp7B,EAAIn4D,GACzC,MAAKm4D,IAAOA,EAAGhhE,OAGRghE,EAAG53D,MAAMiyD,GAAS/2D,SAASuE,EAAE20D,MAFzBwD,GASf+5B,EAAY93F,UAAUo5F,SAAW,SAAUr7B,EAAIn4D,GAC3C,MAAKm4D,IAAOA,EAAGhhE,OAGRq7D,GAASjuD,OAAO4zD,EAAI3F,GAAS/2D,SAASuE,EAAE2zD,aAFpCwE,GAUf+5B,EAAY93F,UAAUutD,OAAS,SAAUmR,EAAIz9D,EAAMw3D,EAAWn6D,EAAO+b,GACjE,MAAIpY,GAAkBoY,GACXqkD,EAAGi5B,WAAWj8B,KAAKl+D,KAAKyD,GAGxBy9D,EAAGi5B,WAAWj8B,KAAK3sC,OAAO1U,EAAU,EAAGpZ,IAWtD62F,EAAY93F,UAAUkJ,OAAS,SAAUw1D,EAAI26B,EAAU73F,EAAOi3D,GAC1D,GACI57D,GADAkhE,EAAKW,EAAGi5B,WAAWj8B,IAKvB,KAHqB,gBAAVl6D,KACPA,EAAQA,EAAM63F,IAEbx8F,EAAI,EAAGA,EAAIkhE,EAAGhhE,QACXghE,EAAGlhE,GAAGw8F,KAAc73F,EADD3E,KAK3B,MAAOA,KAAMkhE,EAAGhhE,OAASghE,EAAGhvC,OAAOlyB,EAAG,GAAK,MAU/Ci7F,EAAY93F,UAAUw4F,OAAS,SAAU95B,EAAI26B,EAAU73F,EAAOi3D,GAC1D,GACI57D,GADAkhE,EAAKW,EAAGi5B,WAAWj8B,KAEnB75D,EAAML,EAAM63F,EAChB,KAAKx8F,EAAI,EAAGA,EAAIkhE,EAAGhhE,QACXghE,EAAGlhE,GAAGw8F,KAAcx3F,EADDhF,KAK3B,MAAOA,GAAIkhE,EAAGhhE,OAAS0F,EAAMs7D,EAAGlhE,GAAI2E,GAAS,MAE1Cs2F,GACTL,IAOE6B,GAA4B,SAAU/7D,GAEtC,QAAS+7D,KACL,MAAkB,QAAX/7D,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KA8W/D,MAhXA83B,IAAUg9D,EAAY/7D,GAWtB+7D,EAAWt5F,UAAU+3F,aAAe,SAAUr5B,EAAIpgE,EAAOi7F,GACrD,GAIIvpF,GACAwqD,EALAlD,EAAU9yD,KAAKg1F,gBAAgBl7F,GAC/B08D,EAAU/D,GAAM8D,iBAAiBz8D,EAAMg5D,SAAU,WAAY,SAAU,SAAU,SAAU,YAC3F13D,EAAStB,EAAMsB,OACf60B,EAAMiqC,EAAGi5B,WAAWljE,IAGpB6lC,EAAO,KACPxhD,EAAUtU,KAAKsU,QACf2gF,GAAY7/B,SAAW8/B,UAAYC,WAAaC,YAAcj9B,cAE9D,WAAY3B,IACZhrD,EAAOgrD,EAAQg+B,OAGfx+B,IAFAA,EAAOpC,GAAS/2D,SAAS2O,EAAKoqD,UAAW97D,IAE1B,IADfg8D,EAAOlC,GAAS/2D,SAAS2O,EAAKqqD,SAAU/7D,KAGnC,WAAa08D,KAElBR,GADAxqD,EAAOgrD,EAAQi+B,SACHl3F,MACZu4D,EAAOtqD,EAAKwU,IAAMxU,EAAKjO,MAG3B,KAASlF,EAAI,EAAGA,EAAIy6D,EAAQsC,MAAM78D,OAAQF,IACtCmT,EAAOooD,GAAS/2D,SAASi2D,EAAQsC,MAAM/8D,GAAG+I,EAAEozD,UAAW16D,GACvDm7F,EAAQ7/B,MAAMp8D,KAAK46D,GAAS+F,oBAAoB35D,KAAM,cAAgBizB,KAAMznB,EAAMiqD,UAAW3C,EAAQsC,MAAM/8D,GAAG+I,EAAEq0D,WAAa37D,GAG7Hi7F,KACAvpF,EAAOxL,KAAKq1F,eAAeN,EAAkBj7F,KAEzCm7F,EAAQE,QAAQn8F,KAAK46D,GAAS+F,oBAAoB35D,KAAM,cAAewL,EAAKgsD,SAAU19D,GAI9F,KAASzB,EAAI,EAAGA,EAAIy6D,EAAQqiC,QAAQ58F,OAAQF,IAAK,CAC7C48F,EAAQE,QAAQn8F,KAAK46D,GAAS+F,oBAAoB35D,KAAM,cAAe8yD,EAAQqiC,QAAQ98F,GAAG+I,EAAEo2D,SAAU19D,GAEtG,KAAK,GAAIuE,GAAK,EAAGiC,EAD0B,gBAAvB20F,GAAQE,QAAQ98F,GAAkBkG,OAAOjB,KAAK23F,EAAQE,QAAQ98F,OAChDgG,EAAKiC,EAAO/H,OAAQ8F,IAAM,CACpD6M,EAAO5K,EAAOjC,EACdu1D,IAASgH,OAAO,EAAU1vD,WACnB+pF,GAAQ/pF,IAK3B,IAAS7S,EAAI,EAAGA,EAAIy6D,EAAQsiC,SAAS78F,OAAQF,IACzCmT,EAAOsnD,EAAQsiC,SAAS/8F,GAAG+I,EAC3B6zF,EAAQG,SAASp8F,KAAK46D,GAAS+F,oBAAoB35D,KAAM,gBACrDmV,OAAQ3J,EAAKupD,WACbN,SAAUjpD,EAAKipD,SACfp3D,IAAKmO,EAAKspD,UACVj9D,WAAY2T,EAAK3T,YAClBiC,GAGP,KAASzB,EAAI,EAAGA,EAAIy6D,EAAQoiC,OAAO38F,OAAQF,IACvC48F,EAAQC,OAAOl8F,KAAK46D,GAAS/2D,SAASi2D,EAAQoiC,OAAO78F,GAAG+I,EAAEozD,UAAW16D,GAGzE,KAAK,GAAIzB,GAAI,EAAGA,EAAIy6D,EAAQqF,WAAW5/D,OAAQF,IAC3CmT,EAAOsnD,EAAQqF,WAAW9/D,GAAG+I,EAC7B6zF,EAAQ98B,WAAWn/D,MAAOe,KAAMyR,EAAKzR,KAAMu5D,MAAOM,GAAS/2D,SAAS2O,EAAK8nD,MAAOx5D,IAEpF,IAAIqgE,KACJn6D,MAAKs1F,gBAAgBhhF,EAASxa,EAAO08D,EAASy+B,EAAS96B,GAEvDvG,GAAS+F,oBAAoB35D,KAAM,aAAek6D,GAAIA,EAAIpgE,MAAOA,EAAOsB,OAAQA,EAAQg/D,UAAWD,GAGnG,KAAK,GAAIn3D,GAAK,EAAGovF,EADN7zF,OAAOjB,KAAK68D,GACSn3D,EAAKovF,EAAO75F,OAAQyK,IAAM,CACtD,GAAIkI,GAAOknF,EAAOpvF,IACd4wD,GAASgH,OAAOT,EAAIjvD,KAAwB,KAAdivD,EAAIjvD,IAAqC,IAArBivD,EAAIjvD,GAAM3S,eACrD4hE,GAAIjvD,GAGboJ,EAAQ0hD,OAAQmE,IAAO7lD,EAAQwhD,OAAQqE,IAAiB,OAATrE,IACjDqE,EAAI7lD,EAAQ0hD,MAAQpC,GAAS+F,oBAAoB35D,KAAM,SAAUg2D,EAAMl8D,GACvEqgE,EAAI7lD,EAAQwhD,MAAQlC,GAAS+F,oBAAoB35D,KAAM,SAAU81D,EAAMh8D,GAE3E,IAAIs+B,GAAIp4B,KAAKozF,GAEb,OADApzF,MAAKozF,OAC4B,SAA7BpzF,KAAKsU,QAAQ4+E,aAETz2F,KAAMq1B,KAAKouB,UAAUia,GACrBlqC,IAAKA,EACLslE,QAASn9D,EACTr+B,KAAM,OACN+1B,YAAa,oCAGrBtkB,EAAOxL,KAAKw1F,qBAAqBr7B,EAAKrgE,EAAOogE,GAC7C1uD,IAA4C,IAApC0uD,EAAGi5B,WAAWljE,IAAIzxB,QAAQ,KAAc,IAAM,KAAOgN,GAEzDzR,KAAM,MAAOk2B,IAAKzkB,EAAKjT,OAAS03B,EAAIt2B,QAAQ,OAAQ6R,GAAQykB,EAAKslE,QAASn9D,KAGlF08D,EAAWt5F,UAAU85F,gBAAkB,SAAUhhF,EAASxa,EAAO08D,EAASy+B,EAASQ,GAC/E,GACIt7B,GAAMs7B,CACVt7B,GAAI7lD,EAAQo+C,MAAQ54D,EAAMk5D,UACtB1+C,EAAQ5Y,OAAS5B,EAAM+4D,UAAUt6D,SACjC4hE,EAAI7lD,EAAQ5Y,OAAS,cAAgBsE,MAAO4zD,GAAS+F,oBAAoB35D,KAAM,aAAclG,EAAM+4D,WAAa,KAE/G/4D,EAAM+4D,UAAUt6D,QAAU+b,EAAQ+/C,SACnC8F,EAAI7lD,EAAQ+/C,QAAU,YAAcr0D,OAAQ,YAAcw2D,GACtD5C,GAAS+F,oBAAoB35D,KAAM,YAAc01F,QAAS9hC,GAAS/2D,SAAS25D,EAAQo+B,SAAS7/B,WAAYj7D,GAAQo5D,QAASp5D,EAAMo5D,SAAWp5D,GAASA,EAAMo5D,SAElKiH,EAAI7lD,EAAQ3O,QAAU,YAAc6wD,KAAY18D,EAAM+4D,UAAUt6D,OAC5Dq7D,GAAS+F,oBAAoB35D,KAAM,WAAY4zD,GAAS/2D,SAAS25D,EAAQo+B,SAAS7/B,WAAYj7D,GAAQA,GAAS,GACnHqgE,EAAI7lD,EAAQ2L,OAASnmB,EAAMk6D,gBAAkBJ,GAAS+F,oBAAoB35D,KAAM,UAAWlG,EAAMk6D,gBAAiBl6D,GAAS,GAC3HqgE,EAAI7lD,EAAQugD,QAAUogC,EAAQG,SAAS78F,OAASq7D,GAAS+F,oBAAoB35D,KAAM,WAAYi1F,EAAQG,SAAUt7F,GAAS,GAC1HqgE,EAAI7lD,EAAQ0hD,MAAQ,UAAYQ,GAC5B5C,GAAS+F,oBAAoB35D,KAAM,SAAU4zD,GAAS/2D,SAAS25D,EAAQm+B,OAAO5+B,IAAKj8D,GAAQA,GAAS,GACxGqgE,EAAI7lD,EAAQwhD,MAAQ,UAAYU,GAC5B5C,GAAS+F,oBAAoB35D,KAAM,SAAU4zD,GAAS/2D,SAAS25D,EAAQk+B,OAAO3+B,IAAKj8D,GAAQA,GAAS,GACxGqgE,EAAI7lD,EAAQigD,OAAS0gC,EAAQE,QAAQ58F,QAAU08F,EAAQG,SAAS78F,OAC5Dq7D,GAAS+F,oBAAoB35D,KAAM,UAAWi1F,EAAQE,QAASr7F,GAAS,GAC5EqgE,EAAI7lD,EAAQ4gD,QAAU+/B,EAAQ7/B,MAAM78D,OAASq7D,GAAS+F,oBAAoB35D,KAAM,WAAYi1F,EAAQ7/B,MAAOt7D,GAAS,GACpHqgE,EAAI7lD,EAAQovB,OAASuxD,EAAQC,OAAO38F,OAASq7D,GAAS+F,oBAAoB35D,KAAM,UAAWi1F,EAAQC,OAAQp7F,GAAS,GACpHqgE,EAAI7lD,EAAQ6jD,YAAc88B,EAAQ98B,WAAW5/D,OACzCq7D,GAAS+F,oBAAoB35D,KAAM,eAAgBi1F,EAAQ98B,WAAYr+D,GAAS,GACpFqgE,EAAS,UAQb26B,EAAWt5F,UAAUg6F,qBAAuB,SAAUP,EAASn7F,EAAOogE,GAClE,MAAO,IAYX46B,EAAWt5F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,GAC5E,GAAIgC,GAAWV,EACX7B,EAAMuC,EAASJ,YACfl9B,EAAU57D,EAAK47D,OACnB,IAAIkC,GAAOA,EAAIpoC,kBAAkB,kBAC6B,IAA1DooC,EAAIpoC,kBAAkB,gBAAgB3zB,QAAQ,OAC9C,MAAQ1E,GAAMk6D,iBAAoBh1D,UAAYihB,MAAO,KAEzD,IAAIiY,GAAIpG,KAAKC,MAAM4jE,EAASl5F,KAC5B,IAAIy7B,GAAkB,UAAbA,EAAEozB,QAAsB7uD,EAAKq3F,aAElC,MADAH,GAAQG,aAAer3F,EAAKq3F,aACrBH,CAEPl3F,GAAKy7B,IACLz7B,EAAOA,EAAKy7B,EAEhB,IAAIj4B,KAMJ,OALI,SAAWxD,KACXwD,EAAKggB,MAAQxjB,EAAKwjB,OAEtBhgB,EAAKjB,OAASvC,EAAKuC,OAASvC,EAAKuC,OAASvC,EAC1CuD,KAAK41F,mBAAmBxC,EAAK32F,EAAMwD,EAAMo4D,EAASv+D,GAC3C85D,GAASgH,OAAO36D,EAAKggB,OAAShgB,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQihB,MAAOhgB,EAAKggB,MAAOk4C,WAAYl4D,EAAKk4D,aAOlH28B,EAAWt5F,UAAU84F,QAAU,SAAUlzF,GAErC,MADApB,MAAKozF,IAAI8B,OAAS9zF,EACXA,GAOX0zF,EAAWt5F,UAAU04F,aAAe,SAAU9yF,GAC1CpB,KAAKozF,IAAIj7B,WAAa/2D,GAS1B0zF,EAAWt5F,UAAUk4F,aAAe,SAAUx5B,EAAIy5B,EAASvyF,EAAGtH,EAAO+7F,GAGjE,OACI97F,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAW2C,UAAY57B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAW6C,WAAa97B,EAAGi5B,WAAWljE,IACjGH,YAAa,kCACb+B,SAAU,OACVp1B,KAAMq1B,KAAKouB,UAAUvhD,MACjBs3F,QAAStC,EAAQI,eACjBmC,MAAOvC,EAAQG,aACfqC,QAASxC,EAAQE,eACjBvoC,OAAQ,QACR8qC,MAAOh1F,MAZX6uB,IAaI5yB,IAAK+D,MAZT/D,KAaGu2D,GAASoG,aAAah6D,KAAMk6D,EAAIpgE,OAU3Cg7F,EAAWt5F,UAAU81B,WAAa,SAAU4oC,EAAI+6B,KAShDH,EAAWt5F,UAAUutD,OAAS,SAAUmR,EAAIz9D,EAAMw3D,EAAWn6D,GACzD,OACIm2B,IAAKiqC,EAAGi5B,WAAWkD,WAAan8B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACvExzB,KAAMq1B,KAAKouB,UAAUvhD,MACjB3B,MAAOP,EACP25F,MAAOniC,EACP3I,OAAQ,UACTsI,GAASoG,aAAah6D,KAAMk6D,EAAIpgE,OAU3Cg7F,EAAWt5F,UAAUkJ,OAAS,SAAUw1D,EAAI26B,EAAU73F,EAAOi3D,EAAWn6D,GACpE,OACIC,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAW6C,WAAa97B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACvExzB,KAAMq1B,KAAKouB,UAAUvhD,MACjBtB,IAAKL,EACLs5F,UAAWzB,EACXuB,MAAOniC,EACP3I,OAAQ,UACTsI,GAASoG,aAAah6D,KAAMk6D,EAAIpgE,OAU3Cg7F,EAAWt5F,UAAUw4F,OAAS,SAAU95B,EAAI26B,EAAU73F,EAAOi3D,EAAWn6D,GACpE,OACIC,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAWoD,WAAar8B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACvExzB,KAAMq1B,KAAKouB,UAAUvhD,MACjB3B,MAAOA,EACPsuD,OAAQ,SACRgrC,UAAWzB,EACXx3F,IAAKL,EAAM63F,GACXuB,MAAOniC,GACRL,GAASoG,aAAah6D,KAAMk6D,EAAIpgE,OAS3Cg7F,EAAWt5F,UAAU65F,eAAiB,SAAU54F,EAAM3C,GAClD,GACIkD,GADAK,EAAMvD,EAAMi5D,KAEZ7nD,EAAO7N,EACP47D,EAAOn/D,EAAMuD,IACbm5F,IACmB,iBAAZ/5F,GAAK,KACZyO,EAAO,KAEX,KAAK,GAAI7S,GAAI,EAAGA,EAAIoE,EAAKlE,OAAQF,IAEzB2E,EADmB,gBAAZP,GAAK,GACJm3D,GAASzsD,UAAU8xD,GAAQ/tD,EAAMzO,EAAKpE,IAGtCoE,EAAKpE,GAEjBm+F,EAAUx9F,KAAK,GAAI47D,IAAUv3D,EAAK,QAASL,GAE/C,OAAO43D,IAAUoC,GAAGw/B,IAExB1B,EAAWt5F,UAAUo6F,mBAAqB,SAAUxC,EAAK32F,EAAMwD,EAAMo4D,EAASv+D,GAC1E,GAAI+uC,GAAQpsC,CAIZ,IAHIA,GAAQA,EAAKuC,SACb6pC,EAAQpsC,EAAKuC,QAEbo0F,GAAOA,EAAIj7B,YAAci7B,EAAIj7B,WAAW5/D,OAAQ,CAChD,GAAIk7F,GAAML,EAAIj7B,WACVhE,MAAK,GACLsiC,EAAgB5tD,EAChBrE,IACA/nC,GAAK45D,YACLogC,EAAgBh6F,EAAK45D,UAEzB,KAASh+D,EAAI,EAAGA,EAAIo7F,EAAIl7F,OAAQF,KAC5B87D,EAAKP,GAASuE,WAAWs7B,EAAIp7F,GAAG0B,SAE5ByqC,EAAIivD,EAAIp7F,GAAGi7D,MAAQ,MAAQmgC,EAAIp7F,GAAG0B,MAAQo6D,EAAGsiC,EAAehD,EAAIp7F,GAAGi7D,OAG3ErzD,GAAKk4D,WAAa3zB,EAEtB,GAAI4uD,GAAOA,EAAI8B,QAAU9B,EAAI8B,OAAO38F,OAAQ,CAExC,IAAK,GADD28F,GAAS9B,EAAI8B,OACR78F,EAAI,EAAGA,EAAI68F,EAAO38F,OAAQF,IAAK,CAE/BoF,EAAkB46D,KACnBA,EAAUzE,GAASlwB,MAAM20B,EAAS68B,EAAO78F,IAE7C,IAAIq+F,GAAajkC,GAAM+C,cAAc17D,EAAMg5D,QAAS,WAAWz6D,GAAG+I,CAClEynC,GAAQ+qB,GAASlwB,MAAMmF,EAAOqsD,EAAO78F,GAAI+6F,EAAIj7B,WALjC,KAKoDE,EAASq+B,EAAW1hC,UAExF/0D,EAAKjB,OAAS6pC,EAElB,MAAO5oC,IAEX60F,EAAWt5F,UAAUw5F,gBAAkB,SAAUl7F,GAC7C,GAAIqgE,IAAQ/E,SAAW8/B,UAAYC,WAAaC,YAAcj9B,cAM9D,OALAgC,GAAI/E,MAAQ3C,GAAM+C,cAAc17D,EAAMg5D,QAAS,YAC/CqH,EAAI+6B,OAASziC,GAAM+C,cAAc17D,EAAMg5D,QAAS,WAChDqH,EAAIg7B,QAAU1iC,GAAM+C,cAAc17D,EAAMg5D,QAAS,WACjDqH,EAAIi7B,SAAW3iC,GAAM+C,cAAc17D,EAAMg5D,QAAS,YAClDqH,EAAIhC,WAAa1F,GAAM+C,cAAc17D,EAAMg5D,QAAS,gBAC7CqH,GAEX26B,EAAWt5F,UAAU04D,UAAY,SAAU5/C,GAEvC,IAAK,GADD6lD,GAAM7lD,EAAQ8lD,UACT/7D,EAAK,EAAG2E,EAAKsR,EAAQlZ,OAAQiD,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACxD,GAAI28D,GAAMh4D,EAAG3E,EACb,IAAI87D,EAAIa,EAAI39D,KACR,KAAM,IAAI8D,OAAM,2EAEpBg5D,GAAIa,EAAI39D,KAAO29D,EAAIh+D,MACfg+D,EAAI7G,KACJgG,EAAIa,EAAI39D,KAAO29D,EAAI7G,GAAGvzD,KAAK0T,EAAQxa,MAAOkhE,EAAI39D,IAAKiX,EAAQxa,MAAOwa,EAAQ4lD,OAI/E46B,GACT7B,IAME0D,GAA8B,SAAU59D,GAExC,QAAS49D,GAAaxsF,GAClB,GAAIpK,GAAQg5B,EAAOn4B,KAAKZ,OAASA,IAwBjC,OAtBAD,GAAMuU,QAAU3V,KAAWoB,EAAMuU,SAC7B4+E,YAAa,MACbxrC,OAAQ,wEACRkvC,gBAAiB,kBACjB1hC,OAAQ,WACRvvD,OAAQ,UACRqwD,KAAM,QACNF,KAAM,OACN71C,MAAO,eACPs0C,MAAO,UACPF,OAAQ,UACRwiC,MAAO,SACPC,UAAW,eACXC,SAAU,SACVC,UAAW,eACXC,aAAc,2CACdC,iBAAkB,qEAClBC,0BAA2B,iDAC3BC,WAAY,QAEhBr3F,EAAMmH,cAAgBrK,EAAS,gBAAiBkD,GAChDpB,EAAOoB,EAAMuU,QAASnK,OACfpK,EA+gBX,MAziBA+3B,IAAU6+D,EAAc59D,GAiCxB49D,EAAan7F,UAAU67F,YAAc,SAAU1iC,EAAW76D,EAAOw9F,GAC7D,GACI7iC,GACA8iC,EAFAC,EAAc,GAGdrtE,EAAMwqC,EAAU33D,MAChBjD,QAAcowB,GACdmpC,EAAQqB,EAAUrB,MAAQqjC,EAAac,SAAS9iC,EAAUrB,OAAS,IAoBvE,IAnBInpC,YAAe9H,QACf8H,EAAM,YAAeypC,GAAS7hC,MAAMkgE,SAAS9nE,GAAO,KAE3C,WAATpwB,IACAowB,EAAM,IAAOA,EAAM,IACfmtE,IACAhkC,EAAQ,QAAUA,EAAQ,mBAE1BM,GAAS7hC,MAAMigE,OAAO7nE,KACtBotE,EAAO,QAEP5iC,EAAU98D,aACL0/F,IACDjkC,EAAQ,WAAaA,EAAQ,KAEjCnpC,EAAMA,EAAIhyB,gBAGlBs8D,EAAWb,GAASqI,aAAatH,EAAUF,UAOvC,MALA+iC,IAAelkC,EACfkkC,GAAe/iC,EACX8iC,IACAC,GAAeD,GAEZC,EAAcrtE,CAUzB,IARK1sB,EAAkBuC,KAAKkH,eAMxButD,EAAWb,GAAS4I,cAAc7H,EAAUF,UALf,mBAAzBz0D,KAAKkH,kBACLutD,EAAWb,GAAS+I,gBAAgBhI,EAAUF,WAMrC,gBAAbA,EAA4B,CAC5B,GAAIjpD,GAAO2e,CACXA,GAAMmpC,EACNA,EAAQ9nD,EAQZ,MANAgsF,IAAe/iC,EAAW,IAC1B+iC,GAAelkC,EAAQ,IACnBikC,IACAC,GAAeD,GAEnBC,GAAertE,EAAM,KAGzBwsE,EAAan7F,UAAU04D,UAAY,SAAU5/C,GACzCykB,EAAOv9B,UAAU04D,UAAUtzD,KAAKZ,KAAMsU,SAC/BA,GAAQ8lD,UAAUh/D,QAO7Bu7F,EAAan7F,UAAUk8F,mBAAqB,SAAU/iC,EAAW76D,EAAOw9F,GAEpE,IAAK,GADD9yD,MACKnsC,EAAI,EAAGA,EAAIs8D,EAAUkC,WAAWt+D,OAAQF,IAC7CmsC,EAAIxrC,KAAK,IAAMgH,KAAK23F,YAAYhjC,EAAUkC,WAAWx+D,GAAIyB,EAAOw9F,GAAgB,IAEpF,OAAO9yD,GAAIhkC,KAAK,IAAMm0D,EAAUiC,UAAY,MAOhD+/B,EAAan7F,UAAUm8F,YAAc,SAAUliE,EAAQ37B,EAAOw9F,GAC1D,MAAO7hE,GAAOihC,UAAY12D,KAAK03F,mBAAmBjiE,EAAQ37B,EAAOw9F,GAAgBt3F,KAAKq3F,YAAY5hE,EAAQ37B,EAAOw9F,IAMrHX,EAAan7F,UAAUy4F,QAAU,SAAUkB,GAIvC,MAHIn1F,MAAKozF,IAAIv+B,QACTsgC,EAAQn8F,KAAKgH,KAAK23F,YAAY33F,KAAKozF,IAAIv+B,OAAQ,MAAM,IAElDsgC,EAAQ30F,KAAK,UASxBm2F,EAAan7F,UAAUo8F,aAAe,SAAUx2F,GACxCA,EAAE+T,QAA8B,IAApB/T,EAAE+T,OAAO5c,QACrBq7D,GAAS3yD,WAAW,yEAGxB,KAAK,GADDw0B,GAASz1B,KAAKozF,IAAIv+B,WACbx8D,EAAI,EAAGA,EAAI+I,EAAE+T,OAAO5c,OAAQF,IACjCo9B,EAAOz8B,KAAK,GAAI47D,IAAUxzD,EAAE+T,OAAO9c,GAAI+I,EAAEqzD,SAAUrzD,EAAE/D,IAAK+D,EAAEvJ,YAEhEmI,MAAKozF,IAAIv+B,OAASp/B,GAMtBkhE,EAAan7F,UAAU24F,SAAW,SAAU/yF,GAExC,MADApB,MAAKozF,IAAIv+B,OAASD,GAAUoC,GAAGh3D,KAAKozF,IAAIv+B,QACjC,IAMX8hC,EAAan7F,UAAUq8F,WAAa,SAAUz2F,GAC1C,GAAIojC,KACJ,IAAIpjC,EAAE6xB,eAAgBx0B,OAClB,IAAK,GAAIpG,GAAI,EAAGA,EAAI+I,EAAE6xB,KAAK16B,OAAQF,IAC/BmsC,EAAIxrC,KAAK29F,EAAac,SAASr2F,EAAE6xB,KAAK56B,KAAuB,eAAhB+I,EAAEq0D,UAA6B,QAAU,SAI1FjxB,GAAIxrC,KAAK29F,EAAac,SAASr2F,EAAE6xB,OAAyB,eAAhB7xB,EAAEq0D,UAA6B,QAAU,IAEvF,OAAOjxB,GAAIhkC,KAAK,MAMpBm2F,EAAan7F,UAAU44F,SAAW,SAAUhzF,GACxC,MAAOA,GAAE02F,UAAUt3F,KAAK,MAO5Bm2F,EAAan7F,UAAU84F,QAAU,SAAUlzF,GAEvC,MADApB,MAAKozF,IAAI8B,OAAS9zF,MAOtBu1F,EAAan7F,UAAUo5F,SAAW,SAAUxzF,GACxC,IAAK,GAAI/I,GAAI,EAAGA,EAAI+I,EAAE7I,OAAQF,IAC1B+I,EAAE/I,GAAKs+F,EAAac,SAASr2F,EAAE/I,GAEnC,OAAO+I,GAAEZ,KAAK,MAOlBm2F,EAAan7F,UAAU04F,aAAe,SAAU9yF,GAE5C,MADApB,MAAKozF,IAAIj7B,WAAa/2D,EACf,IAOXu1F,EAAan7F,UAAUu8F,QAAU,SAAU32F,GACvC,OAAa,IAANA,EAAa,WAAa,IASrCu1F,EAAan7F,UAAU81B,WAAa,SAAU4oC,EAAI+6B,EAAS+C,GACnDpkC,GAAS0B,SAAS0iC,EAAS/nE,IAAKjwB,KAAKsU,QAAQuiF,QAA0C,SAAhCmB,EAASj+F,KAAK5B,eACrE88F,EAAQ5jE,iBAAiB,SAAUrxB,KAAKsU,QAAQsiF,iBAChD3B,EAAQ5jE,iBAAiB,qBAAsB,OAC/C4jE,EAAQgD,iBAAiB,uCAGzBhD,EAAQ5jE,iBAAiB,SAAUrxB,KAAKsU,QAAQozC,QAEpDutC,EAAQ5jE,iBAAiB,qBAAsB,OAC/C4jE,EAAQ5jE,iBAAiB,wBAAyB,QAYtDslE,EAAan7F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,GAE9E,IAAKl2F,EAAkBhB,EAAKy7B,GAAI,CAC5B,GAAIggE,GAAap+F,GAASA,EAAMk6D,gBAAmBv3D,EAAKy7B,EAAEigE,QAAU17F,EAAKy7B,CAEzE,KAAKz6B,EAAkBy6F,GACnB,IAAK,GAAI7/F,GAAI,EAAGA,EAAI6/F,EAAS3/F,OAAQF,IAC5BoF,EAAkBy6F,EAAS7/F,GAAW,mBAChC6/F,GAAS7/F,GAAW,WAK3C,GAAI+6F,GAAM6B,GAAWA,EAAe,QAChCmD,EAAgBp4F,KAAKq4F,qBAAqB57F,EAAM3C,EAAOygE,EAAK06B,EAAStB,EACzE,IAAIyE,EACA,MAAOA,EAEX,IAAIE,GAAe/9B,GAAO06B,EAAQ9iE,kBAAkB,sBAChDlS,EAAQ,KACR4I,EAAWyvE,GAAgBt+D,SAASs+D,EAAc,KAAQ,CAC9D,IAAIx+F,GAASA,EAAMk6D,gBAAiB,EAE5Bv3D,EAAe,SAAKA,EAAK,kBACzBwjB,EAAQxjB,EAAe,SAAKA,EAAK,gBAEjCA,EAAKy7B,IACLz7B,EAAOA,EAAKy7B,IAEZz7B,EAAe,SAAKA,EAAK,kBACzBwjB,EAAQxjB,EAAe,SAAKA,EAAK,gBAGzB,IAAZosB,GAAiBpsB,EAAKO,QACtBP,EAAOA,EAAKO,OAEZP,EAAKy7B,IACLz7B,EAAOA,EAAKy7B,GAEZrP,EAAU,GAAKpsB,EAAK07F,UACpB17F,EAAOA,EAAK07F,QAEhB,IAAIl4F,KAIJ,OAHAA,GAAKggB,MAAQA,EACbhgB,EAAKjB,OAASvC,EACduD,KAAK41F,mBAAmBxC,EAAK32F,EAAMwD,EAAM,KAAMnG,GACxC85D,GAASgH,OAAO36C,GAAShgB,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQihB,MAAOhgB,EAAKggB,MAAOk4C,WAAYl4D,EAAKk4D,aAS7Gw+B,EAAan7F,UAAUg6F,qBAAuB,SAAUP,EAASn7F,EAAOogE,GACpE,GAAI11B,MAEAyvB,EAAYghC,EAAa,OAAK,SAE3BA,GAAa,MAChB/6B,EAAGi5B,WAAWoF,iBACdtD,EAAc,QAAI,OAGtB,KAAK,GAAI52F,GAAK,EAAGm6F,EADNj6F,OAAOjB,KAAK23F,GACS52F,EAAKm6F,EAAOjgG,OAAQ8F,IAAM,CACtD,GAAI6M,GAAOstF,EAAOn6F,EAClBmmC,GAAIxrC,KAAKkS,EAAO,IAAM+pF,EAAQ/pF,IAGlC,MADAs5B,GAAMA,EAAIhkC,KAAK,KACX05D,EAAGi5B,WAAWljE,MAA2C,IAApCiqC,EAAGi5B,WAAWljE,IAAIzxB,QAAQ,OAAgBy1D,EACxDzvB,EAEJA,EAAIjsC,OAAS07D,EAAY,IAAMzvB,EAAMyvB,GAAa,IAE7D0iC,EAAan7F,UAAUi9F,kBAAoB,SAAUp7F,EAAKq7F,GACtD,IAAK,GAAIr6F,GAAK,EAAG2E,EAAMvF,EAAkBi7F,MAAcn6F,OAAOjB,KAAKo7F,GAAkBr6F,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACvG,GAAI6M,GAAOlI,EAAG3E,EACTq6F,GAAWxtF,YAAiBmX,QAC7Bq2E,EAAWxtF,GAAQ0oD,GAASi+B,UAAUc,YAAY+F,EAAWxtF,KAGrE,MAAOwtF,IAQX/B,EAAan7F,UAAUutD,OAAS,SAAUmR,EAAIz9D,EAAMw3D,GAChD,OACIhkC,IAAKiqC,EAAGi5B,WAAWljE,IAAIt2B,QAAQ,OAAQs6D,EAAY,IAAMA,EAAY,IACrEx3D,KAAMq1B,KAAKouB,UAAUzjD,EAAMuD,KAAKsU,QAAQqkF,UAAY34F,KAAKy4F,kBAAoB,QAUrF9B,EAAan7F,UAAUkJ,OAAS,SAAUw1D,EAAI26B,EAAU73F,EAAOi3D,GAC3D,GAAIhkC,EAOJ,OAFIA,GAJiB,gBAAVjzB,IAAuB42D,GAAS7hC,MAAMigE,OAAOh1F,GAI9C,IAAMA,EAAQ,IAHd,KAAOA,EAAQ,MAMrBjD,KAAM,SACNk2B,IAAKiqC,EAAGi5B,WAAWljE,IAAIt2B,QAAQ,OAAQs6D,EAAY,IAAMA,EAAY,IAAMhkC,IAWnF0mE,EAAan7F,UAAUw4F,OAAS,SAAU95B,EAAI26B,EAAU73F,EAAOi3D,EAAWn6D,EAAO+7F,GAC7C,UAA5B71F,KAAKsU,QAAQ8iF,YAA2B35F,EAAkBo4F,KAC1D74F,EAAQgD,KAAK44F,iBAAiB57F,EAAO64F,EAAUhB,GAEnD,IAAI5kE,EAOJ,OAFIA,GAJ2B,gBAApBjzB,GAAM63F,IAA2BjhC,GAAS7hC,MAAMigE,OAAOh1F,EAAM63F,IAI9D,IAAM73F,EAAM63F,GAAY,IAHxB,KAAO73F,EAAM63F,GAAY,MAM/B96F,KAAMiG,KAAKsU,QAAQ8iF,WACnBnnE,IAAKiqC,EAAGi5B,WAAWljE,IAAIt2B,QAAQ,OAAQs6D,EAAY,IAAMA,EAAY,IAAMhkC,EAC3ExzB,KAAMq1B,KAAKouB,UAAUljD,EAAOgD,KAAKsU,QAAQqkF,UAAY34F,KAAKy4F,kBAAoB,MAC9E/wC,OAAQ1nD,KAAKsU,QAAQozC,SAW7BivC,EAAan7F,UAAUk4F,aAAe,SAAUx5B,EAAIy5B,EAASvyF,EAAGtH,EAAO+7F,GACnE,GAAIgD,GAAcz3F,EAAEm2F,KAAO3jC,GAAS4G,QAAQx6D,KAAKsU,QAAQyiF,UACrD9mE,EAAMiqC,EAAGi5B,WAAWljE,IAAIt2B,QAAQ,OAAQ,IAAMqG,KAAKsU,QAAQuiF,OAC3D52F,GACAgwB,IAAK7uB,EAAE6uB,IACP5yB,IAAK+D,EAAE/D,IACPy7F,IAAK,EACLC,KAAMnlC,GAAS4G,QAAQx6D,KAAKsU,QAAQwiF,YAEpC38B,EAAM,KAAO0+B,EAAc,IAQ/B,OAPA1+B,IAAO,2CAA6Cl6D,EAAK84F,KAAKp/F,QAAQ,KAAM,IAAM,KAClFqG,KAAKozF,IAAI0D,UAAY,EACrB38B,GAAOn6D,KAAKg5F,sBAAsBrF,EAAQG,aAAc7zF,GACxDk6D,GAAOn6D,KAAKi5F,sBAAsBtF,EAAQI,eAAgB9zF,EAAM41F,EAAWA,EAAS9B,mBACpF55B,GAAOn6D,KAAKk5F,sBAAsBvF,EAAQE,eAAgB5zF,GAC1Dk6D,GAAOl6D,EAAK84F,KAAO,OACnB5+B,GAAO,KAAO0+B,EAAc,MAExB9+F,KAAM,OACNk2B,IAAKA,EACL4B,SAAU,OACV/B,YAAa,2CAA6C+oE,EAC1Dp8F,KAAM09D,IAUdw8B,EAAan7F,UAAU09F,sBAAwB,SAAUx+B,EAAKt5D,GAC1D,IAAKs5D,EACD,MAAO,EAEX,IACIy+B,IACAC,OAAU,UACVnpE,IAAO,SAAUxzB,EAAMpE,EAAGgF,GAAO,MAAO,IAAMZ,EAAKpE,GAAGgF,GAAO,KAC7DZ,KAAQ,SAAUA,EAAMpE,GAAK,MAAO,IAGxC,OADM2H,MAAKq5F,oBAAoB3+B,EAAKt5D,EAAG+3F,GAC1B,MAQjBxC,EAAan7F,UAAUw9F,sBAAwB,SAAUt+B,EAAKt5D,GAC1D,IAAKs5D,EACD,MAAO,EAEX,IACIy+B,IACAC,OAAU,QACVnpE,IAAO,SAAUxzB,EAAMpE,EAAGgF,GAAO,MAAO,IACxCZ,KAAQ,SAAUA,EAAMpE,GAAK,MAAOy5B,MAAKouB,UAAUzjD,EAAKpE,IAAM,QAGlE,OADM2H,MAAKq5F,oBAAoB3+B,EAAKt5D,EAAG+3F,IAS3CxC,EAAan7F,UAAUy9F,sBAAwB,SAAUv+B,EAAKt5D,EAAGk4F,GAC7D,GAAIv5F,GAAQC,IACZ,KAAK06D,EACD,MAAO,EAGXA,GAAIt7D,QAAQ,SAAUqjB,GAAU,MAAOA,GAAS1iB,EAAM64F,iBAAiBn2E,EAAQ62E,EAAI7jE,OAAO,SAAU8jE,GAAK,MAAO3lC,IAASzsD,UAAU/F,EAAE/D,IAAKk8F,KAAO3lC,GAASzsD,UAAU/F,EAAE/D,IAAKolB,KAAY,GAAIrhB,EAAE/D,MAC7L,IAAI87F,IACAC,OAAUp5F,KAAKsU,QAAQ8iF,WAAa,IACpCnnE,IAAO,SAAUxzB,EAAMpE,EAAGgF,GAAO,MAAO,IAAMZ,EAAKpE,GAAGgF,GAAO,KAC7DZ,KAAQ,SAAUA,EAAMpE,GAAK,MAAOy5B,MAAKouB,UAAUzjD,EAAKpE,IAAM,QAGlE,OADM2H,MAAKq5F,oBAAoB3+B,EAAKt5D,EAAG+3F,IAG3CxC,EAAac,SAAW,SAAUvsF,GAC9B,MAAOA,GAAKvR,QAAQ,MAAO,MAE/Bg9F,EAAan7F,UAAU69F,oBAAsB,SAAU3+B,EAAKt5D,EAAG+3F,GAE3D,IAAK,GADDh/B,GAAM,GACD9hE,EAAI,EAAGA,EAAIqiE,EAAIniE,OAAQF,IAC5B8hE,GAAO,KAAO/4D,EAAE23F,KAAO,KACvB5+B,GAAOn6D,KAAKsU,QAAQ4iF,iBAAmB,OACvC/8B,GAAOg/B,EAAKC,OACZj/B,GAAO/4D,EAAE6uB,IAAMkpE,EAAKlpE,IAAIyqC,EAAKriE,EAAG+I,EAAE/D,KAAO,cACzC88D,GAAO,WAAan6D,KAAKsU,QAAQozC,OAAS,KAC1CyS,GAAO,eAAiBn6D,KAAKozF,IAAI0D,YAAc,KAC/C38B,GAAOn6D,KAAKsU,QAAQ6iF,0BAA4B,KAC3C15F,EAAkBi9D,EAAIriE,GAAG,gBAK1B8hE,GAAO,MAJPA,GAAO,aAAeO,EAAIriE,GAAG,eAAiB,aACvCqiE,GAAIriE,GAAG,gBAKlB8hE,GAAOg/B,EAAK18F,KAAKi+D,EAAKriE,EAE1B,OAAO8hE,IAEXw8B,EAAan7F,UAAU68F,qBAAuB,SAAU57F,EAAM3C,EAAOygE,EAAK06B,EAAStB,GAC/E,GAAIp5B,GAAOA,EAAIpoC,kBAAkB,kBAA6E,IAA1DooC,EAAIpoC,kBAAkB,gBAAgB3zB,QAAQ,OAC9F,MAAQ1E,GAAMk6D,iBAAoBh1D,UAAYihB,MAAO,KAEzD,IAAIg1E,GAAWj1F,KAAKsU,QAAQuiF,OAASjjC,GAAS0B,SAAS2/B,EAAQhlE,IAAKjwB,KAAKsU,QAAQuiF,QAAyC,SAA/B5B,EAAQl7F,KAAK5B,cAA0B,CAC9H,GAAIo/F,GAAOh9B,EAAIpoC,kBAAkB,gBAC7BqnE,MAAO,GACPC,MAAU,GACVvhE,EAAIz7B,EAAO,EAGf,IAFA86F,EAAOA,EAAKrxE,UAAUqxE,EAAK/4F,QAAQ,kBAAoB,IACvD05B,EAAIA,EAAEh7B,MAAMq6F,IACNh/F,OAAS,EACX,QAEJ2/B,GAAIA,EAAE,EACN,IAAIwhE,GAAQ,sDAAsDnnE,KAAK2F,EACnEwhE,IACAxhE,EAAEv+B,QAAQ+/F,EAAM,GAAI,GAIxB,KAAK,GAFDC,GAAaD,EAAQA,EAAM,GAAK,GAE3BrhG,GADT6/B,EAAIA,EAAEh7B,MAAMy8F,IACGphG,OAAQF,GAAK,EAAGA,IACtB,iBAAiB4B,KAAKi+B,EAAE7/B,KAAQ,cAAc4B,KAAKi+B,EAAE7/B,MAG1DmhG,EAAOx/D,SAAS,uBAAuBzH,KAAK2F,EAAE7/B,IAAI,GAAI,IAClDs7F,EAAQG,aAAa0F,KACrBC,EAAU7lC,GAAS7hC,MAAMw/D,UAAU,WAAWh/D,KAAK2F,EAAE7/B,IAAI,IACzDsG,KAAWg1F,EAAQG,aAAa0F,GAAOx5F,KAAKqzF,gBAAgBoG,KAGpE,OAAO9F,GAEX,MAAO,OAEXgD,EAAan7F,UAAUo9F,iBAAmB,SAAUn8F,EAAMo5F,EAAUx4F,GAChE,GAAI0C,GAAQC,IACZ,OAAIvC,GAAkBo4F,GACXp5F,GAEX8B,OAAOjB,KAAKb,GAAM2C,QAAQ,SAAU8L,GAC5BA,IAAS7N,GAAgB,gBAAT6N,IACZ0oD,GAASyG,cAAc59D,EAAKyO,KAC5BnL,EAAM64F,iBAAiBn8F,EAAKyO,GAAO2qF,EAAS3qF,IAEvB,IADT3M,OAAOjB,KAAKb,EAAKyO,IAAOuqB,OAAO,SAAUh5B,GAAQ,MAAgB,gBAATA,IAC1DlE,cACCkE,GAAKyO,IAGXzO,EAAKyO,KAAU2qF,EAAS3qF,SACtBzO,GAAKyO,GAEPzO,EAAKyO,IAAS2qF,EAAS3qF,IAASzO,EAAKyO,GAAM0uF,YAAc/D,EAAS3qF,GAAM0uF,iBACtEn9F,GAAKyO,MAIjBzO,IAEJk6F,GACT7B,IAOE+E,GAAgC,SAAU9gE,GAE1C,QAAS8gE,GAAe1vF,GACpB,GAAIpK,GAAQg5B,EAAOn4B,KAAKZ,KAAMmK,IAAUnK,IA2BxC,OAzBAD,GAAMuU,QAAU3V,KAAWoB,EAAMuU,SAC7B4+E,YAAa,MACbxrC,OAAQ,iDACRkvC,gBAAiB,kBACjB1hC,OAAQ,WACRvvD,OAAQ,UACRqwD,KAAM,QACNF,KAAM,OACN71C,MAAO,SACP40C,OAAQ,UACRN,MAAO,UACPF,OAAQ,UACRwiC,MAAO,SACPC,UAAW,eACXC,SAAU,SACVC,UAAW,eACXC,aAAc,2CACdC,iBAAkB,qEAClBC,0BAA2B,iDAC3BC,WAAY,QACZuB,WAAW,EACXj9F,MAAO,WAEXmB,EAAS,gBAAiBkD,EAAM+5F,iBAChCn7F,EAAOoB,EAAMuU,QAASnK,OACfpK,EA6IX,MA1KA+3B,IAAU+hE,EAAgB9gE,GAkC1B8gE,EAAer+F,UAAUs+F,cAAgB,WACrC,MAAO,kBAQXD,EAAer+F,UAAUu8F,QAAU,SAAU32F,GACzC,OAAa,IAANA,EAAa,OAAS,IAOjCy4F,EAAer+F,UAAU67F,YAAc,SAAU1iC,EAAW76D,EAAOw9F,GAC/D,GAAIE,GAAc,GAEduC,EADMplC,EAAU33D,gBACQqlB,KAK5B,OAJAm1E,GAAcz+D,EAAOv9B,UAAU67F,YAAYz2F,KAAKZ,KAAM20D,EAAW76D,EAAOw9F,GACpEyC,IACAvC,EAAcA,EAAY79F,QAAQ,kBAAmB,OAElD69F,GASXqC,EAAer+F,UAAUo8F,aAAe,SAAUx2F,GAC9C,GAAIyzD,GAAS70D,KAAKozF,IAAIgC,YACtBvgC,GAAO77D,KAAKoI,EAAE/D,KACd2C,KAAKozF,IAAIgC,SAAWvgC,GAMxBglC,EAAer+F,UAAU24F,SAAW,SAAU/yF,GAC1C,MAAOpB,MAAKozF,IAAIgC,SAAS50F,KAAK,SAMlCq5F,EAAer+F,UAAUw+F,SAAW,SAAU54F,GAC1C,GAAIrB,GAAQC,KACRi6F,KACAC,KACAhnC,EAAU9xD,EAAE8xD,QAAQvxD,QACpBw4F,IAmBJ,OAlBc/4F,GAAEs0F,QAAQjgE,OAAO,SAAU58B,GAAQ,MAAOA,GAAK2F,QAAQ,MAAQ,IACrEY,QAAQ,SAAUuG,GACtB,GAAI1I,GAAS0I,EAAOzI,MAAM,IACpBD,GAAO,IAAMg9F,KACfA,EAASh9F,EAAO,QAEpBg9F,EAASh9F,EAAO,IAAIjE,KAAKiE,EAAO,MAGpCsB,OAAOjB,KAAK28F,GAAU76F,QAAQ,SAAUi1D,IACF,IAA7BnB,EAAQ10D,QAAQ61D,IACjBnB,EAAQl6D,KAAKq7D,KAGrBnB,EAAQ9zD,QAAQ,SAAUi1D,GACtB6lC,EAAS7lC,GAAUA,IAAU4lC,GAAW5lC,EAAS,IAAMt0D,EAAMuU,QAAQ3O,OAAS,IAAMs0F,EAAS5lC,GAAQ7zD,KAAK,KAAO,IAAM6zD,IAE3H91D,OAAOjB,KAAK48F,GAAU96F,QAAQ,SAAUg7F,GAAM,MAAOD,GAAMnhG,KAAKkhG,EAASE,MAClED,EAAM35F,KAAK,MAMtBq5F,EAAer+F,UAAU6+F,WAAa,SAAUC,GAE5C,MAAO,YADMA,EAAet5D,IAAI,SAAUsyB,GAAS,MAAOqjC,IAAac,SAASnkC,KAAW9yD,KAAK,KAClE,MAMlCq5F,EAAer+F,UAAUo5F,SAAW,SAAUxzF,GAC1C,MAAO23B,GAAOv9B,UAAUo5F,SAASh0F,KAAKZ,KAAMoB,EAAEq0B,OAAO,SAAU58B,GAAQ,OAA8B,IAAvBA,EAAK2F,QAAQ,SAU/Fq7F,EAAer+F,UAAU81B,WAAa,SAAU4oC,EAAI+6B,EAAS+C,GACnC,SAAlBA,EAASj+F,MAAqC,QAAlBi+F,EAASj+F,MAAoC,UAAlBi+F,EAASj+F,MAChEk7F,EAAQ5jE,iBAAiB,SAAU,yBAEvC4jE,EAAQ5jE,iBAAiB,SAAUrxB,KAAKsU,QAAQozC,SAYpDmyC,EAAer+F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,GAChF,GACIP,GAAM6B,GAAWA,EAAe,QAChCmD,EAAgBr/D,EAAOv9B,UAAU68F,qBAAqBz3F,KAAKZ,KAAMvD,EAAM3C,EAAOygE,EAAK06B,EAAStB,EAChG,IAAIyE,EACA,MAAOA,EAEX,IAAIn4E,GAAQ,IAERnmB,IAASA,EAAMk6D,iBADH,gBAEKv3D,KACbwjB,EAAQxjB,EAHA,iBAMhBA,EAAQgB,EAAkBhB,EAAKO,OAAsBP,EAAbA,EAAKO,KAC7C,IAAIiD,KAIJ,OAHAA,GAAKggB,MAAQA,EACbhgB,EAAKjB,OAASvC,EACduD,KAAK41F,mBAAmBxC,EAAK32F,EAAMwD,EAAM,KAAMnG,GACxC85D,GAASgH,OAAO36C,GAAShgB,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQihB,MAAOA,EAAOk4C,WAAYl4D,EAAKk4D,aAEjG0hC,GACTlD,IAQE4D,GAA+B,SAAUxhE,GAEzC,QAASwhE,KACL,MAAkB,QAAXxhE,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAuF/D,MAzFA83B,IAAUyiE,EAAexhE,GAUzBwhE,EAAc/+F,UAAUutD,OAAS,SAAUmR,EAAIz9D,EAAMw3D,GACjD,OACIl6D,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAWljE,IACnBxzB,KAAMq1B,KAAKouB,UAAUzjD,KAU7B89F,EAAc/+F,UAAUkJ,OAAS,SAAUw1D,EAAI26B,EAAU73F,EAAOi3D,GAC5D,OACIl6D,KAAM,SACNk2B,IAAKiqC,EAAGi5B,WAAWljE,IAAM,IAAMjzB,EAC/BP,KAAMq1B,KAAKouB,UAAUljD,KAU7Bu9F,EAAc/+F,UAAUw4F,OAAS,SAAU95B,EAAI26B,EAAU73F,EAAOi3D,GAC5D,OACIl6D,KAAM,MACNk2B,IAAKiqC,EAAGi5B,WAAWljE,IACnBxzB,KAAMq1B,KAAKouB,UAAUljD,KAW7Bu9F,EAAc/+F,UAAU81B,WAAa,SAAU4oC,EAAI+6B,EAAS+C,GACxD/C,EAAQ5jE,iBAAiB,SAAU,mDAYvCkpE,EAAc/+F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,GAC/E,GACIP,GAAM6B,GAAWA,EAAe,QAChCh1E,EAAQ,KACRhgB,IACJ,IAAIg1F,GAA0C,SAA/BA,EAAQl7F,KAAK5B,cAA0B,CAClD,GAAImgG,GAAe/9B,GAAO06B,EAAQ9iE,kBAAkB,sBAChDtJ,EAAWyvE,GAAgBt+D,SAASs+D,EAAc,KAAQ,CAC1Dx+F,IAASA,EAAMk6D,kBACVJ,GAASgH,OAAOn+D,EAAK+9F,SACtBv6E,EAAQxjB,EAAK+9F,QAGjB3xE,EAAU,GAAKpsB,EAAKg+F,QACpBh+F,EAAOA,EAAKg+F,OAEhBx6F,EAAKggB,MAAQA,EACbhgB,EAAKjB,OAASvC,EACduD,KAAK41F,mBAAmBxC,EAAK32F,EAAMwD,EAAM,KAAMnG,GAGnD,MADAmG,GAAKjB,OAASiB,EAAKjB,QAAUvC,EACtBm3D,GAASgH,OAAO36C,GAAShgB,EAAKjB,QAAWA,OAAQiB,EAAKjB,OAAQihB,MAAOhgB,EAAKggB,MAAOk4C,WAAYl4D,EAAKk4D,aAEtGoiC,GACT5D,IAME+D,GAAkC,SAAU3hE,GAE5C,QAAS2hE,KACL,MAAkB,QAAX3hE,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAkC/D,MApCA83B,IAAU4iE,EAAkB3hE,GAY5B2hE,EAAiBl/F,UAAU+3F,aAAe,SAAUr5B,EAAIpgE,EAAOi7F,GAC3D,GAAIh4F,IAAM,GAAI+3F,KAAavB,aAAar5B,EAAIpgE,EAAOi7F,GAE/Ct4F,EAAOm3D,GAAS7hC,MAAMw/D,UAAUx0F,EAAW,MAC3CiC,IAEJ,IAAIvC,EAAKk+F,MACL,IAAK,GAAItiG,GAAI,EAAGA,EAAIoE,EAAKk+F,MAAMpiG,OAAQF,IAAK,CACxC,GAAIsiG,GAAQl+F,EAAKk+F,MAAMtiG,GACnBgF,EAAMkB,OAAOjB,KAAKq9F,GAAO,EAC7B37F,GAAO3B,GAAOs9F,EAAMt9F,GAG5B2B,EAAY,MAAIvC,CAGhB,QACIA,KAAMq1B,KAAKouB,UAAUlhD,GACrBixB,IAAKlzB,EAAO,IACZw4F,QAASx4F,EAAW,QACpBhD,KAAM,OACN+1B,YAAa,oCAGd4qE,GACT5F,IAOE8F,GAAmC,SAAU7hE,GAK7C,QAAS6hE,KACL,GAAI76F,GAAQg5B,EAAOn4B,KAAKZ,OAASA,IAEjC,OADA5C,GAAS,aAAc03F,GAAWt5F,UAAU81B,WAAYvxB,GACjDA,EA0FX,MAjGA+3B,IAAU8iE,EAAmB7hE,GAS7B6hE,EAAkBp/F,UAAUutD,OAAS,SAAUmR,EAAIz9D,EAAMw3D,GAErD,MADAj0D,MAAKo3F,WAAa,OAEdnnE,IAAKiqC,EAAGi5B,WAAWkD,WAAan8B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACvExzB,KAAMq1B,KAAKouB,WACPljD,MAAOP,EACP25F,MAAOniC,EACP3I,OAAQ,aAIpBsvC,EAAkBp/F,UAAUkJ,OAAS,SAAUw1D,EAAI26B,EAAU73F,EAAOi3D,GAEhE,MADAl7B,GAAOv9B,UAAUkJ,OAAO9D,KAAKZ,KAAMk6D,EAAI26B,EAAU73F,IAE7CjD,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAW6C,WAAa97B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACvExzB,KAAMq1B,KAAKouB,WACP7iD,IAAKL,EACLs5F,UAAWzB,EACXuB,MAAOniC,EACP3I,OAAQ,aAIpBsvC,EAAkBp/F,UAAUw4F,OAAS,SAAU95B,EAAI26B,EAAU73F,EAAOi3D,GAGhE,MAFAj0D,MAAKo3F,WAAa,SAClBp3F,KAAK66F,UAAYhG,GAEb96F,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAWoD,WAAar8B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACvExzB,KAAMq1B,KAAKouB,WACPljD,MAAOA,EACPsuD,OAAQ,SACRgrC,UAAWzB,EACXx3F,IAAKL,EAAM63F,GACXuB,MAAOniC,MAInB2mC,EAAkBp/F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,EAASvyF,GAC5F,GAAI/I,EAOJ,IANwB,QAApB2H,KAAKo3F,YACLr+D,EAAOv9B,UAAUutD,OAAOnoD,KAAKZ,KAAMu5D,EAAI98D,GAEnB,WAApBuD,KAAKo3F,YACLr+D,EAAOv9B,UAAUw4F,OAAOpzF,KAAKZ,KAAMu5D,EAAIv5D,KAAK66F,UAAWp+F,GAEvDA,EAAKy5F,MACL,IAAK79F,EAAI,EAAGA,EAAIoE,EAAKy5F,MAAM39F,OAAQF,IAC/B0gC,EAAOv9B,UAAUutD,OAAOnoD,KAAKZ,KAAMu5D,EAAI98D,EAAKy5F,MAAM79F,GAG1D,IAAIoE,EAAKw5F,QACL,IAAK59F,EAAI,EAAGA,EAAIoE,EAAKw5F,QAAQ19F,OAAQF,IACjC0gC,EAAOv9B,UAAUw4F,OAAOpzF,KAAKZ,KAAMu5D,EAAIn4D,EAAE/D,IAAKZ,EAAKw5F,QAAQ59F,GAGnE,IAAIoE,EAAK05F,QACL,IAAK99F,EAAI,EAAGA,EAAIoE,EAAK05F,QAAQ59F,OAAQF,IACjC0gC,EAAOv9B,UAAUkJ,OAAO9D,KAAKZ,KAAMu5D,EAAIn4D,EAAE/D,IAAKZ,EAAK05F,QAAQ99F,GAGnE,OAAOoE,IAUXm+F,EAAkBp/F,UAAUk4F,aAAe,SAAUx5B,EAAIy5B,EAASvyF,GAC9D,OACIrH,KAAM,OACNk2B,IAAKiqC,EAAGi5B,WAAW2C,UAAY57B,EAAGi5B,WAAW4C,SAAW77B,EAAGi5B,WAAWljE,IACtEH,YAAa,kCACb+B,SAAU,OACVp1B,KAAMq1B,KAAKouB,WACP+1C,QAAStC,EAAQI,eACjBmC,MAAOvC,EAAQG,aACfqC,QAASxC,EAAQE,eACjBvoC,OAAQ,QACR8qC,MAAOh1F,EAAE6uB,IACT5yB,IAAK+D,EAAE/D,QAIZu9F,GACTtH,IAOEwH,GAA8B,SAAU/hE,GASxC,QAAS+hE,GAAalhC,EAASz/B,EAAW07B,GACtC,GAAI91D,GAAQg5B,EAAOn4B,KAAKZ,OAASA,IACjCD,GAAMg7F,cAAe,EACrBh7F,EAAMi7F,gBAAiB,EAClBv9F,EAAkBm8D,KACnB75D,EAAMk7F,aAAerhC,GAEzB75D,EAAM81D,SAAWA,EACjB91D,EAAMm7F,OAAStnC,GAAS4G,QAAQ,eAChC,IAAIz9D,IAAQO,QAAU66F,WACtBn8F,QAAOkjD,aAAaE,QAAQr/C,EAAMm7F,OAAQppE,KAAKouB,UAAUnjD,GACzD,IAAIw6F,GAAOx3F,EAAMm7F,MAsBjB,OArBKz9F,GAAkB08B,IACnB53B,YAAY,WACR,GAAI9F,EACJA,GAAOm3D,GAAS7hC,MAAMw/D,UAAUv1F,OAAOkjD,aAAaC,QAAQo4C,GAE5D,KAAK,GADD4D,MACK9iG,EAAI,EAAGA,EAAIoE,EAAK07F,QAAQ5/F,OAAQF,IAAK,CAC1C,GAAI8pB,IAAe,GAAIE,MACnB+4E,GAAe,GAAI/4E,MAAK5lB,EAAK07F,QAAQ9/F,GAAG8hC,UAC5C19B,GAAK07F,QAAQ9/F,GAAG8hC,UAAYhY,EAAci5E,EACtCj5E,EAAci5E,EAAcjhE,GAC5BghE,EAAOniG,KAAKX,GAGpB,IAASA,EAAI,EAAGA,EAAI8iG,EAAO5iG,OAAQF,IAC/BoE,EAAK07F,QAAQ5tE,OAAO4wE,EAAO9iG,GAAI,GAC/BoE,EAAKa,KAAKitB,OAAO4wE,EAAO9iG,GAAI,EAEhC2D,QAAOkjD,aAAam8C,WAAW9D,GAC/Bv7F,OAAOkjD,aAAaE,QAAQm4C,EAAMzlE,KAAKouB,UAAUzjD,KAClD09B,GAEAp6B,EAoJX,MA7LA+3B,IAAUgjE,EAAc/hE,GAiDxB+hE,EAAat/F,UAAU8/F,YAAc,SAAUrrE,EAAKn2B,GAChD,GAAIg5D,GAAU9yD,KAAKg1F,gBAAgBl7F,GAC/B08D,EAAU/D,GAAM8D,iBAAiBz8D,EAAMg5D,SAAU,WAAY,SAAU,SAAU,SAAU,YAC3Fz1D,EAAM4yB,CACC,WACCumC,KACRn5D,GAAOm5D,EAAY,OAAEZ,WAEzB9C,EAAQsC,MAAMh2D,QAAQ,SAAUrC,GAC5BM,GAAON,EAAIqE,EAAEq0D,UAAY14D,EAAIqE,EAAEozD,YAEnC1B,EAAQoiC,OAAO91F,QAAQ,SAAUrC,GAC7BM,GAAON,EAAIqE,EAAEozD,YAEjB1B,EAAQsiC,SAASh2F,QAAQ,SAAUrC,GAC/BM,GAAON,EAAIqE,EAAE0zD,WAEjB,KAAK,GAAIr/B,GAAS,EAAGA,EAASq9B,EAAQqiC,QAAQ58F,OAAQk9B,IAAU,CAC5D,GAAI8lE,GAAgBzoC,EAAQqiC,QAAQ1/D,EACpC,IAAI8lE,EAAcn6F,EAAEs1D,UAAW,CAC3B,GAAI8kC,GAAW1hG,EAAMuF,OACrBm8F,GAAS1oC,UACT,KAAK,GAAIz6D,GAAI,EAAGA,EAAIkjG,EAAcn6F,EAAEy1D,WAAWt+D,OAAQF,IACnDmjG,EAAS1oC,QAAQ95D,MAAOm7D,GAAI,UAAW/yD,EAAGm6F,EAAcn6F,EAAEy1D,WAAWx+D,GAAIo9B,OAAQ37B,EAAMg5D,QAAQr9B,QAEnGp4B,IAAOk+F,EAAcn6F,EAAEw1D,UAAY52D,KAAKs7F,YAAYrrE,EAAKurE,OAGzDn+F,IAAOk+F,EAAcn6F,EAAEkyD,MAAQioC,EAAcn6F,EAAEqzD,SAAW8mC,EAAcn6F,EAAEpE,MAGlF,MAAOK,IASXy9F,EAAat/F,UAAU+3F,aAAe,SAAUr5B,EAAIpgE,EAAOi7F,GACvD,GACI0G,GADAp+F,EAAM2C,KAAKs7F,YAAYphC,EAAGi5B,WAAWljE,IAAKn2B,GAG1C2C,GADJg/F,EAAc7nC,GAAS7hC,MAAMw/D,UAAUv1F,OAAOkjD,aAAaC,QAAQn/C,KAAKk7F,UAC/CO,EAAYtD,QAAQsD,EAAYn+F,KAAKkB,QAAQnB,IAAQ,IAC9E,OAAY,OAARZ,GAAiBuD,KAAK+6F,cAAiB/6F,KAAKg7F,gBAGhDh7F,KAAK+6F,aAAe,KACpB/6F,KAAKg7F,eAAiB,KACfh7F,KAAKi7F,aAAa1H,aAAa73F,MAAMsE,KAAKi7F,gBAAiBt5F,MAAMf,KAAK3B,UAAW,KAJ7ExC,GAgBfq+F,EAAat/F,UAAU63F,gBAAkB,SAAU52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,GAC9E,GAAI3zF,KAAKg7F,gBAAmB/F,GAAWj1F,KAAKi7F,aAAa3mF,QAAQuiF,OAC7DjjC,GAAS0B,SAAS2/B,EAAQhlE,IAAKjwB,KAAKi7F,aAAa3mF,QAAQuiF,QAAyC,SAA/B5B,EAAQl7F,KAAK5B,cAChF,MAAO6H,MAAKi7F,aAAa5H,gBAAgB52F,EAAM88D,EAAIz/D,EAAOygE,EAAK06B,EAAStB,EAE5El3F,GAAOuD,KAAKi7F,aAAa5H,gBAAgB33F,MAAMsE,KAAKi7F,gBAAiBt5F,MAAMf,KAAK3B,UAAW,GAC3F,IAAI5B,GAAMvD,EAAQkG,KAAKs7F,YAAY/hC,EAAG45B,WAAWljE,IAAKn2B,GAASy/D,EAAG45B,WAAWljE,IACzElzB,KAEA7E,GADJ6E,EAAM62D,GAAS7hC,MAAMw/D,UAAUv1F,OAAOkjD,aAAaC,QAAQn/C,KAAKk7F,UAChD59F,KAAKkB,QAAQnB,EAM7B,MALe,IAAXnF,IACA6E,EAAIo7F,QAAQ5tE,OAAOryB,EAAO,GAC1B6E,EAAIO,KAAKitB,OAAOryB,EAAO,IAE3B6E,EAAIo7F,QAAQp7F,EAAIO,KAAKtE,KAAKqE,GAAO,IAAOC,KAAMD,EAAK2B,OAAQvC,EAAKuC,OAAQm7B,UAAW,GAAI9X,MAAQpC,MAAOxjB,EAAKwjB,OACpGljB,EAAIo7F,QAAQ5/F,OAASyH,KAAK61D,UAC7B94D,EAAIo7F,QAAQ5tE,OAAO,EAAG,GACtBxtB,EAAIO,KAAKitB,OAAO,EAAG,EAGvB,OADAvuB,QAAOkjD,aAAaE,QAAQp/C,KAAKk7F,OAAQppE,KAAKouB,UAAUnjD,IACjDN,GAQXq+F,EAAat/F,UAAU81B,WAAa,SAAU4oC,EAAI+6B,EAAS+C,GACnDpkC,GAAS0B,SAAS0iC,EAAS/nE,IAAKjwB,KAAKi7F,aAAa3mF,QAAQuiF,QAA0C,SAAhCmB,EAASj+F,KAAK5B,eAClF88F,EAAQ5jE,iBAAiB,SAAUrxB,KAAKi7F,aAAa3mF,QAAQsiF,iBAE5D18B,EAAGi5B,WAAWuI,aACfzG,EAAQ5jE,iBAAiB,SAAUrxB,KAAKi7F,aAAa3mF,QAAQozC,SAUrEozC,EAAat/F,UAAUw4F,OAAS,SAAU95B,EAAI26B,EAAU73F,EAAOi3D,GAE3D,MADAj0D,MAAK+6F,cAAe,EACb/6F,KAAKi7F,aAAajH,OAAO95B,EAAI26B,EAAU73F,EAAOi3D,IAQzD6mC,EAAat/F,UAAUutD,OAAS,SAAUmR,EAAIz9D,EAAMw3D,GAEhD,MADAj0D,MAAKg7F,gBAAiB,EACfh7F,KAAKi7F,aAAalyC,OAAOmR,EAAIz9D,EAAMw3D,IAS9C6mC,EAAat/F,UAAUkJ,OAAS,SAAUw1D,EAAI26B,EAAU73F,EAAOi3D,GAE3D,MADAj0D,MAAK+6F,cAAe,EACb/6F,KAAKi7F,aAAav2F,OAAOw1D,EAAI26B,EAAU73F,EAAOi3D,IASzD6mC,EAAat/F,UAAUk4F,aAAe,SAAUx5B,EAAIy5B,EAASvyF,GACzD,MAAOpB,MAAKi7F,aAAavH,aAAax5B,EAAIy5B,EAASvyF,IAEhD05F,GACThG,IC/2DEz5B,GAA6B,WAQ7B,QAASA,GAAY83B,EAAYr5F,EAAO8/D,GACpC,GAAI75D,GAAQC,IAEZA,MAAK6xF,WAAY,EACjB7xF,KAAK21F,YACAxC,GAAenzF,KAAKmzF,aACrBA,MAEJv5B,EAAUA,GAAWu5B,EAAWv5B,OAChC,IAAIn9D,EAoEJ,OAnEI02F,aAAsB10F,OACtBhC,GACIy6D,KAAMi8B,EACNwI,SAAS,GAGc,gBAAfxI,IACPA,EAAWj8B,OACZi8B,EAAWj8B,SAEfz6D,GACIwzB,IAAKkjE,EAAWljE,IAChBomE,UAAWlD,EAAWkD,UACtBL,UAAW7C,EAAW6C,UACtBO,UAAWpD,EAAWoD,UACtBR,QAAS5C,EAAW4C,QACpBD,SAAU3C,EAAW2C,SACrB5+B,KAAMi8B,EAAWj8B,KACjB5kC,QAAS6gE,EAAW7gE,QACpBo1B,OAAQyrC,EAAWzrC,OACnBjrD,KAAM02F,EAAW12F,KACjBm/F,mBAAoBzI,EAAWyI,mBAC/BC,gBAAiB1I,EAAW0I,gBAC5BC,cAAe3I,EAAW2I,cAC1B5I,YAAaC,EAAWD,YACxB71F,IAAK81F,EAAW91F,IAChBq+F,YAAavI,EAAWuI,YACxBK,MAAO5I,EAAW4I,MAClBlqE,SAAUshE,EAAWthE,SACrB8pE,YAAgCviG,KAAvB+5F,EAAWwI,QAAwBxI,EAAWwI,UACjDxI,EAAWv5B,kBAAmBghC,OAA4BzH,EAAWljE,IAC3EsoE,eAAgBpF,EAAWoF,iBAI/B3kC,GAAS3yD,WAAW,sCAEI7H,KAAxBqD,EAAK87F,gBAAiC3kC,GAAS0G,WAC/C79D,EAAK87F,iBAAiB96F,EAAkBhB,EAAKi/F,cAAsBj/F,EAAKi/F,iBAEtDtiG,KAAlBqD,EAAKo1B,WACLp1B,EAAKo1B,SAAW,QAEpB7xB,KAAKmzF,WAAa12F,EAClBuD,KAAKg8F,aAAeliG,EAChB2C,EAAKwzB,KAAOxzB,EAAKk/F,UAAYl/F,EAAKy6D,KAAK3+D,QACvCyH,KAAKi8F,iBAAkB,EACvBj8F,KAAK45D,QAAUA,GAAW,GAAI+8B,IAC9B32F,KAAKmzF,WAAWwI,SAAU,EAC1B37F,KAAKwC,MAAQxC,KAAK2zD,aAAa75D,GAAS,GAAI24D,KAC5CzyD,KAAKwC,MAAM05F,KAAK,SAAU96F,GACtBrB,EAAMozF,WAAWwI,SAAU,EAC3B57F,EAAMk8F,iBAAkB,EACxBx/F,EAAKy6D,KAAO91D,EAAEpC,OACde,EAAM65D,QAAU,GAAI05B,OAIxBtzF,KAAK45D,QAAUn9D,EAAKk/F,QAAU,GAAIrI,IAAgB,GAAIqD,KAErDl6F,EAAKs/F,OAAS/7F,KAAK45D,kBAAmB+8B,MACvCl6F,EAAKs/F,MAAQ,YAEjB/7F,KAAK45D,QAAUA,GAAW55D,KAAK45D,QAC3Bn9D,EAAKq/F,gBACL97F,KAAK45D,QAAU,GAAIkhC,IAAa96F,KAAK45D,QAASn9D,EAAKm/F,mBAAoBn/F,EAAKo/F,kBAEzE77F,KAqVX,MA/UAq7D,GAAY7/D,UAAU2gG,gBAAkB,SAAUriG,GAE9C,MADAkG,MAAKg8F,aAAeliG,EACbkG,MAMXq7D,EAAY7/D,UAAUq4D,aAAe,SAAU/5D,GACtCkG,KAAKg8F,cAAkBliG,YAAiB24D,KACzCmB,GAAS3yD,WAAW,iEAEnBjB,KAAKmzF,WAAWj8B,MACjBtD,GAAS3yD,WAAW,mEAExBnH,EAAQA,GAASkG,KAAKg8F,YACtB,IAAIh9F,GAASgB,KAAK45D,QAAQ25B,aAAavzF,KAAMlG,EAC7C,IAAIA,EAAM64D,SAAU,CAChB,GAAID,GAAO54D,EAAM64D,SAASK,UACtBgG,EAASl/D,EAAM64D,SAASM,QACxBzuB,EAAM1qC,EAAMk6D,gBAAkBh1D,EAAOA,OACrCA,CACAg6D,IAAUA,YAAkBv6D,QAC5Bm1D,GAASmF,eAAej/D,EAAM64D,SAASI,KAAML,EAAMluB,EAAKw0B,EAAQl/D,EAAM64D,SAASt1D,IAEnF,KAAK,GAAImoB,GAAI,EAAGA,EAAIgf,EAAIjsC,OAAQitB,IACxBgf,EAAIhf,GAAGktC,YAAiBj0D,SACxB+lC,EAAIhf,GAAK7mB,QAAe6lC,EAAIhf,IAC5Bgf,EAAIhf,GAAGktC,GAAQ1yD,KAAK45D,QAAQy5B,gBAAgBv5F,EAAM64D,SAASY,MAAM,GAAI8H,GAAY72B,EAAIhf,GAAGktC,GAAM/wD,MAAM,KAAKkyD,eAAgB7zD,KAAMlG,IAI3I,MAAOkG,MAAK45D,QAAQy5B,gBAAgBr0F,EAAQgB,KAAMlG,IAUtDuhE,EAAY7/D,UAAUm4D,aAAe,SAAU75D,EAAO8R,EAAMkvB,EAAM44B,GAC9D,GAAI3zD,GAAQC,IACS,mBAAVlG,KACP45D,EAAS54B,EACTA,EAAOlvB,EACPA,EAAO9R,EACPA,EAAQ,MAEPA,IACDA,EAAQkG,KAAKg8F,cAEXliG,YAAiB24D,KACnBmB,GAAS3yD,WAAW,gEAExB,IAAIm7F,GAAW,GAAIC,IACfp8F,GAASnG,MAAOA,EACpB,IAAKkG,KAAKmzF,WAAWwI,aAAoCviG,KAAxB4G,KAAKmzF,WAAWljE,KAA6C,KAAxBjwB,KAAKmzF,WAAWljE,IAKlForC,EAAYihC,SAAS,WACjB,GAAI93D,GAAMzkC,EAAM8zD,aAAa/5D,EAC7BmG,GAAOo7D,EAAYkhC,eAAeziG,EAAO0qC,EAAKvkC,GAC9Cm8F,EAAS/rE,QAAQpwB,SAR0E,CAC/F,GAAIjB,GAASgB,KAAK45D,QAAQ25B,aAAavzF,KAAMlG,EAC7CkG,MAAKw8F,YAAYx9F,EAAQo9F,EAAUn8F,EAAMnG,GAe7C,OANI8R,GAAQkvB,IACRshE,EAASK,QAAQP,KAAKtwF,EAAMkvB,GAE5B44B,GACA0oC,EAASK,QAAQP,KAAKxoC,EAAQA,GAE3B0oC,EAASK,SAEpBphC,EAAYkhC,eAAiB,SAAUziG,EAAOkF,EAAQiB,GASlD,MARInG,GAAMk6D,iBACN/zD,EAAKjB,OAASA,EAAOA,OACrBiB,EAAKggB,MAAQjhB,EAAOihB,MACpBhgB,EAAKk4D,WAAan5D,EAAOm5D,YAGzBl4D,EAAKjB,OAASA,EAEXiB,GAEXo7D,EAAYihC,SAAW,SAAUnoC,IAC5Bn4D,OAAOL,cAAgBK,OAAO/D,YAAYk8D,EAAI,IAEnDkH,EAAY7/D,UAAUkhG,cAAgB,SAAUzsE,EAAK0sE,EAAWC,GAC5D,MAAOj+F,OACH5E,KAAM,MACN83B,SAAU7xB,KAAKmzF,WAAWthE,SAC1B6pE,YAAa17F,KAAKmzF,WAAWuI,YAC7BK,MAAO/7F,KAAKmzF,WAAW4I,MACvBc,OAAO,EACPC,aAAa,EACbtrE,UAAWmrE,EACXhrE,UAAWirE,GACZ3sE,IAEPorC,EAAY7/D,UAAUghG,YAAc,SAAUvsE,EAAKmsE,EAAUn8F,EAAMnG,GAC/D,GAAIiG,GAAQC,KACR+8F,IAAejjG,EAAMi6D,iBACrB6oC,EAAS,SAAUx7F,GACnBnB,EAAK+xB,MAAQ5wB,EACbg7F,EAAS9rE,OAAOrwB,IAEhB+8F,EAAU,SAAUvgG,EAAMwjB,EAAOs6C,EAAK06B,EAAS7nD,EAAQ+qB,EAAY8kC,GACnEh9F,EAAKs6D,IAAMA,EACXt6D,EAAKggB,MAAQA,EAAQ+Z,SAAS/Z,EAAMtf,WAAY,IAAM,EACtDV,EAAKjB,OAASvC,EACdwD,EAAKg1F,QAAUA,EACfh1F,EAAKk4D,WAAaA,EAClBl4D,EAAKmtC,OAASA,EACdntC,EAAKg9F,qBAAuBA,EAC5Bb,EAAS/rE,QAAQpwB,IAEjBi9F,EAAe,SAAUzgG,EAAMmJ,GAC/B,GAAIu3F,GAAY,GAAId,IAChBe,GAAcr8F,OAAQd,EAC1BnG,GAAM64D,SAASC,SAAU,CACzB,IAAIyqC,GAASt9F,EAAM65D,QAAQ25B,aAAaxzF,EAAOjG,EAAM64D,SAAUl2D,EAAOsD,EAAM65D,QAAQy5B,gBAAgB52F,GAAQmJ,GACxG03F,EAAWv9F,EAAMy8F,YAAYa,EAAQF,EAAWC,EAAWtjG,EAAM64D,SASrE,OARKoqC,IACDI,EAAUjB,KAAK,SAAUqB,GACjB9gG,IACAm3D,GAASmF,eAAej/D,EAAM64D,SAASI,KAAMj5D,EAAM64D,SAASK,UAAWv2D,EAAM8gG,EAASzjG,EAAM64D,SAASt1D,KACrG2/F,EAAQvgG,EAAM8gG,EAAQt9E,MAAOs9E,EAAQhjC,OAE1CqiC,GAEAU,GAEPX,EAAY,SAAUlgG,EAAMw4F,IACkD,IAA1EA,EAAQ1kE,YAAY4B,kBAAkB,gBAAgB3zB,QAAQ,QAAiBuB,EAAM8xF,YACrFp1F,EAAOm3D,GAAS7hC,MAAMw/D,UAAU90F,GAEpC,IAAIuC,GAASe,EAAM65D,QAAQy5B,gBAAgB52F,EAAMsD,EAAOjG,EAAOm7F,EAAQ1kE,YAAa0kE,GAChFh1E,EAAQ,EACRk4C,EAAa,KAEbqlC,EAAiB/gG,EAAyB,oBAM9C,IALI3C,EAAMk6D,kBACN/zC,EAAQjhB,EAAOihB,MACfk4C,EAAan5D,EAAOm5D,WACpBn5D,EAASA,EAAOA,SAEflF,EAAM64D,SAEP,WADAqqC,GAAQh+F,EAAQihB,EAAOg1E,EAAQ1kE,YAAa0kE,EAAQl7F,KAAM0C,EAAM07D,EAAYqlC,EAG3ET,IACDG,EAAal+F,EAAQi2F,IAGzB96B,EAAMn6D,KAAK08F,cAAczsE,EAAK0sE,EAAWC,GACzCa,EAAO,GAAI7tE,IAAKuqC,EAOpB,IANAsjC,EAAKnsE,WAAa,WACdvxB,EAAMuxB,WAAWmsE,EAAKltE,YAAaktE,KAEvCtjC,EAAMsjC,EAAKvtE,QACPwtE,MAAM,SAAUt8F,GAAK,OAAO,IAChCpB,KAAK21F,SAAS38F,KAAKykG,GACfV,EAAY,CACZ,GACIv4D,GAAM1qC,EAAMi6D,iBAAiBnzD,KAAKZ,MAAQlG,MAAOA,EAAM64D,SAAU5xD,OAAQjH,GACzE0qC,IAAOA,EAAIjsC,OACD63B,QAAQutE,KAAKxjC,EAAK+iC,EAAa,KAAM14D,KACvC03D,KAAK,WAET,IAAK,GADDj8F,MACK5B,EAAK,EAAGA,EAAKY,UAAU1G,OAAQ8F,IACpC4B,EAAK5B,GAAMY,UAAUZ,EAEzB,IAAIW,GAASiB,EAAK,GACd29F,EAAU79F,EAAM65D,QAAQy5B,gBAAgBr0F,EAAO,GAAIe,EAAOjG,EAAOiG,EAAM41F,SAAS,GAAGplE,YAAaxwB,EAAM41F,SAAS,IAC/G11E,EAAQ,CACRnmB,GAAMk6D,kBACN/zC,EAAQ29E,EAAQ39E,MAChB29E,EAAUA,EAAQ5+F,OAEtB,IAAI6+F,GAAU99F,EAAM65D,QAAQy5B,gBAAgBr0F,EAAO,GAAIe,EAAOjG,EAAM64D,SAAU5yD,EAAM41F,SAAS,GAAGplE,YAAaxwB,EAAM41F,SAAS,GAC5H11E,GAAQ,EACJnmB,EAAM64D,SAASqB,kBACf/zC,EAAQ49E,EAAQ59E,MAChB49E,EAAUA,EAAQ7+F,QAEtB40D,GAASmF,eAAej/D,EAAM64D,SAASI,KAAMj5D,EAAM64D,SAASK,UAAW4qC,EAASC,EAAS/jG,EAAM64D,SAASt1D,KACxG0/F,GAAa,EACbC,EAAQY,EAAS39E,EAAOlgB,EAAM41F,SAAS,GAAGplE,eAI9CwsE,GAAa,EAGrB,MAAO5iC,IAEXkB,EAAY7/D,UAAU81B,WAAa,SAAU2jE,EAAS+C,GAClDh4F,KAAK45D,QAAQtoC,WAAWtxB,KAAMi1F,EAAS+C,EAGvC,KAAK,GADD7tF,GADAmoB,EAAUtyB,KAAKmzF,WAAW7gE,QAErBj6B,EAAI,EAAGi6B,GAAWj6B,EAAIi6B,EAAQ/5B,OAAQF,IAAK,CAChD8R,IAEA,KAAK,GAAI9L,GAAK,EAAGC,EADNC,OAAOjB,KAAKg1B,EAAQj6B,IACCgG,EAAKC,EAAO/F,OAAQ8F,IAAM,CACtD,GAAI6M,GAAO5M,EAAOD,EAClB8L,GAAMnR,KAAKkS,GACX+pF,EAAQ5jE,iBAAiBnmB,EAAMonB,EAAQj6B,GAAG6S,OAatDmwD,EAAY7/D,UAAUwM,YAAc,SAAU2rF,EAASt2F,EAAK42D,EAAWn6D,EAAO+7F,GAC1E,GAAI91F,GAAQC,IACRi0D,aAAqBxB,MACrB34D,EAAQm6D,EACRA,EAAY,KAEhB,IAAIh0D,IACAgwB,IAAKgkC,EACL52D,IAAKA,GAAO2C,KAAKmzF,WAAW91F,KAE5B88D,EAAMn6D,KAAK45D,QAAQ85B,aAAa1zF,KAAM2zF,EAAS1zF,EAAMnG,EAAO+7F,EAChE,IAAI71F,KAAKmzF,WAAWwI,QAChB,MAAOxhC,EAEX,IAAI2jC,GAAO,GAAIzB,IACXoB,EAAO,GAAI7tE,IAAKuqC,EAWpB,OAVAsjC,GAAKnsE,WAAa,WACdvxB,EAAMuxB,WAAWmsE,EAAKltE,YAAaktE,IAEvCA,EAAKjsE,UAAY,SAAU/0B,EAAMw4F,GAC7B6I,EAAKztE,QAAQtwB,EAAM65D,QAAQy5B,gBAAgBz/B,GAAS7hC,MAAMw/D,UAAU90F,GAAOsD,EAAO,KAAMk1F,EAAQ1kE,YAAa0kE,EAAStB,EAAS1zF,KAEnIw9F,EAAK9rE,UAAY,SAAUvwB,GACvB08F,EAAKxtE,SAAU0B,MAAO5wB,MAE1Bq8F,EAAKvtE,OAAOwtE,MAAM,SAAUt8F,GAAK,OAAO,IACjC08F,EAAKrB,SAQhBphC,EAAY7/D,UAAUutD,OAAS,SAAUtsD,EAAMw3D,EAAWn6D,EAAO+b,GACzDo+C,YAAqBxB,MACrB34D,EAAQm6D,EACRA,EAAY,KAEhB,IAAIkG,GAAMn6D,KAAK45D,QAAQ7Q,OAAO/oD,KAAMvD,EAAMw3D,EAAWn6D,EAAO+b,EAC5D,OAAI7V,MAAKmzF,WAAWwI,QACTxhC,EAEJn6D,KAAK+9F,cAAc5jC,IAS9BkB,EAAY7/D,UAAUkJ,OAAS,SAAUmwF,EAAU73F,EAAOi3D,EAAWn6D,GAC5C,gBAAVkD,KACPA,EAAQA,EAAM63F,IAEd5gC,YAAqBxB,MACrB34D,EAAQm6D,EACRA,EAAY,KAEhB,IAAIzvB,GAAMxkC,KAAK45D,QAAQl1D,OAAO1E,KAAM60F,EAAU73F,EAAOi3D,EAAWn6D,EAChE,OAAIkG,MAAKmzF,WAAWwI,QACTn3D,EAEJxkC,KAAK+9F,cAAcv5D,IAS9B62B,EAAY7/D,UAAUw4F,OAAS,SAAUa,EAAU73F,EAAOi3D,EAAWn6D,EAAO+7F,GACpE5hC,YAAqBxB,MACrB34D,EAAQm6D,EACRA,EAAY,KAEhB,IAAIzvB,GAAMxkC,KAAK45D,QAAQo6B,OAAOh0F,KAAM60F,EAAU73F,EAAOi3D,EAAWn6D,EAAO+7F,EACvE,OAAI71F,MAAKmzF,WAAWwI,QACTn3D,EAEJxkC,KAAK+9F,cAAcv5D,IAE9B62B,EAAY7/D,UAAUuiG,cAAgB,SAAUv5D,GAC5C,GAAIzkC,GAAQC,KACRg+F,EAAQ,GAAI3B,GAChB73D,GAAM7lC,MACF5E,KAAM,OACN+1B,YAAa,kCACbgtE,aAAa,GACdt4D,EACH,IAAIi5D,GAAO,GAAI7tE,IAAK4U,EAkBpB,OAjBAi5D,GAAKnsE,WAAa,WACdvxB,EAAMuxB,WAAWmsE,EAAKltE,YAAaktE,IAEvCA,EAAKjsE,UAAY,SAAU8lC,EAAQ29B,GAC/B,IACIrhC,GAAS7hC,MAAMw/D,UAAUj6B,GAE7B,MAAOl2D,GACHk2D,KAEJA,EAASv3D,EAAM65D,QAAQy5B,gBAAgBz/B,GAAS7hC,MAAMw/D,UAAUj6B,GAASv3D,EAAO,KAAMk1F,EAAQ1kE,YAAa0kE,GAC3G+I,EAAM3tE,QAAQinC,IAElBmmC,EAAK9rE,UAAY,SAAUvwB,GACvB48F,EAAM1tE,SAAU0B,MAAO5wB,MAE3Bq8F,EAAKvtE,OAAOwtE,MAAM,SAAUt8F,GAAK,OAAO,IACjC48F,EAAMvB,SAEVphC,KAMPghC,GAA0B,WAC1B,QAASA,KACL,GAAIt8F,GAAQC,IAIZA,MAAKy8F,QAAU,GAAIrsE,SAAQ,SAAUC,EAASC,GAC1CvwB,EAAMswB,QAAUA,EAChBtwB,EAAMuwB,OAASA,IAKnBtwB,KAAKk8F,KAAOl8F,KAAKy8F,QAAQP,KAAKzgG,KAAKuE,KAAKy8F,SAIxCz8F,KAAK09F,MAAQ19F,KAAKy8F,QAAQiB,MAAMjiG,KAAKuE,KAAKy8F,SAE9C,MAAOJ,2OC3cPvkE,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAK5DulE,IACAC,IAAK,QACLC,OAAQ,QACRC,QAAS,YACTC,QAAS,cAcTC,GAAwB,SAAUvlE,GAOlC,QAASulE,GAAOhqF,EAASza,GACrB,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA6OlD,MApPA83B,IAAUwmE,EAAQvlE,GASlBulE,EAAO9iG,UAAUyY,UAAY,aAQ7BqqF,EAAO9iG,UAAUojD,OAAS,WACtB5+C,KAAKuhD,cAET+8C,EAAO9iG,UAAU+lD,WAAa,WACtBvhD,KAAKuU,UACLvQ,GAAUhE,KAAKnG,SAAUmG,KAAKuU,SAASrX,MAAM,MAE7C8C,KAAKu+F,WACLv+F,KAAKnG,QAAQrB,UAAU+L,IAAI05F,GAAaG,SAExCp+F,KAAKtF,UACLsF,KAAKnG,QAAQW,UAAYwF,KAAKtF,SAElCsF,KAAKw+F,aACDx+F,KAAKuP,WACLvP,KAAKnG,QAAQrB,UAAU+L,IAAI05F,GAAaC,KAExCl+F,KAAKy+F,SACLz+F,KAAK0+F,cAAc1+F,KAAKy+F,UAGxBz+F,KAAKumB,aAETvmB,KAAK2+F,mBAAqBjzF,GAAa1L,KAAKnG,SAAW+L,SAAU,IAAMq4F,GAAaE,UAExFG,EAAO9iG,UAAUkjG,cAAgB,SAAUD,GACvCz+F,KAAKnG,QAAQ4kG,SAAWA,GAE5BH,EAAO9iG,UAAUgjG,WAAa,WAC1B,GAAIx+F,KAAK4+F,QAAS,CACd,GAAIC,GAAO7+F,KAAKyB,cAAc,QAAUiC,UAAW,cAAgB1D,KAAK4+F,SACnE5+F,MAAKnG,QAAQH,YAAY+X,QAI1BotF,EAAKrmG,UAAU+L,IAAI,UAAYvE,KAAK8+F,aAAa3mG,eACvB,QAAtB6H,KAAK8+F,cAAgD,WAAtB9+F,KAAK8+F,cACpC9+F,KAAKnG,QAAQrB,UAAU+L,IAAI,KAAOvE,KAAK8+F,aAAa3mG,cAAgB,cALxE6H,KAAKnG,QAAQrB,UAAU+L,IAAI05F,GAAaI,QAQ5C,IAAIr9F,GAAOhB,KAAKnG,QAAQS,WAAW,IAC/B0G,GAA+B,SAAtBhB,KAAK8+F,cAAiD,QAAtB9+F,KAAK8+F,aAI9C9+F,KAAKnG,QAAQkI,YAAY88F,GAHzB7+F,KAAKnG,QAAQuL,aAAay5F,EAAM79F,KAO5Cs9F,EAAO9iG,UAAU+qB,WAAa,WACtBvmB,KAAK++F,UACLt5F,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKg/F,gBAAiBh/F,OAGtEs+F,EAAO9iG,UAAUyjG,aAAe,WACxBj/F,KAAK++F,UACLt5F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKg/F,kBAGxDV,EAAO9iG,UAAUwjG,gBAAkB,WAC3Bh/F,KAAKnG,QAAQrB,UAAUC,SAAS,YAChCuH,KAAKnG,QAAQrB,UAAUkM,OAAO,YAG9B1E,KAAKnG,QAAQrB,UAAU+L,IAAI,aAOnC+5F,EAAO9iG,UAAUqY,QAAU,WACvB,GAAIgrF,GACAhlG,EAAUmG,KAAKnG,OACnBk/B,GAAOv9B,UAAUqY,QAAQjT,KAAKZ,MAC9BwE,GAAaxE,KAAKnG,UAAWokG,GAAaG,QAASH,GAAaC,IAAKD,GAAaI,QAAS,YAAa,SAAU,WAC9G,YAAa,SAAU,YAAa,UAAW,WAAY,WAAY,UAAW,iBAAkB,uBACvG,WAAY,YAAYj/F,QAAQ,SAAUpC,GACvCnD,EAAQyS,gBAAgBtP,KAExBgD,KAAKtF,UACLb,EAAQW,UAAYX,EAAQW,UAAUb,QAAQqG,KAAKtF,QAAS,MAEhEmkG,EAAOhlG,EAAQiJ,cAAc,qBAEzByC,EAAOs5F,GAEX7+F,KAAKi/F,eACLj/F,KAAK2+F,sBAOTL,EAAO9iG,UAAU0L,cAAgB,WAC7B,MAAO,OAOXo3F,EAAO9iG,UAAU6jD,eAAiB,WAC9B,MAAOr/C,MAAK8/C,kBAMhBw+C,EAAOr/C,OAAS,aAUhBq/C,EAAO9iG,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACpD,IAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,YACG08B,EAAQwjE,UACRv+F,KAAKnG,QAAQrB,UAAU+L,IAAI05F,GAAaG,SAGxCp+F,KAAKnG,QAAQrB,UAAUkM,OAAOu5F,GAAaG,QAE/C,MACJ,KAAK,WACDp+F,KAAK0+F,cAAc3jE,EAAQ0jE,UAC3Bz+F,KAAKi/F,cACL,MACJ,KAAK,UACD,GAAIJ,GAAO7+F,KAAKnG,QAAQiJ,cAAc,kBAClC+7F,IACAA,EAAKn7F,UAAY,cAAgBq3B,EAAQ6jE,QACrC5+F,KAAKnG,QAAQH,YAAY+X,SACC,SAAtBzR,KAAK8+F,aACLD,EAAKrmG,UAAU+L,IAAI,eAGnBs6F,EAAKrmG,UAAU+L,IAAI,kBAK3BvE,KAAKw+F,YAET,MACJ,KAAK,eACDh6F,GAAaxE,KAAKnG,UAAW,iBAAkB,uBAC/CglG,EAAO7+F,KAAKnG,QAAQiJ,cAAc,qBAE9ByC,EAAOs5F,GAEX7+F,KAAKw+F,YACL,MACJ,KAAK,WACGxjE,EAAQzmB,UACR/P,GAAaxE,KAAKnG,SAAUmhC,EAAQzmB,SAASrX,MAAM,MAEnD69B,EAAQxmB,UACRvQ,GAAUhE,KAAKnG,SAAUkhC,EAAQxmB,SAASrX,MAAM,KAEpD,MACJ,KAAK,YACG69B,EAAQxrB,UACRvP,KAAKnG,QAAQrB,UAAU+L,IAAI05F,GAAaC,KAGxCl+F,KAAKnG,QAAQrB,UAAUkM,OAAOu5F,GAAaC,IAE/C,MACJ,KAAK,UACUvqF,GAAY3T,KAAKnG,UAExBmG,KAAKnG,QAAQrB,UAAUkM,OAAOu5F,GAAaI,SAE/Cr+F,KAAKnG,QAAQW,UAAYugC,EAAQrgC,QACjCsF,KAAKw+F,YACL,MACJ,KAAK,WACGzjE,EAAQgkE,SACRt5F,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKg/F,gBAAiBh/F,OAG9DyF,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKg/F,iBAChDx6F,GAAaxE,KAAKnG,UAAW,gBAMjDy+B,IACI1vB,GAAS,SACV01F,EAAO9iG,UAAW,mBAAgB,IACrC88B,IACI1vB,GAAS,KACV01F,EAAO9iG,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACV01F,EAAO9iG,UAAW,eAAY,IACjC88B,IACI1vB,IAAS,IACV01F,EAAO9iG,UAAW,gBAAa,IAClC88B,IACI1vB,GAAS,KACV01F,EAAO9iG,UAAW,eAAY,IACjC88B,IACI1vB,GAAS,KACV01F,EAAO9iG,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACV01F,EAAO9iG,UAAW,eAAY,IACjC88B,IACI1vB,MACD01F,EAAO9iG,UAAW,aAAU,IAC/B88B,IACI7uB,MACD60F,EAAO9iG,UAAW,cAAW,IAChC8iG,EAAShmE,IACLvuB,IACDu0F,IAELrgD,IC3REnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAW5DwmE,GAAS,qBAIT/rF,GAAU,qBC7BV2kB,IDyC0B,SAAUiB,GAMpC,QAASomE,GAAS7qF,EAASza,GACvB,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAEnD,OADAD,GAAMq/F,cAAe,EACdr/F,EARX+3B,GAAUqnE,EAAUpmE,GAUpBomE,EAAS3jG,UAAU6jG,YAAc,SAAUC,GACvC,GAAIC,GACA/qF,EACAC,EAAYzU,KAAKw/F,aAAahxF,uBAjC9B,WAiC4D,EAC5DxC,MACAwI,EAAaxU,KAAKw/F,aAAahxF,uBAAuB0wF,IAAQ,IAEpD,UAAVI,GACA7qF,EAAUjc,UAAUkM,OArCZ,UAsCR+P,EAAUjc,UAAU+L,IAzCpB,WA0CIiQ,IACAA,EAAWhc,UAAUkM,OApCX,iBAqCV8P,EAAWhc,UAAU+L,IAtCnB,mBAwCNg7F,EAAY,OACZv/F,KAAKnG,QAAQma,SAAU,GAER,YAAVsrF,GACL96F,GAAaiQ,IAlDb,UAGQ,WAgDJD,GACAhQ,GAAagQ,IA9CX,iBACQ,kBA+Cd+qF,EAAY,QACZv/F,KAAKnG,QAAQma,SAAU,IAGvBS,EAAUjc,UAAUkM,OA1DpB,WA2DA+P,EAAUjc,UAAU+L,IAxDZ,UAyDJiQ,IACAA,EAAWhc,UAAUkM,OAvDnB,kBAwDF8P,EAAWhc,UAAU+L,IAvDX,kBAyDdg7F,EAAY,QACZv/F,KAAKnG,QAAQ4lG,eAAgB,GAEjCz/F,KAAKw/F,aAAa37F,aAAa,eAAgB07F,IAEnDJ,EAAS3jG,UAAUkkG,aAAe,SAAUnjG,GACxCyD,KAAK2/F,kBACD3/F,KAAKy/F,eACLz/F,KAAKq/F,YAAYr/F,KAAKgU,QAAU,QAAU,WAC1ChU,KAAKy/F,eAAgB,EACrBz/F,KAAKnG,QAAQ4lG,eAAgB,GAExBz/F,KAAKgU,SACVhU,KAAKq/F,YAAY,WACjBr/F,KAAKgU,SAAU,IAGfhU,KAAKq/F,YAAY,SACjBr/F,KAAKgU,SAAU,EAEnB,IAAIuX,IAAoBvX,QAAShU,KAAKnG,QAAQma,QAASzX,MAAOA,EAC9DyD,MAAKyoB,QAAQ,SAAU8C,IAM3B4zE,EAAS3jG,UAAUqY,QAAU,WACzB,GAAI9T,GAAQC,KACR+T,EAAU/T,KAAKw/F,YACnBzmE,GAAOv9B,UAAUqY,QAAQjT,KAAKZ,MACzBA,KAAKy+F,UACNz+F,KAAKi/F,eAEY,UAAjBj/F,KAAKsD,SACLyQ,EAAQjZ,WAAWsK,aAAapF,KAAKnG,QAASka,GAC9CxO,EAAOwO,GACP/T,KAAKnG,QAAQma,SAAU,EACnBhU,KAAKy/F,gBACLz/F,KAAKnG,QAAQ4lG,eAAgB,IAEhC,OAAQ,QAAS,YAAYrgG,QAAQ,SAAU/B,GAC5C0C,EAAMlG,QAAQyS,gBAAgBjP,QAIjC,OAAQ,eAAgB,SAAS+B,QAAQ,SAAU/B,GAChD0W,EAAQzH,gBAAgBjP,KAE5B0W,EAAQvZ,UAAY,KAG5B2kG,EAAS3jG,UAAUokG,aAAe,WAC1B5/F,KAAKo/F,cACLp/F,KAAKw/F,aAAahnG,UAAU+L,IAAI,YAGxC46F,EAAS3jG,UAAUmkG,gBAAkB,WACjC3/F,KAAKw/F,aAAahnG,UAAUkM,OAAO,YAMvCy6F,EAAS3jG,UAAU0L,cAAgB,WAC/B,MAAO,YAMXi4F,EAAS3jG,UAAU6jD,eAAiB,WAChC,MAAOr/C,MAAK8/C,cAAc,UAAW,mBAEzCq/C,EAAS3jG,UAAUgkG,WAAa,WAC5B,MAAOx/F,MAAKnG,QAAQmc,cAAcA,eAEtCmpF,EAAS3jG,UAAU+lD,WAAa,WACxBvhD,KAAKizB,MACLjzB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKizB,MAEvCjzB,KAAKhD,OACLgD,KAAKnG,QAAQgK,aAAa,QAAS7D,KAAKhD,OAExCgD,KAAKgU,SACLhU,KAAKq/F,YAAY,SAEjBr/F,KAAKy/F,eACLz/F,KAAKq/F,cAELr/F,KAAKy+F,UACLz+F,KAAK6/F,eAGbV,EAAS3jG,UAAUskG,YAAc,WAC7B,GAAI/rF,GAAU/T,KAAKnG,QAAQmc,aACtBjC,GAAQvb,UAAUC,SAAS0a,MAC5BY,EAAU/T,KAAKyB,cAAc,OACzBiC,UAAWyP,GAASrP,OAASsP,KAAQ,WAAYM,eAAgB,WAErE1T,KAAKnG,QAAQiB,WAAWsK,aAAa2O,EAAS/T,KAAKnG,SAEvD,IAAI6a,GAAQ1U,KAAKyB,cAAc,SAAWqC,OAASi8F,IAAK//F,KAAKnG,QAAQ8J,MACjE8Q,EAAYzU,KAAKyB,cAAc,QAAUiC,UAAW,mBAUxD,IATI1D,KAAKuP,WACLwE,EAAQvb,UAAU+L,IAjKpB,SAmKEvE,KAAKuU,UACLvQ,GAAU+P,GAAU/T,KAAKuU,SAASrX,MAAM,MAE5C6W,EAAQhS,YAAY2S,GACpBA,EAAM3S,YAAY/B,KAAKnG,SACvB6a,EAAM3S,YAAY0S,GACdzI,GAAiB,CACjB,GAAIwI,GAAaxU,KAAKyB,cAAc,QAAUiC,UAAWw7F,IAC9B,YAAvBl/F,KAAKggG,cACLtrF,EAAM3S,YAAYyS,GAGlBE,EAAMtP,aAAaoP,EAAYC,GAEnC/I,GAAa8I,GAAc/H,SAAU,IAAKD,gBAAgB,IAE1DxM,KAAK0U,OACL1U,KAAKigG,QAAQjgG,KAAK0U,QAG1ByqF,EAAS3jG,UAAU0kG,eAAiB,WAChClgG,KAAKo/F,cAAe,GAExBD,EAAS3jG,UAAU2kG,kBAAoB,SAAU/+F,GAE7CwT,GAAmBxT,EADFpB,KAAKw/F,aAAahxF,uBAAuB0wF,IAAQ,KAGtEC,EAAS3jG,UAAU4kG,iBAAmB,WAClCpgG,KAAKo/F,cAAe,GAMxBD,EAAS3jG,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAEtD,IAAK,GADDjnB,GAAU/T,KAAKw/F,aACVnhG,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACD2B,KAAKy/F,eAAgB,EACrBz/F,KAAKnG,QAAQ4lG,eAAgB,EAC7Bz/F,KAAKq/F,YAAYtkE,EAAQ/mB,QAAU,QAAU,UAC7C,MACJ,KAAK,gBACG+mB,EAAQ0kE,cACRz/F,KAAKq/F,eAGLr/F,KAAKnG,QAAQ4lG,eAAgB,EAC7Bz/F,KAAKq/F,YAAYr/F,KAAKgU,QAAU,QAAU,WAE9C,MACJ,KAAK,WACG+mB,EAAQ0jE,UACRz+F,KAAK6/F,cACL7/F,KAAKi/F,iBAGLj/F,KAAKnG,QAAQ4kG,UAAW,EACxB1qF,EAAQvb,UAAUkM,OAtO3B,uBAuOSqP,EAAQlQ,aAAa,gBAAiB,SACtC7D,KAAKumB,aAET,MACJ,KAAK,WACGyU,EAAQzmB,UACRR,EAAQvb,UAAUkM,OAAOs2B,EAAQzmB,UAErCR,EAAQvb,UAAU+L,IAAIw2B,EAAQxmB,SAC9B,MACJ,KAAK,YACGwmB,EAAQxrB,UACRwE,EAAQvb,UAAU+L,IA5OhC,SA+OcwP,EAAQvb,UAAUkM,OA/OhC,QAiPU,MACJ,KAAK,QACD1E,KAAKigG,QAAQllE,EAAQrmB,MACrB,MACJ,KAAK,gBACD,GAAIA,GAAQX,EAAQvF,uBA1P5B,WA0P0D,GAC9C6xF,EAAYtsF,EAAQnS,qBAAqB,SAAS,EACtD2D,GAAOmP,GACuB,UAA1BqmB,EAAQilE,cACRK,EAAUt+F,YAAY2S,GAGtB2rF,EAAUj7F,aAAasP,EAAOX,EAAQvF,uBAnQlD,WAmQgF,GAExE,MACJ,KAAK,OACDxO,KAAKnG,QAAQgK,aAAa,OAAQk3B,EAAQ9H,KAC1C,MACJ,KAAK,QACDjzB,KAAKnG,QAAQgK,aAAa,QAASk3B,EAAQ/9B,SAS3DmiG,EAAS3jG,UAAUyY,UAAY,WAC3B,GAAIpa,GAAUmG,KAAKnG,OACnBmG,MAAKsD,QAAUtD,KAAKnG,QAAQyJ,QAC5BzJ,EAAUoZ,GAAkBjT,KAAKyB,cAAe,eAAgB,WAAY5H,EAASsZ,GAAS,YAC9FnT,KAAKnG,QAAUA,EAC2B,aAAtCmG,KAAKnG,QAAQ4M,aAAa,SAC1BzG,KAAKnG,QAAQgK,aAAa,OAAQ,YAEjC7D,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,mBAOlDi4F,EAAS3jG,UAAUojD,OAAS,WACxB5+C,KAAK8/F,cACL9/F,KAAKuhD,aACAvhD,KAAKy+F,UACNz+F,KAAKumB,cAGb44E,EAAS3jG,UAAUqkG,YAAc,WAC7B,GAAI9rF,GAAU/T,KAAKw/F,YACnBx/F,MAAKnG,QAAQ4kG,UAAW,EACxB1qF,EAAQvb,UAAU+L,IA9SX,uBA+SPwP,EAAQlQ,aAAa,gBAAiB,SAE1Cs7F,EAAS3jG,UAAUykG,QAAU,SAAUxmG,GACnC,GAAIib,GAAQ1U,KAAKw/F,aAAahxF,uBA/S1B,WA+SwD,EAC5D,IAAIkG,EACAA,EAAMhb,YAAcD,MAEnB,CACDib,EAAQ1U,KAAKyB,cAAc,QAAUiC,UApTrC,UAoTuDlJ,UAAWf,GAClE,IAAI4mG,GAAYrgG,KAAKw/F,aAAa59F,qBAAqB,SAAS,EACrC,YAAvB5B,KAAKggG,cACLK,EAAUj7F,aAAasP,EAAO1U,KAAKw/F,aAAahxF,uBAzTpD,WAyTkF,IAG9E6xF,EAAUt+F,YAAY2S,KAIlCyqF,EAAS3jG,UAAUyjG,aAAe,WAC9B,GAAIlrF,GAAU/T,KAAKw/F,YACnB/5F,IAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK0/F,cAChDj6F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKkgG,gBAC9Cz6F,GAAaf,OAAOqP,EAAS,YAAa/T,KAAKogG,kBAC/C36F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK4/F,cAChDn6F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAK2/F,gBACnD,IAAIjrF,GAAQX,EAAQnS,qBAAqB,SAAS,EAClD6D,IAAaf,OAAOgQ,EAAO,YAAa1U,KAAKmgG,mBAC7C16F,GAAaf,OAAOgQ,EAAO,UAAW1U,KAAKmgG,oBAE/ChB,EAAS3jG,UAAU+qB,WAAa,WAC5B,GAAIxS,GAAU/T,KAAKw/F,YACnB/5F,IAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK0/F,aAAc1/F,MAC3DyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKkgG,eAAgBlgG,MAC3DyF,GAAalB,IAAIwP,EAAS,YAAa/T,KAAKogG,iBAAkBpgG,MAC9DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK4/F,aAAc5/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAK2/F,gBAAiB3/F,KACjE,IAAI0U,GAAQX,EAAQnS,qBAAqB,SAAS,EAClD6D,IAAalB,IAAImQ,EAAO,YAAa1U,KAAKmgG,kBAAmBngG,MAC7DyF,GAAalB,IAAImQ,EAAO,UAAW1U,KAAKmgG,kBAAmBngG,OAE/Ds4B,IACI7uB,MACD01F,EAAS3jG,UAAW,aAAU,IACjC88B,IACI7uB,MACD01F,EAAS3jG,UAAW,cAAW,IAClC88B,IACI1vB,IAAS,IACVu2F,EAAS3jG,UAAW,cAAW,IAClC88B,IACI1vB,GAAS,KACVu2F,EAAS3jG,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACVu2F,EAAS3jG,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACVu2F,EAAS3jG,UAAW,oBAAiB,IACxC88B,IACI1vB,GAAS,KACVu2F,EAAS3jG,UAAW,YAAS,IAChC88B,IACI1vB,GAAS,UACVu2F,EAAS3jG,UAAW,oBAAiB,IACxC88B,IACI1vB,GAAS,KACVu2F,EAAS3jG,UAAW,WAAQ,IAC/B88B,IACI1vB,GAAS,KACVu2F,EAAS3jG,UAAW,YAAS,IAChC2jG,EAAW7mE,IACPvuB,IACDo1F,IAELlhD,IC9Y0C,WACxC,GAAIlmB,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,SAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GCd5DZ,IDmC6B,SAAUiB,GAMvC,QAASunE,GAAYhsF,EAASza,GAC1B,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAEnD,OADAD,GAAMq/F,cAAe,EACdr/F,EAyRX,MAjSA+3B,IAAUwoE,EAAavnE,GAUvBwnE,EAAgBD,EAChBA,EAAY9kG,UAAUglG,cAAgB,SAAUjkG,GAC5CyD,KAAKgU,SAAU,EACfhU,KAAKg1B,UACL,IAAIzJ,IAAoBvuB,MAAOgD,KAAKhD,MAAOT,MAAOA,EAClDyD,MAAKyoB,QAAQ,SAAU8C,IAE3B+0E,EAAY9kG,UAAUunC,aAAe,SAAUu8D,GAI3C,IAAK,GAHDjsF,GACA4f,EAAOjzB,KAAKnG,QAAQ4M,aAAa,QACjCg6F,EAAW1lG,SAASH,iBAAiB,uBAAyBq4B,EAAO,MAChE56B,EAAI,EAAGA,EAAIooG,EAASloG,OAAQF,KACjCgb,EAAQotF,EAASpoG,MACH2H,KAAKnG,UACf8I,EAAY0Q,EAAOktF,GAAevsF,SAAU,IAQxDssF,EAAY9kG,UAAUqY,QAAU,WAC5B,GAAI9T,GAAQC,KACR0gG,EAAY1gG,KAAKnG,QAAQmc,aAC7B+iB,GAAOv9B,UAAUqY,QAAQjT,KAAKZ,MACzBA,KAAKy+F,UACNz+F,KAAKi/F,eAEY,UAAjBj/F,KAAKsD,SACLo9F,EAAU5lG,WAAWsK,aAAapF,KAAKnG,QAAS6mG,GAChDn7F,EAAOm7F,GACP1gG,KAAKnG,QAAQma,SAAU,GACtB,OAAQ,QAAS,YAAY5U,QAAQ,SAAU/B,GAC5C0C,EAAMlG,QAAQyS,gBAAgBjP,QAIjC,OAAQ,eAAgB,SAAS+B,QAAQ,SAAU/B,GAChDqjG,EAAUp0F,gBAAgBjP,KAE9BqjG,EAAUlmG,UAAY,KAG9B8lG,EAAY9kG,UAAUokG,aAAe,WAC7B5/F,KAAKo/F,cACLp/F,KAAK2gG,WAAWnoG,UAAU+L,IAAI,YAGtC+7F,EAAY9kG,UAAUmkG,gBAAkB,WACpC3/F,KAAK2gG,WAAWnoG,UAAUkM,OAAO,YAErC47F,EAAY9kG,UAAU0L,cAAgB,WAClC,MAAO,SAMXo5F,EAAY9kG,UAAU6jD,eAAiB,WACnC,MAAOr/C,MAAK8/C,cAAc,aAE9BwgD,EAAY9kG,UAAUmlG,SAAW,WAC7B,MAAO3gG,MAAKnG,QAAQ+mG,oBAExBN,EAAY9kG,UAAU+lD,WAAa,WAC/BvhD,KAAK8/F,cACD9/F,KAAKizB,MACLjzB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKizB,MAEvCjzB,KAAKhD,OACLgD,KAAKnG,QAAQgK,aAAa,QAAS7D,KAAKhD,OAExCgD,KAAKgU,UACLhU,KAAKnG,QAAQma,SAAU,GAEvBhU,KAAKy+F,UACLz+F,KAAK6/F,eAGbS,EAAY9kG,UAAUskG,YAAc,WAChC,GAAItrF,GACAT,EAAU/T,KAAKnG,QAAQmc,aACtBjC,GAAQvb,UAAUC,SA1GjB,qBA2GFsb,EAAU/T,KAAKyB,cAAc,OAASiC,UA3GpC,oBA4GF1D,KAAKnG,QAAQiB,WAAWsK,aAAa2O,EAAS/T,KAAKnG,SAEvD,IAAI6a,GAAQ1U,KAAKyB,cAAc,SAAWqC,OAASi8F,IAAK//F,KAAKnG,QAAQ8J,KACrEoQ,GAAQhS,YAAY/B,KAAKnG,SACzBka,EAAQhS,YAAY2S,GAChB1I,KACAwI,EAAaxU,KAAKyB,cAAc,QAAUiC,UApHzC,uBAqHDgR,EAAM3S,YAAYyS,GAClB9I,GAAa8I,GACT/H,SAAU,IACVD,gBAAgB,KAGpBxM,KAAKuP,WACLmF,EAAMlc,UAAU+L,IA3HlB,SA6HEvE,KAAKuU,UACLvQ,GAAU0Q,GAAQ1U,KAAKuU,SAASrX,MAAM,MAEtC8C,KAAK0U,OACL1U,KAAKigG,QAAQjgG,KAAK0U,QAG1B4rF,EAAY9kG,UAAU0kG,eAAiB,WACnClgG,KAAKo/F,cAAe,GAExBkB,EAAY9kG,UAAUqlG,mBAAqB,SAAUz/F,GAEjDwT,GAAmBxT,EADNpB,KAAK2gG,WAAWnyF,uBAzIxB,sBAyIuD,KAGhE8xF,EAAY9kG,UAAU4kG,iBAAmB,WACrCpgG,KAAKo/F,cAAe,GAMxBkB,EAAY9kG,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAEzD,IAAK,GADDtmB,GAAQ1U,KAAK2gG,WACRtiG,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACG08B,EAAQ/mB,SACRhU,KAAK+iC,aAAahI,EAAQ/mB,SAE9BhU,KAAKnG,QAAQma,QAAU+mB,EAAQ/mB,OAC/B,MACJ,KAAK,WACG+mB,EAAQ0jE,UACRz+F,KAAK6/F,cACL7/F,KAAKi/F,iBAGLj/F,KAAKnG,QAAQ4kG,UAAW,EACxBz+F,KAAKumB,aAET,MACJ,KAAK,WACGyU,EAAQzmB,UACR/P,GAAakQ,GAAQsmB,EAAQzmB,SAASrX,MAAM,MAEhD8G,GAAU0Q,GAAQqmB,EAAQxmB,SAASrX,MAAM,KACzC,MACJ,KAAK,YACG69B,EAAQxrB,UACRmF,EAAMlc,UAAU+L,IA/K9B,SAkLcmQ,EAAMlc,UAAUkM,OAlL9B,QAoLU,MACJ,KAAK,QACD1E,KAAKigG,QAAQllE,EAAQrmB,MACrB,MACJ,KAAK,gBAC6B,WAA1BqmB,EAAQilE,cACRtrF,EAAMlc,UAAU+L,IAAI,WAGpBmQ,EAAMlc,UAAUkM,OAAO,UAE3B,MACJ,KAAK,OACD1E,KAAKnG,QAAQgK,aAAa,OAAQk3B,EAAQ9H,KAC1C,MACJ,KAAK,QACDjzB,KAAKnG,QAAQgK,aAAa,QAASk3B,EAAQ/9B,SAS3DsjG,EAAY9kG,UAAUyY,UAAY,WAC9B,GAAIpa,GAAUmG,KAAKnG,OACnBmG,MAAKsD,QAAUtD,KAAKnG,QAAQyJ,QAC5BzJ,EAAUoZ,GAAkBjT,KAAKyB,cAAe,kBAAmB,QAAS5H,EA/MtE,kBA+MwF,SAC9FmG,KAAKnG,QAAUA,EAC2B,UAAtCmG,KAAKnG,QAAQ4M,aAAa,SAC1BzG,KAAKnG,QAAQgK,aAAa,OAAQ,SAEjC7D,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,mBAOlDo5F,EAAY9kG,UAAUojD,OAAS,WAC3B5+C,KAAKuhD,aACAvhD,KAAKy+F,UACNz+F,KAAKumB,cAGb+5E,EAAY9kG,UAAUqkG,YAAc,WAChC7/F,KAAKnG,QAAQ4kG,UAAW,GAE5B6B,EAAY9kG,UAAUykG,QAAU,SAAUxmG,GACtC,GAAIib,GAAQ1U,KAAK2gG,WACbG,EAAYpsF,EAAMlG,uBA1OlB,WA0OgD,EAChDsyF,GACAA,EAAUpnG,YAAcD,GAGxBqnG,EAAY9gG,KAAKyB,cAAc,QAAUiC,UA/OzC,UA+O2DlJ,UAAWf,IACtEib,EAAM3S,YAAY++F,IAEK,WAAvB9gG,KAAKggG,cACLhgG,KAAK2gG,WAAWnoG,UAAU+L,IAAI,WAG9BvE,KAAK2gG,WAAWnoG,UAAUkM,OAAO,YAGzC47F,EAAY9kG,UAAUyjG,aAAe,WACjC,GAAIvqF,GAAQ1U,KAAK2gG,UACjBl7F,IAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAKwgG,eACjD/6F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKkgG,gBAC9Cz6F,GAAaf,OAAOgQ,EAAO,YAAa1U,KAAKogG,kBAC7C36F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK4/F,cAChDn6F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAK2/F,gBACnD,IAAIoB,GAAcrsF,EAAMlG,uBAhQpB,WAgQkD,EAClDuyF,KACAt7F,GAAaf,OAAOq8F,EAAa,YAAa/gG,KAAK6gG,oBACnDp7F,GAAaf,OAAOq8F,EAAa,UAAW/gG,KAAK6gG,sBAGzDP,EAAY9kG,UAAU+qB,WAAa,WAC/B,GAAI7R,GAAQ1U,KAAK2gG,UACjBl7F,IAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAKwgG,cAAexgG,MAC7DyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKkgG,eAAgBlgG,MAC3DyF,GAAalB,IAAImQ,EAAO,YAAa1U,KAAKogG,iBAAkBpgG,MAC5DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK4/F,aAAc5/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAK2/F,gBAAiB3/F,KACjE,IAAI+gG,GAAcrsF,EAAMlG,uBA7QpB,WA6QkD,EAClDuyF,KACAt7F,GAAalB,IAAIw8F,EAAa,YAAa/gG,KAAK6gG,mBAAoB7gG,MACpEyF,GAAalB,IAAIw8F,EAAa,UAAW/gG,KAAK6gG,mBAAoB7gG,QAG1Es4B,IACI7uB,MACD62F,EAAY9kG,UAAW,aAAU,IACpC88B,IACI7uB,MACD62F,EAAY9kG,UAAW,cAAW,IACrC88B,IACI1vB,IAAS,IACV03F,EAAY9kG,UAAW,cAAW,IACrC88B,IACI1vB,GAAS,KACV03F,EAAY9kG,UAAW,eAAY,IACtC88B,IACI1vB,IAAS,IACV03F,EAAY9kG,UAAW,eAAY,IACtC88B,IACI1vB,GAAS,KACV03F,EAAY9kG,UAAW,YAAS,IACnC88B,IACI1vB,GAAS,UACV03F,EAAY9kG,UAAW,oBAAiB,IAC3C88B,IACI1vB,GAAS,KACV03F,EAAY9kG,UAAW,WAAQ,IAClC88B,IACI1vB,GAAS,KACV03F,EAAY9kG,UAAW,YAAS,IACnC8kG,EAAcC,EAAgBjoE,IAC1BvuB,IACDu2F,EAEH,IAAIC,IACNtiD,ICvU0C,WACxC,GAAIlmB,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,SAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAQ5DwmE,GAAS,qBnClBF3qF,ImCiCiB,SAAUwkB,GAMlC,QAASioE,GAAO1sF,EAASza,GACrB,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAGnD,OAFAD,GAAMq/F,cAAe,EACrBr/F,EAAM4nD,QAAS,EACR5nD,EATX+3B,GAAUkpE,EAAQjoE,GAWlBioE,EAAOxlG,UAAU6jG,YAAc,SAAUC,GACrC,GAAIC,GACA/qF,EACAT,EAAU/T,KAAKw/F,aACfyB,EAAMltF,EAAQjR,cAAc,mBAC5Bw+C,EAASvtC,EAAQjR,cAAc,mBAC/BkJ,MACAwI,EAAaT,EAAQvF,uBAAuB0wF,IAAQ,IAEpDI,GACAt7F,GAAUi9F,EAAK3/C,GAjCd,mBAkCDi+C,EAAY,OACZv/F,KAAKnG,QAAQma,SAAU,EACvBhU,KAAKgU,SAAU,EACXQ,GACAxQ,GAAUwQ,IAzCP,qBA6CPhQ,GAAay8F,EAAK3/C,GA1CjB,mBA2CDi+C,EAAY,QACZv/F,KAAKnG,QAAQma,SAAU,EACvBhU,KAAKgU,SAAU,EACXQ,GACAhQ,GAAagQ,IAlDV,oBAqDXT,EAAQlQ,aAAa,eAAgB07F,IAEzCyB,EAAOxlG,UAAUkkG,aAAe,SAAUl+C,GACtCxhD,KAAK2nD,QAAS,EACd3nD,KAAK2/F,kBACL3/F,KAAKq/F,aAAar/F,KAAKgU,SACvBhU,KAAKnG,QAAQwI,OACb,IAAIkpB,IAAoBvX,QAAShU,KAAKnG,QAAQma,QAASzX,MAAOilD,EAC9DxhD,MAAKyoB,QAAQ,SAAU8C,IAM3By1E,EAAOxlG,UAAUqY,QAAU,WACvBklB,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,MACzBA,KAAKy+F,UACNz+F,KAAKi/F,eAETprF,GAAQ7T,KAAMA,KAAKw/F,aAAcx/F,KAAKsD,UAE1C09F,EAAOxlG,UAAUokG,aAAe,WACxB5/F,KAAKo/F,cACLp/F,KAAKw/F,aAAahnG,UAAU+L,IAAI,YAGxCy8F,EAAOxlG,UAAUmkG,gBAAkB,WAC/B3/F,KAAKw/F,aAAahnG,UAAUkM,OAAO,YAMvCs8F,EAAOxlG,UAAU0L,cAAgB,WAC7B,MAAO,UAMX85F,EAAOxlG,UAAU6jD,eAAiB,WAC9B,MAAOr/C,MAAK8/C,cAAc,aAE9BkhD,EAAOxlG,UAAUgkG,WAAa,WAC1B,MAAOx/F,MAAKnG,QAAQmc,eAExBgrF,EAAOxlG,UAAU+lD,WAAa,WACtBvhD,KAAKizB,MACLjzB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKizB,MAEvCjzB,KAAKhD,OACLgD,KAAKnG,QAAQgK,aAAa,QAAS7D,KAAKhD,OAExCgD,KAAKgU,SACLhU,KAAKq/F,aAAY,GAEjBr/F,KAAKy+F,UACLz+F,KAAK6/F,eAEL7/F,KAAKkhG,SAAWlhG,KAAKmhG,WACrBnhG,KAAKohG,SAASphG,KAAKkhG,QAASlhG,KAAKmhG,WAGzCH,EAAOxlG,UAAUskG,YAAc,WAC3B,GAAI/rF,GAAU/T,KAAKnG,QAAQmc,aACtBjC,GAAQvb,UAAUC,SApHjB,sBAqHFsb,EAAU/T,KAAKyB,cAAc,OACzBiC,UAtHF,mBAsHsBI,OAASsP,KAAQ,SAAUM,eAAgB,WAEnE1T,KAAKnG,QAAQiB,WAAWsK,aAAa2O,EAAS/T,KAAKnG,SAEvD,IAAIwnG,GAAcrhG,KAAKyB,cAAc,QAAUiC,UAAW,mBACtDw9F,EAAUlhG,KAAKyB,cAAc,QAAUiC,UAAW,gBAClDy9F,EAAWnhG,KAAKyB,cAAc,QAAUiC,UAAW,iBACnD49C,EAASthD,KAAKyB,cAAc,QAAUiC,UAAW,mBAMrD,IALAqQ,EAAQhS,YAAY/B,KAAKnG,SACzBwnG,EAAYt/F,YAAYm/F,GACxBG,EAAYt/F,YAAYo/F,GACxBptF,EAAQhS,YAAYs/F,GACpBttF,EAAQhS,YAAYu/C,GAChBt1C,GAAiB,CACjB,GAAIwI,GAAaxU,KAAKyB,cAAc,QAAUiC,UAAWw7F,IACzD59C,GAAOv/C,YAAYyS,GACnB9I,GAAa8I,GAAc/H,SAAU,IAAKD,gBAAgB,IAE1DxM,KAAKuP,WACLwE,EAAQvb,UAAU+L,IA1IpB,SA4IEvE,KAAKuU,UACLvQ,GAAU+P,GAAU/T,KAAKuU,SAASrX,MAAM,OAOhD8jG,EAAOxlG,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAEpD,IAAK,GADDjnB,GAAU/T,KAAKw/F,aACVnhG,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACD2B,KAAKq/F,YAAYtkE,EAAQ/mB,QACzB,MACJ,KAAK,WACG+mB,EAAQ0jE,UACRz+F,KAAK6/F,cACL7/F,KAAKi/F,iBAGLj/F,KAAKnG,QAAQ4kG,UAAW,EACxB1qF,EAAQvb,UAAUkM,OAtK3B,qBAuKSqP,EAAQlQ,aAAa,gBAAiB,SACtC7D,KAAKumB,aAET,MACJ,KAAK,QACDvmB,KAAKnG,QAAQgK,aAAa,QAASk3B,EAAQ/9B,MAC3C,MACJ,KAAK,OACDgD,KAAKnG,QAAQgK,aAAa,OAAQk3B,EAAQ9H,KAC1C,MACJ,KAAK,UACL,IAAK,WACDjzB,KAAKohG,SAASrmE,EAAQmmE,QAASnmE,EAAQomE,SACvC,MACJ,KAAK,YACGpmE,EAAQxrB,UACRwE,EAAQvb,UAAU+L,IApLhC,SAuLcwP,EAAQvb,UAAUkM,OAvLhC,QAyLU,MACJ,KAAK,WACGs2B,EAAQzmB,UACRR,EAAQvb,UAAUkM,OAAOs2B,EAAQzmB,UAErCR,EAAQvb,UAAU+L,IAAIw2B,EAAQxmB,YAS9CysF,EAAOxlG,UAAUyY,UAAY,WACzB,GAAIpa,GAAUmG,KAAKnG,OACnBmG,MAAKsD,QAAUtD,KAAKnG,QAAQyJ,QAC5B2Q,GAAUjU,KAAM,aAzMV,mBAyMiCnG,EAASmG,KAAKkH,kBAMzD85F,EAAOxlG,UAAUojD,OAAS,WACtB5+C,KAAK8/F,cACL9/F,KAAKuhD,aACAvhD,KAAKy+F,UACNz+F,KAAKumB,cAGby6E,EAAOxlG,UAAUyQ,cAAgB,SAAU7K,GAEvCwT,GAAmBxT,EADFpB,KAAKw/F,aAAahxF,uBAAuB0wF,IAAQ,IAEnD,cAAX99F,EAAErH,MAAwBqH,EAAEqgD,cAAcjpD,UAAUC,SAAS,qBAAmC,IAAZ2I,EAAE2pD,QACtF/qD,KAAK2nD,QAAS,EACd3nD,KAAKo/F,cAAe,IAG5B4B,EAAOxlG,UAAU8lG,mBAAqB,SAAUC,GAC5C,GAAI/sF,GAAaxU,KAAKw/F,aAAahxF,uBAAuB0wF,IAAQ,EAClE,IAAI1qF,EAAY,CACZ,GAAIK,GAAU9Z,SAAS+Z,YAAY,cACnCD,GAAQE,UAAUwsF,GAAW,GAAO,GACpC/sF,EAAWQ,cAAcH,KAGjCmsF,EAAOxlG,UAAUqkG,YAAc,WAC3B,GAAI9rF,GAAU/T,KAAKw/F,YACnBx/F,MAAKnG,QAAQ4kG,UAAW,EACxB1qF,EAAQvb,UAAU+L,IA7OX,qBA8OPwP,EAAQlQ,aAAa,gBAAiB,SAE1Cm9F,EAAOxlG,UAAU4lG,SAAW,SAAUI,EAAQC,GAC1C,GAAI1tF,GAAU/T,KAAKw/F,YACfgC,KACAztF,EAAQjR,cAAc,gBAAgBpJ,YAAc8nG,GAEpDC,IACA1tF,EAAQjR,cAAc,iBAAiBpJ,YAAc+nG,IAG7DT,EAAOxlG,UAAUkmG,mBAAqB,WAClC1hG,KAAKo/F,cAAe,GAExB4B,EAAOxlG,UAAUmmG,cAAgB,SAAUvgG,GACvC,GAAIyH,GAASzH,EAAEyH,MACE7I,MAAKw/F,aAAahxF,uBAAuB0wF,IAAQ,EACnD,eAAX99F,EAAErH,MACFqH,EAAEomB,iBAES,eAAXpmB,EAAErH,OACFiG,KAAK2nD,QAAS,EACd3nD,KAAKshG,mBAAmB,cAExBthG,KAAK2nD,SACW,YAAXvmD,EAAErH,MAAsB8O,EAAOnF,UAAUlF,QAAQ,YAAc,GAAiB,aAAX4C,EAAErH,QACxEiG,KAAK0/F,aAAat+F,GAClBpB,KAAKshG,mBAAmB,WACxBlgG,EAAEomB,mBAQdw5E,EAAOxlG,UAAUomG,OAAS,WACtB5hG,KAAK0/F,gBAETsB,EAAOxlG,UAAU+qB,WAAa,WAC1B,GAAIxS,GAAU/T,KAAKw/F,YACNzrF,GAAQjR,cAAc,mBACnC2C,IAAalB,IAAIwP,EAAS,QAAS/T,KAAK0/F,aAAc1/F,MACtDyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK4/F,aAAc5/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAK2/F,gBAAiB3/F,MACjEyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAK2hG,cAAe3hG,MAC1DyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAK0hG,mBAAoB1hG,MAC/DyF,GAAalB,IAAIwP,EAAS,oBAAqB/T,KAAKiM,cAAejM,MACnEyF,GAAalB,IAAIwP,EAAS,gCAAiC/T,KAAK2hG,cAAe3hG,OAEnFghG,EAAOxlG,UAAUyjG,aAAe,WAC5B,GAAIlrF,GAAU/T,KAAKw/F,YACNzrF,GAAQjR,cAAc,mBACnC2C,IAAaf,OAAOqP,EAAS,QAAS/T,KAAK0/F,cAC3Cj6F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK4/F,cAChDn6F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAK2/F,iBACnDl6F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAK2hG,eAC9Cl8F,GAAaf,OAAO3J,SAAU,UAAWiF,KAAK0hG,oBAC9Cj8F,GAAaf,OAAOqP,EAAS,oBAAqB/T,KAAKiM,eACvDxG,GAAaf,OAAOqP,EAAS,gCAAiC/T,KAAK2hG,gBAEvErpE,IACI7uB,MACDu3F,EAAOxlG,UAAW,aAAU,IAC/B88B,IACI7uB,MACDu3F,EAAOxlG,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACVo4F,EAAOxlG,UAAW,cAAW,IAChC88B,IACI1vB,GAAS,KACVo4F,EAAOxlG,UAAW,eAAY,IACjC88B,IACI1vB,IAAS,IACVo4F,EAAOxlG,UAAW,eAAY,IACjC88B,IACI1vB,GAAS,KACVo4F,EAAOxlG,UAAW,WAAQ,IAC7B88B,IACI1vB,GAAS,KACVo4F,EAAOxlG,UAAW,cAAW,IAChC88B,IACI1vB,GAAS,KACVo4F,EAAOxlG,UAAW,eAAY,IACjC88B,IACI1vB,GAAS,KACVo4F,EAAOxlG,UAAW,YAAS,IAC9BwlG,EAAS1oE,IACLvuB,IACDi3F,IAEL/iD,KnC1VE4jD,GAAI,cACJC,GAAI,qBACJp+D,MAAO,oBACPq+D,KAAM,cACNtoG,KAAM,cACNuoG,MAAO,eACPhuF,QAAS,YACTimF,SAAU,aACVC,SAAU,aACVxgG,YAAa,iBACbuoG,SAAU,cACV7pC,MAAO,UACPnoC,IAAK,aACLiyE,YAAa,qBACbzD,SAAU,aACV0D,MAAO,aACPC,YAAa,oBAMjB,SAAW5hD,GAsDP,QAAS6hD,GAAW5gG,EAAe0xF,EAAY7+E,EAASguF,GACpD,GAAIC,GAAS5jG,KAAW6jG,EAAwBluF,GAC5CmuF,EAAiB9jG,KAAW+jG,EAAuBH,EAAOE,gBAC1D1oG,EAAO4oG,EAAWxP,GAAYyP,MAClC,OAAa,WAAT7oG,GAA8B,WAATA,EACd8oG,EAAoBphG,EAAe0xF,EAAYmP,EAAehuF,GAG9DwuF,EAAmBrhG,EAAe0xF,EAAY7+E,EAASmuF,EAAerqC,MAAOkqC,GAQ5F,QAASO,GAAoBphG,EAAe0xF,EAAYmP,EAAehuF,GAEnE,MAAOyuF,GAAWthG,EADHuhG,EAAwBvhG,EAAe0xF,EAAYmP,EAAehuF,GACtC,KAAMA,GAOrD,QAAS0uF,GAAwBvhG,EAAe0xF,EAAYmP,EAAehuF,GACvE,GAAI2uF,MACAV,EAAS5jG,KAAW6jG,EAAwBluF,EAChDC,IAAW2uF,EAAeX,EAAOnuF,WAEjC,KAAK,GADDzQ,GAAKw/F,IACA9qG,EAAI,EAAGA,EAAI86F,EAAW56F,OAAQF,IACnC,IAAIoF,EAAkB01F,EAAW96F,IAAjC,CAGA,GAAIwpG,OAAK,EACT,IAAIU,EAAOa,cAA+C,kBAAxBb,GAAOa,aAA6B,CAC9D34D,GACA0oD,WAAYA,EACZ1oD,QAAS0oD,EAAW96F,GACpBoB,KAAM05F,EAAW96F,GACjBic,QAASiuF,EAEbA,GAAOa,aAAa34D,GAQxB,GALIo3D,EADAS,EACKe,EAAsB5hG,EAAe0xF,EAAW96F,OAAIe,GAAW,KAAM,QAAU,KAAMuK,EAAItL,EAAGic,GAG5FgvF,EAAW7hG,EAAe0xF,EAAW96F,OAAIe,GAAW,KAAM,KAAMkb,GAErEiuF,EAAOgB,aAA6C,kBAAvBhB,GAAOgB,YAA4B,CAChE,GAAI94D,IACA0oD,WAAYA,EACZ1oD,QAAS0oD,EAAW96F,GACpBoB,KAAM05F,EAAW96F,GACjBQ,KAAMgpG,EACNvtF,QAASiuF,EAEbA,GAAOgB,YAAY94D,GAEvBw4D,EAASjqG,KAAK6oG,GAElB,MAAOoB,GASX,QAASO,GAAuB/hG,EAAe0xF,EAAY7+E,EAAS8jD,EAAOkqC,GACvE,GAAIC,GAAS5jG,KAAW6jG,EAAwBluF,EAChDC,IAAW2uF,EAAeX,EAAOnuF,WACjC,IAEIzQ,GAFAwR,EAASxW,KAAW6hD,EAASijD,oBAAqBlB,EAAOptF,QACzDstF,EAAiB9jG,KAAW+jG,EAAuBH,EAAOE,eAE1DrqC,KACAqqC,EAAerqC,MAAQA,EAE3B,IACIypC,GADA/gG,IAEAqyF,IAAcA,EAAW56F,SAAWkF,EAAkBklG,EAAWxP,GAAYt6F,QAC5E8pG,EAAWxP,GAAYt6F,KAAKyO,eAAe6N,EAAOxR,MACnDA,EAAKw/F,IAET,KAAK,GAAI9qG,GAAI,EAAGA,EAAI86F,EAAW56F,OAAQF,IAAK,CACxC,GAAI+c,GAAYH,GAAek+E,EAAW96F,GAAI8c,EAC9C,KAAI1X,EAAkB01F,EAAW96F,IAAjC,CAGA,GAAIkqG,EAAOa,cAA+C,kBAAxBb,GAAOa,aAA6B,CAC9D34D,GACA0oD,WAAYA,EACZ1oD,QAAS0oD,EAAW96F,GACpBoB,KAAM2b,EAAUD,EAAO1b,MACvB6a,QAASiuF,EACTptF,OAAQA,EAEZotF,GAAOa,aAAa34D,GAExB,GAAIi5D,GAAUvQ,EAAW96F,EACrBkqG,GAAOa,cAA+C,kBAAxBb,GAAOa,eACrChuF,EAAYH,GAAek+E,EAAW96F,GAAI8c,IAE1CC,EAAU9N,eAAe6N,EAAOxR,MAAQlG,EAAkB2X,EAAUD,EAAOxR,OAC3EA,EAAKyR,EAAUzR,GAEnB,IAAIggG,KAIJ,IAHIpB,EAAOqB,cACPD,EAAS3qG,KAAKyI,EAAc,SAAWiC,UAAW6Q,GAASytF,MAAOl+F,OAAS/J,KAAM,gBAE/D,IAAlBuoG,EACIC,EAAOsB,UAAYzuF,EAAU9N,eAAe6N,EAAOypF,WAAanhG,EAAkB2X,EAAUD,EAAOypF,WACnG+E,EAAS3qG,KAAKyI,EAAc,QAAUiC,UAAW6Q,GAASwtF,KAAO,IAAM3sF,EAAUD,EAAOypF,YAE5FiD,EAAKwB,EAAsB5hG,EAAeiiG,EAAStuF,EAAWD,EAAQotF,EAAOuB,UAAWH,KAAWD,EAAQp8F,eAAe,cACtHo8F,EAAQruF,UAA0B1R,EAAItL,EAAGic,OAE5C,CAgBD,IAfAutF,EAAKyB,EAAW7hG,EAAeiiG,EAAStuF,EAAWD,EAAQotF,EAAOuB,UAAWxvF,IAC1E9b,UAAU+L,IAAIgQ,GAAS6jD,MAAQ,IAAMqqC,EAAerqC,OACvDypC,EAAGh+F,aAAa,aAAc4+F,EAAerqC,MAAMz3D,YAC/CyU,EAAU9N,eAAe6N,EAAO4uF,UAChClC,EAAGh+F,aAAa,QAASuR,EAAUD,EAAO4uF,UAE1C3uF,EAAU9N,eAAe6N,EAAO6uF,iBAAmB5uF,EAAUD,EAAO6uF,iBACpEngG,EAAag+F,EAAIzsF,EAAUD,EAAO6uF,iBAElC5uF,EAAU9N,eAAe6N,EAAO8R,WAA0C,IAA9B7R,EAAUD,EAAO8R,UAC7D46E,EAAGrpG,UAAU+L,IAAIgQ,GAASkqF,UAE1BrpF,EAAU9N,eAAe6N,EAAOxQ,aAA8C,IAAhCyQ,EAAUD,EAAOxQ,aAC/Dk9F,EAAGj9F,MAAM6hD,QAAU,QAEnBrxC,EAAU9N,eAAe6N,EAAO8uF,YAAcxmG,EAAkB2X,EAAUD,EAAO8uF,WAAY,CAC7F,GAAIC,IAAS5kG,IAAK8V,EAAUD,EAAO8uF,UACnChmG,GAAMimG,EAAM9uF,EAAUD,EAAOgvF,kBAC7Bp/F,GAAStD,EAAc,OAASiC,UAAW6Q,GAAS4tF,MAAOr+F,MAAOogG,KAAUrC,EAAGx8F,mBAE/Ek9F,EAAOsB,UAAYzuF,EAAU9N,eAAe6N,EAAOypF,WAClDnhG,EAAkB2X,EAAUD,EAAOypF,YAAc2D,EAAO/xF,UACzDzL,GAAStD,EAAc,OAASiC,UAAW6Q,GAASwtF,KAAO,IAAM3sF,EAAUD,EAAOypF,YAAciD,EAAGx8F,mBAEnGs+F,EAASprG,QACTwM,EAAQ4+F,EAAU9B,EAAGx8F,mBAEzB++F,EAAgB3iG,EAAe2T,EAAWD,EAAQg+E,EAAYoP,EAAQV,EAAIY,EAAerqC,OAE7F,GAAImqC,EAAOgB,aAA6C,kBAAvBhB,GAAOgB,YAA4B,CAChE,GAAI94D,IACA0oD,WAAYA,EACZ1oD,QAAS0oD,EAAW96F,GACpBoB,KAAM2b,EAAUD,EAAO1b,MACvBZ,KAAMgpG,EACNvtF,QAASiuF,EACTptF,OAAQA,EAEZotF,GAAOgB,YAAY94D,GAEvB3pC,EAAM9H,KAAK6oG,IAEf,MAAO/gG,GAQX,QAASgiG,GAAmBrhG,EAAe0xF,EAAY7+E,EAAS8jD,EAAOkqC,GACnE,GAAIC,GAAS5jG,KAAW6jG,EAAwBluF,EAEhD,OAAOyuF,GAAWthG,EADT+hG,EAAuB/hG,EAAe0xF,EAAY7+E,EAAS8jD,EAAOkqC,GACtCC,EAAO8B,UAAW/vF,GAS3D,QAASgwF,GAAaC,EAAc1qG,EAAS2qG,GAEzC,GADAjwF,GAAW2uF,EAAeV,EAAuBpuF,YAC5CmwF,GAAiBA,EAAahsG,OAAnC,CAGA,GAAIksG,GACAC,EACAC,EAAgBlmG,MAAMjD,UAAUmG,MAAMf,KAAK2jG,EAQ/C,KADAE,EAAYE,GALRD,EADA7qG,EACU2E,EAAQ3E,EAAS8qG,IAGD,IAAfH,EAAsBG,EAAcpsG,QAAU,KAET,IAAfisG,GAAuB,EAAI,IACzDC,KAAe9/F,EAAU8/F,IAAcA,EAAUjsG,UAAUC,SAAS8b,GAASkqF,YAEhFgG,EAAYE,EADZD,IAAoC,IAAfF,GAAuB,EAAI,EAGpD,OAAOC,IAQX,QAASjmG,GAAQ3F,EAAM0rG,GACnB,GAAKA,GAAiB1rG,EAGjB,CAGD,MADgB4F,OAAMjD,UAAUmG,MAAMf,KAAK2jG,GACtB/lG,QAAQ3F,IAUrC,QAAS+rG,GAAgBzR,EAAYh+E,EAAQ0vF,OACvB,KAAdA,IAAwBA,EAAY,OACxC,IAAIC,GAAYnmG,KAAW6hD,EAASijD,oBAAqBtuF,GACrD4vF,GAAW,GAAItyC,KAAQ/uB,MAAMohE,EAAUE,SAGvCzrC,EAAK0rC,EAAc9R,EADvB4R,EAAWG,EAAWL,EAAW,MAAOE,GAExC5R,KACA,KAAK,GAAI3tE,GAAI,EAAGA,EAAI+zC,EAAGhhE,OAAQitB,IAAK,CAChC,GAAI2/E,GAAU5rC,EAAG/zC,GAAG7tB,MAChBytG,IAEJA,GAAQN,EAAUrrG,MAAQ8/D,EAAG/zC,GAAGnoB,IAChC+nG,EAAW,UAAI,EACfA,EAAQzhG,GAAK,oBAAsB41D,EAAG/zC,GAAGnoB,IACrCk8D,EAAG/zC,GAAGnoB,IAAIsD,WAAW8Q,OAAS,aAClC2zF,EAAQztG,MAAQwtG,EAChBhS,EAAWn6F,KAAKosG,EAChB,KAAK,GAAIh9E,GAAI,EAAGA,EAAI+8E,EAAQ5sG,OAAQ6vB,IAChC+qE,EAAWn6F,KAAKmsG,EAAQ/8E,IAGhC,MAAO+qE,GASX,QAAS+R,GAAWL,EAAW3vC,EAAQp7D,GAEnC,OADc,KAAVA,IAAoBA,EAAQ,GAAI24D,KAClB,cAAdoyC,EACA/qG,EAAMo7D,OAAOA,EAAQ,aAAa,OAEjC,IAAkB,eAAd2vC,EACL/qG,EAAMo7D,OAAOA,EAAQ,cAAc,OAGnC,KAAK,GAAI78D,GAAI,EAAGA,EAAIyB,EAAMg5D,QAAQv6D,OAAQF,IACV,aAAxByB,EAAMg5D,QAAQz6D,GAAG87D,IACjBr6D,EAAMg5D,QAAQvoC,OAAOlyB,EAAG,EAIpC,OAAOyB,GAQX,QAASmrG,GAAc9R,EAAYr5F,GAE/B,MAAO,IAAIuhE,IAAY83B,GAClBt/B,aAAa/5D,GAQtB,QAASurG,GAAsBxrG,EAASya,GACpC,GAAIiuF,GAAS5jG,KAAW6jG,EAAwBluF,GAC5Ca,EAASxW,KAAW6hD,EAASijD,oBAAqBlB,EAAOptF,QACzDmwF,EAASzrG,EAAQmI,WAAU,GAC3BujG,IACJD,GAAO9sG,UAAU+L,IAAI,cACrB,IAAIihG,GAASF,EAAO1qG,iBAAiB,kBACrC0qG,GAAO9sG,UAAUkM,OAAO,cACxB,KAAK,GAAIrM,GAAI,EAAGA,EAAImtG,EAAOjtG,OAAQF,IAAK,CAOpC,IAAK,GANDwpG,GAAK2D,EAAOntG,GACZmd,EAASqsF,EAAG/+F,cAAc,KAC1Bg/F,EAAKD,EAAG/+F,cAAc,MACtBo0D,KACA58D,EAAakb,EAASA,EAAOlb,WAAaunG,EAAGvnG,WAC7CgD,EAAOiB,OAAOjB,KAAKhD,GACdgiB,EAAM,EAAGA,EAAMhiB,EAAW/B,OAAQ+jB,IACjChiB,EAAWqxD,OAAOruD,EAAKgf,KAAQmpF,kBACjCvuC,EAAK/hD,EAAO1b,MAAQa,EAAWqxD,OAAOruD,EAAKgf,KAAO5iB,YAG1Dw9D,GAAK/hD,EAAOxR,IAAMw/F,GAClB,IAAIuC,GAAeC,EAAiB9D,EAChCtjG,QAAOjB,KAAKooG,GAAcntG,SAC1B2+D,EAAK/hD,EAAO6uF,gBAAkB0B,GAE9BlwF,IACAkwF,EAAeC,EAAiBnwF,GAC5BjX,OAAOjB,KAAKooG,GAAcntG,SAC1B2+D,EAAK/hD,EAAOywF,eAAiBF,IAGjC5D,IACA5qC,EAAK/hD,EAAOrU,OAASukG,EAAsBvD,EAAIxtF,IAEnDixF,EAAOvsG,KAAKk+D,GAEhB,MAAOquC,GAGX,QAAS5C,GAAWlmG,GAEhB,IAAK,GADDyU,IAAU0xF,OAAQ,KAAM/pG,KAAM,MACzBR,EAAI,EAAGA,EAAIoE,EAAKlE,OAAQF,IAC7B,IAAKoF,EAAkBhB,EAAKpE,IACxB,MAAO6Y,IAAU0xF,aAAenmG,GAAKpE,GAAIQ,KAAM4D,EAAKpE,GAG5D,OAAO6Y,GAEX,QAASrN,GAAahK,EAASgsG,GAC3B,GAAI3B,KACJjmG,GAAMimG,EAAM2B,GACR3B,EAAKzwF,QACLzP,GAAUnK,GAAUqqG,EAAKzwF,MAAMvW,MAAM,YAC9BgnG,GAAKzwF,OAEhB1P,EAAWlK,EAASqqG,GAExB,QAASyB,GAAiB9rG,GAGtB,IAAK,GAFDkK,MACAmgG,EAAOrqG,EAAQkK,WACV7L,EAAQ,EAAGA,EAAQgsG,EAAK3rG,OAAQL,IACrC6L,EAAWmgG,EAAKhsG,GAAOqb,UAAY2wF,EAAKhsG,GAAOsb,SAEnD,OAAOzP,GAQX,QAAS+hG,GAAsBrkG,EAAe+O,EAAU2iF,EAAYh+E,EAAQb,GAQxE,IAAK,GANDyxF,GAAYtkG,EAAc,MAAQiC,WADtC6Q,GAAW2uF,EAAeV,EAAuBpuF,aACS0tF,GAAIh+F,OAASsP,KAAM,kBACzEmvF,EAAS5jG,KAAW6jG,EAAwBluF,GAC5CwwF,EAAYnmG,KAAW6hD,EAASijD,oBAAqBtuF,GACrD6wF,EAAiBz1F,GAAQC,GACzBy1F,KACAtiG,EAAKw/F,IACA9qG,EAAI,EAAGA,EAAI86F,EAAW56F,OAAQF,IAAK,CACxC,GAAI+c,GAAYH,GAAek+E,EAAW96F,GAAIysG,GAC1CpB,EAAUvQ,EAAW96F,GACrBgd,EAAWquF,EAAQruF,SACnBrY,EAAQoY,EAAU0vF,EAAU9nG,MAChC,IAAIulG,EAAOa,cAA+C,kBAAxBb,GAAOa,aAA6B,CAC9D34D,GACA0oD,WAAYA,EACZ1oD,QAASi5D,EACTjqG,KAAMuD,EACNsX,QAASiuF,EACTptF,OAAQ2vF,EAEZvC,GAAOa,aAAa34D,GAEpB83D,EAAOa,cAA+C,kBAAxBb,GAAOa,eAErCpmG,GADAoY,EAAYH,GAAek+E,EAAW96F,GAAIysG,IACxBA,EAAU9nG,OAEhC,IAAI6kG,GAAKpgG,EAAc,MACnBkC,GAAIA,EAAK,IAAMtL,EACfqL,UAAW2R,EAAWd,GAASmvB,MAAQnvB,GAASstF,GAAI/9F,OAASsP,KAAM,iBAUvE,IARIiC,EACAwsF,EAAG/oG,UAAYsc,EAAU0vF,EAAUrrG,OAGnC6L,EAAO0gG,EAAetC,GAAU7B,GAChCA,EAAGh+F,aAAa,aAAc7G,GAC9B6kG,EAAGh+F,aAAa,OAAQ,WAExB0+F,EAAOgB,aAA6C,kBAAvBhB,GAAOgB,YAA4B,CAChE,GAAI94D,IACA0oD,WAAYA,EACZ1oD,QAASi5D,EACTjqG,KAAMuD,EACNnE,KAAMgpG,EACNvtF,QAASiuF,EACTptF,OAAQ2vF,EAEZvC,GAAOgB,YAAY94D,GAEvBw7D,EAAajtG,KAAK6oG,GAGtB,MADAv8F,GAAO2gG,EAAcF,GACdA,EAUX,QAASG,GAAoBC,EAAevB,EAAiBzvF,EAAQixF,GAIjE,IAAK,GAHDJ,GAAiBz1F,GAAQ41F,GAEzBE,EADY1nG,KAAW6hD,EAASijD,oBAAqBtuF,GAChC6vF,QAChB3mG,EAAK,EAAGioG,EAAgBF,EAAa/nG,EAAKioG,EAAc/tG,OAAQ8F,IAAM,CAC3E,GAAIg0B,GAASi0E,EAAcjoG,GACvBkoG,IACJA,GAAWF,GAAYh0E,EAAO34B,YAC9B24B,EAAO73B,UAAY,GACnB8K,EAAO0gG,EAAeO,GAAal0E,GAEvC,MAAO+zE,GAGX,QAASjD,KACL,MAAO/1F,MAAK6T,MAA4B,OAArB,EAAI7T,KAAK0T,WACvBngB,SAAS,IACTulB,UAAU,GAGnB,QAASk+E,GAAgB3iG,EAAe2T,EAAWD,EAAQokD,EAAIjlD,EAASza,EAASu+D,GAE7E,GAAIouC,GAAQpxF,EAAUD,EAAOrU,WACzB2lG,EAAcrxF,EAAUD,EAAOsxF,YAEnC,IAAID,EAAMjuG,SACNkuG,GAAc,EACd5sG,EAAQrB,UAAU+L,IAAIgQ,GAAS0tF,UAC3B3tF,EAAQ8vF,iBAAiB,CACzB,GAAIsC,GAAQ5D,EAAmBrhG,EAAe+kG,EAAOlyF,IAAW8jD,EAChEv+D,GAAQkI,YAAY2kG,GAItBpyF,EAAQqyF,gBAAkBF,IAAgBnyF,EAAQ9D,WACpD3W,EAAQwL,kBAAkB7M,UAAU+L,IAAIgQ,GAAS6tF,cACE,SAA/B9tF,EAAQsyF,mBAAgC7hG,EAAUO,IACvD7D,EAAc,OAASiC,UAAW,WAAa4Q,EAAQuyF,mBAAqBhtG,EAAQiJ,cAAc,IAAMyR,GAAS7a,eAGxI,QAAS2pG,GAAsB5hG,EAAe5I,EAAMuc,EAAWD,EAAQzR,EAAWojG,EAAeC,EAAOpjG,EAAIzL,EAAOoc,GAC/G,GAII6+E,GAJAoP,EAAS5jG,KAAW6jG,EAAwBluF,GAC5CmuF,EAAiB9jG,KAAW+jG,EAAuBH,EAAOE,gBAC1DhpG,EAAOZ,EACPmE,EAAQnE,CAEQ,iBAATA,IAAqC,gBAATA,IAAqC,iBAATA,KAC/Ds6F,EAAat6F,EACbY,EAA0C,iBAA3B2b,GAAUD,EAAO1b,OAAyD,gBAA3B2b,GAAUD,EAAO1b,MAC3E2b,EAAUD,EAAO1b,MAAS2b,EAAUD,EAAO1b,OAAS,GACxDuD,EAAQoY,EAAUD,EAAOnY,OAE7B,IAAIgqG,EAMAA,GALCvpG,EAAkB01F,IAAgB11F,EAAkB2X,EAAUD,EAAOxR,MAC1C,KAAzByR,EAAUD,EAAOxR,IAIRA,EAAK,IAAMzL,EAHXyL,CAKhB,IAAIk+F,GAAKpgG,EAAc,MACnBiC,YAAsB,IAAVqjG,EAAiBxyF,GAASmvB,MAAQnvB,GAASstF,IAAM,KAAOpkG,EAAkBiG,GAAa,GAAKA,GACxGC,GAAIqjG,EAAWljG,MAAyC,KAAjC2+F,EAAewE,eAAoD,KAA5BxE,EAAeyE,UACvE9zF,MAAiB,IAAV2zF,EAAiBtE,EAAewE,cAAgBxE,EAAeyE,cA0BhF,OAxBI/T,IAAc/9E,EAAU9N,eAAe6N,EAAO8R,UAAqD,UAAzC7R,EAAUD,EAAO8R,SAAStmB,YACpFkhG,EAAGrpG,UAAU+L,IAAIgQ,GAASkqF,UAE1BsI,EACAlF,EAAG/oG,UAAYW,GAGVgE,EAAkBT,IACnB6kG,EAAGh+F,aAAa,aAAc7G,GAElC6kG,EAAGh+F,aAAa,OAAQ,UACpBsvF,GAAc/9E,EAAU9N,eAAe6N,EAAO6uF,iBAAmB5uF,EAAUD,EAAO6uF,iBAClFngG,EAAag+F,EAAIzsF,EAAUD,EAAO6uF,iBAElC8C,EAAcvuG,QACd+M,EAAOwhG,EAAejF,GAEtB1O,GAAc/9E,EAAU9N,eAAe6N,EAAO8a,MAAQ7a,EAAUD,EAAO8a,KACvE4xE,EAAG9/F,YAAYolG,EAAU1lG,EAAe0xF,EAAYh+E,EAAQ1b,IAG5DooG,EAAG9/F,YAAYhH,SAASC,eAAevB,KAGxCooG,EAEX,QAASqB,GAAe9uF,GAEpB,OACIytF,GAAI,KAAOztF,EAAa,QACxB0tF,GAAI,KAAO1tF,EAAa,eACxBsvB,MAAO,KAAOtvB,EAAa,cAC3B2tF,KAAM,KAAO3tF,EAAa,QAC1B3a,KAAM,KAAO2a,EAAa,QAC1B4tF,MAAO,KAAO5tF,EAAa,SAC3BJ,QAAS,YACTimF,SAAU,aACVC,SAAU,aACVxgG,YAAa,iBACbuoG,SAAU,cACV7pC,MAAO,UACPnoC,IAAK,KAAO7b,EAAa,OACzB8tF,YAAa,qBACbzD,SAAU,aACV0D,MAAO,KAAO/tF,EAAa,OAC3BguF,YAAa,kBAGrB,QAAS+E,GAAU1lG,EAAe0xF,EAAYh+E,EAAQ1b,GAClD,GAAI2b,GAAYH,GAAek+E,EAAYh+E,GACvC+uF,GAAShkE,KAAM9qB,EAAUD,EAAO8a,KAChC7a,GAAU9N,eAAe6N,EAAOywF,gBAAkBxwF,EAAUD,EAAOywF,gBACnE3nG,EAAMimG,EAAM9uF,EAAUD,EAAOywF,eAEjC,IAAIuB,GAAY1lG,EAAc,KAAOiC,UAAW6Q,GAAS9a,KAAO,IAAM8a,GAAS0b,IAAKz1B,UAAWf,GAE/F,OADAoK,GAAasjG,EAAWjD,GACjBiD,EAGX,QAAS7D,GAAW7hG,EAAe5I,EAAMuc,EAAWD,EAAQzR,EAAW4Q,GACnE,GAGI8yF,GACAL,EACA5T,EALAoP,EAAS5jG,KAAW6jG,EAAwBluF,GAC5CmuF,EAAiB9jG,KAAW+jG,EAAuBH,EAAOE,gBAC1DhpG,EAAOZ,CAIS,iBAATA,IAAqC,gBAATA,KACnCs6F,EAAat6F,EACbY,EAAO2b,EAAUD,EAAO1b,OAAS,GACjC2tG,EAAMhyF,EAAUD,EAAOxR,IACvBojG,KAASluG,EAAKyO,eAAe,cAAezO,EAAKwc,UAGrD,IAAIwsF,GAAKpgG,EAAc,MACnBiC,YAAsB,IAAVqjG,EAAiBxyF,GAASmvB,MAAQnvB,GAASstF,IAAM,KAAOpkG,EAAkBiG,GAAa,GAAKA,GACxGI,MAAyC,KAAjC2+F,EAAewE,eAAoD,KAA5BxE,EAAeyE,UACxD9zF,MAAiB,IAAV2zF,EAAiBtE,EAAewE,cAAgBxE,EAAeyE,cAGhF,IADCzpG,EAAkB2pG,GAA0CvF,EAAGh+F,aAAa,WAAYs/F,KAA/DtB,EAAGh+F,aAAa,WAAYujG,GAClDL,GAASzyF,GAAWA,EAAQ6xF,cAE5B7gG,GADI0gG,EAAiBz1F,GAAQ+D,EAAQ6xF,gBACfttG,GAAOgpG,OAE5B,KAAKkF,GAASzyF,GAAWA,EAAQ9D,SAAU,CAC5C,GAAIw1F,GAAiBz1F,GAAQ+D,EAAQ9D,SACrClL,GAAO0gG,EAAentG,GAAOgpG,OAE5B,CACD,GAAIwF,GAAW5lG,EAAc,OACzBiC,UAAW6Q,GAAS7a,YACpBoK,MAAuC,KAA/B2+F,EAAe6E,aAAuBl0F,KAAMqvF,EAAe6E,iBAEnEnU,IAAc/9E,EAAU9N,eAAe6N,EAAO8a,MAAQ7a,EAAUD,EAAO8a,KACvEo3E,EAAStlG,YAAYolG,EAAU1lG,EAAe0xF,EAAYh+E,EAAQ1b,IAGlE4tG,EAAStlG,YAAYN,EAAc,QAC/BiC,UAAW6Q,GAAS9a,KAAMe,UAAWf,EACrCqK,MAAoC,KAA5B2+F,EAAe8E,UAAoBn0F,KAAMqvF,EAAe8E,gBAGxE1F,EAAG9/F,YAAYslG,GAEnB,MAAOxF,GAQX,QAASkB,GAAWthG,EAAe+lG,EAAW9jG,EAAW4Q,GACrD,GAAIiuF,GAAS5jG,KAAW6jG,EAAwBluF,GAC5CmuF,EAAiB9jG,KAAW+jG,EAAuBH,EAAOE,gBAE1DsD,EAAYtkG,EAAc,MAC1BiC,WAFJ6Q,GAAW2uF,EAAeX,EAAOnuF,aAET0tF,GAAK,KAAOrkG,EAAkBiG,GAAa,GAAKA,GACpEI,MAAoC,KAA5B2+F,EAAegF,UAAoBr0F,KAAMqvF,EAAegF,cAGpE,OADAniG,GAAOkiG,EAAWzB,GACXA,EASX,QAAS2B,GAAajmG,EAAe+lG,EAAW9jG,EAAW4Q,GACvD,GAAIiuF,GAAS5jG,KAAW6jG,EAAwBluF,EAOhD,OANAC,IAAW2uF,EAAeX,EAAOnuF,aACiB,SAA9BmuF,EAAOqE,mBAAgC7hG,EAAUO,IACtD7D,EAAc,OACrBiC,UAAW,WAAa6+F,EAAOsE,gBAAkB,KAC5CppG,EAAkBiG,GAAa,GAAKA,MACxC8jG,EAAU1kG,cAAc,IAAMyR,GAAS7a,cACzC8tG,EArqBXhnD,EAASijD,qBACL9/F,GAAI,KACJlK,KAAM,OACNw2B,IAAK,MACLjzB,MAAO,QACP2qG,UAAW,YACX1gF,QAAS,UACTizE,SAAU,WACVD,SAAU,WACV2E,QAAS,UACT99F,MAAO,QACP6D,UAAW,YACX8hG,YAAa,cACb1C,QAAS,UACTC,eAAgB,iBAChB4B,cAAe,gBACfzB,gBAAiB,kBACjBF,SAAU,WACVe,QAAS,KAEb,IAAItC,IACAtqC,MAAO,EACPqvC,SAAU,eACVP,SAAU,eACVD,cAAe,QACfM,SAAU,YACVD,YAAa,gBAEb9E,GACAoB,cAAc,EACdC,UAAU,EACV8C,gBAAgB,EAChBxxF,OAAQqrC,EAASijD,oBACjBhB,eAAgBC,EAChB2B,UAAW,GACXP,UAAW,GACXM,iBAAiB,EACjBS,UAAW,OACXr0F,SAAU,KACV21F,cAAe,KACfyB,eAAgB,KAChBf,gBAAiB,qBACjBzyF,WAAY,OACZwyF,mBAAoB,QAkBxBpmD,GAAS6hD,WAAaA,EAStB7hD,EAASqiD,oBAAsBA,EA4C/BriD,EAASwiD,wBAA0BA,EAoGnCxiD,EAASgjD,uBAAyBA,EAWlChjD,EAASsiD,mBAAqBA,EA4B9BtiD,EAAS8jD,aAAeA,EAgBxB9jD,EAAShiD,QAAUA,EA+BnBgiD,EAASokD,gBAAkBA,EAwB3BpkD,EAAS0kD,WAAaA,EAWtB1kD,EAASykD,cAAgBA,EA4CzBzkD,EAAS6kD,sBAAwBA,EAwFjC7kD,EAASslD,sBAAwBA,EAqBjCtlD,EAAS0lD,oBAAsBA,EAM/B1lD,EAAS2iD,WAAaA,EAwKtB3iD,EAASuiD,WAAaA,EAiBtBviD,EAASknD,aAAeA,GACzBlnD,KAAaA,OoCvsBhB,InCIIxpC,IACAV,GACAzc,GACA2c,GCHAA,GACAyB,GmCqhCO4vF,GD1hCP/vE,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAY5DovE,IACAC,QACAC,WAAc,gBAAiB,eAAgB,cAAe,gBAC9DC,WAAc,cAAe,iBAAkB,gBAAiB,cAChEC,MAAS,UAAW,cAAe,aAAc,UACjDC,MAAS,UAAW,UAAW,SAAU,WAEzCC,IACAL,QACAC,WAAc,eAAgB,gBAAiB,eAAgB,eAC/DC,WAAc,iBAAkB,cAAe,aAAc,iBAC7DC,MAAS,cAAe,UAAW,SAAU,cAC7CC,MAAS,UAAW,UAAW,SAAU,WAGlCE,IACPC,KAAM,aACNC,MAAO,UACPtO,SAAU,WACVuO,QAAS,YACTC,WAAY,gBACZC,SAAU,cACVC,SAAU,cACVjvG,YAAa,iBACbkvG,aAAc,cACdC,cAAe,oBACf5G,SAAU,cACV6G,KAAM,SACNz2E,OAAQ,gBACR02E,WAAY,eACZC,mBAAoB,wBACpBvvG,KAAM,SACNwvG,QAAS,aACTvuG,QAAS,YACTqnG,KAAM,UACNmH,SAAU,cACVC,gBAAiB,qBACjBC,SAAU,aACVp1F,QAAS,UACTq1F,UAAW,cACXC,aAAc,UACdC,cAAe,mBACfC,aAAc,kBACdC,iBAAkB,sBAClBC,cAAe,eAEfC,GAA+B,SAAU5wE,GAEzC,QAAS4wE,KACL,MAAkB,QAAX5wE,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAsC/D,MAxCA83B,IAAU6xE,EAAe5wE,GAIzBT,IACI1vB,GAAS,OACV+gG,EAAcnuG,UAAW,SAAM,IAClC88B,IACI1vB,GAAS,SACV+gG,EAAcnuG,UAAW,WAAQ,IACpC88B,IACI1vB,GAAS,cACV+gG,EAAcnuG,UAAW,gBAAa,IACzC88B,IACI1vB,GAAS,cACV+gG,EAAcnuG,UAAW,gBAAa,IACzC88B,IACI1vB,GAAS,YACV+gG,EAAcnuG,UAAW,cAAW,IACvC88B,IACI1vB,GAAS,YACV+gG,EAAcnuG,UAAW,cAAW,IACvC88B,IACI1vB,GAAS,UACV+gG,EAAcnuG,UAAW,YAAS,IACrC88B,IACI1vB,GAAS,YACV+gG,EAAcnuG,UAAW,cAAW,IACvC88B,IACI1vB,GAAS,YACV+gG,EAAcnuG,UAAW,cAAW,IACvC88B,IACI1vB,GAAS,SACV+gG,EAAcnuG,UAAW,aAAU,IACtC88B,IACI1vB,GAAS,mBACV+gG,EAAcnuG,UAAW,qBAAkB,IAC9C88B,IACI1vB,GAAS,cACV+gG,EAAcnuG,UAAW,gBAAa,IAClCmuG,GACThnE,IAkBEinE,GAA0B,SAAU7wE,GAKpC,QAAS6wE,GAASt1F,EAASza,GACvB,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA8+ClD,MAn/CA83B,IAAU8xE,EAAU7wE,GAOpB6wE,EAASpuG,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACtD,IAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,iBACD2B,KAAK6pG,kBACL,MACJ,KAAK,WACD7pG,KAAK8pG,YAAY9uE,EAAQzmB,SACzB,MACJ,KAAK,SACDvU,KAAK+pG,WACL,MACJ,KAAK,QACL,IAAK,SACD/pG,KAAKgqG,SACL,MACJ,KAAK,YACDhqG,KAAKiqG,cACL,MACJ,KAAK,SACDjqG,KAAKkqG,eAAe/0F,OAASnV,KAAKmV,OAAO5R,WACrCvD,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqBC,2BAG1BrqG,KAAKsqG,UAET,MACJ,KAAK,cACItqG,KAAKuqG,WAAWhyG,QACjByH,KAAKqyB,OAAOryB,KAAKwqG,aAAa,EAElC,MACJ,KAAK,aACDxqG,KAAKqyB,OAAOryB,KAAKwqG,aAAa,EAC9B,MACJ,KAAK,uBACDjlG,EAAOvF,KAAKyqG,kBACZzqG,KAAK0+C,SACL,MACJ,KAAK,eACL,IAAK,mBACG1+C,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqBC,2BAG1BrqG,KAAK0qG,aAET,MACJ,KAAK,aACG1qG,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqBC,2BAG1BrqG,KAAKsqG,UAET,MACJ,KAAK,YACL,IAAK,WACGtqG,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqBC,4BAG1BrqG,KAAKkqG,eAAerG,SAAW7jG,KAAK6jG,SACpC7jG,KAAK2qG,UAAY3qG,KAAK4qG,WACtB5qG,KAAK6qG,sBASzBjB,EAASpuG,UAAUquG,iBAAmB,WAC9BtrG,OAAOjB,KAAK0C,KAAKgkG,gBAAgBzrG,QACjCwL,EAAW/D,KAAKnG,QAASmG,KAAKgkG,iBAGtC4F,EAASpuG,UAAUsuG,YAAc,SAAUgB,GACnC9qG,KAAKuU,UACLvQ,GAAUhE,KAAKnG,SAAUmG,KAAKuU,SAASrX,MAAM,KAAKu4B,OAAO,SAAUs1E,GAAO,MAAOA,MAEjFD,GACAtmG,GAAaxE,KAAKnG,SAAUixG,EAAY5tG,MAAM,KAAKu4B,OAAO,SAAUs1E,GAAO,MAAOA,OAG1FnB,EAASpuG,UAAUwuG,QAAU,WACzBhqG,KAAKnG,QAAQ+K,MAAM6S,OAAS/U,EAAW1C,KAAKyX,QAC5CzX,KAAKnG,QAAQ+K,MAAM8S,MAAQhV,EAAW1C,KAAK0X,OAC3C1X,KAAKgrG,UAAWhrG,KAAKnG,QAAQ8S,wBAAwB8K,QAEzDmyF,EAASpuG,UAAUuuG,UAAY,WAC3B/pG,KAAKirG,cAAcjrG,KAAKnG,QAASmG,KAAKkrG,SAE1CtB,EAASpuG,UAAUyuG,aAAe,WAC1BjqG,KAAKuP,UACLvP,KAAKnG,QAAQrB,UAAU+L,IAAI,SAG3BvE,KAAKnG,QAAQrB,UAAUkM,OAAO,UAGtCklG,EAASpuG,UAAUyvG,cAAgB,SAAUpxG,EAASsxG,GAC9CA,EACAtxG,EAAQrB,UAAUkM,OAAO2jG,GAAWY,SAGpCpvG,EAAQrB,UAAU+L,IAAI8jG,GAAWY,UAIzCW,EAASpuG,UAAU62B,OAAS,SAAU54B,EAAM2xG,GACxC,OAAuBhyG,KAAnB4G,KAAKqrG,WAA2BrrG,KAAKsrG,WAAY,CACjDtrG,KAAKqrG,UAAYrrG,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAWh2E,QACnE,IAAIk5E,GAAiBvrG,KAAKyB,cAAc,QAAUiC,UAAW2kG,GAAWU,WAAYvuG,UAAWwF,KAAKwqG,cAChGgB,EAAUxrG,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAW5uG,KAAMe,UAAW+wG,EAAerpG,YAC5FupG,EAAgBzrG,KAAKyB,cAAc,OACnCiC,UAAW2kG,GAAWtG,KAAO,IAAMsG,GAAWa,SAAW,cACzDplG,OAASc,MAAO,kBAIpB,IAFA5E,KAAKqrG,UAAUtpG,YAAY0pG,GAC3BzrG,KAAKqrG,UAAUtpG,YAAYypG,GACvBxrG,KAAK4nG,eAAgB,CACrB,GAAI5B,GAAiBz1F,GAAQvQ,KAAK4nG,gBAC9B8D,EAAoB1rG,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAWW,oBAC1E1jG,GAAO0gG,MAAoB0F,GAC3BpmG,GAAQomG,GAAoB1rG,KAAKqrG,WAEjCrrG,KAAK4nG,gBAAkB5nG,KAAKwqG,aAC5BgB,EAAQhzG,UAAU+L,IAAI,UAE1BvE,KAAKnG,QAAQrB,UAAU+L,IAAI,gBAC3BQ,GAAS/E,KAAKqrG,WAAYrrG,KAAKnG,aAE9B,IAAImG,KAAKqrG,UACV,GAAIrrG,KAAKsrG,WAAY,CACjBtrG,KAAKqrG,UAAUzmG,MAAM6hD,QAAU,EAC/B,IAAI+kD,GAAUxrG,KAAKqrG,UAAUvoG,cAAc,IAAMulG,GAAWU,YACxD0C,EAAgBzrG,KAAKqrG,UAAUvoG,cAAc,IAAMulG,GAAWa,SAClEsC,GAAQhxG,UAAYf,EAChBuG,KAAK4nG,gBAAkBwD,IACvBI,EAAQx1F,cAAcxd,UAAUkM,OAAO,UACvC1E,KAAKqrG,UAAUvoG,cAAc,IAAMulG,GAAWW,oBAAoBxwG,UAAU+L,IAAI,kBAEhFvE,KAAK4nG,iBAAmBwD,IACxBI,EAAQx1F,cAAcxd,UAAU+L,IAAI,UACpCvE,KAAKqrG,UAAUvoG,cAAc,IAAMulG,GAAWW,oBAAoBxwG,UAAUkM,OAAO,iBACnF1E,KAAKqrG,UAAUvoG,cAAc,IAAMulG,GAAWW,oBAAoBxwG,UAAU+L,IAAI,WAGhFknG,EAAc7mG,MAAM6hD,SADP,IAAb2kD,EAC8B,GAGA,WAIlCprG,MAAKqrG,UAAUzmG,MAAM6hD,QAAU,QAK3CmjD,EAASpuG,UAAUmwG,WAAa,SAAUC,EAAUC,EAAQ/T,GACxD,GAAI/3F,GAAQC,IACZ,IAAI4rG,GAAYC,EAAQ,CACpB,GAAIC,GAASF,EAAShnG,MAAMiR,SACxBk2F,EAA8C,WAAhC/rG,KAAKnG,QAAQ+K,MAAM2W,SAAyBvb,KAAKnG,QAAQ+K,MAAM2W,SAAW,EAC5FqwF,GAAShnG,MAAMiR,SAAW,WAC1B+1F,EAASpzG,UAAU+L,IAAI,SACvB,IAAIynG,OAAO,GACPv/F,EAAWzM,KAAK65B,UAAUptB,QAC9B,IAAIzM,KAAK65B,UAAUoyE,OACfD,EAAQhsG,KAAKuP,UAAY64F,GAAiBpoG,KAAK65B,UAAUoyE,QAAUnE,GAAc9nG,KAAK65B,UAAUoyE,YAE/F,CAEDD,EAAOlE,GAAuB,UAC9BhQ,EAAU93F,KAAKuP,UACf9C,EAAW,EAEfzM,KAAKnG,QAAQ+K,MAAM2W,SAAW,SAC9Bvb,KAAKksG,OAAOzyE,QAAQmyE,GAChB34E,MAAmB,IAAZ6kE,EAAmBkU,EAAK,GAAKA,EAAK,GACzCv/F,SAAUA,EACVguB,eAAgBz6B,KAAK65B,UAAU5X,OAC/BjC,IAAK,SAAUqO,GACXu9E,EAAShnG,MAAM6hD,QAAU,OACzB1mD,EAAMlG,QAAQ+K,MAAM2W,SAAWwwF,EAC/BH,EAAShnG,MAAMiR,SAAWi2F,EAC1BF,EAASpzG,UAAUkM,OAAO,aAGlCmnG,EAAOjnG,MAAM6hD,QAAU,GACvBzmD,KAAKksG,OAAOzyE,QAAQoyE,GAChB54E,MAAmB,IAAZ6kE,EAAmBkU,EAAK,GAAKA,EAAK,GACzCv/F,SAAUA,EACVguB,eAAgBz6B,KAAK65B,UAAU5X,OAC/BjC,IAAK,WACDjgB,EAAM0oB,QAAQ,qBAGtBzoB,KAAKmsG,MAAQN,IAGrBjC,EAASpuG,UAAUyY,UAAY,WAC3BjU,KAAKkqG,gBACD15F,SAAUxQ,KAAKwQ,SACfo3F,eAAgB5nG,KAAK4nG,eACrBzB,cAAenmG,KAAKmmG,cAAeQ,gBAAgB,EAAMtC,UAAW,GACpE5B,gBACIyE,SAAU,WAAYO,SAAU,OAAQF,SAAU,GAClDN,cAAe,QAASK,YAAa,gBAEzCnyF,OAAQnV,KAAKmV,OAAO5R,WAAYshG,UAAW7kG,KAAK6kG,UAAWhB,SAAU7jG,KAAK6jG,SAC1EN,YAAavjG,KAAKosG,eAAe3wG,KAAKuE,OAE1CA,KAAKqsG,kBAETzC,EAASpuG,UAAU6wG,eAAiB,WAChCrsG,KAAKuqG,cACLvqG,KAAKssG,kBACLtsG,KAAK2qG,aACL3qG,KAAKusG,qBACLvsG,KAAKwsG,cAAe,EACpBxsG,KAAKysG,gBACLzsG,KAAK0sG,cACL1sG,KAAKksG,OAAS,GAAIpzE,IAAU94B,KAAKssG,iBAErC1C,EAASpuG,UAAU4wG,eAAiB,SAAUnsG,GAI1C,GAHIA,EAAKpH,KAAKL,UAAUC,SAAS4vG,GAAWpG,YACxCjiG,KAAKwsG,cAAe,GAEpBxsG,KAAK4jG,cAAgB5jG,KAAK2sG,UAAU1sG,EAAKpH,MAAO,CAChD,GAAI+zG,OAAkB,IAEtBA,EAAkBv4F,GAAerU,KAAKyB,eAAe,GACjDuS,SAAS,EAAOzE,UAAWvP,KAAKuP,UAChCgF,SAAU8zF,GAAWoB,oBAET5lG,aAAa,OAAQ,WACrC,IAAIgpG,GAAiBD,EAAgB9pG,cAAc,IAAMulG,GAAWiB,aACpErpG,GAAKpH,KAAKL,UAAU+L,IAAI8jG,GAAWqB,eACnCzpG,EAAKpH,KAAKwM,kBAAkB7M,UAAU+L,IAAI8jG,GAAWe,UACnB,gBAAvBppG,MAAKmzF,WAAW,IAAiD,gBAAvBnzF,MAAKmzF,WAAW,GACrDl+E,GAAehV,EAAKwqC,QAASzqC,KAAKkqG,eAAe/0F,QAC/CnV,KAAKkqG,eAAe/0F,OAAOwyF,YACrC3nG,KAAK8sG,gBAAgB7sG,EAAM2sG,GAGM,gBAAvB5sG,MAAKmzF,WAAW,IACA,gBAAvBnzF,MAAKmzF,WAAW,KAA8D,IAA1CnzF,KAAKysG,aAAajuG,QAAQyB,EAAKxG,OAC1EuG,KAAK8sG,gBAAgB7sG,EAAM2sG,GAE/BA,EAAgB/oG,aAAa,eAAgBgpG,EAAer0G,UAAUC,SAAS4vG,GAAWr0F,SAAW,OAAS,SAChF,SAA1BhU,KAAK+sG,kBACLH,EAAgBp0G,UAAU+L,IAAI8jG,GAAWmB,cACzCvpG,EAAKpH,KAAKwM,kBAAkB7M,UAAU+L,IAAI8jG,GAAWmB,cACrDvpG,EAAKpH,KAAKwM,kBAAkBD,aAAawnG,EAAiB3sG,EAAKpH,KAAKwM,kBAAkB/K,WAAW,MAGjGsyG,EAAgBp0G,UAAU+L,IAAI8jG,GAAWkB,eACzCtpG,EAAKpH,KAAKwM,kBAAkB7M,UAAU+L,IAAI8jG,GAAWkB,eACrDtpG,EAAKpH,KAAKwM,kBAAkBtD,YAAY6qG,IAE5C5sG,KAAKusG,kBAAkBvzG,KAAKiH,EAAKpH,QAGzC+wG,EAASpuG,UAAUsxG,gBAAkB,SAAU7sG,EAAM2sG,GACjD3sG,EAAKpH,KAAKL,UAAU+L,IAAI8jG,GAAWpO,UACnCh6F,EAAKpH,KAAKgL,aAAa,gBAAiB,QACxC+oG,EAAgB9pG,cAAc,IAAMulG,GAAWiB,cAAc9wG,UAAU+L,IAAI8jG,GAAWr0F,SACtF44F,EAAgB/oG,aAAa,eAAgB,SAMjD+lG,EAASpuG,UAAUwxG,UAAY,SAAUn0G,GACrCmH,KAAKitG,gBAAgBp0G,GAAM,IAE/B+wG,EAASpuG,UAAUyxG,gBAAkB,SAAUp0G,EAAMmb,GACjD,GAAIhU,KAAK4jG,aAAc,CACnB,GAAI4D,GAAY3uG,CAIhB,IAHIA,YAAgB0F,SAAU1F,EAAKgF,cAAgBqvG,gBAC/C1F,EAAYxnG,KAAKmtG,sBAAsBt0G,KAEtC4E,EAAkB+pG,GAAY,CAC/B,GAAI8B,GAAe9B,EAAU1kG,cAAc,IAAMulG,GAAWiB,aAC5Dt1F,GAAUwzF,EAAUhvG,UAAU+L,IAAI8jG,GAAWpO,UAAYuN,EAAUhvG,UAAUkM,OAAO2jG,GAAWpO,UAC/FuN,EAAU3jG,aAAa,gBAAiBmQ,EAAU,OAAS,SAC3DA,EAAUs1F,EAAa9wG,UAAU+L,IAAI8jG,GAAWr0F,SAAWs1F,EAAa9wG,UAAUkM,OAAO2jG,GAAWr0F,SACpGs1F,EAAatzF,cAAcnS,aAAa,eAAgBmQ,EAAU,OAAS,SAE/EhU,KAAKotG,oBAAoB5F,KAOjCoC,EAASpuG,UAAU6xG,YAAc,SAAUx0G,GACvCmH,KAAKitG,gBAAgBp0G,GAAM,IAK/B+wG,EAASpuG,UAAU8xG,cAAgB,WAC/BttG,KAAKutG,oBAAmB,IAK5B3D,EAASpuG,UAAUgyG,gBAAkB,WACjCxtG,KAAKutG,oBAAmB,IAE5B3D,EAASpuG,UAAU+xG,mBAAqB,SAAUv5F,GAC9C,GAAIhU,KAAK4jG,aAAc,CACnB,IAAK,GAAIvrG,GAAI,EAAGA,EAAI2H,KAAKimG,aAAa1tG,OAAQF,IAAK,CAC/C,GAAIo1G,GAAYztG,KAAKimG,aAAa5tG,GAAGyK,cAAc,IAAMulG,GAAWiB,aAChEmE,KACIz5F,EACKy5F,EAAUj1G,UAAUC,SAAS4vG,GAAWr0F,UACzChU,KAAKgtG,UAAUhtG,KAAKimG,aAAa5tG,IAIjCo1G,EAAUj1G,UAAUC,SAAS4vG,GAAWr0F,UACxChU,KAAKqtG,YAAYrtG,KAAKimG,aAAa5tG,KAK/C2H,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqBsD,YAAY15F,KAIlD41F,EAASpuG,UAAUkvG,YAAc,WAC7B,GAAI3qG,GAAQC,IACZ,IAAIA,KAAK4jG,aAAc,CACnB,GACI+J,IACA90G,SAAMO,GAAWqxC,YAASrxC,GAAW+5F,eAAY/5F,GAAW+b,WAAQ/b,GACpEkb,YAASlb,GAAWK,KAAM,KAH1BwsG,EAAexnG,MAAMjD,UAAUmG,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWK,YAKhFtpG,QAAQ,SAAUvF,GAC3B8zG,EAAO90G,KAAOgB,EACd8zG,EAAOljE,QAAU1qC,EAAM6tG,YAAY/zG,GAC/BA,EAAQiJ,cAAc,IAAMulG,GAAWc,kBACvCppG,EAAM8tG,cAAch0G,EAAQiJ,cAAc,IAAMulG,GAAWc,kBAE/DppG,EAAMqsG,eAAeuB,GACjBA,EAAO90G,KAAKL,UAAUC,SAAS4vG,GAAWpO,WAC1Cl6F,EAAM+sG,gBAAgBa,EAAQA,EAAO90G,KAAKiK,cAAc,IAAMulG,GAAWc,wBAIhF,CACD,GAAIlD,GAAexnG,MAAMjD,UAAUmG,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWqB,eAC7FzD,GAAa7mG,QAAQ,SAAUvF,GAC3BA,EAAQrB,UAAUkM,OAAO2jG,GAAWpO,UACpCpgG,EAAQwL,kBAAkB7M,UAAUkM,OAAO2jG,GAAWe,UACtDrpG,EAAM8tG,cAAch0G,EAAQiJ,cAAc,IAAMulG,GAAWc,oBAE3DnpG,KAAK8tG,eACL9tG,KAAK8tG,cAAcj1G,KAAKL,UAAU+L,IAAI8jG,GAAWpO,YAI7D2P,EAASpuG,UAAUkkG,aAAe,SAAUt+F,GACxC,GAAIyH,GAASzH,EAAEyH,OACXrQ,EAAYqQ,EAAOrQ,SACvB,IAAIA,EAAUC,SAAS4vG,GAAWa,WAAa1wG,EAAUC,SAAS4vG,GAAWU,YACrE/oG,KAAK4jG,cAAgB5jG,KAAKuqG,WAAWvqG,KAAKuqG,WAAWhyG,OAAS,IAC9DyH,KAAKwtG,kBAETxtG,KAAK+tG,WAEJ,CACD,GAAIlM,GAAK97F,EAAQ8C,EAAO/N,WAAY,IAAMutG,GAAWK,SAKrD,IAJW,OAAP7G,IACAA,EAAKh5F,GAET7I,KAAKguG,cACDhuG,KAAKkrG,QAAUlrG,KAAK4jG,cAAgB5jG,KAAK2sG,UAAU9K,GACnD,GAAIzgG,EAAEyH,OAAOrQ,UAAUC,SAAS4vG,GAAWiB,cAAe,CAEtD,GADAzH,EAAGrpG,UAAU+L,IAAI8jG,GAAWG,SACxB/qG,EAAkBokG,EAAG/+F,cAAc,IAAMulG,GAAWr0F,UAAW,CAC/D,GAAI/T,IACAwqC,YAASrxC,GAAW+5F,eAAY/5F,GAAW+b,WAAQ/b,GAAWkb,YAASlb,GACvEK,SAAML,GAAWP,KAAMgpG,EAE3B7hG,MAAK8sG,gBAAgB7sG,EAAMA,EAAKpH,KAAKiK,cAAc,IAAMulG,GAAWc,sBAGpEnpG,MAAKqtG,YAAYxL,GACjBA,EAAGrpG,UAAU+L,IAAI8jG,GAAWG,QAEhC,IAAIpnG,EAAG,CACH,GAAIiN,GAAYrO,KAAKiuG,gBAAgBpM,EAAIzgG,EAEzCnD,GAAMoQ,GAAas5F,UADH9F,EAAG/+F,cAAc,IAAMulG,GAAWiB,cACV9wG,UAAUC,SAAS4vG,GAAWr0F,WACtEhU,KAAKyoB,QAAQ,SAAUpa,QAGtBwzF,GAAGrpG,UAAUC,SAAS4vG,GAAWpG,WACtCjiG,KAAKkuG,cACLluG,KAAKmuG,eACLnuG,KAAKmuG,aAAatM,GAClB7hG,KAAKouG,YAAYvM,EAAIzgG,GACrBygG,EAAGrpG,UAAUkM,OAAO2jG,GAAWpO,WAG/Bj6F,KAAKquG,cAAcxM,EAAIzgG,OAI3BpB,MAAKouG,YAAYvM,EAAIzgG,KAIjCwoG,EAASpuG,UAAUqyG,cAAgB,SAAUh0G,GACzC,MAAOA,IAAWA,EAAQiB,YAAcjB,EAAQiB,WAAW0K,YAAY3L,IAE3E+vG,EAASpuG,UAAU8yG,aAAe,SAAUltG,GACxC,GAAImtG,GAAQxoG,EAAQ3E,EAAEyH,OAAO/N,WAAY,IAAMutG,GAAWK,SAC1D1oG,MAAKwuG,WAAWD,IAEpB3E,EAASpuG,UAAUizG,aAAe,SAAUrtG,GACxCpB,KAAKkuG,eAGTtE,EAASpuG,UAAUkzG,eAAiB,SAAUttG,EAAG4e,GAC7C,GAAIzhB,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,QAAUyH,KAAKmsG,MAAO,CACnD,GAAItK,GAAK7hG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,UAClDiG,EAAiB3uG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,UAC3DxoG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWpO,SAC1C0U,KACAA,EAAen2G,UAAUkM,OAAO2jG,GAAWG,SACtCxoG,KAAK4jG,cACN+K,EAAen2G,UAAUkM,OAAO2jG,GAAWpO,UAGnD,IAAI/hG,GAAS8nB,EAAU6hF,EAAGtpG,OAAS,EAAhB,CACfspG,GAAG3pG,GAAOM,UAAUC,SAAS4vG,GAAWpG,WAAajiG,KAAK4jG,aAC1D/B,EAAG3pG,GAAOM,UAAU+L,IAAI8jG,GAAWG,SAGnCxoG,KAAKouG,YAAYvM,EAAG3pG,GAAQkJ,KAIxCwoG,EAASpuG,UAAUozG,eAAiB,SAAUxtG,EAAGytG,GAC7C,GAAIpK,GACA5C,CAyBJ,QAxBgBpkG,EAAkBuC,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWpG,YAC5DjiG,KAAK4jG,cACjB/B,EAAK7hG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,UAAYxoG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWpO,UAEhGx8F,EADLgnG,EAAYjkD,GAAS8jD,aAAatkG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,UAAW7G,EAAIgN,MAEtFhN,IACAA,EAAGrpG,UAAUkM,OAAO2jG,GAAWG,SAC1BxoG,KAAK4jG,cACN/B,EAAGrpG,UAAUkM,OAAO2jG,GAAWpO,WAGnCwK,EAAUjsG,UAAUC,SAAS4vG,GAAWpG,WAAajiG,KAAK4jG,aAC1Da,EAAUjsG,UAAU+L,IAAI8jG,GAAWG,SAGnCxoG,KAAKouG,YAAY3J,EAAWrjG,MAKpCygG,EAAK7hG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWpO,UAC/CwK,EAAYjkD,GAAS8jD,aAAatkG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,UAAW7G,EAAIgN,GAC9F7uG,KAAKouG,YAAY3J,EAAWrjG,IAEzBqjG,GAEXmF,EAASpuG,UAAUszG,gBAAkB,SAAU1tG,EAAGytG,GAC9C,GAAI9uG,GAAQC,IACZ,IAAIzB,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,QAAUyH,KAAKmsG,MAAO,CACnD,GAAI1H,GAAYzkG,KAAK4uG,eAAextG,EAAGytG,GACnCE,EAAa/uG,KAAKnG,QAAQ8S,wBAAwBc,IAClDuhG,EAAgBhvG,KAAKnG,QAAQ8S,wBAAwB8K,OACrDw3F,EAAkBjvG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWK,UAAU/7F,wBACtEuiG,MAAa,GACbC,MAAkB,EAItB,IAHInvG,KAAKmV,OAAO6vF,UACZmK,EAAkBnvG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWQ,eAAel8F,yBAE3E83F,EAAW,CACX,GAAI2K,GAAa3K,EAAU93F,wBAAwBc,IAC/C4hG,EAAgB5K,EAAU93F,wBAAwB8K,MACtD,IAAKo3F,GAUDK,EAAalvG,KAAKgrG,SAAWoE,EAAcA,EAAaL,GACvC,IACb/uG,KAAKgrG,SAAWhvG,OAAOszG,SAAS,EAAGprD,YAAcgrD,GAC7ClvG,KAAKnG,QAAQy1G,SAAS,EAAGtvG,KAAKnG,QAAQqT,UAAYgiG,QAbnD,CACP,GAAIz3F,GAASzX,KAAKgrG,SAAWhvG,OAAOgf,YAAcg0F,GAClDE,EAAalvG,KAAKgrG,SAAYoE,EAAaC,EACrCD,EAAaL,EAAcM,GAChB53F,IACbzX,KAAKgrG,SAAWhvG,OAAOszG,SAAS,EAAGprD,aAAegrD,EAAaz3F,IAC3DzX,KAAKnG,QAAQy1G,SAAS,EAAGtvG,KAAKnG,QAAQqT,WAAagiG,EAAaz3F,UAW3E,IAAIzX,KAAKmqG,sBAAwB0E,GAAQ7uG,KAAKoqG,qBAAqBmF,aACpEvvG,KAAKwvG,aAAe,WAChBzvG,EAAM6uG,eAAextG,EAAGytG,GACxB9uG,EAAMyvG,iBAAep2G,IAEzB81G,EAAalvG,KAAKoqG,qBAAqBqF,eACvCzvG,KAAKgrG,SAAWhvG,OAAOszG,SAAS,EAAGprD,YAAcgrD,GAC7ClvG,KAAKnG,QAAQy1G,SAAS,EAAGtvG,KAAKnG,QAAQqT,UAAYgiG,OAErD,IAAIL,EACL,GAAI7uG,KAAKsrG,YAActrG,KAAKqrG,UAAW,CACnC,GAAIqE,GAAYP,EAAkBA,EAAgB1hG,IAAMwhG,EAAgBxhG,IACpEkiG,EAAe3vG,KAAKqrG,UAAU1+F,uBAClCuiG,GAAaS,EAAaliG,IAAM,EAAKkiG,EAAal4F,OAASi4F,EAAa,EACxE1vG,KAAKgrG,SAAWhvG,OAAOszG,SAAS,EAAGprD,YAAcgrD,GAC3ClvG,KAAKnG,QAAQy1G,SAAS,EAAG,OAE1BtvG,MAAKmV,OAAO6vF,UACjBkK,EAAalvG,KAAKgrG,SAAYmE,EAAgB1hG,IAAM,EAAI0hG,EAAgB1hG,IAAM,EACzEshG,EAAaE,EAAgBxhG,IAAO0hG,EAAgB13F,OACzDzX,KAAKgrG,SAAWhvG,OAAOszG,SAAS,EAAGprD,YAAcgrD,GAC7ClvG,KAAKnG,QAAQy1G,SAAS,EAAGtvG,KAAKnG,QAAQqT,UAAYgiG,MAKtEtF,EAASpuG,UAAUo0G,gBAAkB,SAAUxuG,GAC3C,GAAI7C,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,QAAUyH,KAAKmsG,MAAO,CACnD,GAAIlK,IAAYxkG,EAAkBuC,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWpG,WACxEJ,EAAK7hG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,QAC/CvG,IAAYJ,IACZA,EAAGrpG,UAAUkM,OAAO2jG,GAAWG,SAC3BxoG,KAAK4jG,eACL5jG,KAAKmuG,eACLnuG,KAAKmuG,aAAatM,GAClB7hG,KAAKkuG,eAETluG,KAAKouG,YAAYvM,EAAIzgG,MAIjCwoG,EAASpuG,UAAUq0G,gBAAkB,SAAUzuG,GAC3C,GAAIpB,KAAKkrG,QAAUlrG,KAAK4jG,cAAgBrlG,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,QAAUyH,KAAKmsG,MAAO,CACvF,GAAItK,GAAK7hG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,QACnD,KAAK/qG,EAAkBokG,IAAOpkG,EAAkBokG,EAAG/+F,cAAc,IAAMulG,GAAWr0F,UAAW,CACzF,GAAI/T,IACAwqC,YAASrxC,GAAW+5F,eAAY/5F,GAAW+b,WAAQ/b,GAAWkb,YAASlb,GACvEK,SAAML,GAAWP,KAAMgpG,EAE3B7hG,MAAK8sG,gBAAgB7sG,EAAMA,EAAKpH,KAAKiK,cAAc,IAAMulG,GAAWc,sBAGpEnpG,MAAKqtG,YAAYxL,KAI7B+H,EAASpuG,UAAUs0G,iBAAmB,SAAU1uG,GAE5C,OADAA,EAAEomB,iBACMpmB,EAAE1J,SACN,IAAK,IACDsI,KAAK0uG,eAAettG,EACpB,MACJ,KAAK,IACDpB,KAAK0uG,eAAettG,GAAG,EACvB,MACJ,KAAK,IACDpB,KAAK8uG,gBAAgB1tG,EACrB,MACJ,KAAK,IACDpB,KAAK8uG,gBAAgB1tG,GAAG,EACxB,MACJ,KAAK,IACDpB,KAAK4vG,gBAAgBxuG,EACrB,MACJ,KAAK,GACGpB,KAAK4jG,cAAgB5jG,KAAKuqG,WAAWvqG,KAAKuqG,WAAWhyG,OAAS,IAC9DyH,KAAKwtG,kBAETxtG,KAAK+tG,MACL,MACJ,KAAK,GACD/tG,KAAK+vG,SAAS3uG,EACd,MACJ,KAAK,IACDpB,KAAK6vG,gBAAgBzuG,KAIjCwoG,EAASpuG,UAAUw0G,mBAAqB,SAAU5uG,GACrB,UAArBA,EAAEgwD,iBACEpxD,KAAK4jG,cAAgB5jG,KAAKuqG,WAAWvqG,KAAKuqG,WAAWhyG,OAAS,IAC9DyH,KAAKwtG,kBAETxtG,KAAK+tG,SAGbnE,EAASpuG,UAAUy0G,SAAW,WAC1B,GAAI1xG,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,QAAUyH,KAAKmsG,MAAO,CACnD,GAAIwC,GAAiB3uG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,SAC3D0H,EAAgBlwG,KAAKmsG,MAAMrpG,cAAc,yBACzC6rG,KAAmB3uG,KAAK4jG,eACxB+K,EAAen2G,UAAUkM,OAAO2jG,GAAWG,SACvC0H,GACAA,EAAc13G,UAAU+L,IAAI8jG,GAAWpO,aAKvD2P,EAASpuG,UAAU+qB,WAAa,WAC5B9gB,GAAalB,IAAIvE,KAAKnG,QAAS,UAAWmG,KAAK8vG,iBAAkB9vG,MACjEyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK0/F,aAAc1/F,MACtDA,KAAKmqG,uBACN1kG,GAAalB,IAAIvE,KAAKnG,QAAS,YAAamG,KAAKsuG,aAActuG,MAC/DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKyuG,aAAczuG,OAElEyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKiwG,SAAUjwG,MAC1DA,KAAKmwG,YAAc,GAAIrhD,IAAM9uD,KAAKnG,SAAWu2G,MAAOpwG,KAAKgwG,mBAAmBv0G,KAAKuE,SAErF4pG,EAASpuG,UAAUyjG,aAAe,WAC9Bx5F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK0/F,cAC3C1/F,KAAKmqG,uBACN1kG,GAAaf,OAAO1E,KAAKnG,QAAS,YAAamG,KAAKsuG,cACpD7oG,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKyuG,eAEvDhpG,GAAaf,OAAO1E,KAAKnG,QAAS,YAAamG,KAAKsuG,cACpD7oG,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKyuG,cACnDzuG,KAAKmwG,YAAYt8F,WAErB+1F,EAASpuG,UAAUu0G,SAAW,SAAU3uG,GACpC,GAAI7C,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,QAAUyH,KAAKmsG,SACzBnsG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWpO,WACvCj6F,KAAKmsG,OAAUnsG,KAAK4jG,cAAc,CACpD,GAAI/B,GAAK7hG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWK,SAC/C7G,GAAGrpG,UAAUC,SAAS4vG,GAAWpG,WAAajiG,KAAK4jG,aAE/CnmG,EADiBuC,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,WAE3D3G,EAAGrpG,UAAU+L,IAAI8jG,GAAWG,SAIhCxoG,KAAKouG,YAAYvM,EAAIzgG,KAKrCwoG,EAASpuG,UAAUwyG,YAAc,WAE7B,IAAK,GAAI3vG,GAAK,EAAGgyG,EADDrwG,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWG,SACrBnqG,EAAKgyG,EAAY93G,OAAQ8F,IACrDgyG,EAAYhyG,GAClB7F,UAAUkM,OAAO2jG,GAAWG,UAGxCoB,EAASpuG,UAAU0yG,YAAc,WAC7B,GAAIoC,GAAUtwG,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWE,MACtD+H,IACAA,EAAQ93G,UAAUkM,OAAO2jG,GAAWE,QAG5CqB,EAASpuG,UAAU2yG,aAAe,SAAUtM,GACxC,GAAIpkG,EAAkBokG,GAElB,IAAK,GAAIxjG,GAAK,EAAGkyG,EADAvwG,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWpO,UACpB57F,EAAKkyG,EAAah4G,OAAQ8F,IAAM,CACxE,GAAI+F,GAAMmsG,EAAalyG,EACnB2B,MAAK4jG,cAAgBx/F,EAAItB,cAAc,IAAMulG,GAAWr0F,WAIxD5P,EAAIP,aAAa,gBAAiB,SAClCO,EAAI5L,UAAUkM,OAAO2jG,GAAWpO,eAKxC4H,GAAGrpG,UAAUkM,OAAO2jG,GAAWpO,UAC/B4H,EAAGh+F,aAAa,gBAAiB,UAGzC+lG,EAASpuG,UAAUmxG,UAAY,SAAU9K,GACrC,MAAQA,IAAMA,EAAGrpG,UAAUC,SAAS4vG,GAAWK,YACvC7G,EAAGrpG,UAAUC,SAAS4vG,GAAWQ,iBACjChH,EAAGrpG,UAAUC,SAAS4vG,GAAWY,UAE7CW,EAASpuG,UAAU6yG,cAAgB,SAAUxM,EAAIzgG,GAC7C,GAAIpB,KAAK2sG,UAAU9K,IAAO7hG,KAAKkrG,QAAUlrG,KAAK4jG,aAAc,CACpD5jG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,UAC1CxoG,KAAKmsG,MAAMrpG,cAAc,IAAMulG,GAAWG,SAAShwG,UAAUkM,OAAO2jG,GAAWG,SAEnF3G,EAAGrpG,UAAU+L,IAAI8jG,GAAWG,QAC5B,IAAIoE,GAAkB/K,EAAG/+F,cAAc,IAAMulG,GAAWc,iBACpDsE,EAAYb,EAAgB9pG,cAAc,IAAMulG,GAAWiB,aAAe,IAAMjB,GAAWtG,KAC/F/hG,MAAKkuG,cACAT,EAAUj1G,UAAUC,SAAS4vG,GAAWr0F,UAMzCy5F,EAAUj1G,UAAUkM,OAAO2jG,GAAWr0F,SACtC6tF,EAAGrpG,UAAUkM,OAAO2jG,GAAWpO,UAC/B4H,EAAGh+F,aAAa,gBAAiB,WAPjC4pG,EAAUj1G,UAAU+L,IAAI8jG,GAAWr0F,SACnC6tF,EAAGrpG,UAAU+L,IAAI8jG,GAAWpO,UAC5B4H,EAAGh+F,aAAa,gBAAiB,SAOrC+oG,EAAgB/oG,aAAa,eAAgB4pG,EAAUj1G,UAAUC,SAAS4vG,GAAWr0F,SACjF,OAAS,QACb,IAAI3F,GAAYrO,KAAKiuG,gBAAgBpM,EAAIzgG,EACzCnD,GAAMoQ,GAAas5F,UAAW8F,EAAUj1G,UAAUC,SAAS4vG,GAAWr0F,WAClEhU,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqBiE,cAAcxM,EAAIzgG,GAEhDpB,KAAKyoB,QAAQ,SAAUpa,GACvBrO,KAAKotG,oBAAoBvL,GACzB7hG,KAAKwwG,cAAc3O,KAG3B+H,EAASpuG,UAAUyyG,gBAAkB,SAAUpM,EAAIzgG,GAC/C,GAAI3E,GAAOuD,KAAK4tG,YAAY/L,GACxBzsF,EAAYH,GAAexY,EAAMuD,KAAKkqG,eAAe/0F,QASrD9G,IAKJ,OAJApQ,GAAMoQ,GARD5Q,EAAkBhB,IACc,gBAAvBuD,MAAKmzF,WAAW,IAAiD,gBAAvBnzF,MAAKmzF,WAAW,IACnDt6F,KAAMgpG,EAAIpoG,KAAMooG,GAAMA,EAAG/oG,UAAU2Y,OAAQhV,KAAMuD,KAAKmzF,aAGtDt6F,KAAMgpG,EAAIpoG,KAAM2b,GAAaA,EAAUpV,KAAKkqG,eAAe/0F,OAAO1b,MAAOgD,KAAMA,IAIhG2E,GACAnD,EAAMoQ,GAAaoiG,cAAc,EAAMl0G,MAAO6E,EAAGlJ,MAAOuG,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKmsG,MAAMrwF,SAAU+lF,KAEvGxzF,GAEXu7F,EAASpuG,UAAU4xG,oBAAsB,SAAUvL,GAC/C,GAAIplG,GAAOuD,KAAK4tG,YAAY/L,GACxBzsF,EAAYH,GAAexY,EAAMuD,KAAKkqG,eAAe/0F,OACpD1X,GAAkBhB,IAAyC,gBAAvBuD,MAAKmzF,WAAW,IACtB,gBAAvBnzF,MAAKmzF,WAAW,GAQxBnzF,KAAK8tG,eACDj1G,KAAMgpG,EACNpoG,KAAM2b,GAAaA,EAAUpV,KAAKkqG,eAAe/0F,OAAO1b,MACxDgD,KAAMA,GAVVuD,KAAK8tG,eACDj1G,KAAMgpG,EACNpoG,KAAMooG,GAAMA,EAAG/oG,UAAU2Y,OACzBhV,KAAMuD,KAAKmzF,aAWvByW,EAASpuG,UAAU4yG,YAAc,SAAUvM,EAAIzgG,GAC3C,GAAIpB,KAAK2sG,UAAU9K,KAAQA,EAAGrpG,UAAUC,SAAS4vG,GAAWpO,WAAaj6F,KAAKkrG,OAAQ,CAC7ElrG,KAAK4jG,cACN5jG,KAAKmuG,eAETtM,EAAGrpG,UAAU+L,IAAI8jG,GAAWpO,UAC5B4H,EAAGh+F,aAAa,gBAAiB,QACjC7D,KAAKkuG,cACLluG,KAAKotG,oBAAoBvL,GACrB7hG,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqBgE,YAAYvM,EAAIzgG,EAE9C,IAAIiN,GAAYrO,KAAKiuG,gBAAgBpM,EAAIzgG,EACzCpB,MAAKyoB,QAAQ,SAAUpa,GACvBrO,KAAK0wG,WAAa7O,EAClB7hG,KAAKwwG,cAAc3O,KAG3B+H,EAASpuG,UAAUgzG,WAAa,SAAU3M,GACtC,GAAI7hG,KAAK2sG,UAAU9K,KAAQA,EAAGrpG,UAAUC,SAAS4vG,GAAWE,QAAUvoG,KAAKkrG,OAAQ,CAC/E,GAAIyF,GAAS3wG,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWE,MACxDoI,IAAUA,EAAOp4G,QACjBiM,EAAYmsG,EAAQtI,GAAWE,OAE9B1G,EAAGrpG,UAAUC,SAAS4vG,GAAWpO,YAAaj6F,KAAK4jG,cACpD/B,EAAGrpG,UAAU+L,IAAI8jG,GAAWE,SAKxCqB,EAASpuG,UAAUovG,SAAW,WAC1B,GAAIgG,GAAY5wG,KAAKuqG,UACrB,IAAIqG,EAAUr4G,OAAQ,CAElB,IAAK,GADDghE,GAAKv5D,KAAK6wG,UACLxyG,EAAK,EAAGyyG,EAAcF,EAAWvyG,EAAKyyG,EAAYv4G,OAAQ8F,IAAM,CACrE,GAAIhB,GAAMyzG,EAAYzyG,GAClBi1D,IACJA,GAAMtzD,KAAKmV,OAAOxR,IAAMtG,EACxB2C,KAAK+wG,UAAY/wG,KAAKgxG,eAAez3C,EAAIjG,EACzC,IAAIl+C,GAAYH,GAAejV,KAAK+wG,UAAW/wG,KAAKkqG,eAAe/0F,OACnEokD,GAAKv5D,KAAK+wG,UAAY37F,EAAUpV,KAAKmV,OAAOrU,OAASy4D,EAEzD,MAAOA,GAEX,MAAOv5D,MAAK6wG,WAEhBjH,EAASpuG,UAAUoyG,YAAc,SAAU/L,GACvC,GAGIoP,GAHA9d,EAAanzF,KAAKmzF,qBAAsB93B,IACxCr7D,KAAK6wG,UAAY7wG,KAAKmzF,WACtBh+E,EAASnV,KAAKkxG,cAAcrP,EAQhC,OALIoP,GADAxzG,EAAkBuC,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWpG,YAAcjiG,KAAKmV,OAAO6vF,QAChFhlG,KAAK2qG,UAGLxX,EAELnzF,KAAKgxG,eAAeC,EAAO97F,IAEtCy0F,EAASpuG,UAAUw1G,eAAiB,SAAU7d,EAAYh+E,EAAQpU,GAC9D,GACIowG,GADApxG,EAAQC,IA+BZ,OA7BImzF,IAAcA,EAAW56F,QAAU4c,EACnCg+E,EAAWjgE,KAAK,SAAUz2B,GACtB,GAAI2Y,GAAYH,GAAexY,EAAMsD,EAAMmqG,eAAe/0F,OAE1D,KAAKA,EAAOpV,EAAMoV,OAAOxR,MAAOwR,EAAOpV,EAAMoV,OAAO1b,OAC9C0b,EAAOpV,EAAMoV,OAAOxR,OAASlG,EAAkB2X,EAAUrV,EAAMoV,OAAOxR,MACpEyR,EAAUrV,EAAMoV,OAAOxR,IAAIhD,cAAgBwU,EAAOpV,EAAMoV,OAAOxR,IAAIhD,YACrEwU,EAAOpV,EAAMoV,OAAO1b,OAAS2b,EAAUrV,EAAMoV,OAAO1b,QAAU0b,EAAOpV,EAAMoV,OAAO1b,MAGnF,GAAoB,gBAATgD,KAAmD,IAA9B02F,EAAW30F,QAAQ/B,GACpD00G,EAAcpwG,EAASoyF,EAAa12F,MAEnC,KAAKgB,EAAkB0X,EAAOpV,EAAMoV,OAAOxR,MAAQlG,EAAkB2X,EAAUrV,EAAMoV,OAAOxR,KAAM,CACnG,GAAIk+F,GAAK9hG,EAAMlG,QAAQiJ,cAAc,cAC/BqS,EAAOpV,EAAMoV,OAAOxR,IAAM,KAC5Bk+F,IAAMA,EAAG/oG,UAAU2Y,SAAW2D,EAAUrV,EAAMoV,OAAO1b,QACrD03G,EAAa10G,OAGZ2Y,GAAU9N,eAAevH,EAAMoV,OAAOrU,QAAUsU,EAAUrV,EAAMoV,OAAOrU,OAAOvI,SACnF44G,EAAapxG,EAAMixG,eAAe57F,EAAUrV,EAAMoV,OAAOrU,OAAQqU,EAAQpU,QAbzEowG,GAAcpwG,EAASoyF,EAAa12F,CAexC,SAAS00G,IAIbA,EAAahe,EAEVge,GAEXvH,EAASpuG,UAAU41G,SAAW,WAC1B,GAAIC,MACAv3G,EAASkG,KAAKlG,MAAQkG,KAAKlG,MAAQ,GAAI24D,GAC3C,KAAKzyD,KAAKlG,MAAO,CACb,IAAK,GAAIuE,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKmV,OAAO5R,YAAalF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC7E,GAAIizG,GAAStuG,EAAG3E,EACD,eAAXizG,GAA6BtxG,KAAKmV,OAAOm8F,IACzCtxG,KAAKmV,OAAOm8F,KACR9wD,GAASijD,oBAAoB6N,KACY,IAA1CD,EAAQ7yG,QAAQwB,KAAKmV,OAAOm8F,KAC/BD,EAAQr4G,KAAKgH,KAAKmV,OAAOm8F,IAGjCx3G,EAAM6L,OAAO0rG,GACTrxG,KAAKmV,OAAO5R,WAAW+D,eAAe,cACtCxN,EAAM44D,KAAK1yD,KAAKmV,OAAO8+C,WAG/B,MAAOn6D,IAEX8vG,EAASpuG,UAAU+1G,kBAAoB,SAAUpe,OAC1B,KAAfA,IAAyBA,EAAanzF,KAAK6wG,WAC3C1d,GAAcnzF,KAAKmV,OAAO6vF,QAC1BhlG,KAAK2qG,UAAYnqD,GAASokD,gBAAgBzR,EAAYnzF,KAAKkqG,eAAe/0F,OAAQnV,KAAK6kG,WAElF1R,GAAiC,SAAnBnzF,KAAK6kG,UACxB7kG,KAAK2qG,UAAYnqD,GAASykD,cAAc9R,EAAY3yC,GAAS0kD,WAAWllG,KAAK6kG,UAAW7kG,KAAKmV,OAAO+/C,SAGpGl1D,KAAK2qG,UAAYxX,GAGzByW,EAASpuG,UAAUg2G,cAAgB,WAC/B,MAAOxxG,MAAKmsG,MAAM3zG,UAAUC,SAAS,eAEzCmxG,EAASpuG,UAAUi2G,aAAe,WAC9B,GAAI1xG,GAAQC,IAEZ,IADAA,KAAKyoB,QAAQ,eACTzoB,KAAKmzF,qBAAsB93B,IAC3Br7D,KAAKmzF,WAAWx/B,aAAa3zD,KAAKoxG,YAAYlV,KAAK,SAAU96F,GACrDrB,EAAM80B,cAGV90B,EAAM8wG,UAAYzvG,EAAEpC,OACpBe,EAAM2xG,aACN3xG,EAAM0oB,QAAQ,iBAAkBrnB,MACjCs8F,MAAM,SAAUt8F,GACXrB,EAAM80B,aAGV90B,EAAM0oB,QAAQ,gBAAiBrnB,SAGlC,IAAKpB,KAAKmzF,YAAenzF,KAAKmzF,WAAW56F,OAW1CyH,KAAK6wG,UAAY7wG,KAAKmzF,WACtBnzF,KAAK0xG,aACL1xG,KAAKyoB,QAAQ,kBAAoBhsB,KAAMuD,KAAK6wG,gBAbM,CAClD,GAAI/O,GAAK9hG,KAAKnG,QAAQiJ,cAAc,KAChCg/F,KACAp9F,EAAOo9F,GACP9hG,KAAK2H,eAAgBwrF,WAAY3yC,GAAS6kD,sBAAsBvD,KAAO,GACvE9hG,KAAK6wG,UAAY7wG,KAAKmzF,WACtBnzF,KAAK0xG,aACL1xG,KAAKyoB,QAAQ,kBAAoBhsB,KAAMuD,KAAK6wG,eASxDjH,EAASpuG,UAAU8uG,SAAW,WAC1BtqG,KAAKnG,QAAQW,UAAY,GACzBwF,KAAKqrG,UAAYrrG,KAAK+lG,UAAY/lG,KAAKimG,iBAAe7sG,GACtD4G,KAAKyxG,eACLzxG,KAAKqyB,UAETu3E,EAASpuG,UAAUqvG,iBAAmB,WAClC7qG,KAAKuxG,kBAAkBvxG,KAAK2qG,WAC5B3qG,KAAKyqG,iBAAiBjwG,UAAY,GAClCwF,KAAKqiG,aACLriG,KAAK2xG,cAAc3xG,KAAKmsG,QAE5BvC,EAASpuG,UAAU6mG,WAAa,WAC5BriG,KAAKusG,qBACLvsG,KAAKwsG,cAAe,EACpBxsG,KAAK+lG,UAAY/lG,KAAKmsG,MAAQ3rD,GAAS6hD,WAAWriG,KAAKyB,cAAezB,KAAK2qG,UAAW3qG,KAAKkqG,gBAC3FlqG,KAAKimG,aAAejmG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,WAErEkB,EAASpuG,UAAUg1G,cAAgB,SAAU3O,GACzC,GAAIuF,GAAMvF,EAAGp7F,aAAa,WAC1B,IAAIo7F,EAAGrpG,UAAUC,SAAS4vG,GAAWpG,WAAamF,EAAK,CACnD,GAAItF,GAAK/7F,EAAQ87F,EAAG/mG,WAAY,IAAMutG,GAAWI,YAC7CrkG,EAAMpE,KAAKnG,QAAQiJ,cAAc,SAAYskG,EAAM,KAGvD,IAFApnG,KAAKuqG,WAAWvxG,KAAKouG,GACrBpnG,KAAKuxG,kBAAkBvxG,KAAK4qG,aACvBxmG,EAAK,CACN,GAAI3H,GAAOuD,KAAK2qG,WAChBvmG,EAAMo8C,GAASsiD,mBAAmB9iG,KAAKyB,cAAehF,EAAMuD,KAAKkqG,eAAgBlqG,KAAKuqG,WAAWhyG,SAC7FsL,aAAa,MAAOujG,GACxBhjG,EAAIQ,MAAM6hD,QAAU,OACpBzmD,KAAK2xG,cAAcvtG,GAIvB,GAFApE,KAAK2rG,WAAW7J,EAAI19F,GACpBpE,KAAKimG,aAAejmG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,UAC7D1oG,KAAK8tG,cAAe,CACpB,GAAI14F,GAAYH,GAAejV,KAAK8tG,cAAcrxG,KAAMuD,KAAKkqG,eAAe/0F,OAC5EnV,MAAKqyB,OAAQjd,EAAUpV,KAAKkqG,eAAe/0F,OAAO1b,OAAQ,GAE9DuG,KAAK0wG,eAAat3G,KAG1BwwG,EAASpuG,UAAUm2G,cAAgB,SAAUvtG,GACzCpE,KAAKyqG,iBAAiB1oG,YAAYqC,IAEtCwlG,EAASpuG,UAAUk2G,WAAa,SAAUj1G,GACtCuD,KAAKuxG,kBAAkB90G,GACnBuD,KAAKmqG,sBAAwB5rG,OAAOjB,KAAK0C,KAAKmzF,YAAY56F,SACrDyH,KAAKwQ,WAAYxQ,KAAKmmG,eAAmBnmG,KAAKoqG,qBAAqBwH,iBACpE5xG,KAAKkqG,eAAe15F,SAAW,KAC/BxQ,KAAKkqG,eAAe/D,cAAgB,KACpCnmG,KAAKkqG,eAAe3G,YAAcvjG,KAAKoqG,qBAAqByH,aAAap2G,KAAKuE,KAAKoqG,uBAEvFpqG,KAAKoqG,qBAAqB0H,qBAG1B9xG,KAAKqiG,aACLriG,KAAKyqG,iBAAmBzqG,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAW3tG,UAC1EsF,KAAKnG,QAAQkI,YAAY/B,KAAKyqG,kBAC9BzqG,KAAK2xG,cAAc3xG,KAAK+lG,aAGhC6D,EAASpuG,UAAU01G,cAAgB,SAAUn0G,GACzC,GAAIoY,KAOJ,OANIpY,aAAeg1G,SACf58F,EAAOnV,KAAKmV,OAAOxR,IAAM5G,EAAI0J,aAAa,YAG1C0O,EAASpY,EAENoY,GAKXy0F,EAASpuG,UAAUojD,OAAS,WACxB5+C,KAAKnG,QAAQrB,UAAU+L,IAAI8jG,GAAWC,MACtCvkG,EAAW/D,KAAKnG,SAAWuZ,KAAM,OAAQ4+F,SAAU,MACnDhyG,KAAK8pG,cACL9pG,KAAKiqG,eACLjqG,KAAK+pG,YACL/pG,KAAKgqG,UACLhqG,KAAKumB,aACLvmB,KAAKqyB,SACLryB,KAAKyxG,eACLzxG,KAAK6pG,mBACL7pG,KAAKiyG,SAAWvmG,GAAa1L,KAAKnG,SAC9B+L,SAAU,IAAMyiG,GAAWK,YAMnCkB,EAASpuG,UAAUqY,QAAU,WACzB7T,KAAKi/F,cACL,IAAIiT,IAAW7J,GAAWC,KAAMD,GAAWY,QAAS,QAChD,eAAgB,aAAa/sF,OAAOlc,KAAKuU,SAASrX,MAAM,KAAKu4B,OAAO,SAAUs1E,GAAO,MAAOA,KAChGvmG,IAAaxE,KAAKnG,SAAUq4G,GAC5BlyG,KAAKiyG,WACLjyG,KAAKnG,QAAQyS,gBAAgB,QAC7BtM,KAAKnG,QAAQyS,gBAAgB,YAC7BtM,KAAKnG,QAAQW,UAAY,GACzBwF,KAAKmsG,MAAQnsG,KAAK+lG,UAAY/lG,KAAKimG,aAAejmG,KAAKqrG,cAAYjyG,GACnE2/B,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAKlC4pG,EAASpuG,UAAUuyG,KAAO,WACtB,GAAIoE,GAAMnyG,KAAKuqG,WAAWvqG,KAAKuqG,WAAWhyG,OAAS,EACnD,QAAYa,KAAR+4G,IAAqBnyG,KAAKwxG,gBAA9B,CAGAxxG,KAAKuqG,WAAW6H,MAChBpyG,KAAKuxG,kBAAkBvxG,KAAK4qG,WAC5B,IAAIyH,GAAOryG,KAAKnG,QAAQiJ,cAAc,cAAiBqvG,EAAM,MACzDG,EAAStyG,KAAKmsG,KACbkG,GAMDA,EAAOA,EAAKr8F,eALZhW,KAAKqiG,aACLriG,KAAK2xG,cAAc3xG,KAAK+lG,WACxBsM,EAAOryG,KAAKmsG,MAKhB,IACI1yG,GADYwb,GAAejV,KAAK+wG,UAAW/wG,KAAKkqG,eAAe/0F,QAC9CnV,KAAKmV,OAAO1b,KACjCuG,MAAK2rG,WAAW2G,EAAQD,GAAM,GAC9BryG,KAAKguG,aACL,IAAInM,GAAK7hG,KAAKnG,QAAQiJ,cAAc,cAAiBqvG,EAAM,KAC3DtQ,GAAGrpG,UAAU+L,IAAI8jG,GAAWG,SACxBxoG,KAAK4jG,cAAgB/B,EAAG/+F,cAAc,IAAMulG,GAAWiB,cAAc9wG,UAAUC,SAAS4vG,GAAWr0F,SACnG6tF,EAAGh+F,aAAa,gBAAiB,SAGjCg+F,EAAGrpG,UAAUkM,OAAO2jG,GAAWpO,UAC/B4H,EAAGh+F,aAAa,gBAAiB,UAErC7D,KAAKimG,aAAejmG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,UACjE1oG,KAAKqyB,OAAQryB,KAAKuqG,WAAWhyG,OAASkB,EAAOuG,KAAKwqG,cAAexqG,KAAKuqG,WAAWhyG,UAMrFqxG,EAASpuG,UAAU+2G,WAAa,SAAUx1G,GAClCiD,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqBmI,WAAWx1G,GAEhCiD,KAAK4jG,aACV5jG,KAAKquG,cAAcruG,KAAKmtG,sBAAsBpwG,IAG9CU,EAAkBV,GAAOiD,KAAKmuG,eAAiBnuG,KAAKouG,YAAYpuG,KAAKmtG,sBAAsBpwG,KAGnG6sG,EAASpuG,UAAU2xG,sBAAwB,SAAUpwG,GACjD,GAAI8kG,GACA1O,EAAanzF,KAAKmzF,qBAAsB93B,IACxCr7D,KAAK6wG,UAAY7wG,KAAKmzF,UAC1B,KAAK11F,EAAkBV,GACnB,GAA6B,gBAAlBo2F,GAAW,IAA4C,gBAAlBA,GAAW,GACvD,GAAIp2F,YAAeg1G,UAEf,IAAK,GADDryG,GAAM3C,EAAI0J,aAAa,YAAY9F,WAC9BtI,EAAI,EAAGA,EAAI2H,KAAKimG,aAAa1tG,OAAQF,IAC1C,GAAI2H,KAAKimG,aAAa5tG,GAAGoO,aAAa,YAAY9F,aAAejB,EAAK,CAClEmiG,EAAK7hG,KAAKimG,aAAa5tG,EACvB,YAKRoG,OAAMjD,UAAU03B,KAAKtyB,KAAKZ,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,UAAW,SAAU7vG,GACxF,MAAIA,GAAKC,UAAU2Y,SAAW1U,EAAI4D,aAC9BkhG,EAAKhpG,GACE,SAQlB,CACD,GAAIs4G,GAAanxG,KAAK4tG,YAAY7wG,GAC9BqY,EAAYH,GAAek8F,EAAYnxG,KAAKkqG,eAAe/0F,OAC/D,IAAIg8F,IACAtP,EAAK7hG,KAAKnG,QAAQiJ,cAAc,cAC1BsS,EAAUpV,KAAKmV,OAAOxR,IAAM,OAC7B3D,KAAKmqG,sBAAwB1sG,EAAkBokG,IAEhD,IAAK,GADD0M,GAAQvuG,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWK,UAClDrwG,EAAI,EAAGA,EAAIk2G,EAAMh2G,OAAQF,IAC1Bk2G,EAAMl2G,GAAGS,UAAU2Y,SAAW2D,EAAUpV,KAAKmV,OAAO1b,QACpDooG,EAAK0M,EAAMl2G,IAOnC,MAAOwpG,IAMX+H,EAASpuG,UAAUg3G,oBAAsB,SAAUz1G,GAC/C,IAAKU,EAAkBV,GACnB,IAAK,GAAI1E,GAAI,EAAGA,EAAI0E,EAAIxE,OAAQF,IACvBoF,EAAkBV,EAAI1E,KACvB2H,KAAKuyG,WAAWx1G,EAAI1E,KAKpCuxG,EAASpuG,UAAUi3G,YAAc,WAC7B,GAAIC,KACJ,IAAI1yG,KAAKwsG,aACL,IAAK,GAAIn0G,GAAI2H,KAAKuqG,WAAWhyG,OAAS,EAAGF,GAAK,EAAGA,IAC7Cq6G,EAAS15G,KAAKgH,KAAKuqG,WAAWlyG,GAGtC,OAAOq6G,IAMX9I,EAASpuG,UAAUm3G,iBAAmB,WAClC3yG,KAAK0sG,aACL,IAAIvZ,GAAanzF,KAAKmzF,qBAAsB93B,IACxCr7D,KAAK6wG,UAAY7wG,KAAKmzF,UAC1B,IAAInzF,KAAKmqG,qBACL,MAAOnqG,MAAKoqG,qBAAqBuI,kBAEhC,IAAI3yG,KAAK4jG,aAAc,CACxB,GAAIqC,GAAejmG,KAAKmsG,MAAM39F,uBAAuB65F,GAAWpO,UAC5D2Y,KACAC,IACJ7yG,MAAK0sG,aAEL,KAAK,GADDoG,MACKz6G,EAAI,EAAGA,EAAI4tG,EAAa1tG,OAAQF,IACrC,GAA6B,gBAAlB86F,GAAW,IAA4C,gBAAlBA,GAAW,GACvDyf,EAAiB55G,KAAKitG,EAAa5tG,GAAGS,UAAU2Y,YAE/C,CACD,GAAIshG,GAAW/yG,KAAK4tG,YAAY3H,EAAa5tG,IACzC+c,EAAYH,GAAe89F,EAAU/yG,KAAKkqG,eAAe/0F,OACzDnV,MAAKwsG,aACLsG,EAAW95G,MAAOyD,KAAMs2G,EAAUL,SAAU1yG,KAAKyyG,gBAGjDI,EAAiB75G,KAAK+5G,GAEtB39F,GACAw9F,EAAiB55G,KAAKoc,EAAUpV,KAAKkqG,eAAe/0F,OAAO1b,OAC3DuG,KAAK0sG,WAAW1zG,KAAKoc,EAAUpV,KAAKkqG,eAAe/0F,OAAOxR,OAG1DivG,EAAiB55G,SAAKI,IACtB4G,KAAK0sG,WAAW1zG,SAAKI,KAIjC,MAA6B,gBAAlB+5F,GAAW,IAA4C,gBAAlBA,GAAW,IAC9Ct6F,KAAMotG,EAAcxpG,KAAM02F,EAAY15F,KAAMm5G,GAErD5yG,KAAKwsG,cACI3zG,KAAMotG,EAAcxpG,KAAMq2G,EAAYr5G,KAAMm5G,IAG5C/5G,KAAMotG,EAAcxpG,KAAMo2G,EAAkBp5G,KAAMm5G,GAI/D,GAAIpL,GAAYxnG,KAAKnG,QAAQ2U,uBAAuB65F,GAAWpO,UAAU,GACrE7kF,EAAYH,GAAejV,KAAK4tG,YAAYpG,GAAYxnG,KAAKkqG,eAAe/0F,OAChF,OAA6B,gBAAlBg+E,GAAW,IAA4C,gBAAlBA,GAAW,GAC9C11F,EAAkB+pG,OAGvBpuG,IAFAP,KAAM2uG,EAAW/qG,KAAM02F,EACvB15F,KAAM+tG,EAAU1uG,UAAU2Y,QAI1BhU,EAAkB2X,IAAc3X,EAAkB+pG,OAClD,IAGAxnG,KAAK0sG,WAAW1zG,KAAKoc,EAAUpV,KAAKkqG,eAAe/0F,OAAOxR,MAEtDlK,KAAM2b,EAAUpV,KAAKkqG,eAAe/0F,OAAO1b,MAAOZ,KAAM2uG,EACxD/qG,KAAMuD,KAAK4tG,YAAYpG,MAU3CoC,EAASpuG,UAAUw3G,SAAW,SAAUj2G,GACpC,MAAOiD,MAAK4tG,YAAY7wG,IAM5B6sG,EAASpuG,UAAUy3G,WAAa,SAAUl2G,GACtCiD,KAAKkzG,aAAan2G,GAAK,GACnBiD,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqB6I,WAAWl2G,IAO7C6sG,EAASpuG,UAAU23G,YAAc,SAAUp2G,GACvCiD,KAAKkzG,aAAan2G,GAAK,GACnBiD,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqB+I,YAAYp2G,IAI9C6sG,EAASpuG,UAAU03G,aAAe,SAAUn2G,EAAKq2G,GAC7C,GAAIjC,GAAanxG,KAAK4tG,YAAY7wG,GAC9BqY,EAAYH,GAAek8F,EAAYnxG,KAAKkqG,eAAe/0F,OAC/D,IAAIg8F,EAAY,CACZ,GAAItP,GAAK7hG,KAAKnG,QAAQiJ,cAAc,cAAgBsS,EAAUpV,KAAKmV,OAAOxR,IAAM,KAC5EyvG,IACIvR,GACAA,EAAGrpG,UAAUkM,OAAO2jG,GAAWY,eAE5BkI,GAAWnxG,KAAKmV,OAAO8R,UAExBmsF,IACFvR,GACAA,EAAGrpG,UAAU+L,IAAI8jG,GAAWY,SAEhCkI,EAAWnxG,KAAKmV,OAAO8R,UAAW,KAQ9C2iF,EAASpuG,UAAU63G,SAAW,SAAUt2G,GACpCiD,KAAKszG,aAAav2G,GAAK,EAAO,IAC1BiD,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqBiJ,SAASt2G,IAO3C6sG,EAASpuG,UAAU+3G,SAAW,SAAUx2G,GACpCiD,KAAKszG,aAAav2G,GAAK,EAAM,QACzBiD,KAAKmqG,sBACLnqG,KAAKoqG,qBAAqBmJ,SAASx2G,IAG3C6sG,EAASpuG,UAAU83G,aAAe,SAAUv2G,EAAKonB,EAAQsiC,GACrD,GAAI0qD,GAAanxG,KAAK4tG,YAAY7wG,GAC9BqY,EAAYH,GAAek8F,EAAYnxG,KAAKkqG,eAAe/0F,OAC/D,IAAIg8F,EAAY,CACZ,GAAItP,GAAK7hG,KAAKnG,QAAQiJ,cAAc,cAAgBsS,EAAUpV,KAAKmV,OAAOxR,IAAM,KAC5Ek+F,KACAA,EAAGj9F,MAAM6hD,QAAUA,GAEnBtiC,EACAgtF,EAAWnxG,KAAKmV,OAAOxQ,YAAa,QAG7BwsG,GAAWnxG,KAAKmV,OAAOxQ,aAW1CilG,EAASpuG,UAAUg4G,QAAU,SAAU/2G,EAAM0Y,GACzC,GAAIpV,GAAQC,IAEZ,QADe,KAAXmV,IAAqBA,MAAS/b,MAC5B4G,KAAKmzF,qBAAsB93B,MACzB5+D,YAAgBgC,OAChB,GAAIuB,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqBoJ,QAAQ/2G,EAAM0Y,OAEvC,CACD,GAAIokD,GAAKv5D,KAAKgxG,eAAehxG,KAAKmzF,WAAYh+E,GAE1CrU,EADYmU,GAAeskD,EAAIv5D,KAAKkqG,eAAe/0F,QACjCnV,KAAKmV,OAAOrU,MAC7BA,KACDA,MAEJA,EAAQA,EAAMob,OAAOzf,GACjB88D,YAAc96D,QACdhC,EAAK2C,QAAQ,SAAU+zF,GAGnB,GAFApzF,EAAMozF,WAAWn6F,KAAKm6F,GACtBpzF,EAAMwxG,kBAAkBxxG,EAAMozF,YAC1BpzF,EAAMgmG,UAAW,CACjB,GAAI7tG,GAAQ6H,EAAM4qG,UAAUnsG,QAAQ20F,EACpCpzF,GAAM0zG,YAAYtgB,EAAYj7F,EAC9B,IAAIyyG,GAAY5qG,EAAM4qG,UAAUzyG,EAAQ,EACpCyyG,IAAaA,EAAUt1F,UAAuC,IAA3Bs1F,EAAUhzG,MAAMY,QACnDwH,EAAM0zG,YAAY9I,EAAYzyG,EAAQ,OAI1C6H,GAAMuqG,aAGdtqG,KAAKimG,aAAejmG,KAAKmsG,MAAMvxG,iBAAiB,IAAMytG,GAAWK,YAGjEnvC,EAAGv5D,KAAKmV,OAAOrU,OAASA,EACxBd,KAAKsqG,cAMzBV,EAASpuG,UAAUi4G,YAAc,SAAUtgB,EAAYj7F,GACnD,GAAI2Q,GAAS7I,KAAKmtG,sBAAsBntG,KAAK2qG,UAAUzyG,EAAQ,KAC3D8H,KAAKmtG,sBAAsBntG,KAAK2qG,UAAUzyG,EAAQ,KAAO,KACzD2pG,EAAKrhD,GAASgjD,uBAAuBxjG,KAAKyB,eAAgB0xF,GAAanzF,KAAKkqG,eAChFlqG,MAAK+lG,UAAU3gG,aAAay8F,EAAG,GAAIh5F,IAMvC+gG,EAASpuG,UAAU6/F,WAAa,SAAUt+F,GAChCiD,KAAKmzF,qBAAsB93B,MACzBr7D,KAAKmqG,qBACLnqG,KAAKoqG,qBAAqB/O,WAAWt+F,GAGrCiD,KAAK0zG,mBAAmB32G,KAIpC6sG,EAASpuG,UAAUk4G,mBAAqB,SAAU32G,GAC9C,GACIo2F,GADAh+E,EAASpY,YAAeg1G,SAAU/xG,KAAKkxG,cAAcn0G,GAAOA,CAGhE,IADAo2F,EAAanzF,KAAKgxG,eAAehxG,KAAKmzF,WAAYh+E,GAAQ,GAC1C,CACZ,GAAI1Y,OAAO,EACXA,GAAOuD,KAAKgxG,eAAe7d,EAAYh+E,EACvC,IAAIjd,GAAQ8H,KAAK2qG,UAAUnsG,QAAQ/B,GAC/BolG,EAAK7hG,KAAKmtG,sBAAsBpwG,GAChC42G,MAAU,EACV3zG,MAAKmV,OAAO6vF,SAAWhlG,KAAK2qG,UAAUzyG,EAAQ,IAC9C8H,KAAK2qG,UAAUzyG,EAAQ,GAAGmd,UAEJ,IADrBrV,KAAK2qG,UAAUzyG,EAAQ,GACnBP,MAAMY,QACPspG,GAAMA,EAAG+R,uBAAuBp7G,UAAUC,SAAS4vG,GAAWQ,iBAC7DprG,EAAkBokG,EAAGjB,qBAAwBiB,EAAGjB,oBAC7CiB,EAAGjB,mBAAmBpoG,UAAUC,SAAS4vG,GAAWQ,kBACxD8K,EAAU9R,EAAG+R,wBAGjB/R,GACAt8F,EAAOs8F,GAEP8R,GACApuG,EAAOouG,EAEX,IAAIE,GAAU1gB,EAAW30F,QAAQ/B,EACjC02F,GAAW5oE,OAAOspF,EAAS,GAC3B7zG,KAAKuxG,kBAAkBvxG,KAAKmzF,YAC5BnzF,KAAKimG,aAAexnG,MAAMjD,UAAUmG,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiB,IAAMytG,GAAWK,aAOtGkB,EAASpuG,UAAUs4G,oBAAsB,SAAU/2G,GAC/C,KAAMiD,KAAKmzF,qBAAsB93B,MACzBt+D,EAAIxE,OACJ,IAAK,GAAIF,GAAI,EAAGA,EAAI0E,EAAIxE,OAAQF,IACxB2H,KAAKmqG,qBACLnqG,KAAKq7F,WAAWt+F,EAAI1E,IAGpB2H,KAAK0zG,mBAAmB32G,EAAI1E,KAOhDuxG,EAASpuG,UAAU0L,cAAgB,WAC/B,MAAO,YAEX0iG,EAASpuG,UAAU8lC,gBAAkB,WACjC,GAAIgB,KAIJ,OAHItiC,MAAKmqG,sBACL7nE,EAAQtpC,MAAOiH,MAAOD,MAAO+hC,OAAQ,mBAElCO,GAKXsnE,EAASpuG,UAAU6jD,eAAiB,WAChC,MAAOr/C,MAAK8/C,cAAc,WAAY,YAAa,iBAC/C,SAAU,SAAU,YAAa,cACjC,YAAa,WAAY,SAAU,QAAS,eAAgB,sBAEpExnB,IACI1vB,GAAS,KACVghG,EAASpuG,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACVghG,EAASpuG,UAAW,2BAAwB,IAC/C88B,IACI1vB,QACDghG,EAASpuG,UAAW,qBAAkB,IACzC88B,IACI1vB,IAAS,IACVghG,EAASpuG,UAAW,aAAU,IACjC88B,IACI1vB,QACDghG,EAASpuG,UAAW,iBAAc,IACrC88B,IACI1vB,MACDghG,EAASpuG,UAAW,YAAS,IAChC88B,IACIjvB,GAAQm3C,GAASijD,oBAAqBkG,KACvCC,EAASpuG,UAAW,aAAU,IACjC88B,IACI1vB,IAAWqjG,OAAQ,YAAax/F,SAAU,IAAKwV,OAAQ,UACxD2nF,EAASpuG,UAAW,gBAAa,IACpC88B,IACI1vB,GAAS,SACVghG,EAASpuG,UAAW,gBAAa,IACpC88B,IACI1vB,IAAS,IACVghG,EAASpuG,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACVghG,EAASpuG,UAAW,mBAAgB,IACvC88B,IACI1vB,GAAS,SACVghG,EAASpuG,UAAW,uBAAoB,IAC3C88B,IACI1vB,GAAS,KACVghG,EAASpuG,UAAW,kBAAe,IACtC88B,IACI1vB,IAAS,IACVghG,EAASpuG,UAAW,iBAAc,IACrC88B,IACI1vB,GAAS,KACVghG,EAASpuG,UAAW,aAAU,IACjC88B,IACI1vB,GAAS,KACVghG,EAASpuG,UAAW,YAAS,IAChC88B,IACI1vB,GAAS,OACVghG,EAASpuG,UAAW,eAAY,IACnC88B,IACI1vB,GAAS,OACVghG,EAASpuG,UAAW,qBAAkB,IACzC88B,IACI1vB,GAAS,OACVghG,EAASpuG,UAAW,oBAAiB,IACxC88B,IACI7uB,MACDmgG,EAASpuG,UAAW,aAAU,IACjC88B,IACI7uB,MACDmgG,EAASpuG,UAAW,kBAAe,IACtC88B,IACI7uB,MACDmgG,EAASpuG,UAAW,qBAAkB,IACzC88B,IACI7uB,MACDmgG,EAASpuG,UAAW,oBAAiB,IACxCouG,EAAWtxE,IACPvuB,IACD6/F,IAEL3rD,IEtnDE81D,GAAgC,WAChC,QAASA,GAAe5wG,GACpBnD,KAAKg0G,iBAAmB7wG,EAy1B5B,MAv1BA4wG,GAAev4G,UAAUo2G,aAAe,WACpC,OAAQn0G,EAAkBuC,KAAKg0G,iBAAiBC,cAA6D,gBAAtCj0G,MAAKg0G,iBAAiBC,aACtFx2G,EAAkBuC,KAAKg0G,iBAAiB7+F,OAAO6vF,UAE1D+O,EAAev4G,UAAUs2G,iBAAmB,WACxC,GAAInH,GAAY3qG,KAAKg0G,iBAAiBrJ,UAClCuJ,EAAUvJ,EAAUhpG,MAAM,EAAG,EACjC3B,MAAKg0G,iBAAiBjO,UAAY/lG,KAAKg0G,iBAAiB7H,MAAQ3rD,GAAS6hD,WAAWriG,KAAKg0G,iBAAiBvyG,cAAeyyG,EAASl0G,KAAKg0G,iBAAiB9J,gBACxJlqG,KAAKg0G,iBAAiBvJ,iBAAmBzqG,KAAKg0G,iBAAiBvyG,cAAc,OAASiC,UAAW2kG,GAAW3tG,UAC5GsF,KAAKg0G,iBAAiBn6G,QAAQkI,YAAY/B,KAAKg0G,iBAAiBvJ,kBAChEzqG,KAAKg0G,iBAAiBvJ,iBAAiB1oG,YAAY/B,KAAKg0G,iBAAiBjO,WACzE/lG,KAAKyvG,eAAiBzvG,KAAKg0G,iBAAiBjO,UAAU1gG,kBAAkBsH,wBAAwB8K,OAChGzX,KAAKm0G,qBAAuBn0G,KAAKo0G,kBAAkB,KACnDp0G,KAAKq0G,aAAer0G,KAAKo0G,kBAAkB71G,OAAOjB,KAAK0C,KAAKg0G,iBAAiBrJ,WAAWpyG,QACxFyH,KAAKuvG,aAAe,EACpBvvG,KAAKs0G,YAAct0G,KAAKq0G,aAAe,EACvCr0G,KAAKu0G,iBAAgB,EACrB,IAAIC,GAAU7J,EAAUhpG,MAAM,EAAG3B,KAAKq0G,aAEtC/uG,GADgBk7C,GAASgjD,uBAAuBxjG,KAAKg0G,iBAAiBvyG,cAAe+yG,EAASx0G,KAAKg0G,iBAAiB9J,gBAClGlqG,KAAKg0G,iBAAiBjO,WACxC/lG,KAAKg0G,iBAAiB/N,aAAejmG,KAAKg0G,iBAAiB7H,MAAMvxG,iBAAiB,MAClFoF,KAAKy0G,WAAaz0G,KAAKg0G,iBAAiBvyG,cAAc,OACtDzB,KAAKg0G,iBAAiBjO,UAAU3gG,aAAapF,KAAKy0G,WAAYz0G,KAAKg0G,iBAAiBjO,UAAU1gG,mBAC9FrF,KAAK00G,cAAgB10G,KAAKg0G,iBAAiBvyG,cAAc,OACzDzB,KAAKg0G,iBAAiBjO,UAAU3gG,aAAapF,KAAK00G,cAAe,MACjE10G,KAAK20G,YAAep2G,OAAOjB,KAAKqtG,GAAWpyG,OAASyH,KAAKyvG,eAAmBzvG,KAAKq0G,aAAer0G,KAAKyvG,eACrGzvG,KAAKy0G,WAAW7vG,MAAM6S,OAAS,MAC/BzX,KAAK00G,cAAc9vG,MAAM6S,OAASzX,KAAK20G,YAAc,KACrD30G,KAAK40G,iBAAmB,EACxB50G,KAAK60G,oBAAsB70G,KAAK20G,YAChC30G,KAAK80G,SAAW,EAChB90G,KAAK+0G,2BAEThB,EAAev4G,UAAU+4G,gBAAkB,SAAU1gG,GAC5CA,EAUD7T,KAAKg0G,iBAAiBhJ,SAAWhvG,OAAOY,oBAAoB,SAAUoD,KAAKg1G,iBACvEvvG,GAAaf,OAAO1E,KAAKg0G,iBAAiBn6G,QAAS,SAAUmG,KAAKi1G,mBAVlEj1G,KAAKg0G,iBAAiBhJ,UACtBhrG,KAAKg1G,gBAAkBh1G,KAAKi1G,kBAAkBx5G,KAAKuE,MACnDhE,OAAOU,iBAAiB,SAAUsD,KAAKg1G,kBAGvCvvG,GAAalB,IAAIvE,KAAKg0G,iBAAiBn6G,QAAS,SAAUmG,KAAKi1G,kBAAmBj1G,OAQ9F+zG,EAAev4G,UAAU44G,kBAAoB,SAAUc,GACnD,GAAIC,GAAYn1G,KAAKg0G,iBAAiBhJ,SAAW59F,KAAKgoG,MAAOp5G,OAAOgf,YAAchb,KAAKyvG,eAAkB,GACrGriG,KAAKgoG,MAAOp1G,KAAKg0G,iBAAiBv8F,OAASzX,KAAKyvG,eAAkB,IAItE,OAHI0F,GAAYD,IACZC,EAAYD,GAETC,GAEXpB,EAAev4G,UAAUu5G,wBAA0B,WAC/C,GAAIh1G,GAAQC,IACZA,MAAKq1G,WAAcC,iBAAqBC,uBAA2BC,sBACnEx1G,KAAKg0G,iBAAiBrJ,UAAUvrG,QAAQ,SAAUm6D,EAAIrhE,GAC9C6H,EAAMi0G,iBAAiBpQ,cAAgBrqC,EAAGx5D,EAAMi0G,iBAAiB7+F,OAAOwyF,YACxE5nG,EAAMs1G,UAAUC,cAAct8G,KAAKd,GAElCuF,EAAkB87D,EAAGx5D,EAAMi0G,iBAAiB7+F,OAAO8R,WAAcsyC,EAAGx5D,EAAMi0G,iBAAiB7+F,OAAO8R,UACnGlnB,EAAMs1G,UAAUE,oBAAoBv8G,KAAKd,KAG7C8H,KAAK4xG,gBACLnzG,MAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKg0G,iBAAiBn6G,QAAQe,iBAAiB,IAAMytG,GAAWK,UAAW,SAAU7vG,EAAMX,GACpHW,EAAKgN,QAAU9F,EAAMi0G,iBAAiByB,iBAAiBC,eAAex9G,GAAO2N,WAIzFkuG,EAAev4G,UAAUm6G,kBAAoB,WACzC,MAAO31G,MAAKg0G,iBAAiBhJ,SAAc9mD,YAAclkD,KAAK41G,gBAAmB,EAAK,EACjF1xD,YAAclkD,KAAK41G,eAAqB51G,KAAKg0G,iBAAiBn6G,QAAQqT,UAAYlN,KAAK41G,gBAAmB,EAAK,EAC/G51G,KAAKg0G,iBAAiBn6G,QAAQqT,UAAYlN,KAAK41G,gBAExD7B,EAAev4G,UAAUy5G,kBAAoB,WACrCx3G,EAAkBuC,KAAK41G,kBACnB51G,KAAKg0G,iBAAiBhJ,SACtBhrG,KAAK41G,eAAiB76G,SAASoS,gBAAgBR,wBAAwB8K,OACnEzX,KAAKg0G,iBAAiBjO,UAAUp5F,wBAAwB8K,OAG5DzX,KAAK41G,eAAiB51G,KAAKg0G,iBAAiB3I,UAAYrrG,KAAKg0G,iBAAiB3I,UAAU1+F,wBAAwB8K,OAAS,EAE7HzX,KAAK61G,eAAiB,EAE1B,IAAIC,GAAS91G,KAAK21G,mBAKlB,IAJA31G,KAAK40G,iBAAmB50G,KAAKyvG,eAAiBriG,KAAK6T,MAAM60F,EAAS91G,KAAKyvG,gBACvEzvG,KAAK60G,oBAAsB70G,KAAK20G,YAAc30G,KAAK40G,iBACnD5xG,EAAK8yG,GAAU91G,KAAK20G,aACf30G,KAAK40G,iBAAkB50G,KAAK60G,sBAAwB70G,KAAK20G,YAAa,GAAI30G,KAAK40G,iBAAmB5xG,EAAG,GAAIhD,KAAK60G,oBAAsB7xG,EAAG,GACxIhD,KAAK40G,mBAAqBz0F,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,QAAS,CAGpE,GAFAzX,KAAKy0G,WAAW7vG,MAAM6S,OAASzX,KAAK40G,iBAAmB,KACvD50G,KAAK00G,cAAc9vG,MAAM6S,OAASzX,KAAK60G,oBAAsB,KACzDiB,EAAS91G,KAAK61G,gBACVf,EAAa90G,KAAK40G,iBAAmB50G,KAAKyvG,eAAkBzvG,KAAK80G,UACrD90G,KAAKm0G,qBAAuB,EACxCn0G,KAAK+1G,aAAajB,GAAU,GAG5B90G,KAAKg2G,eAAelB,GAAU,OAGjC,CACD,GAAIA,GAAY90G,KAAK80G,SAAY90G,KAAK40G,iBAAmB50G,KAAKyvG,cAC1DqF,GAAY90G,KAAKm0G,qBAAuB,EACxCn0G,KAAK+1G,aAAajB,GAAU,GAG5B90G,KAAKg2G,eAAelB,GAAU,GAGtC90G,KAAK80G,SAAW90G,KAAK40G,iBAAmB50G,KAAKyvG,eACK,kBAAvCzvG,MAAKg0G,iBAAiBxE,cAC7BxvG,KAAKg0G,iBAAiBxE,eAG9BxvG,KAAK61G,eAAiBC,CACtB,IAAI9yG,IAER+wG,EAAev4G,UAAUu6G,aAAe,SAAUjB,EAAUmB,GACxD,GAAIl2G,GAAQC,KACR9H,EAAQ+9G,EAAmBj2G,KAAKuvG,aAAeuF,EAAa90G,KAAKuvG,aAAeuF,CACpFr2G,OAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKg0G,iBAAiBjO,UAAUnrG,iBAAiB,MAAO,SAAUf,GAC3FkG,EAAMm2G,SAASr8G,EAAS3B,GACxBA,MAEJ8H,KAAKs0G,YAAc2B,EAAmBj2G,KAAKs0G,YAAcQ,EAAa90G,KAAKs0G,YAAcQ,EACzF90G,KAAKuvG,aAAe0G,EAAmBj2G,KAAKuvG,aAAeuF,EAAa90G,KAAKuvG,aAAeuF,GAEhGf,EAAev4G,UAAUw6G,eAAiB,SAAUlB,EAAUmB,GAC1D,GAAIA,EACA,IAAS59G,EAAI,EAAGA,EAAIy8G,EAAUz8G,IAAK,CAC3BH,IAAU8H,KAAKs0G,WACnBt0G,MAAKk2G,SAASl2G,KAAKy0G,WAAW7T,mBAAoB1oG,EAAO8H,KAAK00G,eAC9D10G,KAAKuvG,mBAIT,KAAK,GAAIl3G,GAAI,EAAGA,EAAIy8G,EAAUz8G,IAAK,CAC/B,GAAIH,KAAU8H,KAAKuvG,aACf1mG,EAAS7I,KAAKy0G,WAAW0B,WAC7Bn2G,MAAKk2G,SAASl2G,KAAK00G,cAAcd,uBAAwB17G,EAAO2Q,GAChE7I,KAAKs0G,gBAIjBP,EAAev4G,UAAU46G,gBAAkB,SAAUv8G,EAAS3B,GAC1D,GAAIm+G,GAAYr2G,KAAKg0G,iBAAiBrJ,SAatC,IAZmD,gBAAxC3qG,MAAKg0G,iBAAiB7gB,WAAW,IACO,gBAAxCnzF,MAAKg0G,iBAAiB7gB,WAAW,IACxCt5F,EAAQy8G,QAAQ52G,IAAM8gD,GAAS2iD,aAC/BtpG,EAAQ2U,uBAAuB65F,GAAWO,cAAc,GAAGpuG,UACvDwF,KAAKg0G,iBAAiBrJ,UAAUzyG,GAAOyI,aAG3C9G,EAAQy8G,QAAQ52G,IAAM22G,EAAUn+G,GAAO8H,KAAKg0G,iBAAiB7+F,OAAOxR,IAChE0yG,EAAUn+G,GAAO8H,KAAKg0G,iBAAiB7+F,OAAOxR,IAAIhD,WAAa6/C,GAAS2iD,aAC5EtpG,EAAQ2U,uBAAuB65F,GAAWO,cAAc,GAAGpuG,UACvD67G,EAAUn+G,GAAO8H,KAAKg0G,iBAAiB7+F,OAAO1b,MAAMkH,YAExDX,KAAKg0G,iBAAiBnQ,WAClBhqG,EAAQiJ,cAAc,IAAMulG,GAAWM,WACvCpjG,EAAO1L,EAAQiJ,cAAc,IAAMulG,GAAWM,WAE9C3oG,KAAKg0G,iBAAiBrJ,UAAUzyG,GAAO8H,KAAKg0G,iBAAiB7+F,OAAOypF,UAAU,CAC9E,GAAIllG,GAAcG,EAAQiJ,cAAc,IAAMulG,GAAW3uG,aACrDmP,EAAS7I,KAAKg0G,iBAAiBvyG,cAAc,OAC7CiC,UAAW2kG,GAAWM,SAAW,IAC7B3oG,KAAKg0G,iBAAiBrJ,UAAUzyG,GAAO8H,KAAKg0G,iBAAiB7+F,OAAOypF,UAE5EllG,GAAY0L,aAAayD,EAAQhP,EAAQiJ,cAAc,IAAMulG,GAAWO,eAGhF,GAAI5oG,KAAKg0G,iBAAiBpQ,cAAgB5jG,KAAKg0G,iBAAiB7+F,OAAO6vF,QAAS,CACvEhlG,KAAKu2G,mBACNv2G,KAAKu2G,iBAAmBv2G,KAAKg0G,iBAAiB7H,MAAMrpG,cAAc,IAAMulG,GAAWc,iBAAiBnnG,WAAU,GAE9GtI,GAAcG,EAAQiJ,cAAc,IAAMulG,GAAW3uG,YACrDsG,MAAKg0G,iBAAiBrJ,UAAUzyG,GAAOmd,SACnCxb,EAAQiJ,cAAc,IAAMulG,GAAWc,mBACvCtvG,EAAQrB,UAAUkM,OAAO2jG,GAAWgB,WACpC3vG,EAAYlB,UAAUkM,OAAO2jG,GAAWe,UACxC7jG,EAAO1L,EAAQiJ,cAAc,IAAMulG,GAAWc,mBAI7CtvG,EAAQiJ,cAAc,IAAMulG,GAAWc,mBACxCtvG,EAAQrB,UAAU+L,IAAI8jG,GAAWgB,WACjC3vG,EAAYlB,UAAU+L,IAAI8jG,GAAWe,UACrC1vG,EAAY0L,aAAapF,KAAKu2G,iBAAiBv0G,WAAU,GAAOnI,EAAQiJ,cAAc,IAAMulG,GAAWO,kBAKvHmL,EAAev4G,UAAUg7G,wBAA0B,SAAU38G,EAAS3B,GASlE,GARA2B,EAAQrB,UAAUkM,OAAO2jG,GAAWY,SAChCjpG,KAAKq1G,UAAUE,oBAAoBh9G,SAAiE,IAAvDyH,KAAKq1G,UAAUE,oBAAoB/2G,QAAQtG,IACxF2B,EAAQrB,UAAU+L,IAAI8jG,GAAWY,SAErCpvG,EAAQ+K,MAAM6hD,QAAU,GACpBzmD,KAAKq1G,UAAUG,kBAAkBj9G,SAA+D,IAArDyH,KAAKq1G,UAAUG,kBAAkBh3G,QAAQtG,KACpF2B,EAAQ+K,MAAM6hD,QAAU,QAExBzmD,KAAKg0G,iBAAiBpQ,aAAc,CACpC,GAAI6S,GAAmB58G,EAAQiJ,cAAc,IAAMulG,GAAWc,gBAC9DtvG,GAAQrB,UAAUkM,OAAO2jG,GAAWpO,UACpCpgG,EAAQrB,UAAUkM,OAAO2jG,GAAWG,SAChCiO,IACAA,EAAiBnqG,gBAAgB,gBACjCmqG,EAAiBpxG,kBAAkB7M,UAAUkM,OAAO2jG,GAAWr0F,UAE/DhU,KAAKq1G,UAAUC,cAAc/8G,SAA2D,IAAjDyH,KAAKq1G,UAAUC,cAAc92G,QAAQtG,KAC3E8H,KAAKg0G,iBAAiB7H,MAAMrpG,cAAculG,GAAWpO,YACtDpgG,EAAQrB,UAAU+L,IAAI8jG,GAAWpO,UACjCwc,EAAiBpxG,kBAAkB7M,UAAU+L,IAAI8jG,GAAWr0F,SAC5DyiG,EAAiB5yG,aAAa,eAAgB,QAC1C7D,KAAK02G,cAAgBx+G,GACrB2B,EAAQrB,UAAU+L,IAAI8jG,GAAWG,cAKzC3uG,GAAQrB,UAAUkM,OAAO2jG,GAAWpO,UACpCpgG,EAAQyS,gBAAgB,iBACnB7O,EAAkBuC,KAAK02G,cAAgB12G,KAAK02G,cAAgBx+G,GAC5D8H,KAAKg0G,iBAAiB7H,MAAMrpG,cAAculG,GAAWpO,YACtDpgG,EAAQrB,UAAU+L,IAAI8jG,GAAWpO,UACjCpgG,EAAQgK,aAAa,gBAAiB,QAG1C7D,MAAKg0G,iBAAiB7+F,OAAO6vF,UACzBhlG,KAAKg0G,iBAAiBrJ,UAAUzyG,GAAOmd,SACnCxb,EAAQrB,UAAUC,SAAS4vG,GAAWK,YACtC7uG,EAAQrB,UAAUkM,OAAO2jG,GAAWK,UACpC7uG,EAAQgK,aAAa,OAAQ,SAC7BhK,EAAQrB,UAAU+L,IAAI8jG,GAAWQ,gBAIjChvG,EAAQrB,UAAUC,SAAS4vG,GAAWQ,iBACtChvG,EAAQrB,UAAUkM,OAAO2jG,GAAWQ,eACpChvG,EAAQgK,aAAa,OAAQ,YAC7BhK,EAAQrB,UAAU+L,IAAI8jG,GAAWK,aAKjDqL,EAAev4G,UAAUm7G,qBAAuB,SAAUp9C,EAAIpkD,GAC1D,GAAIpV,GAAQC,KACRmxG,IAgBJ,OAfAh8F,GAASnV,KAAKg0G,iBAAiB9C,cAAc/7F,GACxC1X,EAAkB0X,IACnBokD,EAAGrmC,KAAK,SAAUz2B,EAAMvE,GACpB,SAAKid,EAAOpV,EAAMi0G,iBAAiB7+F,OAAOxR,KACtCwR,EAAOpV,EAAMi0G,iBAAiB7+F,OAAOxR,IAAIhD,cAChClE,EAAKsD,EAAMi0G,iBAAiB7+F,OAAOxR,KAAOlH,EAAKsD,EAAMi0G,iBAAiB7+F,OAAOxR,IAAIhD,aAAgBwU,IAAW1Y,KACrH00G,EAAWj5G,MAAQA,EACnBi5G,EAAW10G,KAAOA,GACX,KAOZ00G,GAEX4C,EAAev4G,UAAUm3G,iBAAmB,WACxC,GAAI5yG,GAAQC,IACZ,KAAKvC,EAAkBuC,KAAK02G,cAAiB12G,KAAKg0G,iBAAiBpQ,cAAgB5jG,KAAKq1G,UAAUC,cAAc/8G,OAAS,CACrH,GAAIq+G,MACAC,IACJ,IAAmD,gBAAxC72G,MAAKg0G,iBAAiB7gB,WAAW,IACO,gBAAxCnzF,MAAKg0G,iBAAiB7gB,WAAW,GAAiB,CACzD,GAAI2jB,GAAc92G,KAAKg0G,iBAAiBrJ,SACxC,OAAI3qG,MAAKg0G,iBAAiBpQ,cACtB5jG,KAAKq1G,UAAUC,cAAcl2G,QAAQ,SAAUlH,GAC3C0+G,EAAiB59G,KAAK89G,EAAY5+G,OAGlCuB,KAAMm9G,EACNn6G,KAAMm6G,EACN1+G,MAAO8H,KAAKq1G,UAAUC,cAAct0E,IAAI,SAAU9oC,GAC9C,MAAO6H,GAAMi0G,iBAAiB7gB,WAAW30F,QAAQs4G,EAAY5+G,SAMjEuB,KAAMq9G,EAAY92G,KAAK02G,aACvBj6G,KAAMq6G,EAAY92G,KAAK02G,aACvBx+G,MAAO8H,KAAKg0G,iBAAiB7gB,WAAW30F,QAAQs4G,EAAY92G,KAAK02G,eAKzE,GAAIK,GAAc/2G,KAAKg0G,iBAAiBrJ,UACpCqM,EAASh3G,KAAKg0G,iBAAiB7+F,OAAO1b,IAC1C,OAAIuG,MAAKg0G,iBAAiBpQ,cACtB5jG,KAAKq1G,UAAUC,cAAcl2G,QAAQ,SAAUlH,GAC3C2+G,EAAiB79G,KAAK+9G,EAAY7+G,GAAO8+G,IACzCJ,EAAiB59G,KAAK+9G,EAAY7+G,OAGlCuB,KAAMo9G,EACNp6G,KAAMm6G,EACN1+G,MAAO8H,KAAKq1G,UAAUC,cAAct0E,IAAI,SAAU9oC,GAC9C,MAAQ6H,GAAMi0G,4BAA6Bx1G,QAAQu4G,EAAY7+G,SAMnEuB,KAAMs9G,EAAY/2G,KAAK02G,aAAa12G,KAAKg0G,iBAAiB7+F,OAAO1b,MACjEgD,KAAMs6G,EAAY/2G,KAAK02G,aACvBx+G,MAAO8H,KAAKg0G,iBAAiB7gB,WAAW30F,QAAQu4G,EAAY/2G,KAAK02G,iBASrF3C,EAAev4G,UAAU+2G,WAAa,SAAUx1G,GAC5C,GAAIk6G,GAAYj3G,KAAK22G,qBAAqB32G,KAAKg0G,iBAAiBrJ,UAAW5tG,EAC3E,IAAIwB,OAAOjB,KAAK25G,GAAW1+G,OAAQ,CAC/B,GAAI2+G,GAAal3G,KAAK02G,cAAgBO,EAAU/+G,MAC5CyvG,MAAY,EAehB,IAdA3nG,KAAK02G,YAAcO,EAAU/+G,MACzB8H,KAAKg0G,iBAAiBpQ,gBACyC,IAA3D5jG,KAAKq1G,UAAUC,cAAc92G,QAAQy4G,EAAU/+G,QAC/CyvG,GAAY,EACZ3nG,KAAKq1G,UAAUC,cAAct8G,KAAKi+G,EAAU/+G,SAG5CyvG,GAAY,EACZ3nG,KAAKq1G,UAAUC,cAAc/qF,OAAOvqB,KAAKq1G,UAAUC,cAAc92G,QAAQy4G,EAAU/+G,OAAQ,IAE3F8H,KAAKg0G,iBAAiB7H,MAAMrpG,cAAc,IAAMulG,GAAWG,UAC3DxoG,KAAKg0G,iBAAiB7H,MAAMrpG,cAAc,IAAMulG,GAAWG,SAAShwG,UAAUkM,OAAO2jG,GAAWG,UAGpGxoG,KAAKg0G,iBAAiB7G,sBAAsBpwG,GACxCiD,KAAKg0G,iBAAiBpQ,aACtB5jG,KAAKg0G,iBAAiB3F,cAAcruG,KAAKg0G,iBAAiB7G,sBAAsBpwG,IAGhFiD,KAAKg0G,iBAAiB5F,YAAYpuG,KAAKg0G,iBAAiB7G,sBAAsBpwG,QAGjF,CACD,GAAIsR,OAAY,EAChB,IAAmD,gBAAxCrO,MAAKg0G,iBAAiB7gB,WAAW,IACO,gBAAxCnzF,MAAKg0G,iBAAiB7gB,WAAW,GACxC9kF,GACI5U,KAAMuG,KAAKg0G,iBAAiBrJ,UAAU3qG,KAAK02G,aAC3Cj6G,KAAMuD,KAAKg0G,iBAAiBrJ,UAAU3qG,KAAK02G,aAC3Cx+G,MAAO8H,KAAK02G,iBAGf,CACD,GAAI/L,GAAY3qG,KAAKg0G,iBAAiBrJ,SACtCt8F,IACI5U,KAAMkxG,EAAU3qG,KAAK02G,aAAa12G,KAAKg0G,iBAAiB7+F,OAAO1b,MAC/DgD,KAAMkuG,EAAU3qG,KAAK02G,aACrBx+G,MAAO8H,KAAK02G,aAGhB12G,KAAKg0G,iBAAiBpQ,cACtBv1F,EAAUs5F,UAAYA,EACtB3nG,KAAKg0G,iBAAiBvrF,QAAQ,SAAUpa,IAElC6oG,GACNl3G,KAAKg0G,iBAAiBvrF,QAAQ,SAAUpa,QAI3C5Q,GAAkBV,KAASiD,KAAKg0G,iBAAiBpQ,eACtD5jG,KAAKg0G,iBAAiB7F,eACtBnuG,KAAK02G,gBAAct9G,KAG3B26G,EAAev4G,UAAUy3G,WAAa,SAAUl2G,GAC5C,GAAIk6G,GAAYj3G,KAAK22G,qBAAqB32G,KAAKg0G,iBAAiBrJ,UAAW5tG,EACvEwB,QAAOjB,KAAK25G,GAAW1+G,QACvByH,KAAKq1G,UAAUE,oBAAoBhrF,OAAOvqB,KAAKq1G,UAAUE,oBAAoB/2G,QAAQy4G,EAAU/+G,OAAQ,IAG/G67G,EAAev4G,UAAU23G,YAAc,SAAUp2G,GAC7C,GAAIk6G,GAAYj3G,KAAK22G,qBAAqB32G,KAAKg0G,iBAAiBrJ,UAAW5tG,EACvEwB,QAAOjB,KAAK25G,GAAW1+G,SAA2E,IAAjEyH,KAAKq1G,UAAUE,oBAAoB/2G,QAAQy4G,EAAU/+G,QACtF8H,KAAKq1G,UAAUE,oBAAoBv8G,KAAKi+G,EAAU/+G,QAG1D67G,EAAev4G,UAAU63G,SAAW,SAAUt2G,GAC1C,GAAIk6G,GAAYj3G,KAAK22G,qBAAqB32G,KAAKg0G,iBAAiBrJ,UAAW5tG,EACvEwB,QAAOjB,KAAK25G,GAAW1+G,QACvByH,KAAKq1G,UAAUG,kBAAkBjrF,OAAOvqB,KAAKq1G,UAAUG,kBAAkBh3G,QAAQy4G,EAAU/+G,OAAQ,IAG3G67G,EAAev4G,UAAU+3G,SAAW,SAAUx2G,GAC1C,GAAIk6G,GAAYj3G,KAAK22G,qBAAqB32G,KAAKg0G,iBAAiBrJ,UAAW5tG,EACvEwB,QAAOjB,KAAK25G,GAAW1+G,SAAyE,IAA/DyH,KAAKq1G,UAAUG,kBAAkBh3G,QAAQy4G,EAAU/+G,QACpF8H,KAAKq1G,UAAUG,kBAAkBx8G,KAAKi+G,EAAU/+G,QAGxD67G,EAAev4G,UAAU6/F,WAAa,SAAUt+F,GAC5C,GAAIo2F,GACA8jB,EAAYj3G,KAAK22G,qBAAqB32G,KAAKg0G,iBAAiBrJ,UAAW5tG,EACvEwB,QAAOjB,KAAK25G,GAAW1+G,SACvB46F,EAAa8jB,EAAUx6G,KACnBuD,KAAKg0G,iBAAiBrJ,UAAUsM,EAAU/+G,MAAQ,IAClD8H,KAAKg0G,iBAAiBrJ,UAAUsM,EAAU/+G,MAAQ,GAAGmd,UAE/B,IADrBrV,KAAKg0G,iBAAiBrJ,UAAUsM,EAAU/+G,MAAQ,GAC9CP,MAAMY,QACXyH,KAAKm3G,aAAaF,EAAU/+G,MAAQ,GACpC8H,KAAKm3G,aAAaF,EAAU/+G,MAAQ,IAGpC8H,KAAKm3G,aAAaF,EAAU/+G,OAGpC,IAAIA,GAAQ8H,KAAKg0G,iBAAiB7gB,WAAW30F,QAAQ20F,IACtC,IAAXj7F,IACA8H,KAAKg0G,iBAAiB7gB,WAAW5oE,OAAOryB,EAAO,GAC/C8H,KAAKg0G,iBAAiBzC,kBAAkBvxG,KAAKg0G,iBAAiB7gB,cAGtE4gB,EAAev4G,UAAU6yG,cAAgB,SAAUxM,EAAIzgG,GACnD,GAAIlJ,GAAQuG,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKg0G,iBAAiB7H,MAAMvxG,iBAAiB,MAAOinG,GAAM7hG,KAAKuvG,YACxGvvG,MAAK02G,YAAcj4G,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKg0G,iBAAiB7H,MAAMvxG,iBAAiB,MAAOinG,GAAM7hG,KAAKuvG,aAC3G1N,EAAGrpG,UAAUC,SAAS4vG,GAAWpO,WACoB,IAAjDj6F,KAAKq1G,UAAUC,cAAc92G,QAAQtG,IACrC8H,KAAKq1G,UAAUC,cAAct8G,KAAKd,GAItC8H,KAAKq1G,UAAUC,cAAc/qF,OAAOvqB,KAAKq1G,UAAUC,cAAc92G,QAAQtG,GAAQ,IAGzF67G,EAAev4G,UAAU4yG,YAAc,SAAUvM,EAAIzgG,GACjDpB,KAAK02G,YAAcj4G,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKg0G,iBAAiB7H,MAAMvxG,iBAAiB,MAAOinG,GAAM7hG,KAAKuvG,cAEnHwE,EAAev4G,UAAUkyG,YAAc,SAAU15F,GAC7C,GAAIjU,GAAQC,IACRgU,IACAhU,KAAKq1G,UAAUC,iBACft1G,KAAK02G,gBAAct9G,GACnB4G,KAAKg0G,iBAAiBrJ,UAAUvrG,QAAQ,SAAUm6D,EAAIrhE,GAC7CqhE,EAAGlkD,UACJtV,EAAMs1G,UAAUC,cAAct8G,KAAKd,OAK3C8H,KAAK02G,gBAAct9G,GACnB4G,KAAKq1G,UAAUC,mBAGvBvB,EAAev4G,UAAU47G,UAAY,SAAUl/G,GAC3C,GAAIm+G,GAAYr2G,KAAKg0G,iBAAiBrJ,SAYtC,IAXA3qG,KAAKq3G,gBAAgBn/G,GAAO,GACxB8H,KAAK02G,aAAe12G,KAAK02G,aAAex+G,GACxC8H,KAAK02G,cAEL12G,KAAKg0G,iBAAiBpQ,cACtByS,EAAUn+G,GAAO8H,KAAKg0G,iBAAiB7+F,OAAOwyF,YAC9C3nG,KAAKq1G,UAAUC,cAAct8G,KAAKd,GAEjCioB,WAAWngB,KAAK00G,cAAc9vG,MAAM6S,SAAY0I,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,UAClFzX,KAAK00G,cAAc9vG,MAAM6S,OAAS0I,WAAWngB,KAAK00G,cAAc9vG,MAAM6S,QAAUzX,KAAKyvG,eAAiB,MAEtGtvF,WAAWngB,KAAK00G,cAAc9vG,MAAM6S,QAAS,CACzC6/F,EAASt3G,KAAKg0G,iBAAiB7H,MAAMoL,iBAAiBC,iBACtD3uG,EAAS7I,KAAKg0G,iBAAiB7G,sBAAsBkJ,EAAUn+G,EAAQ,KACvE8H,KAAKg0G,iBAAiB7G,sBAAsBkJ,EAAUn+G,EAAQ,OAE9D8H,KAAK00G,cAAc9vG,MAAM6S,OAAS0I,WAAWngB,KAAK00G,cAAc9vG,MAAM6S,QAAUzX,KAAKyvG,eAAiB,KACtGzvG,KAAKk2G,SAASoB,EAAQp/G,EAAO2Q,QAGhC,CACD,GAAIyuG,GAASt3G,KAAKg0G,iBAAiB7H,MAAM9mG,kBAAkB8wG,YACvDttG,MAAS,EAETA,GADCtK,OAAOjB,KAAK0C,KAAKg0G,iBAAiBrJ,WAAWpyG,OAAS,IAAOL,EACrD8H,KAAKg0G,iBAAiB7H,MAAMoL,iBAG5Bv3G,KAAKg0G,iBAAiB7G,sBAAsBkJ,EAAUn+G,EAAQ,KACnE8H,KAAKg0G,iBAAiB7G,sBAAsBkJ,EAAUn+G,EAAQ,IAEtE8H,KAAKy0G,WAAW7vG,MAAM6S,OAAS0I,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,QAAUzX,KAAKyvG,eAAiB,KAChGzvG,KAAKuvG,eACLvvG,KAAKs0G,cACDzrG,IACA7I,KAAKk2G,SAASoB,EAAQp/G,EAAO2Q,GAC7B7I,KAAKg0G,iBAAiBhJ,SAAWhvG,OAAOszG,SAAS,EAAIprD,YAAclkD,KAAKyvG,gBACpEzvG,KAAKg0G,iBAAiBn6G,QAAQqT,WAAalN,KAAKyvG,gBAG5DzvG,KAAK20G,aAAe30G,KAAKyvG,eACzBzvG,KAAK80G,SAAW30F,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,QAAUzX,KAAKyvG,gBAEpEsE,EAAev4G,UAAU27G,aAAe,SAAUj/G,GAC9C8H,KAAK20G,aAAe30G,KAAKyvG,cACzB,IAAI9E,GAAY3qG,KAAKg0G,iBAAiBrJ,UAAUzyG,GAC5Co/G,EAASt3G,KAAKg0G,iBAAiB7G,sBAAsBxC,EAKzD,IAJA3qG,KAAKg0G,iBAAiBrJ,UAAUpgF,OAAOryB,EAAO,GAC1C8H,KAAK02G,aAAe12G,KAAK02G,aAAex+G,GACxC8H,KAAK02G,cAELY,EACA,GAAIt3G,KAAKq0G,aAAe91G,OAAOjB,KAAK0C,KAAKg0G,iBAAiBrJ,WAAWpyG,OACjEgN,EAAO+xG,GACPt3G,KAAKq0G,eACLr0G,KAAKs0G,cACLt0G,KAAK20G,YAAc,MAElB,CASD,GARI2C,EAAO9+G,UAAUC,SAAS4vG,GAAWY,WACrCqO,EAAO9+G,UAAUkM,OAAO2jG,GAAWY,SACnCjpG,KAAKq1G,UAAUE,oBAAoBhrF,OAAOvqB,KAAKq1G,UAAUE,oBAAoB/2G,QAAQtG,GAAQ,IAEpE,SAAzBo/G,EAAO1yG,MAAM6hD,UACb6wD,EAAO1yG,MAAM6hD,QAAU,GACvBzmD,KAAKq1G,UAAUG,kBAAkBjrF,OAAOvqB,KAAKq1G,UAAUG,kBAAkBh3G,QAAQtG,GAAQ,IAEzF8H,KAAKg0G,iBAAiBpQ,cAAgB0T,EAAO9+G,UAAUC,SAAS4vG,GAAWpO,UAAW,CACtFj6F,KAAKg0G,iBAAiB7F,eACtBnuG,KAAKq1G,UAAUC,cAAc/qF,OAAOvqB,KAAKq1G,UAAUC,cAAc92G,QAAQtG,GAAQ,EACjF,IAAIu+G,GAAmBa,EAAOx0G,cAAc,IAAMulG,GAAWc,gBAC7DsN,GAAiBnqG,gBAAgB,gBACjCmqG,EAAiBpxG,kBAAkB7M,UAAUkM,OAAO2jG,GAAWr0F,SAC3DsjG,EAAO9+G,UAAUC,SAAS4vG,GAAWG,WACrC8O,EAAO9+G,UAAUkM,OAAO2jG,GAAWG,SACnCxoG,KAAK02G,gBAAct9G,QAGlBk+G,GAAO9+G,UAAUC,SAAS4vG,GAAWpO,YAC1Cj6F,KAAKg0G,iBAAiB7F,eACtBnuG,KAAK02G,gBAAct9G,GAElB+mB,YAAWngB,KAAK00G,cAAc9vG,MAAM6S,SAAY0I,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,QAG7E0I,WAAWngB,KAAK00G,cAAc9vG,MAAM6S,SACzCzX,KAAK00G,cAAc9vG,MAAM6S,OAAS0I,WAAWngB,KAAK00G,cAAc9vG,MAAM6S,QAAUzX,KAAKyvG,eAAiB,KACtGzvG,KAAKk2G,SAASoB,EAAQt3G,KAAKs0G,YAAat0G,KAAK00G,iBAG7C10G,KAAKy0G,WAAW7vG,MAAM6S,OAAS0I,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,QAAUzX,KAAKyvG,eAAiB,KAChGzvG,KAAKk2G,SAASoB,EAASt3G,KAAKuvG,aAAe,EAAIvvG,KAAKy0G,WAAW0B,aAC/Dn2G,KAAKs0G,cACLt0G,KAAKuvG,gBAVLvvG,KAAKk2G,SAASoB,EAAQt3G,KAAKs0G,YAAat0G,KAAK00G,eAczD10G,KAAKq3G,gBAAgBn/G,GAAO,GAC5B8H,KAAK80G,SAAW30F,WAAWngB,KAAKy0G,WAAW7vG,MAAM6S,QAAUzX,KAAKyvG,gBAEpEsE,EAAev4G,UAAU67G,gBAAkB,SAAUn/G,EAAOgoB,GACxD,GAAIngB,GAAQC,IACZzB,QAAOjB,KAAK0C,KAAKq1G,WAAWj2G,QAAQ,SAAU/B,GAC1C0C,EAAMs1G,UAAUh4G,GAAO0C,EAAMs1G,UAAUh4G,GAAK2jC,IAAI,SAAU3oC,GACtD,MAAIA,IAAKH,EACEgoB,IAAc7nB,IAAMA,EAGpBA,OAKvB07G,EAAev4G,UAAUg4G,QAAU,SAAU/2G,EAAM0Y,GAC/C,GAAIpV,GAAQC,IACZvD,GAAK2C,QAAQ,SAAU+zF,GAGnB,GAFApzF,EAAMi0G,iBAAiB7gB,WAAWn6F,KAAKm6F,GACvCpzF,EAAMi0G,iBAAiBzC,kBAAkBxxG,EAAMi0G,iBAAiB7gB,YAC3DpzF,EAAMs0G,aAGN,GAAIt0G,EAAMs0G,aAAet0G,EAAMo0G,qBAChCp0G,EAAMw0G,iBAAgB,GACtBhvG,EAAOxF,EAAMi0G,iBAAiBvJ,kBAC9B1qG,EAAM+xG,uBAEL,CACD,GAAI55G,GAAQ6H,EAAMi0G,iBAAiBrJ,UAAUnsG,QAAQ20F,EACrDpzF,GAAMq3G,UAAUl/G,EAChB,IAAIyyG,GAAY5qG,EAAMi0G,iBAAiBrJ,UAAUzyG,EAAQ,EACrDyyG,IAAaA,EAAUt1F,UAAuC,IAA3Bs1F,EAAUhzG,MAAMY,QACnDwH,EAAMq3G,UAAUl/G,EAAQ,OAZ5B6H,GAAM+xG,sBAiBlBiC,EAAev4G,UAAUq2G,aAAe,SAAU5xG,GAC9C,GAAIuQ,GAAWxQ,KAAKg0G,iBAAiBvyG,cAAc,OAC/Cg2G,EAAiB,iFACiBz3G,KAAKg0G,iBAAiB7+F,OAAO1b,KAAO,iBAC1E+W,GAAShW,UAAYwF,KAAKg0G,iBAAiBxjG,UAAYinG,CACvD,IAAIC,GAAmBlnG,EAAS5O,qBAAqB,KACjDukG,EAAgBnmG,KAAKg0G,iBAAiBvyG,cAAc,MACpDzB,MAAKg0G,iBAAiB7+F,OAAO6vF,UAC7BmB,EAAc3rG,UAAYwF,KAAKg0G,iBAAiB7N,eAAiBsR,EAErE,IAAIE,GAAwBxR,EAAcvkG,qBAAqB,IAC3D3B,GAAKwqC,QAAQp1B,WACbrV,KAAKumG,WAAatmG,EAAKwqC,SAE3BzqC,KAAK43G,aAAe33G,EAAKwqC,QAAQp1B,SAAWpV,EAAKwqC,QAAQ9yC,MAAM,GAC3DsI,EAAKwqC,QACTxqC,EAAKpH,KAAK2B,UAAY,GACtByF,EAAKpH,KAAKgN,SAAYpJ,KAAMwD,EAAKwqC,QAASotE,OAASC,qBAAuBC,uBAC1E,KAAS1/G,EAAI,EAAGA,EAAIq/G,EAAiBn/G,OAAQF,IACzC2H,KAAKg4G,gBAAgBN,EAAiBr/G,GAAI4H,EAAKpH,MAAM,EAEzD,KAAK,GAAIR,GAAI,EAAGA,EAAIs/G,EAAsBp/G,OAAQF,IAC9C2H,KAAKg4G,gBAAgBL,EAAsBt/G,GAAI4H,EAAKpH,MAAM,EAE9DoH,GAAKpH,KAAKgN,QAAQ2K,SAAWvQ,EAAKwqC,QAAQp1B,SAAW7E,EAASnL,kBAC1D8gG,EAAc9gG,kBAClBpF,EAAKpH,KAAKgN,QAAQ9L,KAAOkG,EAAKwqC,QAAQp1B,SAAW,WAAa,WAC9D,IAAIxb,GAAUoG,EAAKwqC,QAAQp1B,SAAW8wF,EAAgB31F,CACtDvQ,GAAKpH,KAAKuM,aAAavL,EAAQwL,kBAAmB,OAEtD0uG,EAAev4G,UAAUw8G,gBAAkB,SAAUn+G,EAAShB,EAAMwc,GAChErV,KAAKi4G,aAAap+G,EAAShB,EAAMwc,GACjCrV,KAAKk4G,cAAcr+G,EAAShB,EAAMwc,GAClCrV,KAAKm4G,kBAAkBt+G,EAAShB,EAAMwc,IAE1C0+F,EAAev4G,UAAU48G,SAAW,SAAUlgD,EAASmgD,GACnDA,EAAYxyG,QAAQpJ,KAAOy7D,CAC3B,IAAI6/C,GAAqBM,EAAYxyG,QAAQgyG,MAAME,mBAC/CD,EAAoBO,EAAYxyG,QAAQgyG,MAAMC,iBAClD,KAAKr6G,EAAkBy6D,EAAQ7iD,WAAa6iD,EAAQ7iD,UAAyC,cAA7BgjG,EAAYxyG,QAAQ9L,KAAsB,CAClGF,EAAUw+G,EAAYhzG,iBAC1BE,GAAO8yG,EAAYhzG,mBACnBgzG,EAAYjzG,aAAaizG,EAAYxyG,QAAQ2K,SAAU,MACvD6nG,EAAYxyG,QAAQ2K,SAAW3W,EAC/Bw+G,EAAYxyG,QAAQ9L,KAAO,WAC3Bg+G,EAAmB34G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo3G,SAASlgD,SAEjE,IAAKA,EAAQ7iD,UAAyC,aAA7BgjG,EAAYxyG,QAAQ9L,KAQxCm+D,EAAQ7iD,SAId0iG,EAAmB34G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo3G,SAASlgD,KAHlE4/C,EAAkB14G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo3G,SAASlgD,SATE,CACnE,GAAIr+D,GAAUw+G,EAAYhzG,iBAC1BE,GAAO8yG,EAAYhzG,mBACnBgzG,EAAYjzG,aAAaizG,EAAYxyG,QAAQ2K,SAAU,MACvD6nG,EAAYxyG,QAAQ2K,SAAW3W,EAC/Bw+G,EAAYxyG,QAAQ9L,KAAO,YAC3B+9G,EAAkB14G,QAAQ,SAAU4B,GAAQ,MAAOA,GAAKo3G,SAASlgD,OASzE67C,EAAev4G,UAAU88G,kBAAoB,SAAUD,EAAar3G,EAAMqU,GAClEA,EACAgjG,EAAYxyG,QAAQgyG,MAAME,mBAAmB/+G,KAAKgI,GAGlDq3G,EAAYxyG,QAAQgyG,MAAMC,kBAAkB9+G,KAAKgI,IAGzD+yG,EAAev4G,UAAU08G,cAAgB,SAAUr+G,EAASw+G,EAAahjG,GAKrE,IAJA,GAGIkjG,GAHAx4G,EAAQC,KACRglC,EAAQ,GAAI5qC,QAAO,eAAgB,KACnCo+G,KAEkB,OAAfD,GAAqB,CACxB,GAAIrnG,GAAQ8zB,EAAMzS,KAAK14B,EAAQ6J,UAC/B80G,GAAgBx/G,KAAKkY,GAEF,QADnBqnG,EAAarnG,IAETsnG,EAAgBpG,MAGpBoG,GAAmBA,EAAgBjgH,QACnCigH,EAAgBp5G,QAAQ,SAAUq5G,GAC9B,GAAIt9G,EAGAA,IAFoC,IAApCs9G,EAAe,GAAGj6G,QAAQ,OAAmD,IAApCi6G,EAAe,GAAGj6G,QAAQ,KAEnD,GAAIjD,UAAS,OAAQ,UAAYk9G,EAAe,GAAG9+G,QAAQ,MAAO,UAIlE,GAAI4B,UAAS,OAAQ,eAAsBk9G,EAAe,GAE9E,IAAIC,KAEAA,GAAQC,YAAcx9G,EADtBka,EACoCtV,EAAMwmG,WAGNxmG,EAAM63G,cAE9Cc,EAAQN,SAAW,SAAUp7G,GACzBnD,EAAQrB,UAAUkM,OAAOg0G,EAAQC,aACjC9+G,EAAQrB,UAAU+L,IAAIpJ,EAAc6B,IACpC07G,EAAQC,YAAcx9G,EAAc6B,IAExCy7G,EAAe,GAAGv7G,MAAM,KAAKkC,QAAQ,SAAUsE,GAC3C7J,EAAQrB,UAAUkM,OAAOhB,KAE7B7J,EAAQrB,UAAU+L,IAAIm0G,EAAQC,aAC9B54G,EAAMu4G,kBAAkBD,EAAaK,EAASrjG,MAI1D0+F,EAAev4G,UAAU28G,kBAAoB,SAAUt+G,EAASw+G,EAAahjG,GAGzE,IAAK,GAFDtV,GAAQC,KACR44G,KACKvgH,EAAI,EAAGA,EAAIwB,EAAQkK,WAAWxL,OAAQF,IAC3CugH,EAAe5/G,KAAKa,EAAQkK,WAAW1L,GAAGkb,WAEL,IAArCqlG,EAAep6G,QAAQ,UACvBo6G,EAAeruF,OAAOquF,EAAep6G,QAAQ,SAAU,GAE3Do6G,EAAex5G,QAAQ,SAAUy5G,GAC7B,GAGIC,GACAC,EAJAC,EAAgB,GAAI5+G,QAAO,eAAgB,KAAKm4B,KAAKsmF,OACrDI,EAAiB,GAAI7+G,QAAO,eAAgB,KAAKm4B,KAAK14B,EAAQ4M,aAAaoyG,OAI/E,IAAIG,EAAczgH,QAAU0gH,EAAe1gH,OAAQ,CAC3CygH,EAAc,KAEdF,EAAwB,GAAIv9G,UAAS,OAAQ,eAAsBy9G,EAAc,KAEjFC,EAAe,KAGXF,GAFoC,IAApCE,EAAe,GAAGz6G,QAAQ,OAAmD,IAApCy6G,EAAe,GAAGz6G,QAAQ,KAE1C,GAAIjD,UAAS,OAAQ,UAAY09G,EAAe,GAAGt/G,QAAQ,MAAO,UAIlE,GAAI4B,UAAS,OAAQ,eAAsB09G,EAAe,IAG3F,IAAIC,KAEAA,GAAUP,YADVtjG,OAC8Cjc,KAArB4/G,EAAc,OAAmB5/G,GAAY0/G,EAAsB/4G,EAAMwmG,gBACxEntG,KAAtB6/G,EAAe,OAAmB7/G,GAAY2/G,EAAuBh5G,EAAMwmG,kBAGjCntG,KAArB4/G,EAAc,OAAmB5/G,GAAY0/G,EAAsB/4G,EAAM63G,kBACxEx+G,KAAtB6/G,EAAe,OAAmB7/G,GAAY2/G,EAAuBh5G,EAAM63G,eAEnFsB,EAAUC,aAAwC//G,KAA7B8/G,EAAUP,YAAY,GACvCE,EAAgBK,EAAUP,YAAY,GAC1CO,EAAUd,SAAW,SAAUp7G,GAC3B,GAAI27G,OAA2Cv/G,KAA7B8/G,EAAUP,YAAY,GACpC9+G,EAAQ4M,aAAayyG,EAAUC,UAAYJ,EAAuB/7G,EACtEnD,GAAQyS,gBAAgB4sG,EAAUC,UAClCD,EAAUC,aAAwC//G,KAA7B8/G,EAAUP,YAAY,GAAmBO,EAAUC,SAAWL,EAAsB97G,GACzGnD,EAAQgK,aAAaq1G,EAAUC,SAAUR,GACzCO,EAAUP,iBAA4Cv/G,KAA7B8/G,EAAUP,YAAY,OAAmBv/G,GAAY0/G,EAAsB97G,OACnE5D,KAA7B8/G,EAAUP,YAAY,OAAmBv/G,GAAY2/G,EAAuB/7G,IAEpF,IAAIo8G,OAA8ChgH,KAA7B8/G,EAAUP,YAAY,GAAmB9+G,EAAQ4M,aAAaoyG,GAC/EK,EAAUP,YAAY,EAC1B9+G,GAAQyS,gBAAgBusG,GACxBh/G,EAAQgK,aAAaq1G,EAAUC,SAAUC,GACzCr5G,EAAMu4G,kBAAkBD,EAAaa,EAAW7jG,OAI5D0+F,EAAev4G,UAAUy8G,aAAe,SAAUp+G,EAASw+G,EAAahjG,GAKpE,IAJA,GAGIkjG,GAHAx4G,EAAQC,KACRglC,EAAQ,GAAI5qC,QAAO,eAAgB,KACnCo+G,KAEkB,OAAfD,GAAqB,CACxB,GAAIrnG,GAAQ8zB,EAAMzS,KAAK14B,EAAQf,UAC/B0/G,GAAgBx/G,KAAKkY,GAEF,QADnBqnG,EAAarnG,IAETsnG,EAAgBpG,MAGxB,GAAIiH,GAAwB56G,MAAMjD,UAAU03B,KAAKtyB,KAAK/G,EAAQiiB,SAAU,SAAUjiB,GAC9E,QAAI,GAAIO,QAAO,eAAgB,KAAKm4B,KAAK14B,EAAQf,YAOjD0/G,IAAmBA,EAAgBjgH,SAAW8gH,GAC9Cb,EAAgBp5G,QAAQ,SAAUk6G,GAC9B,GACIC,GADAb,IAIAa,IAFuC,IAAvCD,EAAkB,GAAG96G,QAAQ,OAAsD,IAAvC86G,EAAkB,GAAG96G,QAAQ,KAE1D,GAAIjD,UAAS,OAAQ,UAAY+9G,EAAkB,GAAG3/G,QAAQ,MAAO,UAIrE,GAAI4B,UAAS,OAAQ,eAAsB+9G,EAAkB,IAG5EZ,EAAQC,YAAcY,EADtBlkG,EACmCtV,EAAMwmG,WAGNxmG,EAAM63G,cAE7Cc,EAAQN,SAAW,SAAUp7G,GACzBnD,EAAQf,UAAYe,EAAQf,UAAUa,QAAQ++G,EAAQC,YAAaY,EAAav8G,IAChF07G,EAAQC,YAAcY,EAAav8G,IAEvCnD,EAAQf,UAAYe,EAAQf,UAAUa,QAAQ2/G,EAAkB,GAAIZ,EAAQC,aAC5E54G,EAAMu4G,kBAAkBD,EAAaK,EAASrjG,MAI1D0+F,EAAev4G,UAAU6uG,yBAA2B,WAChDrqG,KAAKu0G,iBAAgB,GACjBv0G,KAAKg0G,iBAAiBvJ,kBACtBllG,EAAOvF,KAAKg0G,iBAAiBvJ,kBAEjCzqG,KAAKg0G,iBAAiB//F,YACtBjU,KAAKg0G,iBAAiBnD,UAAY7wG,KAAKg0G,iBAAiB7gB,WACxDnzF,KAAKg0G,iBAAiBtC,cAE1BqC,EAAev4G,UAAU06G,SAAW,SAAUr8G,EAAS3B,EAAOshH,GAC1D,GAAIpB,GAAWp4G,KAAK4xG,eAAiB5xG,KAAKy5G,WAAaz5G,KAAKo4G,QAC5D,IAAIp4G,KAAKg0G,iBAAiBxjG,UAAYxQ,KAAKg0G,iBAAiB7N,cAAe,CACvE,GAAIwE,GAAY3qG,KAAKg0G,iBAAiBrJ,UAAUzyG,EAChD2B,GAAQy8G,QAAQ52G,IAAMirG,EAAU3qG,KAAKg0G,iBAAiB7+F,OAAOxR,IACzDgnG,EAAU3qG,KAAKg0G,iBAAiB7+F,OAAOxR,IAAIhD,WAAa6/C,GAAS2iD,aACrEiV,EAASzN,EAAW9wG,OAGpBmG,MAAKo2G,gBAAgBv8G,EAAS3B,EAElC8H,MAAKw2G,wBAAwB38G,EAAS3B,GAClCshH,GACAx5G,KAAKg0G,iBAAiBjO,UAAU3gG,aAAavL,EAAS2/G,IAG9DzF,EAAev4G,UAAUi+G,WAAa,SAAUvhD,EAASmgD,GACrDA,EAAYxyG,QAAQ6zG,UAAYxhD,GAEpC67C,EAAev4G,UAAU0L,cAAgB,WACrC,MAAO,kBAEX6sG,EAAev4G,UAAUqY,QAAU,WAC/B7T,KAAKu0G,iBAAgB,IAElBR,4JC91BPj8E,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAO5DixE,GAA+B,SAAU5wE,GAEzC,QAAS4wE,KACL,MAAkB,QAAX5wE,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBA83B,IAAU6xE,EAAe5wE,GAIzBT,IACI1vB,MACD+gG,EAAcnuG,UAAW,WAAQ,IACpC88B,IACI1vB,MACD+gG,EAAcnuG,UAAW,YAAS,IACrC88B,IACI1vB,MACD+gG,EAAcnuG,UAAW,cAAW,IACvC88B,IACI1vB,MACD+gG,EAAcnuG,UAAW,cAAW,IACvC88B,IACI1vB,MACD+gG,EAAcnuG,UAAW,qBAAkB,IACvCmuG,GACThnE,IAESg3E,IACPrR,KAAM,iBACNsR,IAAK,QACLl/G,QAAS,YACTu/F,SAAU,WACVsO,MAAO,UACPsR,OAAQ,WACRC,UAAW,eACXz3G,MAAO,eACPw/F,GAAIkY,GAAgBlY,GACpBn+D,MAAOq2E,GAAgBr2E,MACvB+6D,SAAUsb,GAAgBtb,SAC1Bub,SAAU,cAKVC,GAA8B,SAAUlhF,GAKxC,QAASkhF,GAAa3lG,EAASza,GAC3B,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA4zBlD,MAj0BA83B,IAAUmiF,EAAclhF,GAQxBkhF,EAAaz+G,UAAU0+G,cAAgB,SAAUhvG,EAAM6vB,EAASC,GAC5D,GAAIm/E,GAAc,GAAI57G,QAClB67G,EAAc,GAAI77G,QAElBoU,EAAW,GAAIpX,UAAS,OAAQ,cACpC4+G,GAAYxnG,EAASzH,IAAS6vB,EAAQpoB,EAASzH,IAC/CkvG,EAAYznG,EAASzH,IAAS8vB,EAAQroB,EAASzH,GAC/C,IAAIzO,GAAO,GAAI8B,OAGf,OAFA9B,GAAK09G,YAAcA,EACnB19G,EAAK29G,YAAcA,EACZ39G,GAEXw9G,EAAaz+G,UAAU6+G,eAAiB,SAAU5gH,EAAM5B,EAAY68D,GAChE,GAAI13D,GAAQ,IASZ,OARKS,GAAkBuC,KAAKs6G,YAEpBt9G,EADAnF,EACQmI,KAAKu6G,eAAe9gH,GAAM,EAAMi7D,GAGhC10D,KAAKu6G,eAAe9gH,GAAM,EAAOi7D,IAG1C13D,GAGXi9G,EAAaz+G,UAAU++G,eAAiB,SAAU9gH,EAAM5B,EAAY68D,EAAc8lD,GAC9E,GAAIz6G,GAAQC,KACRhD,EAAQ,IACRw9G,KACAx9G,EAAQvD,EAEZ,IAAI05F,GAAanzF,KAAKs6G,SAClBnlG,EAASnV,KAAKmV,OACdpb,EAAOiG,KAAKy6G,WAAWtnB,GAAYyP,MACvC,IAAa,WAAT7oG,GAA8B,WAATA,GAA8B,YAATA,EAC1C,IAAK,GAAIsE,GAAK,EAAGq8G,EAAevnB,EAAY90F,EAAKq8G,EAAaniH,OAAQ8F,IAAM,CACxE,GAAIxF,GAAO6hH,EAAar8G,EACnBZ,GAAkB5E,KACf67D,EACA13D,EAAQgD,KAAK26G,eAAe5iH,OAAOc,GAAOY,EAAM5B,GAG5CA,EACImI,KAAK46G,gBAAgB7iH,OAAOc,GAAOY,KACnCuD,EAAQgD,KAAK66G,aAAa9iH,OAAOc,GAAOY,EAAM5B,IAI9CmI,KAAK86G,mBAAmB/iH,OAAOc,GAAOY,KACtCuD,EAAQgD,KAAK66G,aAAa9iH,OAAOc,GAAOY,EAAM5B,EAAY2iH,SAQ1E3iH,GACAs7F,EAAW19D,OAAO,SAAU58B,GACpBkH,EAAM66G,gBAAgB/9G,EAASsY,EAAO1b,KAAMZ,GAAM8H,WAAYlH,KAC9DuD,EAAQH,EAASsY,EAAOnY,MAAOnE,MAKnC2hH,EACArnB,EAAW19D,OAAO,SAAU58B,GACxB,GAAIkiH,GAAYl+G,EAASsY,EAAOnY,MAAOnE,EAClC4E,GAAkBs9G,IAAcA,EAAUp6G,aAAe3D,EAAM2D,aAChE3D,EAAQH,EAASsY,EAAO1b,KAAMZ,MAKtCs6F,EAAW19D,OAAO,SAAU58B,GACpBkH,EAAM+6G,mBAAmBj+G,EAASsY,EAAO1b,KAAMZ,GAAOY,KACtDuD,EAAQH,EAASsY,EAAOnY,MAAOnE,KAMnD,OAAOmE,IAEXi9G,EAAaz+G,UAAUm/G,eAAiB,SAAU9hH,EAAMY,EAAM5B,GAC1D,GAAIqd,GAAW0+C,GAAS6F,iBAAiB1hE,OAAOc,IAC5CmiH,EAAWpnD,GAAS6F,iBAAiBhgE,EAAKkH,YAC1C3D,EAAQ,IAWZ,OAVInF,GACImI,KAAK46G,gBAAgB1lG,EAAU8lG,KAC/Bh+G,EAAQgD,KAAK66G,aAAa9iH,OAAOc,GAAOY,EAAM5B,IAI9CmI,KAAK86G,mBAAmB/iH,OAAOc,GAAOY,KACtCuD,EAAQgD,KAAK66G,aAAa9iH,OAAOc,GAAOY,EAAM5B,IAG/CmF,GAEXi9G,EAAaz+G,UAAUo/G,gBAAkB,SAAU/hH,EAAMY,GACrD,MAAO1B,QAAOc,GAAMV,gBAAkBsB,EAAKkH,WAAWxI,eAE1D8hH,EAAaz+G,UAAUs/G,mBAAqB,SAAUjiH,EAAMY,GACxD,MAAO1B,QAAOc,KAAUY,EAAKkH,YAEjCs5G,EAAaz+G,UAAUq/G,aAAe,SAAU3lG,EAAU+lG,EAAWpjH,EAAY2iH,GAC7E,GACIrnB,GAAanzF,KAAKs6G,SAClBvgH,EAAOiG,KAAKy6G,WAAWtnB,GAAYyP,MAYvC,OAXI4X,GACQtlG,EAASvU,WAGb9I,EACiB,WAATkC,EAAoBhC,OAAOmd,GAAYlV,KAAKk7G,kBAAkBnjH,OAAOmd,IAG5D,WAATnb,EAAoBkhH,EAAYj7G,KAAKk7G,kBAAkBD,IAK3EhB,EAAaz+G,UAAU2/G,WAAa,SAAUC,GAC1C,GAA+B,qBAA3Bp7G,KAAKq7G,mBAA2E,uBAA/Br7G,KAAKs7G,sBAAgD,CACtG,GAAI9qG,GAAW4qG,EAAgBp7G,KAAKs7G,sBAAwBt7G,KAAKq7G,kBAC7DrV,MAAiB,EACrBhmG,MAAKu2C,KAAK/7C,UAAY,EAEtB,KAAK,GAAI6D,GAAK,EAAG2E,GADjBgjG,EAAiBz1F,GAAQC,QACiBnS,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKu2C,KAAKx0C,YAAYlJ,QAGzB,CACD,GAAI0iH,IAAeF,kBAAmB,mBAAoBC,sBAAuB,qBACjFt7G,MAAKw7G,KAAO,GAAI1vD,IAAK,YAAayvD,EAAYv7G,KAAKgP,QACnDhP,KAAKu2C,KAAK/7C,UAAY4gH,EAClBp7G,KAAKw7G,KAAKjvD,YAAY,yBAA2BvsD,KAAKw7G,KAAKjvD,YAAY,uBAGnF0tD,EAAaz+G,UAAUigH,eAAiB,SAAUz+G,GAG9C,MADOgD,MAAKu6G,eAAev9G,GAAO,GAAO,GAAO,IAGpDi9G,EAAaz+G,UAAU0/G,kBAAoB,SAAUl+G,GACjD,GAAIgD,KAAKs6G,UAAYt6G,KAAKs6G,SAAS/hH,OAAQ,CACvC,GAAIM,GAAOmH,KAAKy6G,WAAWz6G,KAAKs6G,SAChC,IAAsF,gBAA3Ez9G,GAAUmD,KAAKmV,OAAOnY,MAAQgD,KAAKmV,OAAOnY,MAAQ,QAAUnE,EAAKA,OACrD,WAAhBA,EAAK+pG,OACR,MAAO5oE,UAASh9B,EAAO,GAE3B,IAAsF,iBAA3EH,GAAUmD,KAAKmV,OAAOnY,MAAQgD,KAAKmV,OAAOnY,MAAQ,QAAUnE,EAAKA,OACrD,YAAhBA,EAAK+pG,OACR,MAAkB,SAAV5lG,EAGhB,MAAOA,IAKXi9G,EAAaz+G,UAAUkgH,aAAe,WAC9B17G,KAAKu2C,MACLv2C,KAAK27G,kBAAkB3iH,KAAKgH,KAAKu2C,MAErCv2C,KAAKuP,UAAYvL,EAAShE,KAAK27G,kBAAmBhC,GAAoBC,KAClEp1G,EAAYxE,KAAK27G,kBAAmBhC,GAAoBC,MAMhEK,EAAaz+G,UAAU+lD,WAAa,WAEhC,GADAvhD,KAAK47G,WAAY,EACY,OAAzB57G,KAAKnG,QAAQyJ,QAAkB,CAC/B,GAAIu4G,GAAcr7D,GAAS6kD,sBAAsBrlG,KAAKnG,QACtDmG,MAAK2H,eAAgBwN,QAAU1b,KAAM,OAAQuD,MAAO,UAAY,GAChEgD,KAAK87G,UAAUD,EAAa77G,KAAKmV,YAEH,WAAzBnV,KAAKnG,QAAQyJ,SACDtD,KAAKmzF,qBAAsB10F,OAASuB,KAAKmzF,WAAW56F,OAAS,GACvEkF,EAAkBuC,KAAKmzF,cAE1BnzF,KAAK+7G,sBAIT/7G,KAAKg8G,YAAYh8G,KAAKmzF,WAAYnzF,KAAKmV,OAAQnV,KAAKlG,QAO5DmgH,EAAaz+G,UAAU6jD,eAAiB,WACpC,MAAOr/C,MAAK8/C,kBAMhBm6D,EAAaz+G,UAAUygH,WAAa,WAC5Bj8G,KAAKinB,QACLjnB,KAAKnG,QAAQgK,aAAa,gBAAiB,SAG3C7D,KAAKnG,QAAQgK,aAAa,gBAAiB,SAInDo2G,EAAaz+G,UAAUugH,oBAAsB,WACzC,GAAIliH,GAAUmG,KAAKnG,QACfsb,GAAWnY,MAAO,QAASvD,KAAM,QACjCoiH,KACAn4E,EAAQ7pC,EAAQe,iBAAiB,mBACjC+rC,EAAS9sC,EAAQe,iBAAiB,gBAEtC,IADAoF,KAAKk8G,kBAAkBL,EAAal1E,EAAQxxB,GACxCuuB,EAAMnrC,OAAQ,CACd,IAAK,GAAIF,GAAI,EAAGA,EAAIqrC,EAAMnrC,OAAQF,IAAK,CACnC,GAAIQ,GAAO6qC,EAAMrrC,GACb8jH,IACJA,GAAYhnG,EAAO1b,MAAQZ,EAAK6b,MAChCynG,EAAY9mG,UAAW,CACvB,IAAIvU,GAAQjI,EAAK+B,iBAAiB,SAClCihH,GAAY7iH,KAAKmjH,GACjBn8G,KAAKk8G,kBAAkBL,EAAa/6G,EAAOqU,GAEnCtb,EAAQe,iBAAiB,iBAEzCoF,KAAKmV,OAAO1b,KAAO0b,EAAO1b,KAC1BuG,KAAKmV,OAAOnY,MAAQmY,EAAOnY,MAC3BgD,KAAK87G,UAAUD,EAAa1mG,IAEhC8kG,EAAaz+G,UAAU0gH,kBAAoB,SAAUvkH,EAAO2c,EAASa,GACjE,IAAK,GAAI9W,GAAK,EAAG4vC,EAAY35B,EAASjW,EAAK4vC,EAAU11C,OAAQ8F,IAAM,CAC/D,GAAIsoC,GAASsH,EAAU5vC,GACnB64D,IACJA,GAAK/hD,EAAO1b,MAAQktC,EAAO7tC,UAC3Bo+D,EAAK/hD,EAAOnY,OAAS2pC,EAAOlgC,aAAa0O,EAAOnY,OAAS2pC,EAAOlgC,aAAa0O,EAAOnY,OAAS2pC,EAAO7tC,UACpGnB,EAAMqB,KAAKk+D,KAOnB+iD,EAAaz+G,UAAUyY,UAAY,WAE/BjU,KAAKo8G,aAAe,EACpBp8G,KAAK27G,qBACL37G,KAAKq8G,aAAc,EACnBr8G,KAAKs8G,eAAgB,GAKzBrC,EAAaz+G,UAAUwgH,YAAc,SAAU7oB,EAAYh+E,EAAQrb,GAC/D,GAAIiG,GAAQC,IACZmV,GAASA,GAAkBnV,KAAKmV,MAChC,IAAI4wF,EACJ/lG,MAAKu8G,UAAW,CAChB,IAAIluG,IAAc8hB,QAAQ,EAAO1zB,KAAM02F,EAAYr5F,MAAOA,EAE1D,IADAkG,KAAKyoB,QAAQ,cAAepa,IACxBA,EAAU8hB,OAId,GADAnwB,KAAKikB,cACDkvE,YAAsB93B,IAAa,CAEnC,GADAr7D,KAAKq8G,aAAc,EACfr8G,KAAKs8G,cAEL,WADAt8G,MAAKw8G,iBAAiBrnG,EAG1B9G,GAAU5R,KAAKk3D,aAAa3zD,KAAKoxG,SAAS/iG,EAAUvU,QAAQoiG,KAAK,SAAU96F,GAEvE,GADArB,EAAM0oB,QAAQ,iBAAkBrnB,IAC5BA,EAAE+uB,OAAN,CAGA,GAAIx3B,GAAYyI,EAAEpC,MACO,KAArBrG,EAAUJ,SACVwH,EAAMu8G,eAAgB,GAE1BvW,EAAYhmG,EAAM08G,YAAY9jH,EAAWwc,GACzCpV,EAAM28G,iBAAiB3W,EAAWptG,EAAWyI,GAC7CrB,EAAMs8G,aAAc,EACpBt8G,EAAMykB,cACNzkB,EAAM0oB,QAAQ,aAAe9wB,MAAOgB,EAAWyI,EAAGA,OACnDs8F,MAAM,SAAUt8F,GACfrB,EAAMs8G,aAAc,EACpBt8G,EAAM48G,gBAAgBv7G,GACtBrB,EAAMykB,oBAGT,CACD,GAAIgvC,GAAc,GAAI6H,IAAYhtD,EAAU5R,MACxC9D,MAAY,GAEZikH,GAAkBzsF,QAAQ,EAAOnxB,OADrCrG,EAAaqH,KAAKoxG,SAAS/iG,EAAUvU,OAAQ+5D,aAAaL,GAG1D,IADAxzD,KAAKyoB,QAAQ,iBAAkBm0F,GAC3BA,EAAczsF,OACd,MAEJ41E,GAAY/lG,KAAKy8G,YAAYG,EAAc59G,OAAQmW,GACnDnV,KAAK08G,iBAAiB3W,EAAW6W,EAAc59G,QAC/CgB,KAAKwkB,cACLxkB,KAAKyoB,QAAQ,aAAe9wB,MAAOilH,EAAc59G,WAGzDi7G,EAAaz+G,UAAUghH,iBAAmB,SAAUrnG,GAChD,GAAIxc,KACJqH,MAAK08G,iBAAiB18G,KAAKy8G,YAAY9jH,EAAWwc,GAASxc,GAC3DqH,KAAKq8G,aAAc,EACnBr8G,KAAKwkB,eAETy1F,EAAaz+G,UAAUyoB,YAAc,aAGrCg2F,EAAaz+G,UAAUgpB,YAAc,aAGrCy1F,EAAaz+G,UAAUmhH,gBAAkB,SAAUv7G,GAC/CpB,KAAK2kG,iBACL3kG,KAAKyoB,QAAQ,gBAAiBrnB,GAC9BpB,KAAKm7G,YAAW,GAChBn3G,GAAUhE,KAAKu2C,MAAOojE,GAAoBE,SAE9CI,EAAaz+G,UAAUkhH,iBAAmB,SAAU3W,EAAWxvD,EAAMn1C,GACjEpB,KAAKs6G,SAAW/jE,EAChBv2C,KAAKu2C,KAAK/7C,UAAY,GACtBwF,KAAKu2C,KAAKx0C,YAAYgkG,GACtB/lG,KAAK2kG,cAAgB3kG,KAAKu2C,KAAK37C,iBAAiB,IAAM++G,GAAoB9X,IAC1E7hG,KAAK+lG,UAAY/lG,KAAKu2C,KAAKzzC,cAAc,MACzC9C,KAAK68G,WAAW78G,KAAKu2C,KAAMA,EAAMv2C,KAAK47G,YAE1C3B,EAAaz+G,UAAUqhH,WAAa,SAAUxE,EAAa9hE,EAAMqlE,GAC7D,GAAIkB,GAAYzE,EAAYv1G,cAAc,IAAM62G,GAAoB9X,IAChEkb,EAAe1E,EAAYv1G,cAAc,IAAM62G,GAAoB1f,SACnE6iB,KAAcC,GACd/4G,GAAU84G,GAAYnD,GAAoBt3G,OAE1Ck0C,EAAKh+C,QAAU,GACfyH,KAAKm7G,aACLn3G,GAAUq0G,GAAcsB,GAAoBE,SAG5CxB,EAAY7/G,UAAUkM,OAAOi1G,GAAoBE,QAEjD75G,KAAKmmG,eACLnmG,KAAKkmG,oBAAoBmS,IAMjC4B,EAAaz+G,UAAU41G,SAAW,SAAUt3G,GACxC,MAAOA,KAAgBkG,KAAKlG,MAAQkG,KAAKlG,MAAQ,GAAI24D,MAKzDwnD,EAAaz+G,UAAU0qG,oBAAsB,SAAU8W,GACnD,GAA4B,OAAxBh9G,KAAKmV,OAAO6vF,SAAoBhlG,KAAKmzF,YAAcnzF,KAAKnG,QAAQiJ,cAAc,IAAM62G,GAAoBj2E,OACxG,CAAA,GAAIyvD,GAAanzF,KAAKmzF,WAClBiT,EAAc4W,EAAQpiH,iBAAiB,IAAM++G,GAAoBj2E,MACnD8c,IAAS0lD,oBAAoBlmG,KAAKmmG,cAAehT,EAAYnzF,KAAKmV,OAAO5R,WAAY6iG,KAM/G6T,EAAaz+G,UAAUyhH,gBAAkB,SAAU9pB,EAAYh+E,GACvDg+E,GAAch+E,EAAO6vF,SAAWhlG,KAAKnG,QAAQiJ,cAAc,aACvDqS,EAAO6vF,UACgB,SAAnBhlG,KAAK6kG,YACL1R,EAAanzF,KAAKk9G,oBAAoB/pB,IAE1CA,EAAa3yC,GAASokD,gBAAgBzR,EAAYh+E,EAAO5R,WAAYvD,KAAK6kG,YAE9E7gG,GAAUhE,KAAKu2C,MAAOojE,GAAoBK,WAG1C7mB,EAAanzF,KAAKk9G,oBAAoB/pB,EAE1C,IAAI7+E,GAAUtU,KAAKm9G,WAAWhqB,EAAYh+E,EAC1C,OAAOqrC,IAAS6hD,WAAWriG,KAAKyB,cAAe0xF,EAAY7+E,GAAS,IAGxE2lG,EAAaz+G,UAAU2hH,WAAa,SAAUhqB,EAAYh+E,GACtD,GAAIypF,IAAUnhG,EAAkB0X,EAAOypF,SACnCwe,EAAe3/G,EAAkB0X,EAAO5R,YACpB4R,EAApBA,EAAO5R,UAKX,OAAO5E,MAJwB,OAAhBwW,EAAO1b,MAAkC,OAAjB0b,EAAOnY,OAC1CmY,OAAQioG,EACRvZ,SAAUjF,EAAS6D,gBAAkBwE,cAAe,kBAClD9xF,QAAUnY,MAAO,SACImY,GAAQ,IAGvC8kG,EAAaz+G,UAAU6hH,kBAAoB,SAAUj8G,GAC7C3D,EAAkBuC,KAAKs9G,sBACvBt9G,KAAKs9G,mBAAqBt9G,KAAKyB,cAAc,OAASiC,UAAWi2G,GAAoBG,YAChF95G,KAAKu2C,KAAKzzC,cAAc,MAAMtK,UAAUC,SAASkhH,GAAoBj2E,SACtE1jC,KAAKs9G,mBAAmB14G,MAAM6hD,QAAU,QAE5C1hD,GAAS/E,KAAKs9G,oBAAqBt9G,KAAKu2C,MACxCv2C,KAAKu9G,kBAEJ9/G,EAAkBuC,KAAKs9G,qBAAgE,MAAzCt9G,KAAKs9G,mBAAmB14G,MAAM44G,QAC7Ex9G,KAAKu9G,iBAETv9G,KAAKy9G,WAAWr8G,IAEpB64G,EAAaz+G,UAAUiiH,WAAa,SAAUr8G,GAK1C,IAAK,GAJDyH,GAASzH,EAAEyH,OACX60G,EAAW1jF,SAAS/rB,iBAAiBjO,KAAK2kG,cAAc,GAAI,MAAMz2F,iBAAiB,UAAW,IAC9FyvG,EAAWvwG,KAAKgoG,MAAMvsG,EAAOqE,UAAYwwG,GACzC/Y,EAAgB3kG,KAAK+lG,UAAUnrG,iBAAiB,MAC3CvC,EAAIslH,EAAUtlH,GAAK,EAAGA,IAAK,CAChC,IAAKoF,EAAkBknG,EAActsG,KAAOssG,EAActsG,GAAGG,UAAUC,SAASkhH,GAAoBj2E,OAAQ,CACxG,GAAIk6E,GAAYjZ,EAActsG,EAC9B2H,MAAKs9G,mBAAmB9iH,UAAYojH,EAAUpjH,UAC9CwF,KAAKs9G,mBAAmB14G,MAAM6I,IAAMrM,EAAEyH,OAAOqE,UAAY,KACzDlN,KAAKs9G,mBAAmB14G,MAAM6hD,QAAU,OACxC,OAGAzmD,KAAKs9G,mBAAmB14G,MAAM6hD,QAAU,OACxCzmD,KAAKs9G,mBAAmB14G,MAAM6I,IAAM,SAOhDwsG,EAAaz+G,UAAUihH,YAAc,SAAUnC,EAAUnlG,GACrD,GAAI4wF,EACJ,IAAI/lG,KAAK69G,cAAgBvD,EAAU,CAC/B,GAAInnB,GAAamnB,CACbnnB,IAAch+E,EAAO6vF,SACE,SAAnBhlG,KAAK6kG,YACL1R,EAAanzF,KAAKk9G,oBAAoB/pB,IAE1CA,EAAa3yC,GAASokD,gBAAgBzR,EAAYh+E,EAAO5R,WAAYvD,KAAK6kG,YAG1E1R,EAAanzF,KAAKk9G,oBAAoB/pB,GAE1C4S,EAAY/lG,KAAK89G,iBAAiB3qB,EAAYh+E,OAG9C4wF,GAAY/lG,KAAKi9G,gBAAgB3C,EAAUnlG,EAE/C,OAAO4wF,IAGXkU,EAAaz+G,UAAUsiH,iBAAmB,SAAU3qB,EAAYh+E,GAC5D,GAAIwxB,GAAS3mC,KAAKm9G,WAAWhqB,EAAYh+E,EACzC,OAAOqrC,IAASslD,sBAAsB9lG,KAAKyB,cAAezB,KAAK69G,aAAc1qB,EAAYh+E,EAAO5R,WAAYojC,IAEhHszE,EAAaz+G,UAAUi/G,WAAa,SAAU9iH,GAE1C,IAAK,GADDkB,IAAS+pG,OAAQ,KAAM/pG,KAAM,MACxBR,EAAI,GAAKoF,EAAkB9F,IAAUU,EAAIV,EAAMY,OAASF,IAC7D,IAAKoF,EAAkB9F,EAAMU,IACzB,MAAOQ,IAAS+pG,aAAejrG,GAAMU,GAAIQ,KAAMlB,EAAMU,GAG7D,OAAOQ,IAEXohH,EAAaz+G,UAAU+hH,eAAiB,WACpCv9G,KAAKu2C,KAAKvgC,cAAcpR,MAAM6hD,QAAU,OACxC,IAAIs3D,GAAU/9G,KAAK2kG,cAAc,GAAG7/F,WACpC9E,MAAKs9G,mBAAmB14G,MAAM8S,MAAQqmG,EAAQp9G,WAAa,KAC3D+F,EAAkB1G,KAAKs9G,oBAAsBE,OAAQ,IACrD,IAAIQ,GAAUh+G,KAAK+lG,UAAUjjG,cAAc,IAAM62G,GAAoBj2E,MACrE1jC,MAAKs9G,mBAAmB9iH,UAAYwjH,EAAQxjH,WAEhDy/G,EAAaz+G,UAAU0hH,oBAAsB,SAAU/pB,GACnD,GAAIA,GAAiC,SAAnBnzF,KAAK6kG,UAAsB,CACzC,GAAIoZ,GAAYj+G,KAAKmV,OAAO1b,KAAOuG,KAAKmV,OAAO1b,KAAO,MACtD05F,GAAa3yC,GAASykD,cAAc9R,EAAY3yC,GAAS0kD,WAAWllG,KAAK6kG,UAAWoZ,IAExF,MAAO9qB,IAKX8mB,EAAaz+G,UAAU0iH,gBAAkB,SAAUlhH,GAG/C,IAAK,GAFD9E,GACAS,EAAYqH,KAAKm+G,WACZ9lH,EAAI,EAAGA,EAAIM,EAAUJ,OAAQF,IAClC,IAAKoF,EAAkBT,IAAUrE,EAAUN,GAAGoO,aAAa,gBAAkBzJ,EAAM2D,WAAY,CAC3FzI,EAAQG,CACR,OAGR,MAAOH,IAMX+hH,EAAaz+G,UAAUwZ,cAAgB,SAAUnb,EAASE,GACtD,GAAIynD,GAAMzmD,SAAS+Z,YAAY,aAC/B0sC,GAAIzsC,UAAUhb,GAAM,GAAO,GAC3BF,EAAQmb,cAAcwsC,IAK1By4D,EAAaz+G,UAAU4iH,UAAY,WAC/B,GAAIjpG,GAASnV,KAAKmV,MACdnV,MAAKmV,OAAOnY,QAAUgD,KAAKmV,OAAO1b,KAClCuG,KAAKmV,OAAO1b,KAAOuG,KAAKmV,OAAOnY,OAEzBmY,EAAOnY,OAASmY,EAAO1b,KAC7BuG,KAAKmV,OAAOnY,MAAQgD,KAAKmV,OAAO1b,KAE1BuG,KAAKmV,OAAOnY,OAAUgD,KAAKmV,OAAO1b,OACxCuG,KAAKmV,OAAOnY,MAAQgD,KAAKmV,OAAO1b,KAAO,SAM/CwgH,EAAaz+G,UAAUsgH,UAAY,SAAU3oB,EAAYh+E,EAAQrb,GACzDkG,KAAKu2C,MACLv2C,KAAKg8G,YAAY7oB,EAAYh+E,EAAQrb,IAG7CmgH,EAAaz+G,UAAU6iH,gBAAkB,aAGzCpE,EAAaz+G,UAAUk2G,WAAa,WAEhC1xG,KAAK4+C,UAETq7D,EAAaz+G,UAAU8iH,iBAAmB,SAAUn0G,GAChDnK,KAAK87G,UAAU97G,KAAKmzF,aAExB8mB,EAAaz+G,UAAU+iH,iBAAmB,SAAUp0G,EAAO4wB,GACvD/6B,KAAKs8G,eAAgB,CAErB,KAAK,GADDkC,MACKh5F,EAAI,EAAGrb,EAAM5R,OAASitB,EAAGA,IAC1BuV,EAAQ5wB,EAAMqb,KAAoB,WAAbrb,EAAMqb,GAC3BxlB,KAAKo+G,YAEArjF,EAAQ5wB,EAAMqb,MACnBg5F,EAAWr0G,EAAMqb,IAAMuV,EAAQ5wB,EAAMqb,IAGzCjnB,QAAOjB,KAAKkhH,GAAYjmH,OAAS,GACjCyH,KAAKs+G,iBAAiBE,IAO9BvE,EAAaz+G,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC7B,iBAAzBh7B,KAAKkH,iBACLlH,KAAKu+G,kBAAkB,SAAU,QAAS,cAAexjF,GAE7D/6B,KAAKu+G,kBAAkB,YAAa,gBAAiBxjF,EACrD,KAAK,GAAI18B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACL,IAAK,YACL,IAAK,aACL,IAAK,eACD,KACJ,KAAK,YACD2B,KAAK07G,cACL,MACJ,KAAK,UACD17G,KAAKi8G,YACL,MACJ,KAAK,gBAED,GADAj8G,KAAKkmG,oBAAoBlmG,KAAKu2C,MAC1Bv2C,KAAK+lG,WAAa/lG,KAAKs9G,mBAAoB,CAC3C,GAAIU,GAAUh+G,KAAK+lG,UAAUjjG,cAAc,IAAM62G,GAAoBj2E,MACrE1jC,MAAKs9G,mBAAmB9iH,UAAYwjH,EAAQxjH,UAEhD,KACJ,KAAK,SACGwF,KAAKu2C,OAAU94C,EAAkBuC,KAAK2kG,gBAAgD,IAA9B3kG,KAAK2kG,cAAcpsG,QAC3EyH,KAAKm7G,YAET,MACJ,KAAK,SACDn7G,KAAK2H,eAAgB61G,OAAQziF,EAAQyiF,SAAU,GAC/Cx9G,KAAKy+G,cAUrBxE,EAAaz+G,UAAUojD,OAAS,SAAU8/D,GACtC1+G,KAAKu2C,KAAOv2C,KAAKyB,cAAc,OAASiC,UAAWi2G,GAAoBj/G,QAASoJ,OAASkuG,SAAY,OACrGhyG,KAAKu2C,KAAK/9C,UAAU+L,IAAIo1G,GAAoBrR,MAC5CtoG,KAAKo+G,WACL,IAAIvyG,IAAgBY,SAAU,IAAK7G,SAAU,IAAM+zG,GAAoB9X,GACvE7hG,MAAK2+G,UAAYjzG,GAAa1L,KAAKu2C,KAAM1qC,EACzC,IAAI63B,GAAQ1jC,KAAKnG,QAAQiJ,cAAc,kBAIvC,KAHI9C,KAAKmV,OAAO6vF,SAAYvnG,EAAkBimC,IAC1Cj+B,GAAalB,IAAIvE,KAAKu2C,KAAM,SAAUv2C,KAAKq9G,kBAAmBr9G,MAErC,iBAAzBA,KAAKkH,gBAAoC,CACrClH,KAAKnG,QAAQ4M,aAAa,aAC1BzG,KAAKu2C,KAAK1yC,aAAa,WAAY7D,KAAKnG,QAAQ4M,aAAa,aAEjEjC,GAAaxE,KAAKnG,SAAU8/G,GAAoBrR,MAChDtoG,KAAKnG,QAAQ+K,MAAM6hD,QAAU,MAC7B,IAAIm4D,GAAiB5+G,KAAKyB,cAAc,MACxCzB,MAAKnG,QAAQmc,cAAc5Q,aAAaw5G,EAAgB5+G,KAAKnG,SAC7D+kH,EAAe78G,YAAY/B,KAAKnG,SAChC+kH,EAAe78G,YAAY/B,KAAKu2C,MAEpCv2C,KAAK07G,eACL17G,KAAKi8G,aACAyC,GACD1+G,KAAKuhD,cAQb04D,EAAaz+G,UAAU0L,cAAgB,WACnC,MAAO,gBAOX+yG,EAAaz+G,UAAU2iH,SAAW,WAC9B,MAAOn+G,MAAK+lG,UAAUnrG,iBAAiB,IAAM++G,GAAoB9X,KAUrEoY,EAAaz+G,UAAUg4G,QAAU,SAAU77G,EAAOknH,GACzC7+G,KAAKu2C,MAAQv2C,KAAKu2C,KAAK78C,cAAgBsG,KAAKq7G,mBAC7Cr7G,KAAK0xG,YAET,IAAIoN,GAAa9+G,KAAKm+G,WAAW5lH,OAC7BwmH,EAAoB/+G,KAAKu2C,KAAKzzC,cAAc,IAAM62G,GAAoB1f,SAC1EtiG,GAASA,YAAiB8G,OAAQ9G,GAASA,EAC3C,IAAIO,EACJA,GAASuF,EAAkBohH,IAAcA,EAAY,GAAKA,EAAYC,EAAa,EAAKA,EAAaD,CAGrG,KAAK,GAFD1pG,GAASnV,KAAKmV,OACdwvF,KACKtsG,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAAK,CACnC,GAAIQ,GAAOlB,EAAMU,GACbwpG,EAAK7hG,KAAKyB,cAAc,MAAQiC,UAAWi2G,GAAoB9X,GAAIl+F,GAAI,cAAgBtL,GAC3FwpG,GAAGh+F,aAAa,aAAchH,EAASsY,EAAOnY,MAAOnE,IACrDgpG,EAAGh+F,aAAa,OAAQ,UACxBg+F,EAAG9/F,YAAYhH,SAASC,eAAe6B,EAASsY,EAAO1b,KAAMZ,KAC7DmH,KAAK+O,OAAO,WAAa8yB,OAAQ,oBAAqBhpC,KAAMgpG,IAC5D8C,EAAc3rG,KAAK6oG,GACnB7hG,KAAKs6G,SAASthH,KAAKH,GACnBmH,KAAKg/G,yBAAyBnd,EAAIhpG,GAEtC,GAAmB,IAAfimH,GAAoBrhH,EAAkBuC,KAAKu2C,KAAKzzC,cAAc,OAC9D9C,KAAKu2C,KAAK/7C,UAAY,GACtBwF,KAAKu2C,KAAKx0C,YAAY/B,KAAK+lG,WAC3BzgG,EAAOq/F,EAAe3kG,KAAK+lG,eAG3B,KAAS1tG,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAAK,CAC/B2H,KAAK2kG,cAAczsG,GACnB8H,KAAK2kG,cAAczsG,GAAO4C,WAAWsK,aAAau/F,EAActsG,GAAI2H,KAAK2kG,cAAczsG,IAGvF8H,KAAK+lG,UAAUhkG,YAAY4iG,EAActsG,GAE7C,IAAI4mH,MAAYt9G,MAAMf,KAAKZ,KAAK2kG,cAChCsa,GAAO10F,OAAOryB,EAAO,EAAGysG,EAActsG,IACtC2H,KAAK2kG,cAAgBsa,EACrB/mH,GAAS,GAGb6mH,GAAmC,IAAdF,IACrB7+G,KAAKq+G,mBAGbpE,EAAaz+G,UAAU0jH,oBAAsB,SAAUr2G,EAAQs2G,GAC3D,GAAIlsF,GAAOpqB,EAAOpC,aAAa,QAAUoC,EAAOpC,aAAa,QAAUoC,EAAOpC,aAAa,KAC3F04G,GAAOt7G,aAAa,OAAQovB,GAC5BpqB,EAAOyD,gBAAgB,OAEvB,KAAK,GADDvI,IAAc,WAAY,gBAAiB,QACtC1L,EAAI,EAAGA,EAAI0L,EAAWxL,OAAQF,IACnC,GAAKwQ,EAAOpC,aAAa1C,EAAW1L,IAApC,CAGA,GAAI6rG,GAAOr7F,EAAOpC,aAAa1C,EAAW1L,GAC1C8mH,GAAOt7G,aAAaE,EAAW1L,GAAI6rG,GACnCr7F,EAAOyD,gBAAgBvI,EAAW1L,MAG1C4hH,EAAaz+G,UAAUijH,UAAY,aAGnCxE,EAAaz+G,UAAUwjH,yBAA2B,SAAUnd,EAAIhpG,KAQhEohH,EAAaz+G,UAAU4jH,eAAiB,SAAUpiH,GAC9C,IAAKS,EAAkBuC,KAAKs6G,UAAW,CACnC,GAAIvgH,GAAOiG,KAAKy6G,WAAWz6G,KAAKs6G,UAAU1X,MAC1C,IAAa,WAAT7oG,GAA8B,WAATA,GAA8B,YAATA,GAC1C,IAAK,GAAIsE,GAAK,EAAG2E,EAAKhD,KAAKs6G,SAAUj8G,EAAK2E,EAAGzK,OAAQ8F,IAEjD,IAAKZ,EADD5E,EAAOmK,EAAG3E,KACkBxF,IAASmE,EACrC,MAAOnE,OAKf,KAAK,GAAIwL,GAAK,EAAG4G,EAAKjL,KAAKs6G,SAAUj2G,EAAK4G,EAAG1S,OAAQ8L,IAAM,CACvD,GAAIxL,GAAOoS,EAAG5G,EACd,KAAK5G,EAAkB5E,IAASgE,EAAUmD,KAAKmV,OAAOnY,MAAQgD,KAAKmV,OAAOnY,MAAQ,QAAUnE,KAAUmE,EAClG,MAAOnE,IAKvB,MAAO,OAOXohH,EAAaz+G,UAAUqY,QAAU,WACzB9Y,SAAS+R,KAAKrU,SAASuH,KAAKu2C,QAC5B9wC,GAAaf,OAAO1E,KAAKu2C,KAAM,SAAUv2C,KAAKq9G,mBACzC5/G,EAAkBuC,KAAK2+G,YACxB3+G,KAAK2+G,YAETp5G,EAAOvF,KAAKu2C,OAEhBxd,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAGlCs4B,IACIjvB,IAAU5P,KAAM,KAAMuD,MAAO,KAAM4hG,QAAS,KAAMoG,QAAS,MAAQ2E,KACpEsQ,EAAaz+G,UAAW,aAAU,IACrC88B,IACI1vB,IAAS,IACVqxG,EAAaz+G,UAAW,gBAAa,IACxC88B,IACI1vB,IAAS,IACVqxG,EAAaz+G,UAAW,wBAAqB,IAChD88B,IACI1vB,GAAS,OACVqxG,EAAaz+G,UAAW,mBAAgB,IAC3C88B,IACI1vB,GAAS,OACVqxG,EAAaz+G,UAAW,oBAAiB,IAC5C88B,IACI1vB,GAAS,qBACVqxG,EAAaz+G,UAAW,wBAAqB,IAChD88B,IACI1vB,GAAS,uBACVqxG,EAAaz+G,UAAW,4BAAyB,IACpD88B,IACI1vB,GAAS,SACVqxG,EAAaz+G,UAAW,gBAAa,IACxC88B,IACI1vB,IAAS,IACVqxG,EAAaz+G,UAAW,cAAW,IACtC88B,IACI1vB,QACDqxG,EAAaz+G,UAAW,iBAAc,IACzC88B,IACI1vB,GAAS,OACVqxG,EAAaz+G,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,MACVqxG,EAAaz+G,UAAW,aAAU,IACrC88B,IACI1vB,IAAS,IACVqxG,EAAaz+G,UAAW,mBAAgB,IAC3C88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,kBAAe,IAC1C88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,qBAAkB,IAC7C88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,oBAAiB,IAC5C88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,aAAU,IACrC88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,gBAAa,IACxC88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,cAAW,IACtC88B,IACI7uB,MACDwwG,EAAaz+G,UAAW,gBAAa,IACxCy+G,EAAe3hF,IACXvuB,IACDkwG,IAELh8D,ItCx3BE1nC,IAAc,EERduhB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAa5D2mF,GAA8B,SAAUtmF,GAExC,QAASsmF,KACL,MAAkB,QAAXtmF,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAQ/D,MAVA83B,IAAUunF,EAActmF,GAIxBT,IACI1vB,GAAS,SACVy2G,EAAa7jH,UAAW,QAAK,IAChC88B,IACI1vB,GAAS,QACVy2G,EAAa7jH,UAAW,QAAK,IACzB6jH,GACT18E,IAGE28E,IACAC,KAAM,UACNrhB,IAAK,QACLshB,KAAM,eACNC,MAAO,iBAePC,GAAuB,SAAU3mF,GAEjC,QAAS2mF,GAAM7lH,EAASya,GACpB,MAAOykB,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KAqiBlD,MAviBA83B,IAAU4nF,EAAO3mF,GAQjB2mF,EAAMlkH,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACnD,IAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACDqI,EAAkB1G,KAAKnG,SAAW6d,MAAShV,EAAWq4B,EAAQrjB,QAC9D,MACJ,KAAK,SACDhR,EAAkB1G,KAAKnG,SAAW4d,OAAU/U,EAAWq4B,EAAQtjB,SAC/D,MACJ,KAAK,SACD/Q,EAAkB1G,KAAKnG,SAAW2jH,OAAUziF,EAAQyiF,QACpD,MACJ,KAAK,YACDx9G,KAAK07G,cACL,MACJ,KAAK,WACL,IAAK,WACD17G,KAAK2/G,iBACL,MACJ,KAAK,UACD,GAAI7xG,GAAIitB,EAAQnuB,QAAUouB,EAAQpuB,OAClC5M,MAAKnG,QAAQ+K,MAAM2I,MAAQysB,SAASh6B,KAAKnG,QAAQ+K,MAAM2I,KAAM,OAAW5M,WAAa,IACrF,MACJ,KAAK,UACD,GAAIoN,GAAIgtB,EAAQ/tB,QAAUguB,EAAQhuB,OAClChN,MAAKnG,QAAQ+K,MAAM6I,KAAOusB,SAASh6B,KAAKnG,QAAQ+K,MAAM6I,IAAK,OAAW9M,WAAa,IACnF,MACJ,KAAK,UACDX,KAAK4/G,YACL,MACJ,KAAK,iBAC8B,SAA3B7kF,EAAQ8kF,eACR7/G,KAAK8/G,mBAGL9/G,KAAK+/G,uBAUzBL,EAAMlkH,UAAU0L,cAAgB,WAC5B,MAAO,SAKXw4G,EAAMlkH,UAAU6jD,eAAiB,WAC7B,MAAOr/C,MAAK8/C,kBAKhB4/D,EAAMlkH,UAAUqY,QAAU,WACtB7T,KAAKnG,QAAQrB,UAAUkM,OAAO46G,GAAWC,KAAMD,GAAWphB,KAC1Dl+F,KAAKmnB,eACL4R,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAMlC0/G,EAAMlkH,UAAUojD,OAAS,WACrB5+C,KAAKnG,QAAQrB,UAAU+L,IAAI+6G,GAAWC,KACtC,IAAI37G,KACgB,OAAhB5D,KAAKw9G,SACL55G,EAAO45G,OAASx9G,KAAKw9G,QAEN,SAAfx9G,KAAK0X,QACL9T,EAAO8T,MAAQhV,EAAW1C,KAAK0X,QAEf,SAAhB1X,KAAKyX,SACL7T,EAAO6T,OAAS/U,EAAW1C,KAAKyX,SAEpC/Q,EAAkB1G,KAAKnG,QAAS+J,GAChC5D,KAAKuW,aAAc,EACnBvW,KAAK07G,eACL17G,KAAK4/G,aACL5/G,KAAKumB,cAETm5F,EAAMlkH,UAAU+qB,WAAa,WACrBna,GAAQuc,UACRljB,GAAalB,IAAIvI,OAAQ,oBAAqBgE,KAAKggH,oBAAqBhgH,MAEhD,SAAxBA,KAAK6/G,gBACL7/G,KAAK8/G,oBAGbJ,EAAMlkH,UAAUskH,iBAAmB,WAC/B,GAAI9/G,KAAKigH,qBACL,IAAK,GAAI5hH,GAAK,EAAG2E,EAAKhD,KAAKkb,oBAAoBlb,KAAKigH,sBAAuB5hH,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC7F,GAAIxD,GAAWmI,EAAG3E,EAClBoH,IAAalB,IAAI1J,EAAU,SAAUmF,KAAKkgH,cAAelgH,QAIrE0/G,EAAMlkH,UAAU2rB,aAAe,WACvB/a,GAAQuc,UACRljB,GAAaf,OAAO1I,OAAQ,oBAAqBgE,KAAKggH,qBAE9B,SAAxBhgH,KAAK6/G,gBACL7/G,KAAK+/G,sBAGbL,EAAMlkH,UAAUukH,mBAAqB,WACjC,GAAI//G,KAAKigH,qBACL,IAAK,GAAI5hH,GAAK,EAAG2E,EAAKhD,KAAKkb,oBAAoBlb,KAAKigH,sBAAuB5hH,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC7F,GAAI8hH,GAAWn9G,EAAG3E,EAClBoH,IAAaf,OAAOy7G,EAAU,SAAUngH,KAAKkgH,iBAIzDR,EAAMlkH,UAAUykH,mBAAqB,WACjC,GAAIG,GAAoC,KAAlBpgH,KAAKqgH,UAAmB5iH,EAAkBuC,KAAKqgH,UACjEtlH,SAAS+R,KAAO9M,KAAKqgH,QAEzB,OADArgH,MAAK2H,eAAgB04G,SAAUD,IAAmB,GACf,gBAAnBpgH,MAAKqgH,SACjBtlH,SAAS+H,cAAc9C,KAAKqgH,UAAYrgH,KAAKqgH,UAErDX,EAAMlkH,UAAU0kH,cAAgB,SAAU9+G,GAWtC,GAV4B,eAAxBpB,KAAK6/G,eACC7/G,KAAKnG,QAAQ+b,eAAiBxU,EAAEyH,QACjC7I,KAAKnG,QAAQ+b,cAAsD,SAAtC5V,KAAKnG,QAAQ+b,aAAatS,SAC1B,MAA1BlC,EAAEyH,OAAOmN,eACbhW,KAAK2/G,kBAGoB,SAAxB3/G,KAAK6/G,gBACV7/G,KAAKsgH,OAEmB,SAAxBtgH,KAAK6/G,gBACD7/G,KAAKigH,qBAAsB,CAC3B,GAAIM,GAAgBvgH,KAAKwgH,oBAAoBxgH,KAAKigH,qBAAsB7+G,EAAEyH,OACrE03G,IAAkBvgH,KAAKygH,sBAInBF,IACLvgH,KAAKygH,uBAAwB,IAJ7BzgH,KAAKyoB,QAAQ,sBACbzoB,KAAKygH,uBAAwB,KAa7Cf,EAAMlkH,UAAUglH,oBAAsB,SAAUJ,EAAiBM,GAE7D,IAAK,GADDtlG,GAAgBpb,KAAKkb,oBAAoBklG,GACpCO,EAAW,EAAGA,EAAWvlG,EAAc7iB,OAAQooH,IACpD,IAAI3gH,KAAK4gH,iBAAiBR,EAAiBhlG,EAAculG,IAIrD,OAAO,CAGf,QAAO,GAEXjB,EAAMlkH,UAAUolH,iBAAmB,SAAUR,EAAiBM,GAC1D,GAAItjF,GAAOp9B,KAAK6gH,2BAA2BT,EAC3C,KAAKhjF,EAAK3lB,SAAW2lB,EAAK1lB,MACtB,OAAO,CAEX,IAAKja,EAAkBuC,KAAK6gH,2BAA2BH,IAOlD,CACD,GAAII,GAAM9kH,OACN+kH,GACAtzG,IAAKqzG,EAAIE,QACTzzG,KAAMuzG,EAAIG,QACVzzG,MAAOszG,EAAIG,QAAUH,EAAII,WACzBxzG,OAAQozG,EAAIE,QAAUF,EAAIK,aAE1BrtF,EAAM7d,GAAkBmqG,GACxBh8G,GACAqJ,IAAKqmB,EAAIrmB,IACTF,KAAMumB,EAAIvmB,KACVC,MAAOsmB,EAAIvmB,KAAO6vB,EAAK1lB,MACvBhK,OAAQomB,EAAIrmB,IAAM2vB,EAAK3lB,QAEvB2pG,GACA3zG,IAAKszG,EAAWrzG,OAAStJ,EAAIqJ,IAC7BF,KAAMwzG,EAAWvzG,MAAQpJ,EAAImJ,KAC7BG,OAAQtJ,EAAIsJ,OAASqzG,EAAWtzG,IAChCD,MAAOpJ,EAAIoJ,MAAQuzG,EAAWxzG,KAElC,OAAO6zG,GAAY3zG,IAAM,GAClB2zG,EAAY7zG,KAAO,GACnB6zG,EAAY5zG,MAAQ,GACpB4zG,EAAY1zG,OAAS,EA9B5B,GAAI2zG,GAAWX,EAAc/zG,uBAC7B,SAASywB,EAAK1vB,OAAS2zG,EAAS5zG,KACzB2vB,EAAK1vB,OAAS2zG,EAAS3zG,QACnB0vB,EAAK5vB,MAAQ6zG,EAAS7zG,OACnB4vB,EAAK7vB,KAAO8zG,EAAS9zG,OAiC3CmyG,EAAMlkH,UAAUyY,UAAY,aAG5ByrG,EAAMlkH,UAAUkgH,aAAe,WAC3B17G,KAAKshH,aACLthH,KAAKuP,UAAYvP,KAAKnG,QAAQrB,UAAU+L,IAAI+6G,GAAWphB,KAAOl+F,KAAKnG,QAAQrB,UAAUkM,OAAO46G,GAAWphB,MAE3GwhB,EAAMlkH,UAAUokH,WAAa,WACpBniH,EAAkBuC,KAAKtF,WACxBsF,KAAKnG,QAAQW,UAAY,GACK,gBAAlBwF,cACRA,KAAKnG,QAAQH,YAAcsG,KAAKtF,QAGhCsF,KAAKnG,QAAQkI,YAAY/B,KAAKtF,WAI1CglH,EAAMlkH,UAAUwkH,oBAAsB,WAClC,GAAIjgH,GAAQC,IACZ/H,YAAW,WACP8H,EAAM4/G,mBACP,MAKPD,EAAMlkH,UAAUmkH,gBAAkB,SAAU92G,EAAQ04G,GAC3C9jH,EAAkBoL,IACnB7I,KAAKwhH,iBAAiB34G,GAE1B7I,KAAKshH,aACAC,GACDvhH,KAAKyhH,kBAGb/B,EAAMlkH,UAAU8lH,WAAa,WACzB,GAAI5qG,GACA0pG,EAAkBpgH,KAAKigH,oBAC3B,IAA+B,gBAApBjgH,MAAK6V,SAASiC,GAA6C,gBAApB9X,MAAK6V,SAASkC,EAC5DrB,GAAQnJ,KAAMvN,KAAK6V,SAASiC,EAAGrK,IAAKzN,KAAK6V,SAASkC,OAEjD,IAAIqoG,EAAiB,CACtB,GAAI35D,GAAUzmD,KAAKnG,QAAQ+K,MAAM6hD,OACjCzmD,MAAKnG,QAAQ+K,MAAM6hD,QAAU,QAC7B/vC,EAAM1W,KAAK0hH,kBAAkBtB,EAAiBpgH,KAAKnG,QAASmG,KAAK6V,SAAU7V,KAAK4M,QAAS5M,KAAKgN,SAC9FhN,KAAKnG,QAAQ+K,MAAM6hD,QAAUA,MAG7B/vC,IAAQnJ,KAAM,EAAGE,IAAK,EAErBhQ,GAAkBiZ,KACnB1W,KAAKnG,QAAQ+K,MAAM2I,KAAOmJ,EAAInJ,KAAO,KACrCvN,KAAKnG,QAAQ+K,MAAM6I,IAAMiJ,EAAIjJ,IAAM,OAG3CiyG,EAAMlkH,UAAUqlH,2BAA6B,SAAUz8G,GAEnD,IAEI,MADUA,GAAIuI,wBAGlB,MAAOqlB,GACH,MAAO,QAGf0tF,EAAMlkH,UAAUkmH,kBAAoB,SAAUC,EAAWv9G,EAAKyR,EAAUjJ,EAASI,GAC7E,GAAI40G,GAAU5hH,KAAK6gH,2BAA2Bz8G,GAC1Cy9G,EAAa7hH,KAAK6gH,2BAA2Bc,EACjD,IAAIlkH,EAAkBmkH,IAAYnkH,EAAkBokH,GAChD,MAAO,KAEX,IAAIrsG,GAASmsG,EACTjsG,GAAcnI,KAAM,EAAGE,IAAK,EAOhC,QALIiI,EADAtR,EAAIwR,cAA6C,SAA7BxR,EAAIwR,aAAatS,SAA4C,SAAtBq+G,EAAUr+G,QACzD2S,GAAkB0rG,GAGlBpsG,GAA+BC,EAAQpR,GAE/CyR,EAASiC,GACb,QACA,IAAK,OACD,KACJ,KAAK,SACuB,cAApB9X,KAAK8hH,WACLpsG,EAAUnI,MAASs0G,EAAWnqG,MAAQ,EAAIkqG,EAAQlqG,MAAQ,EAG1DhC,EAAUnI,MAASs0G,EAAWnqG,MAAQ,CAE1C,MACJ,KAAK,QACuB,cAApB1X,KAAK8hH,WACLpsG,EAAUnI,MAASs0G,EAAWnqG,MAAQkqG,EAAQlqG,MAG9ChC,EAAUnI,MAASs0G,EAAiB,MAIhD,OAAQhsG,EAASkC,GACb,QACA,IAAK,MACD,KACJ,KAAK,SACuB,cAApB/X,KAAK8hH,WACLpsG,EAAUjI,KAAQo0G,EAAWpqG,OAAS,EAAImqG,EAAQnqG,OAAS,EAG3D/B,EAAUjI,KAAQo0G,EAAWpqG,OAAS,CAE1C,MACJ,KAAK,SACuB,cAApBzX,KAAK8hH,WACLpsG,EAAUjI,KAAQo0G,EAAWpqG,OAASmqG,EAAQnqG,OAG9C/B,EAAUjI,KAAQo0G,EAAkB,OAMhD,MAFAnsG,GAAUnI,MAAQX,EAClB8I,EAAUjI,KAAOT,EACV0I,GAEXgqG,EAAMlkH,UAAUumH,SAAW,SAAUpnB,GACjC,GAAIylB,GAAkBpgH,KAAKigH,oBAC3BnmG,IAAK9Z,KAAKnG,QAASumH,EAAiBpgH,KAAK4M,QAAS5M,KAAKgN,QAAShN,KAAK6V,SAASiC,EAAG9X,KAAK6V,SAASkC,EAAG/X,KAAK4X,gBAAiB+iF,EAAO36F,KAAKuW,cAExImpG,EAAMlkH,UAAUwmH,QAAU,SAAUrnB,GAChC,GAA6D,IAAzDvhF,GAAUpZ,KAAKnG,QAASmG,KAAK4X,iBAAiBrf,OAC9C,GAAIkF,EAAkBuC,KAAK4X,iBAAkB,CACzC,GAAInb,GAAOkb,GAAI3X,KAAKnG,QAASmG,KAAK4X,gBAAiB+iF,EACnD36F,MAAKnG,QAAQ+K,MAAM2I,KAAO9Q,EAAK8Q,KAAO,KACtCvN,KAAKnG,QAAQ+K,MAAM6I,IAAMhR,EAAKgR,IAAM,SAEnC,CACD,GAAIuJ,GAAchX,KAAK6gH,2BAA2B7gH,KAAKnG,SACnDooH,EAAejiH,KAAK6gH,2BAA2B7gH,KAAK4X,gBACxD,IAAIna,EAAkBuZ,IAAgBvZ,EAAkBwkH,GACpD,MAAO,KAEPtnB,KAAqB,IAAZA,EAAM5iF,IACXkqG,EAAax0G,IAAMuJ,EAAYvJ,IAC/BzN,KAAKnG,QAAQ+K,MAAM6I,IAAM,MAEpBw0G,EAAav0G,OAASsJ,EAAYtJ,SACvC1N,KAAKnG,QAAQ+K,MAAM6I,IAAMusB,SAASh6B,KAAKnG,QAAQ+K,MAAM6I,IAAK,KAAOuJ,EAAYtJ,OAASu0G,EAAav0G,QAAU,OAGjHitF,IAAqB,IAAZA,EAAM7iF,IACXmqG,EAAaz0G,MAAQwJ,EAAYxJ,MACjCxN,KAAKnG,QAAQ+K,MAAM2I,KAAOysB,SAASh6B,KAAKnG,QAAQ+K,MAAM2I,KAAM,KAAOyJ,EAAYxJ,MAAQy0G,EAAaz0G,OAAS,KAExGy0G,EAAa10G,KAAOyJ,EAAYzJ,OACrCvN,KAAKnG,QAAQ+K,MAAM2I,KAAOysB,SAASh6B,KAAKnG,QAAQ+K,MAAM2I,KAAM,KAAO00G,EAAa10G,KAAOyJ,EAAYzJ,MAAQ,SAM/HmyG,EAAMlkH,UAAUimH,eAAiB,WAC7B,GAAIS,GAAOliH,KAAKuhH,UAAUzpG,EACtBqqG,EAAOniH,KAAKuhH,UAAUxpG,CACb,UAATmqG,GAA4B,SAATC,IAGV,SAATD,GAA4B,SAATC,EACnBniH,KAAK+hH,UAAWjqG,GAAG,EAAMC,GAAG,IAEd,QAATmqG,GAA2B,QAATC,EACvBniH,KAAKgiH,SAAUlqG,GAAG,EAAMC,GAAG,KAGd,SAATmqG,EACAliH,KAAK+hH,UAAWjqG,GAAG,EAAMC,GAAG,IAEd,SAAToqG,GACLniH,KAAK+hH,UAAWhqG,GAAG,EAAMD,GAAG,IAEnB,QAAToqG,EACAliH,KAAKgiH,SAAUlqG,GAAG,EAAMC,GAAG,IAEb,QAAToqG,GACLniH,KAAKgiH,SAAUlqG,GAAG,EAAOC,GAAG,OAUxC2nG,EAAMlkH,UAAU4mH,KAAO,SAAUC,EAAkBC,GAC/C,GAAIviH,GAAQC,IACZ,IAAoB,MAAhBA,KAAKw9G,SAAoB//G,EAAkB6kH,GAAkB,CAC7D,GAAIC,GAAiB9kH,EAAkB6kH,GAAoBtiH,KAAKnG,QAAUyoH,CAC1EtiH,MAAKw9G,OAAS9hG,GAAiB6mG,GAC/B77G,EAAkB1G,KAAKnG,SAAW2jH,OAAUx9G,KAAKw9G,SAErD6E,EAAqB5kH,EAAkB4kH,IAAiD,gBAArBA,GAC5CriH,KAAKwiH,cAAxBH,EACqB,SAArBriH,KAAKuhH,UAAUzpG,GAAqC,SAArB9X,KAAKuhH,UAAUxpG,IAC9CvT,GAAaxE,KAAKnG,SAAUylH,GAAWG,OACvCz7G,GAAUhE,KAAKnG,SAAUylH,GAAWE,MACpCx/G,KAAKyhH,iBACLj9G,GAAaxE,KAAKnG,SAAUylH,GAAWE,MACvCx7G,GAAUhE,KAAKnG,SAAUylH,GAAWG,QAEnChiH,EAAkB4kH,IAenB79G,GAAaxE,KAAKnG,SAAUylH,GAAWG,OACvCz7G,GAAUhE,KAAKnG,SAAUylH,GAAWE,MACpCx/G,KAAKyoB,QAAQ,UAhBb45F,EAAiBziG,MAAQ,WAChB7f,EAAM80B,cACPrwB,GAAazE,EAAMlG,SAAUylH,GAAWG,OACxCz7G,GAAUjE,EAAMlG,SAAUylH,GAAWE,QAG7C6C,EAAiBriG,IAAM,WACdjgB,EAAM80B,aACP90B,EAAM0oB,QAAQ,SAGtB,GAAIqQ,IAAUupF,GAAkB5oF,QAAQz5B,KAAKnG,WAYrD6lH,EAAMlkH,UAAU8kH,KAAO,SAAU+B,GAC7B,GAAItiH,GAAQC,IAGPvC,GAFL4kH,EAAqB5kH,EAAkB4kH,IAAiD,gBAArBA,GAC5CriH,KAAKyiH,cAAxBJ,IAYA79G,GAAaxE,KAAKnG,SAAUylH,GAAWE,MACvCx7G,GAAUhE,KAAKnG,SAAUylH,GAAWG,OACpCz/G,KAAKyoB,QAAQ,WAZb45F,EAAiBriG,IAAM,WACdjgB,EAAM80B,cACPrwB,GAAazE,EAAMlG,SAAUylH,GAAWE,MACxCx7G,GAAUjE,EAAMlG,SAAUylH,GAAWG,OACrC1/G,EAAM0oB,QAAQ,WAGtB,GAAIqQ,IAAUupF,GAAkB5oF,QAAQz5B,KAAKnG,WAYrD6lH,EAAMlkH,UAAU0f,oBAAsB,SAAUrhB,GAE5C,MADAmG,MAAKwhH,iBAAiB3nH,GACfqhB,GAAoBrhB,EAASmG,KAAKuW,cAE7CmpG,EAAMlkH,UAAUgmH,iBAAmB,SAAU3nH,GAEzC,IADA,GAAIkH,GAASlH,EAAQmc,cACdjV,GAA6B,SAAnBA,EAAOuC,SAAoB,CACxC,GAAIgY,GAAcrN,iBAAiBlN,EACN,WAAzBua,EAAYzF,UAAwB7V,KAAKnG,QAAQ+b,cAAsD,SAAtC5V,KAAKnG,QAAQ+b,aAAatS,UAC3FtD,KAAKnG,QAAQ+K,MAAMiR,SAAW,QAC9B7V,KAAKuW,aAAc,GAEvBxV,EAASA,EAAOiV,cACZvY,EAAkBuC,KAAKnG,QAAQ+b,eAA0C,UAAzB0F,EAAYzF,UACzB,UAAhC7V,KAAKnG,QAAQ+K,MAAMiR,WACtB7V,KAAKuW,aAAc,KAI/B+hB,IACI1vB,GAAS,SACV82G,EAAMlkH,UAAW,aAAU,IAC9B88B,IACI1vB,GAAS,SACV82G,EAAMlkH,UAAW,YAAS,IAC7B88B,IACI1vB,GAAS,OACV82G,EAAMlkH,UAAW,cAAW,IAC/B88B,IACI1vB,GAAS,cACV82G,EAAMlkH,UAAW,iBAAc,IAClC88B,IACI1vB,GAAS,OACV82G,EAAMlkH,UAAW,sBAAmB,IACvC88B,IACI1vB,IAAWkP,EAAG,OAAQC,EAAG,UAC1B2nG,EAAMlkH,UAAW,gBAAa,IACjC88B,IACI1vB,GAAS,KACV82G,EAAMlkH,UAAW,eAAY,IAChC88B,IACIjvB,MAAYg2G,KACbK,EAAMlkH,UAAW,eAAY,IAChC88B,IACI1vB,GAAS,IACV82G,EAAMlkH,UAAW,cAAW,IAC/B88B,IACI1vB,GAAS,IACV82G,EAAMlkH,UAAW,cAAW,IAC/B88B,IACI1vB,GAAS,MACV82G,EAAMlkH,UAAW,aAAU,IAC9B88B,IACI1vB,IAAS,IACV82G,EAAMlkH,UAAW,gBAAa,IACjC88B,IACI1vB,GAAS,eACV82G,EAAMlkH,UAAW,qBAAkB,IACtC88B,IACI1vB,GAAS,OACV82G,EAAMlkH,UAAW,oBAAiB,IACrC88B,IACI1vB,GAAS,OACV82G,EAAMlkH,UAAW,oBAAiB,IACrC88B,IACI7uB,MACDi2G,EAAMlkH,UAAW,WAAQ,IAC5B88B,IACI7uB,MACDi2G,EAAMlkH,UAAW,YAAS,IAC7B88B,IACI7uB,MACDi2G,EAAMlkH,UAAW,yBAAsB,IAC1CkkH,EAAQpnF,IACJvuB,IACD21G,IAELzhE,IkCtmBEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAU5DgqF,GAA6B,SAAU3pF,GAEvC,QAAS2pF,KACL,MAAkB,QAAX3pF,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbA83B,IAAU4qF,EAAa3pF,GAIvBT,IACI1vB,MACD85G,EAAYlnH,UAAW,kBAAe,IACzC88B,IACI1vB,GAAS,WACV85G,EAAYlnH,UAAW,WAAQ,IAClC88B,IACI1vB,MACD85G,EAAYlnH,UAAW,YAAS,IAC5BknH,GACT//E,IAKEggF,GAAmC,SAAU5pF,GAE7C,QAAS4pF,KACL,MAAkB,QAAX5pF,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbA83B,IAAU6qF,EAAmB5pF,GAI7BT,IACI1vB,GAAS,SACV+5G,EAAkBnnH,UAAW,aAAU,IAC1C88B,IACI1vB,GAAS,MACV+5G,EAAkBnnH,UAAW,eAAY,IAC5C88B,IACI1vB,GAAS,IACV+5G,EAAkBnnH,UAAW,YAAS,IAClCmnH,GACThgF,IAEE48E,GAAO,WAmBPqD,GAAyB,cACzBC,GAAgB,oBAChBC,GAAiB,iBACjBC,GAAmB,mBAcnBC,GAAwB,SAAUjqF,GAMlC,QAASiqF,GAAO1uG,EAASza,GACrB,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA46BlD,MAl7BA83B,IAAUkrF,EAAQjqF,GAYlBiqF,EAAOxnH,UAAUojD,OAAS,WACtB5+C,KAAKuhD,aACLvhD,KAAKijH,aACLjjH,KAAKumB,aACc,SAAfvmB,KAAK0X,QACL1X,KAAKnG,QAAQ+K,MAAM8S,MAAQ,KAOnCsrG,EAAOxnH,UAAUyY,UAAY,WACzB,GAAIlU,GAAQC,IACZA,MAAKkjH,cAAgB,IAErB,KAAK,GADDC,MACK39F,EAAI,EAAGA,EAAIxlB,KAAKnG,QAAQrB,UAAUD,OAAQitB,IAC1C/nB,EAAkBuC,KAAKnG,QAAQrB,UAAUgtB,GAAGtU,MAAM,eAClDzT,EAAkBuC,KAAKnG,QAAQrB,UAAUgtB,GAAGtU,MAAMquG,MACnD4D,EAAWnqH,KAAKgH,KAAKnG,QAAQrB,UAAUgtB,GAG/ChhB,IAAaxE,KAAKnG,SAAUspH,GAC5BnjH,KAAKojH,UAAYpjH,KAAKnG,QAAQmI,WAAU,GACxChC,KAAKqjH,2BAA6B,SAAU9mH,GACxCwD,EAAMugH,KAAK/jH,IAEfyD,KAAKsjH,4BAA8B,SAAU/mH,GACzCwD,EAAM0oB,QAAQ,eAAgBlsB,GAElC,IAAIgnH,IAAenhH,MAAO,QAE1B,IADApC,KAAKw7G,KAAO,GAAI1vD,IAAK,SAAUy3D,EAAYvjH,KAAKgP,QAC5CvR,EAAkBuC,KAAK6I,QAAS,CAChC,GAAI26G,GAAexjH,KAAKs0B,mBACxBt0B,MAAKs0B,qBAAsB,EAC3Bt0B,KAAK6I,OAAS9N,SAAS+R,KACvB9M,KAAKs0B,oBAAsBkvF,IAKnCR,EAAOxnH,UAAUioH,QAAU,SAAUlnH,GACjC,GAAIwD,GAAQC,IACZ,IAAsB,IAAlBzD,EAAM7E,SACFsI,KAAK0jH,QAAS,CACd,GAAIC,OAAY,EACXlmH,GAAkBuC,KAAK4jH,UACxBD,EAAY3jH,KAAK4jH,OAAO5jH,KAAK4jH,OAAOrrH,OAAS,IAE5CkF,EAAkBkmH,IAAc5oH,SAASm1G,gBAAkByT,EAAU9pH,SAAY0C,EAAMsuD,WACxFtuD,EAAMirB,iBACNxnB,KAAK6jH,kBAAkB7jH,KAAKnG,SAASwI,SAErCtH,SAASm1G,gBAAkBlwG,KAAK6jH,kBAAkB7jH,KAAKnG,UAAY0C,EAAMsuD,WACzEtuD,EAAMirB,iBACD/pB,EAAkBkmH,IACnBA,EAAU9pH,QAAQwI,SAKlC,GAAIxI,GAAUkB,SAASm1G,cACnB4T,GAAc,QAAS,YAAYtlH,QAAQ3E,EAAQyJ,QAAQnL,gBAAkB,EAC7E4rH,GAAgB,CAOpB,IANKD,IACDC,EAAgBlqH,EAAQmqH,aAAa,oBAAkE,SAA5CnqH,EAAQ4M,aAAa,oBAE9D,KAAlBlK,EAAM7E,SAAkBsI,KAAKikH,eAC7BjkH,KAAKsgH,KAAK/jH,GAES,KAAlBA,EAAM7E,UAAmB6E,EAAMwtB,SAA6C,aAAlClwB,EAAQyJ,QAAQnL,eAC3D2rH,IAAcrmH,EAAkBuC,KAAKkkH,mBAClB,KAAlB3nH,EAAM7E,SAAkB6E,EAAMwtB,UAA8C,aAAlClwB,EAAQyJ,QAAQnL,eACvD4rH,KAAoBtmH,EAAkBuC,KAAKkkH,kBAAmB,CAClE,GAAIC,EACenkH,MAAKokH,QAAQlxF,KAAK,SAAUz2B,EAAMvE,GACjDisH,EAAgBjsH,CAChB,IAAImsH,GAAc5nH,EAAK4nH,WACvB,QAAQ5mH,EAAkB4mH,KAA0C,IAA1BA,EAAY9lB,aAES,kBAAvCv+F,MAAKokH,QAAQD,UACrClsH,WAAW,WACP8H,EAAMqkH,QAAQD,GAAeG,MAAM1jH,KAAKb,EAAOxD,OAS/DymH,EAAOxnH,UAAU+lD,WAAa,WACrB9jD,EAAkBuC,KAAK6I,UACxB7I,KAAKukH,UAAsC,gBAAjBvkH,MAAK6I,OAC3B9N,SAAS+H,cAAc9C,KAAK6I,QAAU7I,KAAK6I,QAEnD7E,GAAUhE,KAAKnG,SAAU0lH,IACrBnzG,GAAQuc,UACR3kB,GAAUhE,KAAKnG,SArId,YAuILmG,KAAK8pG,cACL9pG,KAAKwkH,gBAMTxB,EAAOxnH,UAAUynH,WAAa,WAC1B,GAAIljH,GAAQC,IACZA,MAAKykH,eAAgB,EACrB1gH,EAAW/D,KAAKnG,SAAWuZ,KAAM,WACb,MAAhBpT,KAAKw9G,QACLx9G,KAAK0kH,UAAU1kH,KAAKnG,SAAS,GAC7BmG,KAAK2kH,iBAAkB,GAGvB3kH,KAAK2kH,iBAAkB,EAE3B3kH,KAAK4kH,mBACe,KAAhB5kH,KAAKqyB,QAAkB50B,EAAkBuC,KAAKqyB,SAC9CryB,KAAK6kH,YAEL7kH,KAAK8kH,eACL9kH,KAAK+kH,kBAET/kH,KAAK4/G,aACuB,KAAxB5/G,KAAKglH,gBAA0BvnH,EAAkBuC,KAAKglH,gBAGhDvnH,EAAkBuC,KAAKokH,QAAQ,GAAGC,cACxCrkH,KAAKilH,YAHLjlH,KAAKklH,oBAKLllH,KAAKmlH,gBAAmB1nH,EAAkBuC,KAAKkjH,gBAC/CljH,KAAKolH,mBAETrhH,EAAW/D,KAAKnG,SAAWwrH,aAAerlH,KAAK0jH,QAAU,OAAS,UAC9D1jH,KAAK0jH,SACL1jH,KAAKslH,aAEJ7nH,EAAkBuC,KAAKukH,aACxBvkH,KAAK0jH,QAAU1jH,KAAKukH,UAAUxiH,YAAY/B,KAAKulH,cAAgBvlH,KAAKukH,UAAUxiH,YAAY/B,KAAKnG,UAEnGmG,KAAKwlH,SAAW,GAAI9F,IAAM1/G,KAAKnG,SAC3B4d,OAAQzX,KAAKyX,OACbC,MAAO1X,KAAK0X,MACZ8lG,OAAQx9G,KAAKw9G,OACb6C,SAAUrgH,KAAK6I,OACfg3G,eAAgB,OAChB/9G,KAAM,SAAUvF,GACZwD,EAAM0lH,cACN,IAAIp3G,IACAqO,UAAW3c,EAAM2jH,QAAU3jH,EAAMwlH,aAAexlH,EAAMlG,QACtDA,QAASkG,EAAMlG,QACfgP,OAAQ9I,EAAM8I,OAElB9I,GAAM0oB,QAAQ,OAAQpa,IAE1BjM,MAAO,SAAU7F,GACTwD,EAAM2jH,SACN1/G,GAAUjE,EAAM2lH,YAAa,UAEjC3lH,EAAM4lH,YAAY5lH,EAAMlG,SACpBkG,EAAM2jH,UACN3jH,EAAMwlH,aAAa3gH,MAAM6hD,QAAU,QAEvC1mD,EAAM0oB,QAAQ,QAAS1oB,EAAM6lH,WACxBnoH,EAAkBsC,EAAM8lH,qBACzB9lH,EAAM8lH,mBAAmBxjH,WAIrCrC,KAAK8lH,iBACL9lH,KAAKiqG,eACLjmG,GAAUhE,KAAKnG,SA7MR,iBA8MHmG,KAAK0jH,SACL1jH,KAAK+lH,mBAEL/lH,KAAKgmH,QACLhmH,KAAKoiH,OAGDpiH,KAAK0jH,UACL1jH,KAAK0lH,WAAW9gH,MAAM6hD,QAAU,QAGxCzmD,KAAKykH,eAAgB,GAEzBzB,EAAOxnH,UAAUuqH,iBAAmB,SAAUE,GAC1C,GAAIzI,EAEAA,GADA//G,EAAkBwoH,GACTjsF,SAASh6B,KAAKnG,QAAQ+K,MAAM44G,OAAQ,IAAMxjF,SAASh6B,KAAKnG,QAAQ+K,MAAM44G,OAAQ,IAAMx9G,KAAKw9G,OAGzFyI,EAEbjmH,KAAK0lH,WAAW9gH,MAAM44G,QAAUA,EAAS,GAAG78G,WAC5CX,KAAKulH,aAAa3gH,MAAM44G,OAASA,EAAO78G,YAE5CqiH,EAAOxnH,UAAUsqH,eAAiB,WAC1B9lH,KAAK0jH,QAC4B,gBAArB1jH,MAAK6V,YAAyD,gBAArB7V,MAAK6V,WACtD7V,KAAKkmH,oBAGLlmH,KAAKnG,QAAQ+K,MAAM6I,IAAM,MACzBzN,KAAKnG,QAAQ+K,MAAM2I,KAAO,MAC1BvN,KAAKulH,aAAa/sH,UAAU+L,IAAI,SAAWvE,KAAK6V,SAASiC,EAAI,IAAM9X,KAAK6V,SAASkC,IAIrF/X,KAAKkmH,oBAGblD,EAAOxnH,UAAU0qH,iBAAmB,WAChClmH,KAAKwlH,SAAS79G,eACVkO,UACIiC,EAAG9X,KAAK6V,SAASiC,EAAGC,EAAG/X,KAAK6V,SAASkC,MAIjDirG,EAAOxnH,UAAU4pH,iBAAmB,WAChC,GAAIrlH,GAAQC,IAEZA,MAAKmmH,QAAU,GAAIxlE,IAAU3gD,KAAKnG,SAC9BwF,OAAO,EACPqiD,MAAO,uBACPJ,OAJgB,wBAKhB8B,UAAW,SAAU7mD,GACjBwD,EAAM0oB,QAAQ,YAAalsB,IAE/BwpD,SAAU,SAAUxpD,GACZwD,EAAM2jH,UACDjmH,EAAkBsC,EAAM8V,WACzB9V,EAAMwlH,aAAa/sH,UAAUkM,OAAO,SAAW3E,EAAM8V,SAASiC,EAAI,IAAM/X,EAAM8V,SAASkC,GAG3FhY,EAAMlG,QAAQ+K,MAAMiR,SAAW,YAEnC9V,EAAM0oB,QAAQ,WAAYlsB,IAE9BioD,KAAM,SAAUjoD,GACZwD,EAAM0oB,QAAQ,OAAQlsB,MAGzBkB,EAAkBuC,KAAKukH,aACxBvkH,KAAKmmH,QAAQ5iE,SAAWvjD,KAAKukH,YAGrCvB,EAAOxnH,UAAUypH,UAAY,WACzBjlH,KAAKomH,iBACLpmH,KAAK4jH,SACL,KACSvrH,EAAI,EAAGA,EAAI2H,KAAKokH,QAAQ7rH,OAAQF,IAAK,CAC1C,GAAIguH,GAAc5oH,EAAkBuC,KAAKokH,QAAQ/rH,GAAG0B,MAA6C,SAArCiG,KAAKokH,QAAQ/rH,GAAG0B,KAAK5B,cAC7EmuH,EAAMtmH,KAAKyB,cAAc,UAAYqC,OAAS/J,KAAMssH,IACxDrmH,MAAKomH,cAAcptH,KAAKstH,EAAIpkH,WAEhClC,KAAKklH,mBACL,KAAK,GAAI7sH,GAAI,EAAGA,EAAI2H,KAAKokH,QAAQ7rH,OAAQF,IACrC2H,KAAK4jH,OAAOvrH,GAAK,GAAIimG,IAAOt+F,KAAKokH,QAAQ/rH,GAAGgsH,aACL,kBAA3BrkH,MAAKokH,QAAQ/rH,UACrBoN,GAAalB,IAAIvE,KAAKumH,mBAAmBzqG,SAASzjB,GAAI,QAAS2H,KAAKokH,QAAQ/rH,GAAGisH,MAAOtkH,MAE1FA,KAAK4jH,OAAOvrH,GAAGkmD,SAASv+C,KAAKumH,mBAAmBzqG,SAASzjB,IACzD2H,KAAK4jH,OAAOvrH,GAAGwB,QAAQrB,UAAU+L,IAAI,UACrCvE,KAAKkkH,iBAAmBlkH,KAAKnG,QAAQ2U,uBAAuB,aAAa,IAGjFw0G,EAAOxnH,UAAUokH,WAAa,WAC1B77G,EAAW/D,KAAKnG,SAAW2sH,mBAAoBxmH,KAAKnG,QAAQ8J,GAAK,oBACjE3D,KAAKymH,WAAazmH,KAAKyB,cAAc,OAASiC,UAzTpC,gBAyT4DC,GAAI3D,KAAKnG,QAAQ8J,GAAK,oBACxF3D,KAAK0mH,oBACL1mH,KAAKymH,WAAW1kH,YAAY/B,KAAK0mH,sBAE3BjpH,EAAkBuC,KAAKtF,UAA6B,KAAjBsF,KAAKtF,UAAmBsF,KAAKykH,gBACxC,gBAAlBzkH,cACRA,KAAKymH,WAAWjsH,UAAYwF,KAAKtF,QAE5BsF,KAAKtF,kBAAmBisH,aAC7B3mH,KAAKymH,WAAW1kH,YAAY/B,KAAKtF,SAGjCsF,KAAK4mH,YAAY5mH,KAAKtF,QAASsF,KAAKymH,aAGvChpH,EAAkBuC,KAAKkjH,eAIxBljH,KAAKnG,QAAQuL,aAAapF,KAAKymH,WAAYzmH,KAAKnG,QAAQiiB,SAAS,IAHjE9b,KAAKnG,QAAQuL,aAAapF,KAAKymH,WAAYzmH,KAAKnG,QAAQiiB,SAAS,IAKjD,SAAhB9b,KAAKyX,QACLzX,KAAKwkH,gBAGbxB,EAAOxnH,UAAUorH,YAAc,SAAUp2G,EAAUvL,GAG/C,IAAK,GADDD,MACK3G,EAAK,EAAG2E,EAFAuN,GAAQC,OAEanS,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACxD,GAAIxF,GAAOmK,EAAG3E,EACd2G,GAAahM,KAAKH,GAEtByM,KAAU3D,MAAMf,KAAKoE,GAAeC,IAExC+9G,EAAOxnH,UAAUgpH,aAAe,WAC5B,GAAI/9D,GAAUzmD,KAAKnG,QAAQ+K,MAAM6hD,OACjCzmD,MAAKnG,QAAQ+K,MAAM6hD,QAAU,OAC7BzmD,KAAKnG,QAAQ+K,MAAMiiH,UAAcppH,EAAkBuC,KAAK6I,QACP7M,OAAOgf,YAAc,GAAM,KAAvEhb,KAAKukH,UAAUtgE,aAAe,GAAM,KACzCjkD,KAAKnG,QAAQ+K,MAAM6hD,QAAUA,GAEjCu8D,EAAOxnH,UAAUyuG,aAAe,WAC5BjqG,KAAKuP,UAAYvL,GAAUhE,KAAKnG,SAxW9B,SAwW+C2K,GAAaxE,KAAKnG,SAxWjE,UA0WNmpH,EAAOxnH,UAAUopH,iBAAmB,WAChC,GAAInnH,EAAkBuC,KAAKtF,UAA6B,KAAjBsF,KAAKtF,QAAgB,CACxD,GAAIosH,GAA0D,KAA9C9mH,KAAKnG,QAAQW,UAAUb,QAAQ,MAAO,GACtD,IAAIqG,KAAKnG,QAAQiiB,SAASvjB,OAAS,GAAKuuH,EAEpC,IADA9mH,KAAK0mH,oBAAsB3rH,SAASoK,yBACM,IAAnCnF,KAAKnG,QAAQS,WAAW/B,QAC3ByH,KAAK0mH,oBAAoB3kH,YAAY/B,KAAKnG,QAAQS,WAAW,MAK7E0oH,EAAOxnH,UAAUqpH,UAAY,WACrB7kH,KAAKqrG,UACLrrG,KAAKqrG,UAAU7wG,UAAY,GAG3BwF,KAAKqrG,UAAYrrG,KAAKyB,cAAc,OAASkC,GAAI3D,KAAKnG,QAAQ8J,GAAK,SAAUD,UAxXxE,iBA0XT1D,KAAK+mH,sBACL/mH,KAAKkjH,cAAcnhH,YAAY/B,KAAKqrG,WACpCrrG,KAAK4mH,YAAY5mH,KAAKqyB,OAAQryB,KAAKqrG,WACnCtnG,EAAW/D,KAAKnG,SAAWi1B,kBAAmB9uB,KAAKnG,QAAQ8J,GAAK,WAChE3D,KAAKnG,QAAQuL,aAAapF,KAAKkjH,cAAeljH,KAAKnG,QAAQiiB,SAAS,KAExEknG,EAAOxnH,UAAU0pH,kBAAoB,WAC7BllH,KAAKumH,mBACLvmH,KAAKumH,mBAAmB/rH,UAAY,GAGpCwF,KAAKumH,mBAAqBvmH,KAAKyB,cAAc,OACzCiC,UArYS,qBAwYW,KAAxB1D,KAAKglH,gBAA0BvnH,EAAkBuC,KAAKglH,gBAItDhlH,KAAKumH,mBAAmB/rH,UAAYwF,KAAKomH,cAAc5lH,KAAK,IAH5DR,KAAK4mH,YAAY5mH,KAAKglH,eAAgBhlH,KAAKumH,oBAK/CvmH,KAAKnG,QAAQkI,YAAY/B,KAAKumH,qBAElCvD,EAAOxnH,UAAUurH,oBAAsB,WAC/BtpH,EAAkBuC,KAAKkjH,iBACvBljH,KAAKkjH,cAAgBljH,KAAKyB,cAAc,OAASiC,UApZpC,2BAuZrBs/G,EAAOxnH,UAAUupH,gBAAkB,WAC/B/kH,KAAKgnH,UAAYhnH,KAAKyB,cAAc,UAAYiC,UA1Y/B,sBA0Y8DI,OAAS/J,KAAM,YAC9FiG,KAAKinH,gBAAkB,GAAI3oB,KAAS/pF,SAAU,SAAUqqF,QAASsoB,6BACjElnH,KAAKmnH,iBACA1pH,EAAkBuC,KAAKkjH,gBAIxBljH,KAAK+mH,sBACLhiH,GAAS/E,KAAKgnH,WAAYhnH,KAAKkjH,eAC/BljH,KAAKnG,QAAQuL,aAAapF,KAAKkjH,cAAeljH,KAAKnG,QAAQiiB,SAAS,KALpE/W,GAAS/E,KAAKgnH,WAAYhnH,KAAKkjH,eAOnCljH,KAAKinH,gBAAgB1oE,SAASv+C,KAAKgnH,YAEvChE,EAAOxnH,UAAU2rH,eAAiB,WAC9BnnH,KAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,OACzB,IAAIm4G,GAAiBnnH,KAAKw7G,KAAKjvD,YAAY,QAC3CvsD,MAAKgnH,UAAUnjH,aAAa,QAASsjH,IAEzCnE,EAAOxnH,UAAUsuG,YAAc,SAAUgB,GACjC9qG,KAAKuU,UACLvQ,GAAUhE,KAAKnG,SAAUmG,KAAKuU,SAASrX,MAAM,MAE7C4tG,GACAtmG,GAAaxE,KAAKnG,SAAUixG,EAAY5tG,MAAM,OAGtD8lH,EAAOxnH,UAAU8pH,WAAa,WAC1BtlH,KAAKulH,aAAevlH,KAAKyB,cAAc,OAASiC,UA5apC,oBA6aZ1D,KAAKnG,QAAQrB,UAAUkM,OApahB,gBAqaP1E,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAKulH,aAAcvlH,KAAKnG,SAC7DmG,KAAKulH,aAAaxjH,YAAY/B,KAAKnG,SACnCmK,GAAUhE,KAAKnG,SApbP,eAqbRmG,KAAK0lH,WAAa1lH,KAAKyB,cAAc,OAASiC,UAlbpC,kBAmbV1D,KAAK0lH,WAAW9gH,MAAM44G,QAAUx9G,KAAKw9G,OAAS,GAAG78G,WACjDX,KAAKulH,aAAaxjH,YAAY/B,KAAK0lH,aAEvC1C,EAAOxnH,UAAU4rH,kBAAoB,SAAUzvH,GAE3C,IAAK,GADDqJ,GACKqmH,EAAI,EAAGA,EAAI1vH,EAAMY,OAAQ8uH,IAE9B,KADArmH,EAAOrJ,EAAM0vH,IACHC,aAAe,GAAqC,MAA/BtmH,EAAKsC,QAAQnL,eAAyB6I,EAAKgjH,aAAa,UAAahjH,EAAKumH,UAAY,IAChHvmH,EAAKy9F,WAAaz+F,KAAKwnH,eAAexmH,EAAM,qDAC7C,MAAOA,EAGf,OAAOA,IAEXgiH,EAAOxnH,UAAUqoH,kBAAoB,SAAUnpH,GAC3C,IAAK+C,EAAkB/C,GAAU,CAC7B,GACI/C,GAAQ+C,EAAQE,iBADR,qEAEZ,OAAOoF,MAAKonH,kBAAkBzvH,GAElC,MAAO,OAEXqrH,EAAOxnH,UAAUisH,iBAAmB,SAAU/qG,GAC1C,GAAI1b,GAAO0b,EAAU5Z,cAAc,wBAE/BnL,EAAQ+kB,EAAU9hB,iBADV,eAER8sH,EAAY1nH,KAAKonH,kBAAkBzvH,EACvC,IAAK8F,EAAkBiqH,GAGlB,CAED,GADAA,EAAY1nH,KAAK6jH,kBAAkB7jH,KAAKymH,aACnChpH,EAAkBiqH,GACnB,MAAO1mH,GAAO0mH,CAEb,KAAKjqH,EAAkBuC,KAAKkkH,kBAC7B,MAAOlkH,MAAKnG,QAAQiJ,cAAc,kBARtC9B,GAAO0mH,CAWX,OAAO1mH,IAEXgiH,EAAOxnH,UAAUgsH,eAAiB,SAAU3tH,EAAS8tH,GACjD,GAAIC,GAAe/tH,EAAUA,EAAQvB,SAAWuB,EAAQiN,uBAAyBjN,EAAQgN,kBAAoB,IAC7G,IAAI+gH,EACA,KAAO/tH,EAASA,EAAUA,EAAQiB,WAC9B,GAAIjB,YAAmBk4G,UAAW6V,EAAahnH,KAAK/G,EAAS8tH,GAEzD,MAAO9tH,EAInB,OAAO,OAEXmpH,EAAOxnH,UAAUiqH,aAAe,WAC5B,GAAI5rH,GAAUmG,KAAKynH,iBAAiBznH,KAAKnG,UAC7B4D,EAAkB5D,GAAqBmG,KAAKnG,QAAfA,GACpCwI,QACLrC,KAAK47G,UAAU57G,KAAKnG,UAExBmpH,EAAOxnH,UAAUogH,UAAY,SAAU/hH,GACnC4L,GAAalB,IAAI1K,EAAS,UAAWmG,KAAKyjH,QAASzjH,OAEvDgjH,EAAOxnH,UAAUmqH,YAAc,SAAU9rH,GACrC4L,GAAaf,OAAO7K,EAAS,UAAWmG,KAAKyjH,UAMjDT,EAAOxnH,UAAU0L,cAAgB,WAC7B,MAAO,UAMX87G,EAAOxnH,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACpD,GAAKh7B,KAAKnG,QAAQrB,UAAUC,SAAS8mH,IAGrC,IAAK,GAAIlhH,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACIZ,EAAkBuC,KAAKtF,UAA6B,KAAjBsF,KAAKtF,QAWnC+C,EAAkBuC,KAAKymH,cAC7BlhH,EAAOvF,KAAKymH,YACZzmH,KAAKymH,WAAa,MAZbhpH,EAAkBuC,KAAKymH,aAAwD,WAAzCzmH,KAAKymH,WAAWhgH,aAAa,QAOpEzG,KAAK4/G,cANL5/G,KAAKymH,WAAWjsH,UAAY,GACF,gBAAlBwF,cACJA,KAAKymH,WAAWjsH,UAAYwF,KAAKtF,QAAUsF,KAAKymH,WAAW1kH,YAAY/B,KAAKtF,SAChFsF,KAAKwkH,eAUb,MACJ,KAAK,SACmB,KAAhBxkH,KAAKqyB,QAAiB50B,EAAkBuC,KAAKqyB,QACzCryB,KAAKqrG,YACL9lG,EAAOvF,KAAKqrG,WACZrrG,KAAKqrG,UAAY,MAIrBrrG,KAAK6kH,WAET,MACJ,KAAK,iBACD,GAA4B,KAAxB7kH,KAAKglH,gBAAyBvnH,EAAkBuC,KAAKglH,gBAAiB,CACtE,IAAKhlH,KAAKumH,mBACN,MAEJhhH,GAAOvF,KAAKumH,oBACZvmH,KAAKumH,mBAAqB,KAC1BvmH,KAAKokH,iBAGLpkH,MAAKklH,oBACLllH,KAAKokH,YAET,MACJ,KAAK,gBACGpkH,KAAKnG,QAAQ2U,uBAljBhB,oBAkjBuDjW,OAAS,EACxDyH,KAAK8kH,eAAkC,KAAhB9kH,KAAKqyB,SAAiB50B,EAAkBuC,KAAKqyB,QAI/DryB,KAAK8kH,eACXv/G,EAAOvF,KAAKgnH,YAJZzhH,EAAOvF,KAAKkjH,eACZljH,KAAKkjH,cAAgB,OAOzBljH,KAAK+kH,kBACL/kH,KAAKumB,aAET,MACJ,KAAK,SACGvmB,KAAK8kH,eACL9kH,KAAKmnH,gBAET,MACJ,KAAK,UACDnnH,KAAKgmH,QAAUhmH,KAAKoiH,OAASpiH,KAAKsgH,MAClC,MACJ,KAAK,UACDtgH,KAAK6nH,eACL,MACJ,KAAK,SACDnhH,EAAkB1G,KAAKnG,SAAW4d,OAAU/U,EAAWq4B,EAAQtjB,SAC/D,MACJ,KAAK,QACD/Q,EAAkB1G,KAAKnG,SAAW6d,MAAShV,EAAWq4B,EAAQrjB,QAC9D,MACJ,KAAK,SACD1X,KAAKwlH,SAAShI,OAASx9G,KAAKw9G,OACxBx9G,KAAK0jH,SACL1jH,KAAK+lH,iBAAiB/lH,KAAKw9G,QAE/Bx9G,KAAK2kH,iBAAkB,CACvB,MACJ,KAAK,WACD3kH,KAAK8pG,YAAY9uE,EAAQzmB,SACzB,MACJ,KAAK,UACI9W,EAAkBuC,KAAKokH,QAAQ,GAAGC,eAC9B5mH,EAAkBuC,KAAKumH,sBACxBhhH,EAAOvF,KAAKumH,oBACZvmH,KAAKumH,mBAAqB,MAE9BvmH,KAAKglH,eAAiB,GACtBhlH,KAAKilH,YAET,MACJ,KAAK,gBACGjlH,KAAKmlH,gBAAmB1nH,EAAkBuC,KAAKkjH,eAC/CljH,KAAKolH,mBAGLplH,KAAKmmH,QAAQtyG,SAEjB,MACJ,KAAK,SACD7T,KAAKwlH,SAASnF,SAAWtlF,EAAQlyB,MACjC,MACJ,KAAK,WACD,GAAI7I,KAAK0jH,QAAS,CACd,GAAIvtG,GAAY1Y,EAAkBu9B,EAAQnlB,SAASiC,GAAK9X,KAAK6V,SAASiC,EAAIkjB,EAAQnlB,SAASiC,EACvF1B,EAAY3Y,EAAkBu9B,EAAQnlB,SAASkC,GAAK/X,KAAK6V,SAASkC,EAAIijB,EAAQnlB,SAASkC,CACvF/X,MAAKulH,aAAa/sH,UAAUC,SAAS,SAAW0d,EAAY,IAAMC,IAClEpW,KAAKulH,aAAa/sH,UAAUkM,OAAO,SAAWyR,EAAY,IAAMC,GAGxEpW,KAAK8lH,gBACL,MACJ,KAAK,YACD9lH,KAAKiqG,iBAKrB+Y,EAAOxnH,UAAUqsH,cAAgB,WAE7B,GADA7nH,KAAKnG,QAAQgK,aAAa,aAAc7D,KAAK0jH,QAAU,OAAS,SAC5D1jH,KAAK0jH,QACL1jH,KAAKslH,aACLtlH,KAAKnG,QAAQ+K,MAAM6I,IAAM,MACzBzN,KAAKnG,QAAQ+K,MAAM2I,KAAO,MACrB9P,EAAkBuC,KAAKukH,YACxBvkH,KAAKukH,UAAUxiH,YAAY/B,KAAKulH,kBAGnC,CAID,IAHA/gH,GAAaxE,KAAKnG,SA7oBd,eA8oBJ2K,GAAazJ,SAAS+R,MAzoBZ,qBA0oBVvH,EAAOvF,KAAK0lH,YACL1lH,KAAKulH,aAAanmG,YACrBpf,KAAKulH,aAAavvG,cAAc5Q,aAAapF,KAAKulH,aAAanmG,WAAYpf,KAAKulH,aAEpFvlH,MAAKulH,aAAavvG,cAAcxQ,YAAYxF,KAAKulH,cAEjDvlH,KAAKgmH,SACLhmH,KAAKoiH,OAETpiH,KAAK8lH,kBAET9C,EAAOxnH,UAAUkpH,UAAY,SAAUnC,EAAeuF,GAClD,GAAItE,GAAexjH,KAAKs0B,mBACxBt0B,MAAKs0B,qBAAsB,EAC3Bt0B,KAAKw9G,OAAS9hG,GAAiB6mG,GAC/BviH,KAAKs0B,oBAAsBkvF,EACvBsE,IACA9nH,KAAKwlH,SAAShI,OAASx9G,KAAKw9G,SAOpCwF,EAAOxnH,UAAU6jD,eAAiB,WAC9B,MAAOr/C,MAAK8/C,kBAQhBkjE,EAAOxnH,UAAUqY,QAAU,WACvB,GAAI7T,KAAKnG,QAAQrB,UAAUC,SAAS8mH,IAAO,CACvCv/G,KAAKi/F,eACLlmE,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,KAC9B,IAAImjH,IACA5D,GAzrBN,QAIM,cA4rBJ,IALA/6G,GAAaxE,KAAKnG,QAASmG,KAAKnG,SAAUspH,GACtCnjH,KAAKwlH,SAAS3rH,QAAQrB,UAAUC,SAhrB/B,YAirBDuH,KAAKwlH,SAAS3xG,WAGbpW,EAAkBuC,KAAK4jH,QACxB,IAAK,GAAIvrH,OAAI,GAAQA,EAAI2H,KAAK4jH,OAAOrrH,OAAQF,IACzC2H,KAAK4jH,OAAOvrH,GAAGwb,SASvB,KANI7T,KAAK0jH,UACLn+G,EAAOvF,KAAK0lH,YACZ1lH,KAAKulH,aAAazqH,WAAWsK,aAAapF,KAAKnG,QAASmG,KAAKulH,cAC7DhgH,EAAOvF,KAAKulH,eAEhBvlH,KAAKnG,QAAQW,UAAY,GAClBwF,KAAKnG,QAAQkK,WAAWxL,OAAS,GACpCyH,KAAKnG,QAAQyS,gBAAgBtM,KAAKnG,QAAQkK,WAAW,GAAGkvB,KAE5D,KAAK,GAAI7K,GAAI,EAAGA,EAAIpoB,KAAKojH,UAAUr/G,WAAWxL,OAAQ6vB,IAClDpoB,KAAKnG,QAAQgK,aAAa7D,KAAKojH,UAAUr/G,WAAWqkB,GAAG6K,KAAMjzB,KAAKojH,UAAUr/G,WAAWqkB,GAAGprB,SAQtGgmH,EAAOxnH,UAAU+qB,WAAa,WACtBvmB,KAAK8kH,eACLr/G,GAAalB,IAAIvE,KAAKgnH,UAAW,QAAShnH,KAAKqjH,2BAA4BrjH,MAE3EA,KAAK0jH,SACLj+G,GAAalB,IAAIvE,KAAK0lH,WAAY,QAAS1lH,KAAKsjH,4BAA6BtjH,OAOrFgjH,EAAOxnH,UAAUyjG,aAAe,WAO5B,GANIj/F,KAAK8kH,eACLr/G,GAAaf,OAAO1E,KAAKgnH,UAAW,QAAShnH,KAAKqjH,4BAElDrjH,KAAK0jH,SACLj+G,GAAaf,OAAO1E,KAAK0lH,WAAY,QAAS1lH,KAAKsjH,8BAElD7lH,EAAkBuC,KAAKokH,QAAQ,GAAGC,aACnC,IAAK,GAAIhsH,GAAI,EAAGA,EAAI2H,KAAKokH,QAAQ7rH,OAAQF,IACE,kBAA3B2H,MAAKokH,QAAQ/rH,UACrBoN,GAAaf,OAAO1E,KAAKumH,mBAAmBzqG,SAASzjB,GAAI,QAAS2H,KAAKokH,QAAQ/rH,GAAGisH,QASlGtB,EAAOxnH,UAAUmkH,gBAAkB,WAC/B3/G,KAAKwlH,SAAS7F,mBAQlBqD,EAAOxnH,UAAU4mH,KAAO,SAAU2F,GAC9B,GAAK/nH,KAAKnG,QAAQrB,UAAUC,SAAS8mH,OAGhCv/G,KAAKnG,QAAQrB,UAAUC,SAlvBrB,kBAkvB6CgF,EAAkBsqH,IAAgB,CAC7EtqH,EAAkBsqH,IACnB/nH,KAAKgoH,WAAWD,EAEpB,IAAI15G,IACA8hB,QAAQ,EACRt2B,QAASmG,KAAKnG,QACd6iB,UAAW1c,KAAK0jH,QAAU1jH,KAAKulH,aAAevlH,KAAKnG,QACnDgP,OAAQ7I,KAAK6I,OAGjB,IADA7I,KAAKyoB,QAAQ,aAAcpa,GACvBA,EAAU8hB,OACV,MAEJnwB,MAAK6lH,mBAAqB9qH,SAASm1G,cACnClwG,KAAKnG,QAAQ0tH,UAAY,EACrBvnH,KAAK0jH,UAAajmH,EAAkBuC,KAAK0lH,cACzC1lH,KAAK0lH,WAAW9gH,MAAM6hD,QAAU,QAChCzmD,KAAKulH,aAAa3gH,MAAM6hD,QAAU,OAClCjiD,GAAaxE,KAAK0lH,YAAa,UAC1BjoH,EAAkBuC,KAAKukH,WAYxBvgH,GAAUjJ,SAAS+R,MA1xBjB,sBA+wBE9M,KAAKukH,YAAcxpH,SAAS+R,KAC5B9M,KAAKulH,aAAa3gH,MAAMiR,SAAW,QAGnC7V,KAAKulH,aAAa3gH,MAAMiR,SAAW,WAEvC7V,KAAK0lH,WAAW9gH,MAAMiR,SAAW,WACjC7V,KAAKnG,QAAQ+K,MAAMiR,SAAW,WAC9B7R,GAAUhE,KAAKukH,WAvxBb,sBA6xBV,IAAI0D,IACAh1F,KAAMjzB,KAAKkoH,kBAAkBjc,OAAS,KACtCx/F,SAAUzM,KAAKkoH,kBAAkBz7G,SACjC5M,MAAOG,KAAKkoH,kBAAkBroH,OAE9B0iH,EAAiBviH,aAAgBA,KAAKnG,QAAQmc,cAAgBhW,KAAKnG,OACnEmG,MAAK2kH,kBACL3kH,KAAK0kH,UAAUnC,GAAe,GAC9B77G,EAAkB1G,KAAKnG,SAAW2jH,OAAUx9G,KAAKw9G,SAC7Cx9G,KAAK0jH,SACL1jH,KAAK+lH,iBAAiB/lH,KAAKw9G,SAGD,SAAlCx9G,KAAKkoH,kBAAkBjc,OAAoBjsG,KAAKwlH,SAASpD,OAASpiH,KAAKwlH,SAASpD,KAAK6F,GACrFjoH,KAAKmoH,YAAa,CAClB,IAAI3E,GAAexjH,KAAKs0B,mBACxBt0B,MAAKs0B,qBAAsB,EAC3Bt0B,KAAKgmH,SAAU,EACfhmH,KAAKs0B,oBAAsBkvF,IAOnCR,EAAOxnH,UAAU8kH,KAAO,SAAU/jH,GAC9B,GAAKyD,KAAKnG,QAAQrB,UAAUC,SAAS8mH,IAArC,CAGA,GAAIlxG,IACA8hB,QAAQ,EACRzE,gBAAenvB,EACf1C,QAASmG,KAAKnG,QACdgP,OAAQ7I,KAAK6I,OACb6T,UAAW1c,KAAK0jH,QAAU1jH,KAAKulH,aAAevlH,KAAKnG,QACnD0C,MAAOA,EAIX,IAFAyD,KAAKyoB,QAAQ,cAAepa,GAC5BrO,KAAK4lH,UAAYv3G,GACbA,EAAU8hB,OAAd,CAGInwB,KAAK0jH,UACJjmH,EAAkBuC,KAAKukH,WACpB//G,GAAazJ,SAAS+R,MAz0BhB,qBAw0B2BtI,GAAaxE,KAAKukH,WAx0B7C,qBA20Bd,IAAI6D,IACAn1F,KAAMjzB,KAAKkoH,kBAAkBjc,OAAS,MACtCx/F,SAAUzM,KAAKkoH,kBAAkBz7G,SACjC5M,MAAOG,KAAKkoH,kBAAkBroH,MAEA,UAAlCG,KAAKkoH,kBAAkBjc,OAAoBjsG,KAAKwlH,SAASlF,OAAStgH,KAAKwlH,SAASlF,KAAK8H,GACrFpoH,KAAKmoH,YAAa,CAClB,IAAI3E,GAAexjH,KAAKs0B,mBACxBt0B,MAAKs0B,qBAAsB,EAC3Bt0B,KAAKgmH,SAAU,EACfhmH,KAAKs0B,oBAAsBkvF,KAM/BR,EAAOxnH,UAAUwsH,WAAa,SAAU/nH,GAC1BD,KAAKnG,QAAQkc,UACZ/V,KAAKnG,QAAQic,UACxB,IAAI7V,EAAM,CACN+D,GAAUhE,KAAKnG,SA11BV,mBA21BL,IAAI4sD,GAAUzmD,KAAKnG,QAAQ+K,MAAM6hD,OACjCzmD,MAAKnG,QAAQ+K,MAAM6hD,QAAU,OAC7BzmD,KAAKnG,QAAQ+K,MAAMiiH,UAAcppH,EAAkBuC,KAAK6I,QACZ7M,mBAAsB,KAA7DgE,KAAKukH,uBAA0B,KACpCvkH,KAAKnG,QAAQ+K,MAAM6hD,QAAUA,EAC7BziD,GAAUjJ,SAAS+R,MAr2BT,qBAs2BN9M,KAAKmlH,gBAAkB1nH,EAAkBuC,KAAKmmH,UAC9CnmH,KAAKmmH,QAAQtyG,cAIjBrP,IAAaxE,KAAKnG,SAt2Bb,oBAu2BL2K,GAAazJ,SAAS+R,MA52BZ,qBA62BN9M,KAAKmlH,gBAAmB1nH,EAAkBuC,KAAKkjH,gBAC/CljH,KAAKolH,kBAGb,OAAOnlH,IAQX+iH,EAAOxnH,UAAU6sH,WAAa,SAAUnwH,GACpC,MAAKuF,GAAkBvF,GAGhB8H,KAAK4jH,OAFD5jH,KAAK4jH,OAAO1rH,IAI3BogC,IACI1vB,GAAS,KACVo6G,EAAOxnH,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACVo6G,EAAOxnH,UAAW,oBAAiB,IACtC88B,IACI1vB,IAAS,IACVo6G,EAAOxnH,UAAW,cAAW,IAChC88B,IACI1vB,GAAS,KACVo6G,EAAOxnH,UAAW,aAAU,IAC/B88B,IACI1vB,IAAS,IACVo6G,EAAOxnH,UAAW,cAAW,IAChC88B,IACI1vB,GAAS,SACVo6G,EAAOxnH,UAAW,aAAU,IAC/B88B,IACI1vB,GAAS,SACVo6G,EAAOxnH,UAAW,YAAS,IAC9B88B,IACI1vB,GAAS,KACVo6G,EAAOxnH,UAAW,eAAY,IACjC88B,IACI1vB,GAAS,MACVo6G,EAAOxnH,UAAW,aAAU,IAC/B88B,IACI1vB,GAAS,OACVo6G,EAAOxnH,UAAW,aAAU,IAC/B88B,IACI1vB,GAAS,KACVo6G,EAAOxnH,UAAW,qBAAkB,IACvC88B,IACI1vB,IAAS,IACVo6G,EAAOxnH,UAAW,oBAAiB,IACtC88B,IACI/uB,QAAiBm5G,KAClBM,EAAOxnH,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACVo6G,EAAOxnH,UAAW,oBAAiB,IACtC88B,IACIjvB,MAAYs5G,KACbK,EAAOxnH,UAAW,wBAAqB,IAC1C88B,IACIjvB,IAAUyO,EAAG,SAAUC,EAAG,UAAYsnG,KACvC2D,EAAOxnH,UAAW,eAAY,IACjC88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,cAAW,IAChC88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,WAAQ,IAC7B88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,iBAAc,IACnC88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,YAAS,IAC9B88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,kBAAe,IACpC88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,gBAAa,IAClC88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,eAAY,IACjC88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,WAAQ,IAC7B88B,IACI7uB,MACDu5G,EAAOxnH,UAAW,mBAAgB,IACrCwnH,EAAS1qF,IACLvuB,IACDi5G,IAEL/kE,KAMF,SAAW4pD,GASP,QAASygB,GAAMroH,GACX,GACIsoH,GAAgB9mH,EAAc,OAASiC,UAAao/G,IACxD/nH,UAAS+R,KAAK/K,YAAYwmH,EAC1B,IAAIC,GACAC,IACIpE,aAAe9lB,WAAW,EAAM7jG,QAAS,MACzC4pH,MAAO,WACHtkH,KAAKsgH,SAsBjB,OAlBIkI,GADkB,mBACDE,GAAehuH,QAASuF,EACrC4V,UAAYiC,EAAG,SAAUC,EAAG,OAC5B2rG,SAAS,EAAMrxF,OAAQuwF,GACvBwB,QAASqE,GAAiBF,GAGbG,EAAaC,EAAa1oH,GAAOsoH,GAEtDC,EAAepmH,MAAQ,WACnBomH,EAAe30G,UACX20G,EAAe3uH,QAAQrB,UAAUC,SAAS,gBAC1C+vH,EAAe3uH,QAAQmc,cAActR,SACrC8jH,EAAe3/G,OAAOrQ,UAAUkM,OAAOm+G,KAGvC2F,EAAe3uH,QAAQ6K,UAGxB8jH,EAWX,QAASI,GAAQ3oH,GACb,GACIsoH,GAAgB9mH,EAAc,OAASiC,UAAaq/G,IACxDhoH,UAAS+R,KAAK/K,YAAYwmH,EAC1B,IAAIM,GACAC,IACIzE,aAAe9lB,WAAW,EAAM7jG,QAAS,MACzC4pH,MAAO,WACHtkH,KAAKsgH,UAGT+D,aAAe3pH,QAAS,UACxB4pH,MAAO,WACHtkH,KAAKsgH,SAqBjB,OAjBIuI,GADkB,mBACCH,GAAe7yG,UAAYiC,EAAG,SAAUC,EAAG,OAASrd,QAASuF,EAAMyjH,SAAS,EAC3FrxF,OAAQuwF,GAAwBwB,QAAS0E,GAC1CP,GAGgBG,EAAaK,EAAe9oH,GAAOsoH,GAE1DM,EAAiBzmH,MAAQ,WACrBymH,EAAiBh1G,UACbg1G,EAAiBhvH,QAAQrB,UAAUC,SAAS,gBAC5CowH,EAAiBhvH,QAAQmc,cAActR,SACvCmkH,EAAiBhgH,OAAOrQ,UAAUkM,OAAOm+G,KAGzCgG,EAAiBhvH,QAAQ6K,UAG1BmkH,EAGX,QAASH,GAAap0G,EAASza,GAC3B,GAAImvH,GAAe,GAAIhG,IAAO1uG,EAE9B,OADA00G,GAAazqE,SAAS1kD,GACfmvH,EAEX,QAASL,GAAahiF,GAClB,GAAIryB,KAIJ,OAHAA,GAAQ8vG,WACR9vG,EAAU20G,EAAY30G,EAASqyB,GAC/BryB,EAAU40G,EAAoB50G,EAASqyB,GAG3C,QAASoiF,GAAepiF,GACpB,GAAIryB,KAIJ,OAHAA,GAAQ8vG,WACR9vG,EAAU20G,EAAY30G,EAASqyB,GAC/BryB,EAAU60G,EAAsB70G,EAASqyB,GAG7C,QAASsiF,GAAY30G,EAASqyB,GAQ1B,MAPAryB,GAAQ+d,OAAU50B,EAAkBkpC,EAAO+mB,OAAwBk1D,GAAfj8E,EAAO+mB,MAC3Dp5C,EAAQ5Z,QAAW+C,EAAkBkpC,EAAOjsC,SAA4B,GAAjBisC,EAAOjsC,QAC9D4Z,EAAQovG,UAAWjmH,EAAkBkpC,EAAO+8E,UAAW/8E,EAAO+8E,QAC9DpvG,EAAQwwG,eAAiBrnH,EAAkBkpC,EAAOm+E,gBAAiBn+E,EAAOm+E,cAC1ExwG,EAAQ6wG,eAAiB1nH,EAAkBkpC,EAAOyiF,cAAeziF,EAAOyiF,YACxE90G,EAAQ2vG,eAAiBxmH,EAAkBkpC,EAAOs9E,gBAAiBt9E,EAAOs9E,cAC1E3vG,EAAQuB,SAAYpY,EAAkBkpC,EAAO9wB,WAAgCiC,EAAG,SAAUC,EAAG,OAApC4uB,EAAO9wB,SACzDvB,EAEX,QAAS40G,GAAoB50G,EAASqyB,GAClC,GAAI0iF,KACIhF,aAAe9lB,WAAW,EAAM7jG,QAAS,MACzC4pH,MAAO,WACHtkH,KAAKsgH,SASjB,OANK7iH,GAAkBkpC,EAAO2iF,UAI1Bh1G,EAAQ8vG,QAAUiF,EAHlB/0G,EAAQ8vG,QAAQ,GAAKmF,EAAgBj1G,EAAQ8vG,QAAQ,GAAIz9E,EAAO2iF,SAAUD,EAAiB,IAKxF/0G,EAEX,QAAS60G,GAAsB70G,EAASqyB,GACpC,GAAI8hF,IACApE,aAAe9lB,WAAW,EAAM7jG,QAAS,MACzC4pH,MAAO,WACHtkH,KAAKsgH,SAGTkJ,GACAnF,aAAe3pH,QAAS,UACxB4pH,MAAO,WACHtkH,KAAKsgH,QAeb,OAZK7iH,GAAkBkpC,EAAO2iF,UAI1Bh1G,EAAQ8vG,QAAQ,GAAKqE,EAHrBn0G,EAAQ8vG,QAAQ,GAAKmF,EAAgBj1G,EAAQ8vG,QAAQ,GAAIz9E,EAAO2iF,SAAUb,GAKzEhrH,EAAkBkpC,EAAO8iF,cAI1Bn1G,EAAQ8vG,QAAQ,GAAKoF,EAHrBl1G,EAAQ8vG,QAAQ,GAAKmF,EAAgBj1G,EAAQ8vG,QAAQ,GAAIz9E,EAAO8iF,aAAcD,GAK3El1G,EAEX,QAASi1G,GAAgBlF,EAAa19E,EAAQ+iF,GAC1C,GAAIC,GAAcD,CAalB,OAZKjsH,GAAkBkpC,EAAOltC,QAC1BkwH,EAAYtF,YAAY3pH,QAAUisC,EAAOltC,MAExCgE,EAAkBkpC,EAAOo7D,QAC1B4nB,EAAYtF,YAAYzlB,QAAUj4D,EAAOo7D,MAExCtkG,EAAkBkpC,EAAOpyB,YAC1Bo1G,EAAYtF,YAAY9vG,SAAWoyB,EAAOpyB,UAEzC9W,EAAkBkpC,EAAO29E,SAC1BqF,EAAYrF,MAAQ39E,EAAO29E,OAExBqF,EAnIX9hB,EAAcygB,MAAQA,EA6CtBzgB,EAAc+gB,QAAUA,GAwFzB/gB,KAAkBA,OGzsCrB,ICoBWl6E,IDpBPmK,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAiC5DI,GAA2B,SAAUC,GAErC,QAASD,KACL,MAAkB,QAAXC,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAQ/D,MAVA83B,IAAUgB,EAAWC,GAIrBT,IACI1vB,IAAWqjG,OAAQ,SAAUx/F,SAAU,IAAK5M,MAAO,KACpDi5B,EAAUt9B,UAAW,WAAQ,IAChC88B,IACI1vB,IAAWqjG,OAAQ,UAAWx/F,SAAU,IAAK5M,MAAO,KACrDi5B,EAAUt9B,UAAW,YAAS,IAC1Bs9B,GACT6J,IAcEinF,GAAyB,SAAU7wF,GAKnC,QAAS6wF,GAAQt1G,EAASza,GACtB,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KAk7BlD,MAv7BA83B,IAAU8xF,EAAS7wF,GAOnB6wF,EAAQpuH,UAAU+lD,WAAa,WAC3BvhD,KAAK6pH,iBACL7lH,GAAUhE,KAAKnG,SArDZ,cAuDP+vH,EAAQpuH,UAAUquH,eAAiB,WACM,IAAjC7pH,KAAK6V,SAASrX,QAAQ,QAAoD,IAApCwB,KAAK6V,SAASrX,QAAQ,WAC5DwE,EAAKhD,KAAK6V,SAAS3Y,MAAM,aAAc8C,KAAK8pH,iBAAmB9mH,EAAG,GAAIhD,KAAK+pH,iBAAmB/mH,EAAG,KAGjGqB,EAAKrE,KAAK6V,SAAS3Y,MAAM,aAAc8C,KAAK+pH,iBAAmB1lH,EAAG,GAAIrE,KAAK8pH,iBAAmBzlH,EAAG,GAErG,IAAIrB,GAAIqB,GAEZulH,EAAQpuH,UAAUwuH,YAAc,WAC5BhqH,KAAKiqH,YAAYjqH,KAAK6V,SACtB,IAAIq0G,GAAMlqH,KAAKyB,cAAc,OAASiC,UAAWymH,eAAkBnqH,KAAKoqH,UACxEF,GAAInoH,YAAY/B,KAAKyB,cAAc,OAASiC,UAAW2mH,qBAAwBrqH,KAAKoqH,YACpFF,EAAInoH,YAAY/B,KAAKyB,cAAc,OAASiC,UAAW4mH,qBAAwBtqH,KAAKoqH,YACpFpqH,KAAKuqH,WAAWxoH,YAAYmoH,IAEhCN,EAAQpuH,UAAUyuH,YAAc,SAAUp0G,GACJ,IAA9BA,EAASrX,QAAQ,SACjBwB,KAAKoqH,SA7DF,aA+DiC,IAA/Bv0G,EAASrX,QAAQ,UACtBwB,KAAKoqH,SAjEH,YAmEgC,IAA7Bv0G,EAASrX,QAAQ,QACtBwB,KAAKoqH,SAlED,cAqEJpqH,KAAKoqH,SAxEA,gBA2EbR,EAAQpuH,UAAUgvH,YAAc,SAAU3hH,GACtC,GAAI4hH,GAASzqH,KAAK0qH,YAAej9G,IAAK,EAAGF,KAAM,GAAMvN,KAAK2qH,mBAAmB9hH,EAC7E7I,MAAKwlH,SAAW,GAAI9F,IAAM1/G,KAAKuqH,YAC3B9yG,OAAQzX,KAAKyX,OACbC,MAAO1X,KAAK0X,MACZ7B,UACIiC,EAAG2yG,EAAOl9G,KACVwK,EAAG0yG,EAAOh9G,KAEd8B,UAAWvP,KAAKuP,UAChBzN,KAAM9B,KAAK4qH,iBAAiBnvH,KAAKuE,MACjCoC,MAAOpC,KAAK6qH,kBAAkBpvH,KAAKuE,SAG3C4pH,EAAQpuH,UAAUmvH,mBAAqB,SAAU9hH,GAC7C7I,KAAKuqH,WAAW3lH,MAAM6hD,QAAU,MAChC,IAAI/vC,GAAMT,GAAkBpN,EAAQ7I,KAAK+pH,iBAAkB/pH,KAAK8pH,iBAChE9pH,MAAKuqH,WAAW3lH,MAAM6hD,QAAU,EAChC,IAAIqkE,GAAY9qH,KAAK+qH,uBAAuB/qH,KAAK6V,SAEjD,OADa7V,MAAKgrH,iBAAiBniH,EAAQ6N,EAAInJ,KAAOu9G,EAAUv9G,KAAMmJ,EAAIjJ,IAAMq9G,EAAUr9G,MAG9Fm8G,EAAQpuH,UAAU8lH,WAAa,SAAUz4G,GACrC,GAAI4hH,GAASzqH,KAAK2qH,mBAAmB9hH,EACrC7I,MAAKwlH,SAAS3vG,UAAaiC,EAAG2yG,EAAOl9G,KAAMwK,EAAG0yG,EAAOh9G,KACrDzN,KAAKwlH,SAASxwF,YAElB40F,EAAQpuH,UAAUovH,iBAAmB,WACjC5qH,KAAKyoB,QAAQ,YAAazoB,KAAKirH,mBAEnCrB,EAAQpuH,UAAUqvH,kBAAoB,WAClC7qH,KAAKynB,QACLznB,KAAKyoB,QAAQ,aAAczoB,KAAKirH,mBAEpCrB,EAAQpuH,UAAUuvH,uBAAyB,SAAUl1G,GACjD,GAAIa,IAAQjJ,IAAK,EAAGF,KAAM,GACtB29G,EAAkBlrH,KAAKuqH,WAAWzlH,YAClCqmH,EAAmBnrH,KAAKuqH,WAAWtmE,aACnCmnE,EAAWprH,KAAKuqH,WAAWznH,cAAc,gBACzCuoH,EAAWD,EAAWA,EAAStmH,YAAc,EAC7CwmH,EAAYF,EAAWA,EAASnnE,aAAe,EAC/CsnE,EAAavrH,KAAKwrH,eAlIH,EACA,EAkIfC,EAAmBH,EAAY,EAhItB,GAgI6CtrH,KAAKuqH,WAAWtmE,aAAejkD,KAAKuqH,WAAWjD,cACrGoE,EAAkBL,EAAW,EAjIpB,GAiI2CrrH,KAAKuqH,WAAWzlH,YAAc9E,KAAKuqH,WAAWoB,YAItG,QAHI3rH,KAAK0qH,aACLa,GApIU,GAsIN11G,GACJ,IAAK,WACDa,EAAInJ,MAAQ89G,EAAWE,EACvB70G,EAAIjJ,KAAO09G,EAAmBM,CAC9B,MACJ,KAAK,cACD/0G,EAAInJ,MAAQ89G,EAAWE,EACvB70G,EAAIjJ,KAAQ09G,EAAmB,CAC/B,MACJ,KAAK,cACDz0G,EAAInJ,MAAQ89G,EAAWE,EACvB70G,EAAIjJ,MACJ,MACJ,KAAK,cACDiJ,EAAIjJ,KAAQ69G,EAAYC,EACxB70G,EAAInJ,OACJ,MACJ,KAAK,eACDmJ,EAAIjJ,KAAQ69G,EAAYC,EACxB70G,EAAInJ,MAAS29G,EAAkB,CAC/B,MACJ,KAAK,aACDx0G,EAAIjJ,KAAQ69G,EAAYC,EACxB70G,EAAInJ,MAAS29G,EAAkBQ,CAC/B,MACJ,KAAK,aACDh1G,EAAInJ,MAAS89G,EAAWH,EAAkBK,EAC1C70G,EAAIjJ,MACJ,MACJ,KAAK,aACDiJ,EAAInJ,MAAS89G,EAAWH,EAAkBK,EAC1C70G,EAAIjJ,KAAQ09G,EAAmB,CAC/B,MACJ,KAAK,UACDz0G,EAAInJ,MAAS89G,EAAWH,EAAkBK,EAC1C70G,EAAIjJ,KAAQ09G,EAAmBM,CAC/B,MACJ,KAAK,UACD/0G,EAAIjJ,KAAQ09G,EAAmBG,EAAYC,EAC3C70G,EAAInJ,MAAS29G,EAAkBQ,CAC/B,MACJ,KAAK,WACDh1G,EAAIjJ,KAAQ09G,EAAmBG,EAAYC,EAC3C70G,EAAInJ,OACJ,MACJ,SACImJ,EAAIjJ,KAAQ09G,EAAmBG,EAAYC,EAC3C70G,EAAInJ,MAAS29G,EAAkB,EAKvC,MAFAx0G,GAAInJ,MAAQvN,KAAK4M,QACjB8J,EAAIjJ,KAAOzN,KAAKgN,QACT0J,GAEXkzG,EAAQpuH,UAAUowH,kBAAoB,SAAU/1G,GAC5C,GAAIg2G,GAAS7rH,KAAKuqH,WAAW3vH,iBAAiB,qDAE9C4J,GAAYqnH,GAnLH,eACH,YACC,aACC,gBAiLR7rH,KAAKiqH,YAAYp0G,GACjB7R,EAAS6nH,EAAQ7rH,KAAKoqH,WAE1BR,EAAQpuH,UAAUswH,YAAc,SAAUjjH,EAAQgN,EAAUk0G,EAAkBD,GAC1E,IAA4B,IAAxB9pH,KAAKwrH,eAAT,CAGAxrH,KAAK4rH,kBAAkB/1G,EACvB,IAAIk2G,GACAC,EACAC,EAAejsH,KAAKuqH,WAAWoB,YAC/BO,EAAgBlsH,KAAKuqH,WAAWjD,aAChC8D,EAAWprH,KAAKuqH,WAAWznH,cAAc,gBACzCqpH,EAAgBnsH,KAAKuqH,WAAWznH,cAAc,sBAC9CuoH,EAAWD,EAAStmH,YACpBwmH,EAAYF,EAASnnE,YACzB,IApMS,iBAoMLjkD,KAAKoqH,UAnMH,cAmM8BpqH,KAAKoqH,SApMhC,iBAqMDpqH,KAAKoqH,UACL4B,EAAW,QAEXG,EAAcvnH,MAAM6I,IAAM,KAAO69G,EAAY,GAAK,OAGlDU,IAAaV,EAAY,GAAK,KAE9Ba,EAAcvnH,MAAM6I,IAAM,KAAO69G,EAAY,GAAK,MAIlDS,GAFAK,EAAqC,WAArBrC,GAAkCkC,EAAepjH,EAAO/D,aAAgB9E,KAAK0qH,aACtD,SAArBX,IAAkCqC,GAA6C,QAA5BpsH,KAAKqsH,mBAC7DJ,EAAeZ,EA5NvB,EA4NoD,KAEnDe,GAAsC,UAArBrC,IAAmCqC,GAA6C,UAA5BpsH,KAAKqsH,mBACpEC,MAGEL,EAAe,EAAMZ,EAAW,EAAM,SAGvD,CAvNG,gBAwNArrH,KAAKoqH,UACL2B,EAAY,QAEZI,EAAcvnH,MAAM2I,KAAO,KAAO89G,EAAW,GAAK,OAGlDU,IAAcV,EAAW,GAAK,KAE9Bc,EAAcvnH,MAAM2I,KAAuB89G,EAAW,IAAM,KAEhE,IAAIe,GAAqC,WAArBtC,GAAkCoC,EAAgBrjH,EAAOo7C,cAAiBjkD,KAAK0qH,UAE/FsB,GADCI,GAAsC,QAArBtC,IAAiCsC,GAA6C,QAA5BpsH,KAAKqsH,mBAC7DH,EAAgBZ,EAlPvB,EAkPqD,KAEpDc,GAAsC,WAArBtC,IAAoCsC,GAA6C,UAA5BpsH,KAAKqsH,mBACtEC,MAGEJ,EAAgB,EAAMZ,EAAY,EAAM,KAG7DF,EAASxmH,MAAM6I,IAAMu+G,EACrBZ,EAASxmH,MAAM2I,KAAOw+G,IAE1BnC,EAAQpuH,UAAU+wH,cAAgB,SAAU1jH,GACxC,GAAI2jH,GAAiBxsH,KAAKuqH,WAAWznH,cAAc,iBAC/C+F,KAAWpL,EAAkBoL,EAAOpC,aAAa,YACjDoC,EAAOhF,aAAa,eAAgBgF,EAAOpC,aAAa,UACxDoC,EAAOyD,gBAAgB,UAEtB7O,EAAkBuC,KAAKtF,SAcpBmO,IAAWpL,EAAkBoL,EAAOpC,aAAa,mBACjD+lH,EAAehyH,UAAYqO,EAAOpC,aAAa,kBAdnD+lH,EAAehyH,UAAY,GACvBwF,KAAKtF,kBAAmBisH,aACxB6F,EAAezqH,YAAY/B,KAAKtF,SAEH,gBAAjBsF,MAAKtF,QACjB8xH,EAAehyH,UAAYwF,KAAKtF,QAIhC4K,EADuBiL,GAAQvQ,KAAKtF,WACT8xH,KASvC5C,EAAQpuH,UAAUupH,gBAAkB,WAChC,GAAK/kH,KAAKysH,SAAV,CAGA,GAAIC,GAAW1sH,KAAKyB,cAAc,OAASiC,UAAWipH,2BACtD3sH,MAAKuqH,WAAWxoH,YAAY2qH,GAC5BjnH,GAAalB,IAAImoH,EAAUtgH,GAAQsrB,gBAAiB13B,KAAK4sH,cAAe5sH,QAE5E4pH,EAAQpuH,UAAUqxH,eAAiB,SAAUhkH,EAAQlF,GACjD,GAAImpH,IAAejkH,EAAOpC,aAAa,qBAAuB,IAAIvJ,MAAM,MACpE4vH,GAAYtuH,QAAQmF,GAAM,GAC1BmpH,EAAY9zH,KAAK2K,GAErBI,EAAW8E,GAAU29G,mBAAoBsG,EAAYtsH,KAAK,KAAKiR,OAAQs7G,kBAAmBppH,KAE9FimH,EAAQpuH,UAAUwxH,kBAAoB,SAAUnkH,GAC5C,GAAIlF,GAAKkF,EAAOpC,aAAa,mBACzBqmH,GAAejkH,EAAOpC,aAAa,qBAAuB,IAAIvJ,MAAM,OACpEhF,EAAQ40H,EAAYtuH,QAAQmF,IACjB,IAAXzL,GACA40H,EAAYviG,OAAOryB,EAAO,GAE9B2Q,EAAOyD,gBAAgB,kBACvB,IAAI2gH,GAAiBH,EAAYtsH,KAAK,KAAKiR,MACvCw7G,GACApkH,EAAOhF,aAAa,mBAAoBopH,GAGxCpkH,EAAOyD,gBAAgB,qBAG/Bs9G,EAAQpuH,UAAU0xH,eAAiB,SAAU1rE,GACzCrhD,aAAaH,KAAKmtH,gBAClBntH,KAAKotH,YAAY5rE,EAAI4O,gBAEzBw5D,EAAQpuH,UAAU6xH,gBAAkB,SAAUjsH,GAC1C,GAAIrB,GAAQC,IACZ,KAAIA,KAAKysH,SAAT,CAGA,GAAIrqH,GAAQ,WACRrC,EAAMqC,QAEVpC,MAAKmtH,eAAiBl1H,WAAWmK,EAvUf,QAyUtBwnH,EAAQpuH,UAAU8xH,YAAc,SAAUlsH,GACtC,GAAIyH,EAOApL,GALAoL,EADA7I,KAAK6I,OACI9C,EAAQ3E,EAAEyH,OAAQ7I,KAAK6I,QAGvB7I,KAAKnG,WAK6B,OAA3CgP,EAAOpC,aAAa,mBACpBzG,KAAKotH,YAAYhsH,GAEXpB,KAAKysH,UACXzsH,KAAKutH,YAAYvtH,KAAK65B,UAAUz3B,MAAOhB,EAAGyH,KAGlD+gH,EAAQpuH,UAAU4xH,YAAc,SAAUhsH,GACtC,GAAIyH,EAOJ,IALIA,EADA7I,KAAK6I,OACI9C,EAAQ3E,EAAEyH,OAAQ7I,KAAK6I,QAGvB7I,KAAKnG,SAEd4D,EAAkBoL,IAAsD,OAA3CA,EAAOpC,aAAa,mBAArD,CAIA,IAAK,GAAIpI,GAAK,EAAGmvH,KADG7rH,MAAMf,KAAK7F,SAASH,iBAAiB,qBAAuBoF,KAAKytH,OAAS,cAClDpvH,EAAKmvH,EAAaj1H,OAAQ8F,IAAM,CACxE,GAAIqvH,GAAWF,EAAanvH,EAC5B2B,MAAK2tH,eAAeD,GAExB1tH,KAAK4tH,YAAY/kH,EAAQ7I,KAAK65B,UAAU/3B,KAAMV,GAC9CpB,KAAK6tH,gBAAgBzsH,EAAGyH,KAE5B+gH,EAAQpuH,UAAUoyH,YAAc,SAAU/kH,EAAQ25G,EAAephH,GAC7D,GAAIrB,GAAQC,IAMZ,IALAG,aAAaH,KAAK8tH,WAClB3tH,aAAaH,KAAK+tH,WAClB/tH,KAAKirH,iBAAmB7pH,GAAMrH,KAAMqH,EAAErH,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO6E,EAAGvH,QAASmG,KAAKuqH,aAC7FxwH,KAAM,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO,KAAM1C,QAASmG,KAAKuqH,YAC5EvqH,KAAKyoB,QAAQ,eAAgBzoB,KAAKirH,kBAC9BjrH,KAAKirH,iBAAiB96F,OAGtB,MAFAnwB,MAAKguH,UAAW,MAChBhuH,MAAKynB,OA2CT,IAxCAznB,KAAKguH,UAAW,EACZvwH,EAAkBuC,KAAKuqH,aACvBvqH,KAAKytH,OAA2CjuH,EAAlCQ,KAAKnG,QAAQ4M,aAAa,MAAoBzG,KAAKnG,QAAQ4M,aAAa,MAAqB,WAC3GzG,KAAKuqH,WAAavqH,KAAKyB,cAAc,OACjCiC,UAAWuqH,yBAAiCnqH,OACxCsP,KAAM,UAAW86G,cAAe,QAASvqH,GAAM3D,KAAKytH,OAAS,YAC9D7pH,OAAQ,SAAWlB,EAAW1C,KAAK0X,OAAS,WAAahV,EAAW1C,KAAKyX,QAAU,wBAEtFzX,KAAKuU,UACLvQ,GAAUhE,KAAKuqH,YAAavqH,KAAKuU,SAASrX,MAAM,MAEhDkP,GAAQuc,UACR3kB,GAAUhE,KAAKuqH,YA9XlB,YAgYkB,SAAfvqH,KAAK0X,QACL1X,KAAKuqH,WAAW3lH,MAAMupH,SAAWzrH,EAAW1C,KAAK0X,QAErD1X,KAAKuqH,WAAWxoH,YAAY/B,KAAKyB,cAAc,OAASiC,UA/XtD,mBAgYF3I,SAAS+R,KAAK/K,YAAY/B,KAAKuqH,YAC/BvqH,KAAK6sH,eAAehkH,EAAQ7I,KAAKytH,OAAS,YAC1CztH,KAAKusH,cAAc1jH,GACnB7E,GAAUhE,KAAKuqH,YA1XV,gBA2XDvqH,KAAKwrH,gBACLxrH,KAAKgqH,cAEThqH,KAAK+kH,kBACL/kH,KAAKwqH,YAAY3hH,KAGjB7I,KAAK8rH,YAAYjjH,EAAQ7I,KAAK6V,SAAU7V,KAAK+pH,iBAAkB/pH,KAAK8pH,kBACpE9pH,KAAK6sH,eAAehkH,EAAQ7I,KAAKytH,OAAS,YAC1CztH,KAAKusH,cAAc1jH,GACnBulH,GAAevuG,KAAK7f,KAAKuqH,YACzBvqH,KAAKshH,WAAWz4G,IAEpBrE,GAAaxE,KAAKuqH,YAxYT,gBAyYTvmH,GAAUhE,KAAKuqH,YAxYL,iBAyYVvqH,KAAKirH,iBAAmB7pH,GAAMrH,KAAMqH,EAAErH,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO6E,EAAGvH,QAASmG,KAAKuqH,aAC7FxwH,KAAM,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO,KAAM1C,QAASmG,KAAKuqH,YAC5EvqH,KAAKyoB,QAAQ,aAAczoB,KAAKirH,kBAC5BjrH,KAAKirH,iBAAiB96F,OAGtB,MAFAnwB,MAAKguH,UAAW,MAChBhuH,MAAKynB,OAGT,IAAIwgG,IACAh1F,KAAMuvF,EAAcvW,OAAQx/F,SAAU+1G,EAAc/1G,SAAU5M,MAAO2iH,EAAc3iH,MAAO46B,eAAgB,UAK9G,IAH6B,SAAzB+nF,EAAcvW,SACdgc,MAAgB7uH,IAEhB4G,KAAKquH,UAAY,EAAG,CACpB,GAAIjM,GAAO,WACHriH,EAAMylH,UACNzlH,EAAMylH,SAASpD,KAAK6F,EAAep/G,GAG3C7I,MAAK8tH,UAAY71H,WAAWmqH,EAAMpiH,KAAKquH,eAGvCruH,MAAKwlH,SAASpD,KAAK6F,EAAep/G,IAG1C+gH,EAAQpuH,UAAUimH,eAAiB,SAAU54G,EAAQiF,EAAGC,GACpD,GAAI08G,IACAl9G,KAAMO,EAAGL,IAAKM,EAAG8H,SAAU7V,KAAK6V,SAChCy4G,WAAYtuH,KAAK+pH,iBAAkBwE,SAAUvuH,KAAK8pH,kBAElD0E,EAAcp1G,GAAUpZ,KAAKuqH,WAAavqH,KAAK6I,OAAS7I,KAAKnG,QAAU,KAAOiU,EAAGC,EAOrF,OANIygH,GAAYj2H,OAAS,IACrBkyH,EAAO6D,WAAaE,EAAYhwH,QAAQ,SAAW,EAAI,QAAUgwH,EAAYhwH,QAAQ,UAAY,EAAI,OACjGwB,KAAK+pH,iBACTU,EAAO8D,SAAWC,EAAYhwH,QAAQ,QAAU,EAAI,SAAWgwH,EAAYhwH,QAAQ,WAAa,EAAI,MAChGwB,KAAK8pH,kBAENW,GAEXb,EAAQpuH,UAAUwvH,iBAAmB,SAAUniH,EAAQiF,EAAGC,GACtD,GAAI08G,GAASzqH,KAAKyhH,eAAe54G,EAAQiF,EAAGC,GACxC0gH,EAAShE,EAAO50G,QAqBpB,IApBI7V,KAAK8pH,mBAAqBW,EAAO8D,WACjCE,EAA+C,IAApCzuH,KAAK6V,SAASrX,QAAQ,WAAoD,IAAjCwB,KAAK6V,SAASrX,QAAQ,OACtEisH,EAAO8D,SAAWvuH,KAAK+pH,iBAAmB/pH,KAAK+pH,iBAAmBU,EAAO8D,UAE7EvuH,KAAK+pH,mBAAqBU,EAAO6D,aACF,IAA3BG,EAAOjwH,QAAQ,UACfisH,EAAO8D,SAAuB,YAAXE,GAAmC,eAAXA,EAA2B,MAAQ,SAC9EA,EAAUhE,EAAO8D,SAAW,QAEA,IAA5BE,EAAOjwH,QAAQ,WACfisH,EAAO8D,SAAuB,aAAXE,GAAoC,gBAAXA,EAA4B,MAAQ,SAChFA,EAAUhE,EAAO8D,SAAW,SAEhC9D,EAAO6D,WAAatuH,KAAK+pH,kBAE7B/pH,KAAKirH,kBACDlxH,KAAM,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO,KAClD1C,QAASmG,KAAKuqH,WAAYmE,iBAAkBD,GAEhDzuH,KAAKyoB,QAAQ,kBAAmBzoB,KAAKirH,kBACjCR,EAAO50G,WAAa44G,EAAQ,CAC5B,GAAI/3G,GAAMT,GAAkBpN,EAAQ7I,KAAK+pH,iBAAkBU,EAAO8D,SAClEvuH,MAAK8rH,YAAYjjH,EAAQ4lH,EAAQhE,EAAO6D,WAAY7D,EAAO8D,SAC3D,IAAIzD,GAAY9qH,KAAK+qH,uBAAuB0D,EAC5ChE,GAAO50G,SAAW44G,EAClBhE,EAAOl9G,KAAOmJ,EAAInJ,KAAOu9G,EAAUv9G,KACnCk9G,EAAOh9G,IAAMiJ,EAAIjJ,IAAMq9G,EAAUr9G,QAGjCzN,MAAK8rH,YAAYjjH,EAAQ4lH,EAAQhE,EAAO6D,WAAY7D,EAAO8D,SAE/D,IAAII,IAAcphH,KAAMk9G,EAAOl9G,KAAME,IAAKg9G,EAAOh9G,KAC7CF,EAAOoK,GAAI3X,KAAKuqH,WAAavqH,KAAK6I,OAAS7I,KAAKnG,QAAU,MAASie,GAAG,EAAMC,GAAG,GAAS42G,GAAWphH,IACvG,IAAIvN,KAAKwrH,iBAAgD,IAA7BiD,EAAOjwH,QAAQ,WAA6C,IAA1BiwH,EAAOjwH,QAAQ,QAAe,CACxF,GAAI4sH,GAAWprH,KAAKuqH,WAAWznH,cAAc,gBACzC8rH,EAAY50F,SAASoxF,EAASxmH,MAAM2I,KAAM,KAAOA,EAAOk9G,EAAOl9G,KAC/DqhH,GAAY,EACZA,EAAY,EAENA,EAAYxD,EAAStmH,YAAe9E,KAAKuqH,WAAWoB,cAC1DiD,EAAY5uH,KAAKuqH,WAAWoB,YAAcP,EAAStmH,aAEvDsmH,EAASxmH,MAAM2I,KAAOqhH,EAAUjuH,WAAa,KAGjD,MADAguH,GAAUphH,KAAOA,EACVohH,GAEX/E,EAAQpuH,UAAU+xH,YAAc,SAAU9K,EAAerhH,EAAGo4G,GACxD,GACI3wG,GADA9I,EAAQC,IAcZ,IAZIoB,GACAyH,EAAS7I,KAAK6I,OAAU2wG,GAAiBp4G,EAAEyH,OAAU7I,KAAKnG,QAC1DmG,KAAKirH,kBACDlxH,KAAMqH,EAAErH,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO6E,EAAGvH,QAASmG,KAAKuqH,cAIzE1hH,EAAS9N,SAAS+H,cAAc,qBAAuB9C,KAAKytH,OAAS,aACrEztH,KAAKirH,kBACDlxH,KAAM,KAAMo2B,QAAQ,EAAOtnB,OAAQA,EAAQtM,MAAO,KAAM1C,QAASmG,KAAKuqH,cAG1E9sH,EAAkBoL,GAItB,GADA7I,KAAKyoB,QAAQ,cAAezoB,KAAKirH,kBAC5BjrH,KAAKirH,iBAAiB96F,OAsBvBnwB,KAAKguH,UAAW,MAtBe,CAC/BhuH,KAAK2tH,eAAe9kH,GACpB7I,KAAKguH,UAAW,CAChB,IAAIa,IACA57F,KAAMwvF,EAAcxW,OAAQx/F,SAAUg2G,EAAch2G,SAAU5M,MAAO4iH,EAAc5iH,MAAO46B,eAAgB,SAK9G,IAH6B,SAAzBgoF,EAAcxW,SACd4iB,MAAmBz1H,IAEnB4G,KAAK8uH,WAAa,EAAG,CACrB,GAAIxO,GAAO,WACHvgH,EAAMylH,UACNzlH,EAAMylH,SAASlF,KAAKuO,GAG5B7uH,MAAK+tH,UAAY91H,WAAWqoH,EAAMtgH,KAAK8uH,gBAGvC9uH,MAAKwlH,SAASlF,KAAKuO,KAO/BjF,EAAQpuH,UAAUmyH,eAAiB,SAAU9kH,GACzC7I,KAAK+uH,kBAAkBlmH,GAClBpL,EAAkBoL,EAAOpC,aAAa,mBACvCoC,EAAOhF,aAAa,QAASgF,EAAOpC,aAAa,iBACjDoC,EAAOyD,gBAAgB,iBAE3BtM,KAAKgtH,kBAAkBnkH,IAE3B+gH,EAAQpuH,UAAUisB,MAAQ,WAClBznB,KAAKuqH,aACL/lH,GAAaxE,KAAKuqH,YAzhBZ,iBA0hBNvmH,GAAUhE,KAAKuqH,YA3hBV,iBA6hBLvqH,KAAKguH,WACDhuH,KAAKwlH,UACLxlH,KAAKwlH,SAAS3xG,UAEd7T,KAAKuqH,YACL7lH,EAAO1E,KAAKuqH,YAEhBvqH,KAAKuqH,WAAa,KAClBvqH,KAAKwlH,SAAW,OAGxBoE,EAAQpuH,UAAUwzH,WAAa,SAAU5tH,GACrCpB,KAAKutH,YAAYvtH,KAAK65B,UAAUz3B,MAAOhB,IAE3CwoH,EAAQpuH,UAAUoxH,cAAgB,SAAUxrH,GACxCpB,KAAKoC,SAETwnH,EAAQpuH,UAAUyzH,YAAc,SAAU1yH,GACtC,GAAI2yH,GAAa,EACbC,EAAa,CACb5yH,GAAMxC,KAAKyE,QAAQ,UAAY,GAC/BjC,EAAMirB,iBACN0nG,EAAa3yH,EAAM6yH,QAAQ,GAAGviH,MAC9BsiH,EAAa5yH,EAAM6yH,QAAQ,GAAGniH,QAG9BiiH,EAAa3yH,EAAMsQ,MACnBsiH,EAAa5yH,EAAM0Q,OAEvBmhH,GAAevuG,KAAK7f,KAAKuqH,YACzB/lH,GAAaxE,KAAKuqH,YA1jBR,iBA2jBVvmH,GAAUhE,KAAKuqH,YA5jBN,gBA6jBTvqH,KAAK8rH,YAAYvvH,EAAMsM,OAAQ7I,KAAK6V,SAAU7V,KAAK+pH,iBAAkB/pH,KAAK8pH,iBAC1E,IAAIpzG,GAAM1W,KAAK+qH,uBAAuB/qH,KAAK6V,UACvC/H,EAAIohH,EAAax4G,EAAInJ,KAAOvN,KAAK4M,QACjCmB,EAAIohH,EAAaz4G,EAAIjJ,IAAMzN,KAAKgN,QAChCy9G,EAASzqH,KAAKyhH,eAAellH,EAAMsM,OAAQiF,EAAGC,EAClD,IAAI/N,KAAK+pH,mBAAqBU,EAAO6D,YAActuH,KAAK8pH,mBAAqBW,EAAO8D,SAAU,CAC1F,GAAIE,GAA8C,IAApCzuH,KAAK6V,SAASrX,QAAQ,WAAoD,IAAjCwB,KAAK6V,SAASrX,QAAQ,OACzEisH,EAAO8D,SAAW9D,EAAO6D,WAAa7D,EAAO6D,WAAa7D,EAAO8D,QACrE9D,GAAO50G,SAAW44G,EAClBzuH,KAAK8rH,YAAYvvH,EAAMsM,OAAQ4hH,EAAO50G,SAAU40G,EAAO6D,WAAY7D,EAAO8D,SAC1E,IAAIc,GAASrvH,KAAK+qH,uBAAuBN,EAAO50G,SAChD40G,GAAOl9G,KAAO2hH,EAAaG,EAAO9hH,KAAOvN,KAAK4M,QAC9C69G,EAAOh9G,IAAM0hH,EAAaE,EAAO5hH,IAAMzN,KAAKgN,QAEhDhN,KAAKuqH,WAAW3lH,MAAM2I,KAAOk9G,EAAOl9G,KAAO,KAC3CvN,KAAKuqH,WAAW3lH,MAAM6I,IAAMg9G,EAAOh9G,IAAM,MAE7Cm8G,EAAQpuH,UAAUioH,QAAU,SAAUlnH,GAC9ByD,KAAKuqH,YAAgC,KAAlBhuH,EAAM7E,SACzBsI,KAAKoC,SAGbwnH,EAAQpuH,UAAU8zH,SAAW,SAAUluH,GAC/BpB,KAAKuqH,YAAgD,OAAlCxkH,EAAQ3E,EAAEyH,OAAQ,eACrC7I,KAAKoC,SAGbwnH,EAAQpuH,UAAU+zH,cAAgB,SAAUnuH,GACpCpB,KAAKuqH,YACLvqH,KAAKoC,SAObwnH,EAAQpuH,UAAUojD,OAAS,WACvB5+C,KAAKuhD,aACLvhD,KAAKumB,WAAWvmB,KAAKwvH,UAMzB5F,EAAQpuH,UAAUyY,UAAY,WAC1BjU,KAAKoqH,SA/mBI,eAgnBTpqH,KAAK+pH,iBAAmB,SACxB/pH,KAAK8pH,iBAAmB,MACxB9pH,KAAKguH,UAAW,GAMpBpE,EAAQpuH,UAAU+qB,WAAa,SAAUkC,GAErC,IAAK,GAAIpqB,GAAK,EAAGoxH,EADCzvH,KAAK0vH,eAAejnG,GACQpqB,EAAKoxH,EAAcl3H,OAAQ8F,IAAM,CAC3E,GAAImxH,GAAUC,EAAcpxH,EAC5B,IAAgB,WAAZmxH,EACA,MAEY,WAAZA,GACAxvH,KAAK2vH,kBAEO,UAAZH,GACA/pH,GAAalB,IAAIvE,KAAKnG,QAASuS,GAAQsrB,gBAAiB13B,KAAKstH,YAAattH,MAE9D,UAAZwvH,IACIpjH,GAAQuc,UACR3oB,KAAKmwG,YAAc,GAAIrhD,IAAM9uD,KAAKnG,SAC9B+1D,iBAvpBA,IAwpBAggE,QAAS5vH,KAAKktH,eAAezxH,KAAKuE,QAEtCyF,GAAalB,IAAIvE,KAAKnG,QAASuS,GAAQwrB,cAAe53B,KAAKqtH,gBAAiBrtH,OAG5EyF,GAAalB,IAAIvE,KAAKnG,QAAS,YAAamG,KAAKotH,YAAaptH,OAI1EyF,GAAalB,IAAIxJ,SAAU,WAAYiF,KAAKsvH,SAAUtvH,MACtDyF,GAAalB,IAAIxJ,SAAU,SAAUiF,KAAKuvH,cAAevvH,MACzDyF,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKyjH,QAASzjH,OAExD4pH,EAAQpuH,UAAUk0H,eAAiB,SAAUjnG,GAIzC,MAHgB,SAAZA,IACAA,EAAWrc,YAAoB,QAAU,eAEtCqc,EAAQvrB,MAAM,MAEzB0sH,EAAQpuH,UAAUm0H,gBAAkB,WAChC,GAAKlyH,EAAkBuC,KAAK6I,QAQxBpD,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKotH,YAAaptH,UAN1D,KAAK,GAAI3B,GAAK,EAAGwxH,KADGluH,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiBoF,KAAK6I,SACtBxK,EAAKwxH,EAAat3H,OAAQ8F,IAAM,CACxE,GAAIwK,GAASgnH,EAAaxxH,EAC1BoH,IAAalB,IAAIsE,EAAQ,QAAS7I,KAAKotH,YAAaptH,QAOhE4pH,EAAQpuH,UAAUqyH,gBAAkB,SAAUzsH,EAAGyH,GACzC7I,KAAKuqH,aACAvqH,KAAKysH,WACS,UAAXrrH,EAAErH,MACF0L,GAAalB,IAAIsE,EAAQ,OAAQ7I,KAAKgvH,WAAYhvH,MAEvC,cAAXoB,EAAErH,MACF0L,GAAalB,IAAIsE,EAAQ,aAAc7I,KAAKgvH,WAAYhvH,OAG5DA,KAAK0qH,YACLjlH,GAAalB,IAAIsE,EAAQ,kCAAmC7I,KAAKivH,YAAajvH,QAQ1F4pH,EAAQpuH,UAAU2rB,aAAe,SAAUsB,GAEvC,IAAK,GAAIpqB,GAAK,EAAGyxH,EADC9vH,KAAK0vH,eAAejnG,GACQpqB,EAAKyxH,EAAcv3H,OAAQ8F,IAAM,CAC3E,GAAImxH,GAAUM,EAAczxH,EAC5B,IAAgB,WAAZmxH,EACA,MAEY,WAAZA,GACAxvH,KAAK+vH,oBAEO,UAAZP,GACA/pH,GAAaf,OAAO1E,KAAKnG,QAASuS,GAAQsrB,gBAAiB13B,KAAKstH,aAEpD,UAAZkC,IACIpjH,GAAQuc,UACJ3oB,KAAKmwG,aACLnwG,KAAKmwG,YAAYt8F,UAErBpO,GAAaf,OAAO1E,KAAKnG,QAASuS,GAAQwrB,cAAe53B,KAAKqtH,kBAG9D5nH,GAAaf,OAAO1E,KAAKnG,QAAS,YAAamG,KAAKotH,cAIhE3nH,GAAaf,OAAO3J,SAAU,WAAYiF,KAAKsvH,UAC/C7pH,GAAaf,OAAO3J,SAAU,SAAUiF,KAAKuvH,eAC7C9pH,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKyjH,UAElDmG,EAAQpuH,UAAUu0H,kBAAoB,WAClC,GAAKtyH,EAAkBuC,KAAK6I,QAQxBpD,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKotH,iBANhD,KAAK,GAAI/uH,GAAK,EAAG2xH,KADGruH,MAAMf,KAAKZ,KAAKnG,QAAQe,iBAAiBoF,KAAK6I,SACtBxK,EAAK2xH,EAAaz3H,OAAQ8F,IAAM,CACxE,GAAIwK,GAASmnH,EAAa3xH,EAC1BoH,IAAaf,OAAOmE,EAAQ,QAAS7I,KAAKotH,eAOtDxD,EAAQpuH,UAAUuzH,kBAAoB,SAAUlmH,GAC5C,IAAK7I,KAAKysH,SAEN,IAAK,GAAIpuH,GAAK,EAAG4xH,EADCjwH,KAAK0vH,eAAe1vH,KAAKwvH,SACGnxH,EAAK4xH,EAAc13H,OAAQ8F,IAAM,CAC3E,GAAImxH,GAAUS,EAAc5xH,EACZ,WAAZmxH,GACA/pH,GAAaf,OAAOmE,EAAQ,OAAQ7I,KAAKgvH,YAE7B,UAAZQ,GAAwBpjH,GAAQuc,UAChCljB,GAAaf,OAAOmE,EAAQ,aAAc7I,KAAKgvH,YAIvDhvH,KAAK0qH,YACLjlH,GAAaf,OAAOmE,EAAQ,kCAAmC7I,KAAKivH,cAG5ErF,EAAQpuH,UAAU00H,WAAa,WAE3B,MADan1H,UAAS+H,cAAc,qBAAuB9C,KAAKytH,OAAS,cAO7E7D,EAAQpuH,UAAU0L,cAAgB,WAC9B,MAAO,WAMX0iH,EAAQpuH,UAAU6jD,eAAiB,WAC/B,MAAOr/C,MAAK8/C,kBAMhB8pE,EAAQpuH,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAErD,IAAK,GADDw+E,GAAgBx5G,KAAKkwH,aAChB7xH,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACG2B,KAAKuqH,YAAc/Q,IACnBx5G,KAAKuqH,WAAW3lH,MAAM8S,MAAQhV,EAAWq4B,EAAQrjB,OACjD1X,KAAKshH,WAAW9H,GAEpB,MACJ,KAAK,SACGx5G,KAAKuqH,YAAc/Q,IACnBx5G,KAAKuqH,WAAW3lH,MAAM6S,OAAS/U,EAAWq4B,EAAQtjB,QAClDzX,KAAKshH,WAAW9H,GAEpB,MACJ,KAAK,UACGx5G,KAAKuqH,YACLvqH,KAAKusH,eAET,MACJ,KAAK,UACDvsH,KAAKmnB,aAAa6T,EAAQw0F,SAC1BxvH,KAAKumB,WAAWwU,EAAQy0F,QACxB,MACJ,KAAK,WAED,GADAxvH,KAAK6pH,iBACD7pH,KAAKuqH,YAAc/Q,EAAe,CAClC,GAAI2S,GAAgBnsH,KAAKuqH,WAAWznH,cAAc,qBAClDqpH,GAAcvnH,MAAM6I,IAAM0+G,EAAcvnH,MAAM2I,KAAO,KACrDvN,KAAKshH,WAAW9H,GAEpB,KACJ,KAAK,qBACGx5G,KAAKuqH,YAAc/Q,GACnBx5G,KAAKshH,WAAW9H,EAEpB,MACJ,KAAK,UACD,GAAIx5G,KAAKuqH,WAAY,CACjB,GAAIz8G,GAAIitB,EAAQnuB,QAAUouB,EAAQpuB,OAClC5M,MAAKuqH,WAAW3lH,MAAM2I,MAAQysB,SAASh6B,KAAKuqH,WAAW3lH,MAAM2I,KAAM,OAAW5M,WAAa,KAE/F,KACJ,KAAK,UACD,GAAIX,KAAKuqH,WAAY,CACjB,GAAIx8G,GAAIgtB,EAAQ/tB,QAAUguB,EAAQhuB,OAClChN,MAAKuqH,WAAW3lH,MAAM6I,KAAOusB,SAASh6B,KAAKuqH,WAAW3lH,MAAM6I,IAAK,OAAW9M,WAAa,KAE7F,KACJ,KAAK,WACGX,KAAKuqH,aACDvvF,EAAQzmB,UACR/P,GAAaxE,KAAKuqH,YAAavvF,EAAQzmB,SAASrX,MAAM,MAEtD69B,EAAQxmB,UACRvQ,GAAUhE,KAAKuqH,YAAaxvF,EAAQxmB,SAASrX,MAAM,MAG3D,MACJ,KAAK,YACG8C,KAAKuqH,aACDvqH,KAAKuP,UACLvL,GAAUhE,KAAKuqH,YAp1BjC,SAu1BkB/lH,GAAaxE,KAAKuqH,YAv1BpC,YAo2BNX,EAAQpuH,UAAUsG,KAAO,SAAUjI,EAASggC,OACtB,KAAdA,IAAwBA,EAAY75B,KAAK65B,UAAU/3B,MACzB,SAA1BjI,EAAQ+K,MAAM6hD,SAGlBzmD,KAAK4tH,YAAY/zH,EAASggC,IAO9B+vF,EAAQpuH,UAAU4G,MAAQ,SAAUy3B,OACd,KAAdA,IAAwBA,EAAY75B,KAAK65B,UAAUz3B,OACvDpC,KAAKutH,YAAY1zF,IAOrB+vF,EAAQpuH,UAAUkjD,QAAU,SAAU71C,GAC9B7I,KAAKuqH,YACLvqH,KAAKusH,cAAc1jH,GAEnB7I,KAAKwlH,UAAY38G,GACjB7I,KAAKshH,WAAWz4G,IASxB+gH,EAAQpuH,UAAUqY,QAAU,WACxBklB,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,MAC9BwE,GAAaxE,KAAKnG,SA14Bf,aA24BHmG,KAAKmnB,aAAannB,KAAKwvH,SACnBxvH,KAAKwlH,UACLxlH,KAAKwlH,SAAS3xG,UAEd7T,KAAKuqH,YACL7lH,EAAO1E,KAAKuqH,YAEhBvqH,KAAKuqH,WAAa,KAClBvqH,KAAKwlH,SAAW,MAEpBltF,IACI1vB,GAAS,SACVghH,EAAQpuH,UAAW,YAAS,IAC/B88B,IACI1vB,GAAS,SACVghH,EAAQpuH,UAAW,aAAU,IAChC88B,IACI1vB,MACDghH,EAAQpuH,UAAW,cAAW,IACjC88B,IACI1vB,MACDghH,EAAQpuH,UAAW,aAAU,IAChC88B,IACI1vB,GAAS,cACVghH,EAAQpuH,UAAW,eAAY,IAClC88B,IACI1vB,GAAS,IACVghH,EAAQpuH,UAAW,cAAW,IACjC88B,IACI1vB,GAAS,IACVghH,EAAQpuH,UAAW,cAAW,IACjC88B,IACI1vB,IAAS,IACVghH,EAAQpuH,UAAW,qBAAkB,IACxC88B,IACI1vB,GAAS,SACVghH,EAAQpuH,UAAW,yBAAsB,IAC5C88B,IACI1vB,GAAS,SACVghH,EAAQpuH,UAAW,cAAW,IACjC88B,IACI1vB,IAAS,IACVghH,EAAQpuH,UAAW,iBAAc,IACpC88B,IACI1vB,IAAS,IACVghH,EAAQpuH,UAAW,eAAY,IAClC88B,IACIjvB,MAAYyvB,KACb8wF,EAAQpuH,UAAW,gBAAa,IACnC88B,IACI1vB,GAAS,IACVghH,EAAQpuH,UAAW,gBAAa,IACnC88B,IACI1vB,GAAS,IACVghH,EAAQpuH,UAAW,iBAAc,IACpC88B,IACI1vB,MACDghH,EAAQpuH,UAAW,eAAY,IAClC88B,IACI1vB,IAAS,IACVghH,EAAQpuH,UAAW,gBAAa,IACnC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,mBAAgB,IACtC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,iBAAc,IACpC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,gBAAa,IACnC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,kBAAe,IACrC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,iBAAc,IACpC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,sBAAmB,IACzC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,cAAW,IACjC88B,IACI7uB,MACDmgH,EAAQpuH,UAAW,gBAAa,IACnCouH,EAAUtxF,IACNvuB,IACD6/G,IAEL3rE,IpCjgCErgC,MACAf,GAAe,KACfS,GAAe,KACfoD,GAAiB,GACjBC,GAAiB,GACjBC,GAAkB,GAClB0D,GAAe,cACf/G,GAAe,cACfkE,GAAmB,kBACnBjD,GAAiB,gBACjBW,GAAe,mBACfR,GAAuB,uBACvBiD,GAAe,iBACf/C,GAAiB,kBACjBS,GAAiB,gBACjBiC,GAAc,aACd9D,GAAgB,eAChBL,GAAmB,+WqCjBnBkiG,IACAphB,IAAK,QACLiyB,QAAS,aACTC,MAAO,UACPjjG,WAAY,gBACZC,WAAY,gBACZwB,UAAW,eACXC,UAAW,eACXwhG,UAAW,eACXC,cAAe,oBACfrhG,SAAU,cACVD,YAAa,iBACbuhG,aAAc,mBACdC,eAAgB,qBAChBC,eAAgB,uBAMpB,SAAW9iG,GACP,QAYS+iG,GAAYzwH,EAAMuc,GACvB,GAAIC,GAAehf,EAAkB+e,GAAiD/a,EAAxB+a,EAC1Dm0G,GAAgBj0G,UAAW,KAAM0nG,WAAa98F,YAAa,KA4B/D,IA3BI7pB,EAAkBwC,EAAK+oB,iBAA2C,UAAxB/oB,EAAK+oB,gBAC/C2nG,EAAYj0G,UAAYk0G,EAAqB3wH,EAAMq/G,GAAWnyF,WAAYmyF,GAAWkR,eAAgB,OAAQ/zG,GAC7Gxc,EAAKpG,QAAQiB,WAAWsK,aAAaurH,EAAYj0G,UAAWzc,EAAKpG,SACjEmK,GAAU/D,EAAKpG,SAAUylH,GAAW8Q,OACpCO,EAAYj0G,UAAU3a,YAAY9B,EAAKpG,UAGvCg3H,EAAoB5wH,EAAM0wH,EAAal0G,GAE3Cxc,EAAKpG,QAAQ6C,iBAAiB,QAAS,WACnC,GAAIqE,GAAS+vH,EAAc9wH,KACvBe,GAAOvI,UAAUC,SAAS,kBAC1BsI,EAAOvI,UAAU+L,IAAI,mBAG7BtE,EAAKpG,QAAQ6C,iBAAiB,OAAQ,WAClC,GAAIqE,GAAS+vH,EAAc9wH,KACvBe,GAAOvI,UAAUC,SAAS,kBAC1BsI,EAAOvI,UAAUkM,OAAO,mBAG3BjH,EAAkBwC,EAAKsD,aAAgB9F,EAAkBwC,EAAKsD,WAAW6jB,mBAAoBnnB,EAAKsD,WAAW6jB,kBAC9G2pG,EAAe9wH,EAAKsD,WAAW6jB,gBAAiBnnB,EAAKpG,QAAS82H,GAAa,EAAMl0G,GAC7Ek0G,EAAYj0G,UAAUlkB,UAAUC,SAAS6mH,GAAWlyF,aACpDppB,GAAU2sH,EAAYj0G,WAAY4iG,GAAWnyF,cAGhD1vB,EAAkBwC,EAAKmkH,SACxB,IAAK,GAAI/rH,GAAI,EAAGA,EAAI4H,EAAKmkH,QAAQ7rH,OAAQF,IACrCs4H,EAAYvM,QAAQprH,KAAKg4H,EAAW/wH,EAAKmkH,QAAQ/rH,GAAIs4H,EAAYj0G,UAAWD,GAIpF,OADAk0G,GAAcM,EAAiBhxH,EAAM0wH,GAKzC,QAASO,KACL,GAAIx8G,GAAQo8G,EAAc9wH,MAAMwO,uBAAuB,gBAAgB,EACvExK,IAAU0Q,GAAQ4qG,GAAWrwF,UACzBva,EAAMlc,UAAUC,SAAS6mH,GAAWtwF,cACpCxqB,GAAakQ,GAAQ4qG,GAAWtwF,aAGxC,QAASmiG,KACL,GAAIpwH,GAAS+vH,EAAc9wH,KAC3B,IAAsD,KAAlDe,EAAOa,qBAAqB,SAAS,GAAG5E,MAAc,CACtD,GAAI0X,GAAQ3T,EAAOyN,uBAAuB,gBAAgB,EACtDkG,GAAMlc,UAAUC,SAAS6mH,GAAWrwF,WACpCzqB,GAAakQ,GAAQ4qG,GAAWrwF,UAEpCjrB,GAAU0Q,GAAQ4qG,GAAWtwF,cAGrC,QAASoiG,GAAmBv3H,GACxBA,EAAQ6C,iBAAiB,QAASw0H,GAClCr3H,EAAQ6C,iBAAiB,OAAQy0H,GAErC,QAASE,GAAqBx3H,GAC1BA,EAAQ+C,oBAAoB,QAASs0H,GACrCr3H,EAAQ+C,oBAAoB,OAAQu0H,GAExC,QAASN,GAAoB5wH,EAAM0wH,EAAan0G,GAC5C,GAEIkS,GACAC,EAHAlS,EAAehf,EAAkB+e,GAAiD/a,EAAxB+a,CAIlC,UAAxBvc,EAAK+oB,gBACLooG,EAAmBnxH,EAAKpG,SAExB4D,EAAkBkzH,EAAYj0G,YAC9Bi0G,EAAYj0G,UAAYk0G,EAAqB3wH,EAAMq/G,GAAWlyF,WAAYkyF,GAAWmR,eAAgB,MAAOh0G,GAC5Gxc,EAAKpG,QAAQiB,WAAWsK,aAAaurH,EAAYj0G,UAAWzc,EAAKpG,WAG5D4D,EAAkBwC,EAAKqxH,YACxBX,EAAYj0G,UAAUlkB,UAAU+L,IAAI+6G,GAAWmR,gBAEnDE,EAAYj0G,UAAUlkB,UAAU+L,IAAI+6G,GAAWlyF,aAEnDsB,EAAkBjS,EAAY,QAAU/Y,UAAW47G,GAAW1wF,YAC9DD,EAAoBlS,EAAY,SAAW/Y,UAAW47G,GAAWzwF,YAC5DpxB,EAAkBwC,EAAKpG,QAAQ8J,KAA2B,KAApB1D,EAAKpG,QAAQ8J,KACpDgrB,EAAkBhrB,GAAK,SAAW1D,EAAKpG,QAAQ8J,GAAGhK,QAAQ,KAAM,KAChEoK,EAAW9D,EAAKpG,SAAWi1B,kBAAmBH,EAAkBhrB,MAE/DlG,EAAkBwC,EAAKpG,QAAQkvB,cAA6C,KAA7B9oB,EAAKpG,QAAQkvB,cAC7D4F,EAAkBn0B,UAAYyF,EAAKpG,QAAQkvB,YAC3C9oB,EAAKpG,QAAQyS,gBAAgB,gBAE5B7O,EAAkBwC,EAAKsD,aAAgB9F,EAAkBwC,EAAKsD,WAAWwlB,cAC1C,KAAhC9oB,EAAKsD,WAAWwlB,cAChB4F,EAAkBn0B,UAAYyF,EAAKsD,WAAWwlB,aAE7C4F,EAAkBn0B,WACnBm2H,EAAYj0G,UAAUlkB,UAAU+L,IAAI+6G,GAAWiR,cAEnDI,EAAYj0G,UAAU3a,YAAY9B,EAAKpG,SACvC82H,EAAYj0G,UAAU3a,YAAY2sB,GAClCiiG,EAAYj0G,UAAU3a,YAAY4sB,GAClC4iG,EAAiBtxH,EAAKpG,QAAQmD,MAAO2xB,GACT,WAAxB1uB,EAAK+oB,iBACD2F,EAAkBn2B,UAAUC,SAAS6mH,GAAWtwF,cAChDxqB,GAAamqB,GAAoB2wF,GAAWtwF,aAEhDhrB,GAAU2qB,GAAoB2wF,GAAWrwF,WAEjB,SAAxBhvB,EAAK+oB,iBACL/oB,EAAKpG,QAAQ6C,iBAAiB,QAAS,SAAUH,GAC7Cg1H,EAAiBtxH,EAAKpG,QAAQmD,MAAO2xB,KAEzC1uB,EAAKpG,QAAQ6C,iBAAiB,OAAQ,SAAUH,GAC5Cg1H,EAAiBtxH,EAAKpG,QAAQmD,MAAO2xB,MAGxClxB,EAAkBwC,EAAKpG,QAAQ4M,aAAa,QAC7CkoB,EAAkB9qB,aAAa,MAAO5D,EAAKpG,QAAQ4M,aAAa,OAGxE,QAASwqH,GAAiBhxH,EAAM0wH,GAC5B,IAAKlzH,EAAkBwC,EAAKsD,YACxB,IAAK,GAAIlF,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK2C,EAAKsD,YAAalF,EAAK2E,EAAGzK,OAAQ8F,IAEhE,OADW2E,EAAG3E,IAEV,IAAK,WACDmzH,EAAYvxH,EAAKsD,WAAWgR,UAAWo8G,EAAYj0G,WACnD,MACJ,KAAK,UACDu/F,EAAWh8G,EAAKsD,WAAW0jB,QAAShnB,EAAKpG,QAASoG,EAAK+oB,eAAgB2nG,EAAYj0G,UACnF,MACJ,KAAK,YACDg/F,EAAaz7G,EAAKsD,WAAWgM,WAAYohH,EAAYj0G,WACrD,MACJ,KAAK,cACD+0G,EAAexxH,EAAKsD,WAAWwlB,YAAa9oB,EAAKpG,QACjD,MACJ,KAAK,WACD63H,EAAYzxH,EAAKsD,WAAWouH,SAAU1xH,EAAKpG,SAK3D,MAAO82H,GAEX,QAASiB,GAAgB50H,EAAO60H,GACxB70H,EACAwH,GAAaqtH,GAASvS,GAAWgR,eAGjCtsH,GAAU6tH,GAASvS,GAAWgR,eAGtC,QAASiB,GAAiBv0H,EAAO0X,GACzB1X,GACAgH,GAAU0Q,GAAQ4qG,GAAWrwF,UACzBva,EAAMlc,UAAUC,SAAS6mH,GAAWtwF,cACpCxqB,GAAakQ,GAAQ4qG,GAAWtwF,eAIhCta,EAAMlc,UAAUC,SAAS6mH,GAAWrwF,WACpCzqB,GAAakQ,GAAQ4qG,GAAWrwF,UAEpCjrB,GAAU0Q,GAAQ4qG,GAAWtwF,cAGrC,QAAS8hG,GAAcj3H,GAEnB,MADiBA,GAAQiB,WAM7B,QAASg3H,GAAkBj4H,EAAS82H,EAAaoB,EAASv1G,GACtD,GACIq1G,IADep0H,EAAkB+e,GAAiD/a,EAAxB+a,GACrC,QAAU9Y,UAAW47G,GAAW+Q,YACrD3zG,EAAYi0G,EAAYj0G,SAgB5B,OAfKjf,GAAkBs0H,IAIDpB,EAAYj0G,UAAUlkB,UAAUC,SAAS6mH,GAAWlyF,YAClEujG,EAAYj0G,UAAU5Z,cAAc,IAAMw8G,GAAWzwF,WAAah1B,GAC1Dm4H,sBAAsB,WAAYH,GAL9Cn1G,EAAU3a,YAAY8vH,IAOrBp0H,EAAkBif,IACnBA,EAAUlkB,UAAUC,SAAS6mH,GAAWlyF,aACxCppB,GAAU0Y,GAAY4iG,GAAWnyF,YAErCnpB,GAAU6tH,GAASvS,GAAWgR,eAC9B2B,EAAmBp4H,EAASg4H,EAAQn1G,GACpCm1G,EAAOhuH,aAAa,aAAc,SAC3BguH,EAEX,QAASI,GAAmBp4H,EAASg4H,EAAQn1G,GACzCm1G,EAAOn1H,iBAAiB,QAAS,SAAUH,GACjC1C,EAAQrB,UAAUC,SAAS6mH,GAAW6Q,UAAYt2H,EAAQq4H,WAC5D31H,EAAMirB,iBACF3tB,IAAYkB,SAASm1G,eACrBr2G,EAAQwI,QAEZxI,EAAQmD,MAAQ,GAChBgH,GAAU6tH,GAASvS,GAAWgR,kBAGtCz2H,EAAQ6C,iBAAiB,QAAS,SAAUH,GACxCq1H,EAAgB/3H,EAAQmD,MAAO60H,KAEnCh4H,EAAQ6C,iBAAiB,QAAS,SAAUH,GACxCq1H,EAAgB/3H,EAAQmD,MAAO60H,KAEnCh4H,EAAQ6C,iBAAiB,OAAQ,SAAUH,GACvCtE,WAAW,WAAc+L,GAAU6tH,GAASvS,GAAWgR,gBAAmB,OAGlF,QAAS6B,GAAct4H,EAASmvB,GAE5B,GADa8nG,EAAcj3H,GAChBrB,UAAUC,SAAS6mH,GAAWlyF,aAAkC,SAAnBpE,EAA2B,CAC/E,GAAItU,GAAQo8G,EAAcj3H,GAAS2U,uBAAuB,gBAAgB,EAC1E+iH,GAAiB13H,EAAQmD,MAAO0X,IAMxC,QAASk8G,GAAqB3wH,EAAMyD,EAAW0uH,EAAUl/G,EAAKsJ,GAC1D,GACIE,GADAD,EAAehf,EAAkB+e,GAAiD/a,EAAxB+a,CAU9D,OARK/e,GAAkBwC,EAAKqxH,WAKxB50G,EAAYD,EAAYvJ,GAAOxP,UAAWA,KAJ1CgZ,EAAYD,EAAYxc,EAAKqxH,WAAa5tH,UAAWA,KAC3ClL,UAAU+L,IAAI6tH,GAK5B11G,EAAUlkB,UAAU+L,IAAI,qBACjBmY,EAYX,QAAStf,GAASJ,EAAOnD,EAASmvB,EAAgB1B,GAK9C,GAJAztB,EAAQmD,MAAQA,EACVS,EAAkBurB,IAAuC,SAAnBA,GACxCmpG,EAAct4H,EAASmvB,IAEtBvrB,EAAkB6pB,IAAgBA,EAAa,CAChD,GAAItR,GAAgB86G,EAAcj3H,GAC9Bg4H,EAAS77G,EAAcxH,uBAAuB8wG,GAAW+Q,WAAW,EACpEx2H,GAAQmD,OAASgZ,EAAcxd,UAAUC,SAAS,iBAClD+L,GAAaqtH,GAASvS,GAAWgR,eAGjCtsH,GAAU6tH,GAASvS,GAAWgR,gBAc1C,QAASkB,GAAYj9G,EAAUtQ,EAAUouH,GAChC50H,EAAkB40H,IAA0B,KAAbA,GAChC7tH,EAAYP,EAAUouH,EAASn1H,MAAM,MAEpCO,EAAkB8W,IAA0B,KAAbA,GAChCvQ,EAASC,EAAUsQ,EAASrX,MAAM,MAY1C,QAASu0H,GAAe1oG,EAAalvB,GACjC,GAAImc,IACJA,EAAgB86G,EAAcj3H,IACZrB,UAAUC,SAAS6mH,GAAWlyF,YACvC3vB,EAAkBsrB,IAAgC,KAAhBA,GAKnC/S,EAAcxd,UAAU+L,IAAI+6G,GAAWiR,cACvCv6G,EAAcxH,uBAAuB8wG,GAAWzwF,WAAW,GAAGn1B,YAAc,KAL5Esc,EAAcxH,uBAAuB8wG,GAAWzwF,WAAW,GAAGn1B,YAAcqvB,EAC5E/S,EAAcxd,UAAUkM,OAAO46G,GAAWiR,eAQzC9yH,EAAkBsrB,IAAgC,KAAhBA,GAInClvB,EAAQyS,gBAAgB,eACxBzS,EAAQyS,gBAAgB,qBAJxBvI,EAAWlK,GAAWkvB,YAAeA,EAAaupG,mBAAoBvpG,IAmBlF,QAAS2oG,GAAYa,EAAY14H,EAASmvB,GAClCupG,EACAxuH,EAAWlK,GAAW83H,SAAU,KAGhC93H,EAAQyS,gBAAgB,YAEvB7O,EAAkBurB,IACnBmpG,EAAct4H,EAASmvB,GAc/B,QAAS0yF,GAAa8W,EAAOvuH,GACrBuuH,EACAxuH,EAASC,EAAUq7G,GAAWphB,KAG9B15F,EAAYP,EAAUq7G,GAAWphB,KAczC,QAAS+d,GAAW7I,EAAUv5G,EAASmvB,EAAgBypG,GACnD,GAAIC,IAAkBj0B,SAAY,WAAYk0B,gBAAiB,QAC3DC,GAAkBn1H,EAAkBg1H,EACpCrf,IACAv5G,EAAQrB,UAAUkM,OAAO46G,GAAW6Q,SACpC0C,EAAiBH,EAAe74H,GAC5B+4H,GACApuH,GAAaiuH,GAAiBnT,GAAW6Q,WAI7Ct2H,EAAQrB,UAAU+L,IAAI+6G,GAAW6Q,SACjC2C,EAAcJ,EAAe74H,GACzB+4H,GACA5uH,GAAUyuH,GAAiBnT,GAAW6Q,UAGzC1yH,EAAkBurB,IACnBmpG,EAAct4H,EAASmvB,GAI/B,QAAS+nG,GAAegC,EAASl5H,EAAS82H,EAAaoB,EAASv1G,GAC5D,GAAIC,GAAehf,EAAkB+e,GAAiD/a,EAAxB+a,CAC1Du2G,GACApC,EAAYrpG,YAAcwqG,EAAkBj4H,EAAS82H,EAAaoB,EAASt1G,IAG3Ek0G,EAAYrpG,YAAY5iB,SACxBisH,EAAYrpG,YAAc,MAclC,QAASurG,GAAiB/uH,EAAOjK,GAC7B,IAAK,GAAIwE,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKwG,GAAQzF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIhB,GAAM2F,EAAG3E,GACT2X,MAAgB,EACpBA,GAAgB86G,EAAcj3H,GAClB,aAARwD,GACAxD,EAAQrB,UAAUkM,OAAO46G,GAAW6Q,SAE5B,aAAR9yH,GAAsB2Y,EAAcxd,UAAUC,SAAS6mH,GAAWnyF,aAClEnX,EAAcxd,UAAUkM,OAAO46G,GAAW6Q,SAElC,gBAAR9yH,GAAyB2Y,EAAcxd,UAAUC,SAAS6mH,GAAWlyF,YACrEpX,EAAcxH,uBAAuB8wG,GAAWzwF,WAAW,GAAGn1B,YAAc,GAG5EG,EAAQyS,gBAAgBjP,IAepC,QAASy1H,GAAchvH,EAAOjK,GAC1B,IAAK,GAAIwE,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKwG,GAAQzF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIhB,GAAM2F,EAAG3E,GACT2X,MAAgB,EACpBA,GAAgB86G,EAAcj3H,GAClB,aAARwD,GACAxD,EAAQrB,UAAU+L,IAAI+6G,GAAW6Q,SAEzB,aAAR9yH,GAAsB2Y,EAAcxd,UAAUC,SAAS6mH,GAAWnyF,aAClEnX,EAAcxd,UAAU+L,IAAI+6G,GAAW6Q,SAE/B,gBAAR9yH,GAAyB2Y,EAAcxd,UAAUC,SAAS6mH,GAAWlyF,YACrEpX,EAAcxH,uBAAuB8wG,GAAWzwF,WAAW,GAAGn1B,YAAcoK,EAAMzG,GAGlFxD,EAAQgK,aAAaxG,EAAKyG,EAAMzG,KAK5C,QAAS6xB,GAAe7b,GACpB,GAAIqJ,GAAYrJ,EAAMqJ,SACtB,KAAKjf,EAAkBif,IAAcA,EAAUlkB,UAAUC,SAAS6mH,GAAWlyF,YAAa,CACtF,GAAIS,GAAWnR,EAAU5Z,cAAc,SACnCimB,EAAcrM,EAAU5Z,cAAc,IAAMw8G,GAAWzwF,WAAWn1B,YAClE4tB,EAA2D,OAA7C5K,EAAU5Z,cAAc,gBAC1CyC,GAAOmX,EAAU5Z,cAAc,IAAMw8G,GAAW1wF,YAChDrpB,EAAOmX,EAAU5Z,cAAc,IAAMw8G,GAAWzwF,YAChDr2B,EAAUkkB,GAAY4iG,GAAWnyF,aAAcmyF,GAAWlyF,aAC1DikG,EAAqBxjG,GACrB9pB,EAAW8pB,GAAY9E,YAAeA,IACtC8E,EAASr1B,UAAU+L,IAAI+6G,GAAW8Q,OAC7B9oG,GACDuG,EAASvhB,gBAAgB,aAKrC,QAAS0mH,GAAY3/G,EAAOtZ,EAAMgvB,EAAavM,GAC3C,GAAIC,GAAehf,EAAkB+e,GAAiD/a,EAAxB+a,EAC1DE,EAAY3W,EAAQsN,EAAO,IAAMisG,GAAWnyF,WAChD,IAAa,UAATpzB,EAAkB,CAClB,GAAIu3H,GAAY50G,EAAUpZ,QAEtBrD,GAASpG,QAASwZ,EAAO2V,eAAgBjvB,EAAMu3H,UADnDA,EAA0B,QAAdA,GAAqC,SAAdA,EAAuBA,EAAY,KACG/tH,YAAcwlB,YAAaA,IAChGkqG,EAAUv2G,EAAU5Z,cAAc,iBAClCukB,GAAa3K,UAAWA,EAM5B,IALArJ,EAAM7a,UAAUkM,OAAO46G,GAAW8Q,OAClCS,EAAoB5wH,EAAMonB,EAAU5K,GAChChf,EAAkBw1H,KAClBA,EAAUv2G,EAAU5Z,cAAc,wBAElCrF,EAAkBw1H,GAClBv2G,EAAUlkB,UAAUkM,OAAO46G,GAAWnyF,gBAErC,CACD,GAAImC,GAAY5S,EAAU5Z,cAAc,IAAMw8G,GAAW1wF,WACrDskG,EAAYx2G,EAAU5Z,cAAc,IAAMw8G,GAAWzwF,UACzDnS,GAAUtX,aAAaiO,EAAO4/G,GAC9Bv2G,EAAUtX,aAAakqB,EAAW2jG,GAClCv2G,EAAUtX,aAAa8tH,EAAWD,KAe9C,QAASE,GAAUzkH,EAAU2Y,GACzB,IAAK,GAAIhvB,GAAI,EAAGA,EAAIgvB,EAAS9uB,OAAQF,IACjC+6H,EAAgB1kH,EAAU2Y,EAAShvB,GAAGqkB,WAI9C,QAAS02G,GAAgB1kH,EAAUgO,EAAWm1G,GAC1C,GAAIwB,KACJA,GAAWr6H,KAAK64H,EAChB,IAAIzN,GAAU3mH,EAAkBo0H,GAC5Bn1G,EAAU9hB,iBAAiB,uBAAyBy4H,CACxD,IAAI3kH,GAAY01G,EAAQ7rH,OAAS,EAC7B,IAASL,EAAQ,EAAGA,EAAQksH,EAAQ7rH,OAAQL,IACxCksH,EAAQlsH,GAAOwE,iBAAiB,YAAa42H,GAAoB,GACjElP,EAAQlsH,GAAOwE,iBAAiB,UAAW62H,GAAkB,OAGhE,IAAInP,EAAQ7rH,OAAS,EACtB,IAAK,GAAIL,GAAQ,EAAGA,EAAQksH,EAAQ7rH,OAAQL,IACxCksH,EAAQlsH,GAAO0E,oBAAoB,YAAa02H,EAAoBtzH,MACpEokH,EAAQlsH,GAAO0E,oBAAoB,UAAW22H,EAAkBvzH,MAI5E,QAASwzH,GAAe92G,EAAWm1G,GAC1Bn1G,EAAUlkB,UAAUC,SAAS,eAAkBikB,EAAU5Z,cAAc,SAASovH,UACjFL,EAAOr5H,UAAU+L,IAAI,sBAG7B,QAAS+uH,KAGL,IAFA,GAAIlvH,GAAMpE,KACNyzH,EAAYzzH,KAAKgW,eACby9G,EAAUj7H,UAAUC,SAAS,kBACjCg7H,EAAYA,EAAUz9G,aAE1Bw9G,GAAeC,EAAWrvH,GAE9B,QAASmvH,KACL,GAAInvH,GAAMpE,IACV/H,YAAW,WAAcmM,EAAI5L,UAAUkM,OAAO,uBAA0B,KAW5E,QAASssH,GAAW0C,EAAWh3G,EAAWF,GACtC,GACIq1G,IADep0H,EAAkB+e,GAAiD/a,EAAxB+a,GACrC,QAAU9Y,UAAWgwH,GAO9C,OANA7B,GAAOr5H,UAAU+L,IAAI,sBACrBmY,EAAU3a,YAAY8vH,GACjBn1G,EAAUlkB,UAAUC,SAAS6mH,GAAWnyF,aACzCzQ,EAAUlkB,UAAU+L,IAAI+6G,GAAWnyF,YAEvCimG,GAAgB,EAAM12G,EAAWm1G,GAC1BA,EAzhBXlkG,EAAM+iG,YAAcA,EAoOpB/iG,EAAMvwB,SAAWA,EAkBjBuwB,EAAM6jG,YAAcA,EAgCpB7jG,EAAM8jG,eAAiBA,EAsBvB9jG,EAAM+jG,YAAcA,EAmBpB/jG,EAAM+tF,aAAeA,EAgCrB/tF,EAAMsuF,WAAaA,EAWnBtuF,EAAMojG,eAAiBA,EA8BvBpjG,EAAMklG,iBAAmBA,EA8BzBllG,EAAMmlG,cAAgBA,EAkBtBnlG,EAAMuB,eAAiBA,EA2BvBvB,EAAMqlG,YAAcA,EAgBpBrlG,EAAMwlG,UAAYA,EAwDlBxlG,EAAMqjG,WAAaA,GACpBrjG,KAAUA,OCrmBb,ICiCWgmG,IDjCP77F,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAS5Dk7F,GAAW,qBAMXC,GAAY,GAAIz5H,QAAO,gBAgBvB05H,GAAgC,SAAU/6F,GAE1C,QAAS+6F,GAAex/G,EAASza,GAC7B,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA+6BlD,MAj7BA83B,IAAUg8F,EAAgB/6F,GAI1B+6F,EAAet4H,UAAUyY,UAAY,WACjCjU,KAAK+zH,eAAgB,EACrB/zH,KAAKg0H,iBAAmB,IACxBh0H,KAAKi0H,UAAY,GAAI75H,QAAO,gBAC5B4F,KAAKk0H,UAAW,CAChB,IAAI5gH,GAAazW,EAAS,gBAAiBmD,KAAKnG,QAIhD,IAHAmG,KAAKm0H,aAAen0H,KAAKnG,QAAQmI,WAAU,GAC3CwC,GAAaxE,KAAKm0H,eAzBZ,YADE,qBA2BRn0H,KAAKo0H,eAAiB,KACO,uBAAzBp0H,KAAKnG,QAAQyJ,QAAkC,CAC/CtD,KAAKo0H,eAAiBp0H,KAAKnG,QAAQyJ,OACnC,IAAI+P,GAAQrT,KAAKyB,cAAc,SAC3BvJ,EAAQ,CACZ,KAAKA,EAAOA,EAAQ8H,KAAKnG,QAAQkK,WAAWxL,OAAQL,IAChDmb,EAAMxP,aAAa7D,KAAKnG,QAAQkK,WAAW7L,GAAOqb,SAAUvT,KAAKnG,QAAQkK,WAAW7L,GAAOsb,WAC3FH,EAAM7Y,UAAYwF,KAAKnG,QAAQW,SAE/BwF,MAAKnG,QAAQmqH,aAAa,OAC1BhkH,KAAKnG,QAAQyS,gBAAgB,MAEjCtM,KAAKnG,QAAQrB,UAAUkM,OAAO,YAAa,oBAC3C1E,KAAKnG,QAAQkI,YAAYsR,GACzBrT,KAAKnG,QAAUwZ,EACfjW,EAAS,gBAAiBkW,EAAYtT,KAAKnG,SAE/CkK,EAAW/D,KAAKnG,SAAWuZ,KAAQ,aAAc4+F,SAAY,IAAKjtF,aAAgB,MAAOI,YAAa,aACtG,IAAIo+F,IAAe8Q,eAAgB,kBAAmBC,eAAgB,kBAAmBvrG,YAAa,GACtG/oB,MAAKw7G,KAAO,GAAI1vD,IAAK,iBAAkBy3D,EAAYvjH,KAAKgP,QACxDhP,KAAKu0H,cAAe,EACpBv0H,KAAKw0H,WAAa,KAClBx0H,KAAKy0H,UAAY,KACjBz0H,KAAK00H,eACL10H,KAAK20H,kBACL30H,KAAK40H,kBACL50H,KAAK60H,kBACL70H,KAAKoqB,UAAYpqB,KAAKhD,MACtBgD,KAAK80H,iBACL90H,KAAK+0H,eACoB,OAArB/0H,KAAK+oB,aACL/oB,KAAKg1H,qBAOblB,EAAet4H,UAAUojD,OAAS,WACa,UAAvC5+C,KAAKnG,QAAQyJ,QAAQnL,gBACrB6H,KAAKi1H,gBACDj1H,KAAKk1H,gBACLl1H,KAAKm1H,kBAEJ13H,EAAkBuC,KAAK0X,QACxBhR,EAAkB1G,KAAK0c,WAAahF,MAAShV,EAAW1C,KAAK0X,SAE5D1X,KAAK0c,UAAUlkB,UAAUC,SAAS,kBACnCuH,KAAK0c,UAAUlkB,UAAU+L,IAAI,iBAEjCvE,KAAKo1H,YAA2B,OAAfp1H,KAAKhD,OAAkBssC,MAAMtpC,KAAKhD,OAAS,KAAOgD,KAAKq1H,WAAar1H,KAAKs1H,UAAUt1H,KAAKhD,OAASgD,KAAKhD,OACvHgD,KAAKumB,aACc,OAAfvmB,KAAKhD,OAAmBssC,MAAMtpC,KAAKhD,QAC/BgD,KAAKu1H,UACLv1H,KAAK2H,eAAgB3K,MAAOgD,KAAKw1H,YAAYx1H,KAAKhD,MAAOgD,KAAKu1H,YAAa,KAK3FzB,EAAet4H,UAAUq5H,gBAAkB,WAEvC,IAAK,GAAIx2H,GAAK,EAAGqnG,GADC,QAAS,MAAO,MAAO,OAAQ,WAAY,WAAY,QAAS,QACtCrnG,EAAKqnG,EAAantG,OAAQ8F,IAAM,CACxE,GAAI6M,GAAOw6F,EAAarnG,EACxB,KAAKZ,EAAkBuC,KAAKnG,QAAQ4M,aAAayE,IAC7C,OAAQA,GACJ,IAAK,WACD,GAAI+b,GAA8C,aAApCjnB,KAAKnG,QAAQ4M,aAAayE,IACA,SAApClL,KAAKnG,QAAQ4M,aAAayE,EAC9BlL,MAAK2H,eAAgBsf,QAASA,IAAW,EACzC,MACJ,KAAK,WACD,GAAI0qG,GAA+C,aAApC3xH,KAAKnG,QAAQ4M,aAAayE,IACE,SAApClL,KAAKnG,QAAQ4M,aAAayE,EACjClL,MAAK2H,eAAgBgqH,SAAUA,IAAY,EAC3C,MACJ,KAAK,QACD3xH,KAAKw0H,WAAax0H,KAAKnG,QAAQ4M,aAAayE,EAC5C,MACJ,KAAK,OACDlL,KAAKy0H,UAAYz0H,KAAKnG,QAAQ4M,aAAayE,EAC3C,MACJ,SACI,GAAIlO,GAAQgD,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKnG,QAAQ4M,aAAayE,KACtE,OAAVlO,IAAmBssC,MAAMtsC,IAAqB,UAATkO,IACtClL,KAAK2H,cAAcvK,EAAS8N,EAAMlO,OAAY,MAOtE82H,EAAet4H,UAAUw5H,kBAAoB,WACzCh1H,KAAK2H,eAAgBohB,YAAa/oB,KAAKw7G,KAAKjvD,YAAY,iBAAkB,IAE9EunE,EAAet4H,UAAUo5H,gBAAkB,WACvC50H,KAAKmD,SAAW,GAAI+5C,IAAqBl9C,KAAKgP,SAElD8kH,EAAet4H,UAAUm5H,gBAAkB,WACvC30H,KAAK00H,YAAY7sF,OAAS7nC,KAAK6nC,OACI,OAA/BhrC,EAAS,WAAYmD,QACrB5C,EAAS,WAAY4C,KAAKwnC,SAAUxnC,KAAK00H,aACzC10H,KAAK2H,eAAgBuH,aAAclP,KAAKwnC,WAAY,KAI5DssF,EAAet4H,UAAUy5H,cAAgB,WACrC,GAAI5tG,GAAWsG,GAAM+iG,aACjB72H,QAASmG,KAAKnG,QACdmvB,eAAgBhpB,KAAKgpB,eACrBzlB,YACIouH,SAAU3xH,KAAK2xH,SACf5oG,YAAa/oB,KAAK+oB,YAClBxU,SAAUvU,KAAKuU,SACfhF,UAAWvP,KAAKuP,UAChB6X,gBAAiBpnB,KAAKonB,gBACtBH,QAASjnB,KAAKinB,UAEnBjnB,KAAKyB,cACRzB,MAAKy1H,aAAepuG,EACpBrnB,KAAK0c,UAAY2K,EAAS3K,UAC1B1c,KAAK0c,UAAU7Y,aAAa,QAAS07G,+BAAav/G,KAAK0c,UAAUjW,aAAa,UAC1EzG,KAAK2xH,UACL5tH,EAAW/D,KAAKnG,SAAW67H,gBAAiB,SAEhD11H,KAAK21H,YAAe31H,KAAKyB,cAAc,SAAWqC,OAAS/J,KAAM,SAAU67H,eAAkB,UAC7F51H,KAAKy0H,UAA+B,OAAnBz0H,KAAKy0H,UAAqBz0H,KAAKy0H,UAAYz0H,KAAKnG,QAAQ8J,GACzE3D,KAAKnG,QAAQyS,gBAAgB,QAC7BvI,EAAW/D,KAAK21H,aAAe1iG,KAAQjzB,KAAKy0H,YAC5Cz0H,KAAK0c,UAAUtX,aAAapF,KAAK21H,YAAa31H,KAAK0c,UAAUpiB,WAAW,IAChD,OAApB0F,KAAKw0H,YACLzwH,EAAW/D,KAAK0c,WAAa9X,MAAS5E,KAAKw0H,cAInDV,EAAet4H,UAAU25H,gBAAkB,WACvCn1H,KAAK61H,SAAWloG,GAAMqjG,WAAW4C,GAAW,eAAgB5zH,KAAK0c,UAAW1c,KAAKyB,eACjFsC,EAAW/D,KAAK61H,UACZnoE,MAAS1tD,KAAKw7G,KAAKjvD,YAAY,kBAC/BupE,aAAc91H,KAAKw7G,KAAKjvD,YAAY,oBAExCvsD,KAAK+1H,OAASpoG,GAAMqjG,WAAW4C,GAAW,aAAc5zH,KAAK0c,UAAW1c,KAAKyB,eAC7EsC,EAAW/D,KAAK+1H,QACZroE,MAAS1tD,KAAKw7G,KAAKjvD,YAAY,kBAC/BupE,aAAc91H,KAAKw7G,KAAKjvD,YAAY,oBAExCvsD,KAAKg2H,qBAETlC,EAAet4H,UAAUs5H,eAAiB,YACV,gBAAd90H,WAA2BspC,MAAMtpC,KAAKoiB,OAChDpiB,KAAK2H,eAAgBya,KAAOupC,mBAAqB,IAEzB,gBAAd3rD,WAA2BspC,MAAMtpC,KAAKqN,OAChDrN,KAAK2H,eAAgB0F,IAAKs+C,OAAOsqE,YAAa,GAE5B,OAAlBj2H,KAAKu1H,WACDv1H,KAAKoiB,OAAUupC,OAAiB,WAChC3rD,KAAK2H,eAAgBya,IAAKpiB,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKk2H,eAAel2H,KAAKu1H,SAAUv1H,KAAKoiB,QAAS,GAE1HpiB,KAAKqN,MAASs+C,OAAiB,WAC/B3rD,KAAK2H,eAAgB0F,IAAKrN,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKk2H,eAAel2H,KAAKu1H,SAAUv1H,KAAKqN,QAAS,IAGlIrN,KAAK2H,eAAgBya,IAAKpiB,KAAKoiB,IAAMpiB,KAAKqN,IAAMrN,KAAKqN,IAAMrN,KAAKoiB,MAAO,GACvEre,EAAW/D,KAAKnG,SAAWs8H,gBAAiBn2H,KAAKoiB,IAAIzhB,WAAYy1H,gBAAiBp2H,KAAKqN,IAAI1M,cAE/FmzH,EAAet4H,UAAU06H,eAAiB,SAAUX,EAAUv4H,GAC1D,MAAOgD,MAAKmD,SAASk6C,iBACjB9U,sBAAuBgtF,EACvB/sF,sBAAuB+sF,EAAU7sF,aAAa,IAC/C1rC,IAEP82H,EAAet4H,UAAUu5H,aAAe,WACd,OAAlB/0H,KAAKu1H,UACLv1H,KAAK2H,eAAgByyB,KAAMp6B,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKk2H,eAAel2H,KAAKu1H,SAAUv1H,KAAKo6B,SAAU,IAGpI05F,EAAet4H,UAAU8vD,OAAS,SAAU+qE,EAAW95H,GACnDyD,KAAKs2H,YAAa,CAClB,IAAIt5H,GAAQgD,KAAKu2H,UAAYv2H,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKnG,QAAQmD,OAASgD,KAAKhD,KACvGgD,MAAKo1H,YAAYp1H,KAAKw2H,cAAcx5H,EAAOgD,KAAKo6B,KAAMi8F,IACtDr2H,KAAKy2H,iBAAiBl6H,IAE1Bu3H,EAAet4H,UAAUk7H,gBAAkB,WACnC12H,KAAKu0H,aACL/vH,GAAaxE,KAAK0c,WAxNlB,WA2NA1Y,GAAUhE,KAAK0c,WA3Nf,WA6NJ3Y,EAAW/D,KAAKnG,SAAWssB,eAAgBnmB,KAAKu0H,aAAe,QAAU,UAE7ET,EAAet4H,UAAU0rB,eAAiB,WAClClnB,KAAKonB,iBACL3hB,GAAalB,IAAIvE,KAAKy1H,aAAanuG,YAAa,uBAAwBtnB,KAAKunB,aAAcvnB,OAGnG8zH,EAAet4H,UAAU+rB,aAAe,SAAUnmB,GAC9CA,EAAEomB,iBACIxnB,KAAKy1H,aAAanuG,YAAY9uB,UAAUC,SAAS,sBACnDuH,KAAKynB,MAAMrmB,IAGnB0yH,EAAet4H,UAAUisB,MAAQ,SAAUlrB,GACvCyD,KAAK2H,eAAgB3K,MAAO,OAAQ,GACpCgD,KAAKqmB,gBAAgB,KAEzBytG,EAAet4H,UAAU+qB,WAAa,WAClC9gB,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK22H,QAAS32H,MACtDyF,GAAalB,IAAIvE,KAAKnG,QAAS,OAAQmG,KAAK42H,SAAU52H,MACtDyF,GAAalB,IAAIvE,KAAKnG,QAAS,UAAWmG,KAAKkgG,eAAgBlgG,MAC/DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK62H,aAAc72H,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK82H,aAAc92H,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKyqD,gBAAiBzqD,MACjEyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAKwgG,cAAexgG,MAC7DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK+2H,aAAc/2H,MACvDA,KAAKinB,SACLjnB,KAAKknB,kBAGb4sG,EAAet4H,UAAUw6H,kBAAoB,WAEzCvwH,GAAalB,IAAIvE,KAAK+1H,OAAQ3pH,GAAQsrB,gBAAiB13B,KAAKg3H,mBAAoBh3H,MAChFyF,GAAalB,IAAIvE,KAAK61H,SAAUzpH,GAAQsrB,gBAAiB13B,KAAKg3H,mBAAoBh3H,MAClFyF,GAAalB,IAAIvE,KAAK+1H,OAAQ3pH,GAAQwrB,cAAe53B,KAAKi3H,iBAAkBj3H,MAC5EyF,GAAalB,IAAIvE,KAAK61H,SAAUzpH,GAAQwrB,cAAe53B,KAAKi3H,iBAAkBj3H,MAC9EyF,GAAalB,IAAIvE,KAAK+1H,OAAQ3pH,GAAQurB,eAAgB33B,KAAKk3H,mBAAoBl3H,MAC/EyF,GAAalB,IAAIvE,KAAK61H,SAAUzpH,GAAQurB,eAAgB33B,KAAKk3H,mBAAoBl3H,OAErF8zH,EAAet4H,UAAU2rB,aAAe,WACpC1hB,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK22H,SAChDlxH,GAAaf,OAAO1E,KAAKnG,QAAS,OAAQmG,KAAK42H,UAC/CnxH,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK62H,cAChDpxH,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK82H,cAChDrxH,GAAaf,OAAO1E,KAAKnG,QAAS,UAAWmG,KAAKkgG,gBAClDz6F,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKyqD,iBACnDhlD,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAKwgG,eACjD/6F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK+2H,eAEpDjD,EAAet4H,UAAU27H,oBAAsB,WAE3C1xH,GAAaf,OAAO1E,KAAK+1H,OAAQ3pH,GAAQsrB,gBAAiB13B,KAAKg3H,oBAC/DvxH,GAAaf,OAAO1E,KAAK61H,SAAUzpH,GAAQsrB,gBAAiB13B,KAAKg3H,oBACjEvxH,GAAaf,OAAO1E,KAAK+1H,OAAQ3pH,GAAQwrB,cAAe53B,KAAKi3H,kBAC7DxxH,GAAaf,OAAO1E,KAAK61H,SAAUzpH,GAAQwrB,cAAe53B,KAAKi3H,kBAC/DxxH,GAAaf,OAAO1E,KAAK+1H,OAAQ3pH,GAAQurB,eAAgB33B,KAAKk3H,oBAC9DzxH,GAAaf,OAAO1E,KAAK61H,SAAUzpH,GAAQurB,eAAgB33B,KAAKk3H,qBAEpEpD,EAAet4H,UAAUglG,cAAgB,SAAUjkG,GAC1CyD,KAAKnG,QAAQmD,MAAMzE,QACpByH,KAAK2H,eAAgB3K,MAAO,OAAQ,EAExC,IAAIo6H,GAAcp3H,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKnG,QAAQmD,MAC9EgD,MAAKq3H,YAAYD,EAAa76H,IAElCu3H,EAAet4H,UAAUi7H,iBAAmB,SAAUl6H,GAClD,GAAIyD,KAAKoqB,YAAcpqB,KAAKhD,MAAO,CAC/B,GAAIqR,KACJrO,MAAKurB,iBAAoBvuB,MAAOgD,KAAKhD,MAAOs6H,cAAet3H,KAAKoqB,UAAWsB,cAAe1rB,KAAKs2H,WAAY/5H,MAAOA,GAC9GA,IACAyD,KAAKurB,gBAAgBhvB,MAAQA,GAEjC0B,EAAMoQ,EAAWrO,KAAKurB,iBACtBvrB,KAAKoqB,UAAYpqB,KAAKhD,MACtBgD,KAAKs2H,YAAa,EAClBt2H,KAAKyoB,QAAQ,SAAUpa,KAG/BylH,EAAet4H,UAAUu7H,aAAe,WACpC,GAAIh3H,GAAQC,KACRu3H,EAAev3H,KAAKnG,QAAQmD,KAChC/E,YAAW,WACF8H,EAAM2lC,eAAezrC,KAAK8F,EAAMlG,QAAQmD,QACzC+C,EAAMsmB,gBAAgBkxG,MAIlCzD,EAAet4H,UAAUg8H,eAAiB,WACtC,GAAIz3H,GAAQC,KACRy3H,IAAQ/gG,UAAUghG,UAAY,mBAAmBz9H,KAAKy8B,UAAUghG,SACpEz/H,YAAW,WACP,GAAI8H,EAAMlG,QAAQ+tB,eAAiB,EAAG,CAClC,GAAI+vG,GAAa53H,EAAMlG,QAAQ+tB,eAC3BgwG,EAAU73H,EAAMlG,QAAQ+tB,eAAiB,EAEzCiwG,MAAgB,GAChBC,EAAW/3H,EAAMlG,QAAQmD,MAAME,MAAM,GAGzC26H,GADuBh7H,EAAS,UADZ6S,GAAiB3P,EAAMiP,SAEV6wC,WAAW,GACP,MAAjC9/C,EAAMlG,QAAQmD,MAAM46H,IAAoB73H,EAAMlG,QAAQ+tB,eAAiB,IAAM6vG,GACzEh6H,EAAkBsC,EAAMg4H,SACxBh4H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAAMyU,OAEzB,IAAZmmH,EACL73H,EAAMlG,QAAQmD,MAAQ+C,EAAMg4H,QAEX,IAAZH,IACL73H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAAMyU,QAE9C1R,EAAMlG,QAAQmuB,kBAAkB4vG,EAASA,IAEpCtuF,MAAMnpB,WAAWpgB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,MACD,KAAxE7nB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,IAC5Di4E,EAASt5H,QAAQuB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,MACrEkwG,EAASnuF,YAAY5pC,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,KACxE7nB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,KAAOg4E,GACxE93H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,KAAOg4E,KACxE93H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAAMkpB,UAAU,EAAG0xG,GACnD73H,EAAMlG,QAAQmD,MAAMkpB,UAAUyxG,EAAY53H,EAAMlG,QAAQmD,MAAMzE,QAClEwH,EAAMlG,QAAQmuB,kBAAkB4vG,EAASA,GACrCtuF,MAAMnpB,WAAWpgB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,MAAQ7nB,EAAMlG,QAAQ+tB,eAAiB,GACxG7nB,EAAMlG,QAAQmD,MAAMzE,QACvBwH,EAAMy3H,kBAITluF,MAAMnpB,WAAWpgB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,MAAQ7nB,EAAMlG,QAAQ+tB,eAAiB,GACxC,KAAxE7nB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,KAC5Di4E,EAASt5H,QAAQuB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,MACrEkwG,EAASnuF,YAAY5pC,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,KACxE7nB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,KAAOg4E,GACxE93H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,KAAOg4E,KACxE93H,EAAMlG,QAAQmuB,kBAAkB4vG,EAASA,GACzC73H,EAAMi4H,QAAUj4H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,gBAClD7nB,EAAMk4H,kBAAmB,EACzBl4H,EAAMy3H,mBAGiB,IAA3Bz3H,EAAMk4H,kBAA6Bl4H,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,kBAAoB7nB,EAAMi4H,SAC/F1uF,MAAMnpB,WAAWpgB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,OACpE7nB,EAAMlG,QAAQmuB,kBAAkBjoB,EAAMlG,QAAQ+tB,eAAiB,EAAG7nB,EAAMlG,QAAQ+tB,eAAiB,GACjG7nB,EAAMk4H,kBAAmB,EACzBl4H,EAAMi4H,QAAU,MAEe,KAA/Bj4H,EAAMlG,QAAQmD,MAAMyU,QACpB1R,EAAMlG,QAAQmuB,kBApDN,EAAA,GAsDRjoB,EAAMlG,QAAQ+tB,eAAiB,GAC8C,KAAxE7nB,EAAMlG,QAAQmD,MAAM+C,EAAMlG,QAAQ+tB,eAAiB,GAAGi4B,WAAW,IAAc9/C,EAAMlG,QAAQ+tB,eAAiB,IAC3GnqB,EAAkBsC,EAAMg4H,SACxBh4H,EAAMlG,QAAQmD,MAAQ+C,EAAMlG,QAAQmD,MAGpC+C,EAAMlG,QAAQmD,MAAQ+C,EAAMg4H,QAEhCh4H,EAAMlG,QAAQmuB,kBAAkBjoB,EAAMlG,QAAQ+tB,eAAgB7nB,EAAMlG,QAAQ+tB,iBAGpF7nB,EAAMg4H,QAAUh4H,EAAMlG,QAAQmD,UAI1C82H,EAAet4H,UAAUq7H,aAAe,SAAUt6H,OAClCm6B,UAAUghG,UAAY,mBAAmBz9H,KAAKy8B,UAAUghG,YACxDtrH,GAAQuc,UAChB3oB,KAAKw3H,kBAIb1D,EAAet4H,UAAUs7H,aAAe,SAAUv6H,GAC9C,GAAIk7H,KAAQ/gG,UAAUghG,UAAY,mBAAmBz9H,KAAKy8B,UAAUghG,WACtDhhG,UAAUF,UAAUr+B,cAAcqG,QAAQ,YAAc,GACtDi5H,IAAQrrH,GAAQuc,UAC5B3oB,KAAKw3H,kBAIb1D,EAAet4H,UAAU0kG,eAAiB,SAAU3jG,GAChD,IAAKyD,KAAK2xH,SACN,OAAQp1H,EAAM7E,SACV,IAAK,IACD6E,EAAMirB,iBACNxnB,KAAKsrD,OAnZT,YAmZ2B/uD,EACvB,MACJ,KAAK,IACDA,EAAMirB,iBACNxnB,KAAKsrD,OAtZT,YAsZ2B/uD,KAOvCu3H,EAAet4H,UAAUg7H,cAAgB,SAAUx5H,EAAOo9B,EAAMi8F,IAC9C,OAAVr5H,GAAkBssC,MAAMtsC,MACxBA,EAAQ,EAEZ,IAAIk7H,GAlaI,cAkaW7B,EAA0Br5H,EAAQo9B,EAAOp9B,EAAQo9B,CAEpE,OADA89F,GAAel4H,KAAKm4H,gBAAgBn7H,EAAOo9B,EAAM89F,GAC1Cl4H,KAAKq1H,WAAar1H,KAAKs1H,UAAU4C,GAAgBA,GAG5DpE,EAAet4H,UAAU28H,gBAAkB,SAAUn7H,EAAOo9B,EAAMp7B,GAC9D,GAAIo5H,GAAW,GAAIh+H,QAAO,YAGtBi+H,GAFYr7H,EAAM2D,WACPy5B,EAAKz5B,WACHy3H,EAASn+H,KAAK+C,EAAM2D,aACjC23H,EAAYF,EAASn+H,KAAKmgC,EAAKz5B,WACnC,IAAI03H,GAAcC,EAAW,CACzB,GAAIC,GAAaF,EAAaD,EAAS7lG,KAAKv1B,EAAM2D,YAAY,GAAGpI,OAAS,EACtEigI,EAAYF,EAAYF,EAAS7lG,KAAK6H,EAAKz5B,YAAY,GAAGpI,OAAS,EACnE8U,EAAMD,KAAKC,IAAIkrH,EAAYC,EAC/B,OAAOx7H,GAAQgD,KAAKy4H,WAAWz5H,EAAQqO,GAE3C,MAAOrO,IAGX80H,EAAet4H,UAAUi9H,WAAa,SAAUz5H,EAAQ05H,GACpDA,EAAYA,GAAa,CACzB,IAAIC,GAASvrH,KAAKwrH,IAAI,GAAIF,EAC1B,OAAO15H,IAAU25H,EAAQ35H,EAASoO,KAAKgoG,MAAMp2G,GAAU25H,GAG3D7E,EAAet4H,UAAU67H,YAAc,SAAUr6H,EAAOT,GAChDA,IACAyD,KAAKs2H,YAAa,GAER,OAAVt5H,GAAmBssC,MAAMtsC,IACrBgD,KAAKu1H,WACLv4H,EAAQgD,KAAKw1H,YAAYx4H,EAAOgD,KAAKu1H,WAG7Cv1H,KAAKo1H,YAAsB,OAAVp4H,GAAkBssC,MAAMtsC,GAAS,KAAOgD,KAAKq1H,WAAar1H,KAAKs1H,UAAUt4H,GAASA,GACnGgD,KAAKy2H,iBAAiBl6H,IAE1Bu3H,EAAet4H,UAAUq9H,eAAiB,SAAU3tH,EAAM4tH,GACtD17H,EAAS8N,EAAM4tH,EAAS94H,KAAK00H,aAC7B10H,KAAKq3H,YAAYr3H,KAAKhD,QAE1B82H,EAAet4H,UAAU45H,YAAc,SAAUp4H,GAC7C,GAAMA,GAAmB,IAAVA,EAIV,CACD,GAAI+7H,OAAmB,GACnBC,EAAch8H,EAAM2D,WAAWzD,MAAM,KAAK,EAC9C67H,GAAoBC,GAAgBA,EAAYzgI,OAAaygI,EAAYzgI,OAAhB,EACnC,OAAlByH,KAAKu1H,WACLwD,EAAmBA,EAAmB/4H,KAAKu1H,SAAWwD,EAAmB/4H,KAAKu1H,UAElFv1H,KAAK2H,eAAgB3K,MAAOgD,KAAKw1H,YAAYx4H,EAAO+7H,KAAqB,OAVzE/7H,GAAQ,KACRgD,KAAK2H,eAAgB3K,MAAOA,IAAS,EAWzCgD,MAAKi5H,aACAj5H,KAAKq1H,YACNr1H,KAAKk5H,iBAIbpF,EAAet4H,UAAUy9H,WAAa,WAClC,GAAIj5H,KAAKhD,OAAwB,IAAfgD,KAAKhD,MAAa,CAChC,GAAIA,GAAQgD,KAAKw9C,eACbpyB,EAAeprB,KAAKu2H,UAAYv5H,EAAQgD,KAAKmD,SAASk6C,gBAAgBr9C,KAAK00H,aAAa10H,KAAKhD,MACjGgD,MAAKqmB,gBAAgB+E,GACrBrnB,EAAW/D,KAAKnG,SAAWurB,gBAAiBpoB,IAC5CgD,KAAK21H,YAAY34H,MAAQA,MAGzBgD,MAAKqmB,gBAAgB,IACrBrmB,KAAKnG,QAAQyS,gBAAgB,iBAC7BtM,KAAK21H,YAAY34H,MAAQ,MAIjC82H,EAAet4H,UAAU6qB,gBAAkB,SAAU8D,EAAKtwB,GACtD8zB,GAAMvwB,SAAS+sB,EAAMtwB,GAAoBmG,KAAKnG,QAAUmG,KAAKgpB,eAAgBhpB,KAAKonB,kBAEtF0sG,EAAet4H,UAAU09H,cAAgB,WACrCl5H,KAAKu0H,cAAe,GAChBv0H,KAAKhD,OAAwB,IAAfgD,KAAKhD,SACnBgD,KAAKu0H,eAAiBv0H,KAAKhD,MAAQgD,KAAKqN,KAAOrN,KAAKhD,MAAQgD,KAAKoiB,MAErEpiB,KAAK02H,mBAET5C,EAAet4H,UAAUgiD,aAAe,WACpC,GAAIu7E,GAEAC,EADeh5H,KAAKhD,MACO2D,WAAWzD,MAAM,KAAK,EAKrD,OAJA67H,GAAoBC,GAAgBA,EAAYzgI,OAAaygI,EAAYzgI,OAAhB,EACnC,OAAlByH,KAAKu1H,WACLwD,EAAmBA,EAAmB/4H,KAAKu1H,SAAWwD,EAAmB/4H,KAAKu1H,UAE3Ev1H,KAAKmD,SAASk6C,iBACjB9U,sBAAuBwwF,EACvBvwF,sBAAuBuwF,EAAkBrwF,aAAa,IACvD1oC,KAAKhD,QAGZ82H,EAAet4H,UAAU85H,UAAY,SAAUt4H,GAC3C,MAAIA,GAAQgD,KAAKqN,IACNrN,KAAKqN,IAEZrQ,EAAQgD,KAAKoiB,IACNpiB,KAAKoiB,IAETplB,GAGX82H,EAAet4H,UAAUg6H,YAAc,SAAUx4H,EAAO07H,GACpD,GAAI15H,GAAShC,EACTu4H,EAAWmD,GAAa,EACxBS,EAAUn6H,EAAO2B,WAAWzD,MAAM,KAElCk8H,GADJp6H,EAASoO,KAAKgoG,MAAMzpD,OAAOwtE,EAAQ,GAAK,KAAOA,EAAQ,GAAMxtE,OAAOwtE,EAAQ,IAAM5D,EAAYA,MACzE50H,WAAWzD,MAAM,IAEtC,OADA8B,GAAS2sD,OAAOytE,EAAQ,GAAK,KAAOA,EAAQ,GAAMztE,OAAOytE,EAAQ,IAAM7D,GAAaA,IAC7E5pE,OAAO3sD,EAAOohB,QAAQm1G,KAGjCzB,EAAet4H,UAAUu0D,YAAc,SAAUxzD,GAE7C,MADAA,GAAMirB,kBACC,GAEXssG,EAAet4H,UAAUivD,gBAAkB,SAAUluD,GACjD,IAAK6P,GAAQuc,UAAqC,SAAzBvc,GAAQwc,KAAKC,SAAwC,KAAlBtsB,EAAM7E,QAAgB,CAC9E,GAAI0/H,GAAcp3H,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKnG,QAAQmD,MAE9E,OADAgD,MAAKq3H,YAAYD,EAAa76H,IACvB,EAEX,GAAoB,IAAhBA,EAAMwuD,OAAexuD,EAAM88H,SAAW98H,EAAMwtB,SAA6B,IAAlBxtB,EAAM7E,SAAmC,KAAlB6E,EAAM7E,QACpF,OAAO,CAEX,IAAI4hI,GAAcvhI,OAAOC,aAAauE,EAAMwuD,OACxCtxD,EAAOuG,KAAKnG,QAAQmD,KAExB,OADAvD,GAAOA,EAAKysB,UAAU,EAAGlmB,KAAKnG,QAAQ+tB,gBAAkB0xG,EAAc7/H,EAAKysB,UAAUlmB,KAAKnG,QAAQiuB,gBAC7F9nB,KAAK0lC,eAAezrC,KAAKR,KAC1B8C,EAAMirB,iBACNjrB,EAAMg9H,mBACC,IAOfzF,EAAet4H,UAAUkqC,aAAe,WACpC,GACIsuF,GAAmBn3H,EAAS,UADZ6S,GAAiB1P,KAAKgP,SAEtCwqH,EAAe,GAInB,OAzjBe,MAsjBXxF,IACAA,EAAmB,KAAOA,GAER,IAAlBh0H,KAAKu1H,UAAkBv1H,KAAKy5H,sBACrB5F,IAEP7zH,KAAKu1H,UAAYv1H,KAAKy5H,wBACtBD,EAAe,MAAQx5H,KAAKu1H,SAAW,KAEpC,GAAIn7H,QAAO,gBAAkB45H,EAAmB,MAAQwF,EAC3D,QAAUxF,EAAmB,MAAQwF,EAAe,WAG5D1F,EAAet4H,UAAUk+H,WAAa,SAAUn9H,GAC5CA,EAAMirB,gBACN,IAAImyG,GACAC,EAAWr9H,CACXq9H,GAASC,WACTF,EAAQC,EAASC,WAAa,IAEzBD,EAASE,SACdH,GAASC,EAASE,OAAS,GAE3BH,EAAQ,EACR35H,KAAKsrD,OAjlBD,YAilBmB/uD,GAElBo9H,EAAQ,GACb35H,KAAKsrD,OAnlBD,YAmlBmB/uD,GAE3ByD,KAAK+vD,YAAYxzD,IAErBu3H,EAAet4H,UAAUm7H,QAAU,SAAUp6H,GACzC,GAAIwD,GAAQC,IACZ,IAAKA,KAAKinB,UAAWjnB,KAAK2xH,SAA1B,CAMA,GAHA3xH,KAAKu2H,WAAY,EACjB/xH,GAAaxE,KAAK0c,WA/lBd,WAgmBJ1c,KAAKoqB,UAAYpqB,KAAKhD,MACjBgD,KAAKhD,OAAwB,IAAfgD,KAAKhD,MAAc,CAClC,GAAI+8H,GAAgB/5H,KAAKw9C,cAEzB,IADAx9C,KAAKqmB,gBAAgB0zG,IAChB/5H,KAAK+zH,cAAe,CACrB,GAAIl0H,GAASuM,GAAQuc,UAAYvc,GAAQ0c,MAAS,IAAM,CACxD7wB,YAAW,WACP8H,EAAMlG,QAAQmuB,kBAAkB,EAAG+xG,EAAcxhI,SAClDsH,IAGNuM,GAAQuc,UACTljB,GAAalB,IAAIvE,KAAKnG,QAAS,4BAA6BmG,KAAK05H,WAAY15H,QAIrF8zH,EAAet4H,UAAUo7H,SAAW,SAAUr6H,GAC1C,GAAIwD,GAAQC,IACZ,IAAIA,KAAK+zH,eAEL,GADAx3H,EAAMirB,iBACFpb,GAAQuc,SAAU,CAClB,GAAIkB,GAAU7pB,KAAKnG,QAAQmD,KAC3BgD,MAAKnG,QAAQwI,QACbrC,KAAK+zH,eAAgB,CACrB,IAAIiG,GAAQh6H,KAAKnG,OACjB5B,YAAW,WACP8H,EAAMsmB,gBAAgBwD,EAASmwG,IAChC,UAGN,CACDh6H,KAAKu2H,WAAY,EACZv2H,KAAKnG,QAAQmD,MAAMzE,QACpByH,KAAK2H,eAAgB3K,MAAO,OAAQ,EAExC,IAAIo6H,GAAcp3H,KAAKmD,SAASo6C,iBAAkB1V,OAAQ,MAAO7nC,KAAKnG,QAAQmD,MAC9EgD,MAAKq3H,YAAYD,GACZhrH,GAAQuc,UACTljB,GAAaf,OAAO1E,KAAKnG,QAAS,4BAA6BmG,KAAK05H,YAI5E,GADkB3zH,EAAQ/F,KAAKnG,QAAS,QACvB,CACb,GAAIA,GAAUmG,KAAKnG,QAAQ+mG,mBACvBq5B,EAAal/H,SAAS+Z,YAAY,aACtCmlH,GAAWllH,UAAU,YAAY,GAAM,GACvClb,EAAQmb,cAAcilH,KAI9BnG,EAAet4H,UAAUw7H,mBAAqB,SAAUz6H,GACpD,GAAIwD,GAAQC,IAKZ,IAJIA,KAAKu2H,YACLv2H,KAAK+zH,eAAgB,EACrBx3H,EAAMirB,kBAELxnB,KAAKk6H,eAAe39H,GAAzB,CAGayD,KAAKk6H,eAAe39H,EAAjC,IACIsM,GAAStM,EAAMklD,cACf6J,EAAUziD,EAAOrQ,UAAUC,SA/pB1B,aAGG,YACA,WA4pBRgN,IAAalB,IAAIsE,EAAQ,aAAc7I,KAAKm6H,aAAcn6H,MAC1DA,KAAK6d,QAAUtb,YAAY,WAAcxC,EAAMm0H,UAAW,EAAMn0H,EAAMurD,OAAOA,EAAQ/uD,IAAW,KAChGkJ,GAAalB,IAAIxJ,SAAU,UAAWiF,KAAKm6H,aAAcn6H,QAE7D8zH,EAAet4H,UAAU07H,mBAAqB,SAAU36H,GACvCxB,SAAS2rD,iBAAiBnqD,EAAMoqD,QAASpqD,EAAMqqD,SAC/CpuD,UAAUC,SAASm7H,KAC5BnxH,cAAczC,KAAK6d,UAG3Bi2G,EAAet4H,UAAUy7H,iBAAmB,SAAU16H,GAUlD,GATIyD,KAAK+zH,gBACL/zH,KAAKnG,QAAQwI,QACR+J,GAAQuc,WACT3oB,KAAK+zH,eAAgB,IAGxB3nH,GAAQuc,UACTpsB,EAAMirB,iBAELxnB,KAAKk6H,eAAe39H,GAAzB,CAGA,GAAIsM,GAAStM,EAAMklD,cACf6J,EAAUziD,EAAOrQ,UAAUC,SAxrB1B,aAGG,YACA,WAqrBRgN,IAAaf,OAAOmE,EAAQ,aAAc7I,KAAKm6H,cAC1Cn6H,KAAKk0H,UACNl0H,KAAKsrD,OAAOA,EAAQ/uD,GAExByD,KAAKk0H,UAAW,EAChBzuH,GAAaf,OAAO3J,SAAU,UAAWiF,KAAKm6H,gBAElDrG,EAAet4H,UAAU0+H,eAAiB,SAAU39H,GAChD,QAAKA,EAAMwuD,OAAyB,IAAhBxuD,EAAMwuD,OAAiBxuD,EAAMs1H,QAA2B,IAAjBt1H,EAAMs1H,SACzD7xH,KAAKinB,SAAWjnB,KAAK2xH,YAG7BlvH,cAAczC,KAAK6d,UACZ,IAEXi2G,EAAet4H,UAAU4+H,qBAAuB,WAC5CzsG,GAAMuB,eAAelvB,KAAKy1H,aAC1B,IAAIE,GAAc31H,KAAK21H,WACvB31H,MAAK21H,YAAYjxH,SACjBipB,GAAMqlG,YAAYhzH,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAK+oB,YAAa/oB,KAAKyB,eAC5EzB,KAAK0c,UAAUtX,aAAauwH,EAAa31H,KAAK0c,UAAUpiB,WAAW,KAEvEw5H,EAAet4H,UAAU2+H,aAAe,SAAU59H,GAC9CA,EAAMg9H,kBACN92H,cAAczC,KAAK6d,SACnB7d,KAAKk0H,UAAW,EAChBzuH,GAAaf,OAAO1E,KAAK+1H,OAAQ,aAAc/1H,KAAKm6H,cACpD10H,GAAaf,OAAO1E,KAAK61H,SAAU,aAAc71H,KAAKm6H,eAO1DrG,EAAet4H,UAAU0kB,UAAY,SAAUka,OAC9B,KAATA,IAAmBA,EAAOp6B,KAAKo6B,MACnCp6B,KAAKs2H,YAAa,EAClBt2H,KAAKo1H,YAAYp1H,KAAKw2H,cAAcx2H,KAAKhD,MAAOo9B,EA3tBxC,cA4tBRp6B,KAAKy2H,oBAOT3C,EAAet4H,UAAU6+H,UAAY,SAAUjgG,OAC9B,KAATA,IAAmBA,EAAOp6B,KAAKo6B,MACnCp6B,KAAKs2H,YAAa,EAClBt2H,KAAKo1H,YAAYp1H,KAAKw2H,cAAcx2H,KAAKhD,MAAOo9B,EAruBxC,cAsuBRp6B,KAAKy2H,oBAQT3C,EAAet4H,UAAUqY,QAAU,WAC/B7T,KAAKmnB,eACL5hB,EAAOvF,KAAK21H,aACR31H,KAAKk1H,iBACLl1H,KAAKm3H,sBACL5xH,EAAOvF,KAAK+1H,QACZxwH,EAAOvF,KAAK61H,WAEhB71H,KAAK0c,UAAU1G,cAAcjU,YAAY/B,KAAKm0H,cAC9C5uH,EAAOvF,KAAK0c,WACZqc,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAKlC8zH,EAAet4H,UAAU8+H,QAAU,WAC/B,MAAOt6H,MAAKnG,QAAQmD,OAMxB82H,EAAet4H,UAAU6jD,eAAiB,WACtC,GAAIk7E,IAAa,QACjB,OAAOv6H,MAAK8/C,aAAay6E,IAM7BzG,EAAet4H,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC5D,IACK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,QACDxE,EAAkB1G,KAAK0c,WAAahF,MAAShV,EAAWq4B,EAAQrjB,QAChE,MACJ,KAAK,WACDiW,GAAM6jG,YAAYz2F,EAAQxmB,UAAWvU,KAAK0c,WAAYse,EAAQzmB,SAC9D,MACJ,KAAK,UACDoZ,GAAMsuF,WAAWlhF,EAAQ9T,QAASjnB,KAAKnG,QACvC,MACJ,KAAK,YACD8zB,GAAM+tF,aAAa3gF,EAAQxrB,WAAYvP,KAAK0c,WAC5C,MACJ,KAAK,WACDiR,GAAM+jG,YAAY32F,EAAQ42F,SAAU3xH,KAAKnG,SACrCmG,KAAK2xH,SACL5tH,EAAW/D,KAAKnG,SAAW67H,gBAAiB,SAG5C11H,KAAKnG,QAAQyS,gBAAgB,gBAEjC,MACJ,KAAK,cACDqhB,GAAM8jG,eAAe12F,EAAQhS,YAAa/oB,KAAKnG,QAC/C,MACJ,KAAK,OACDmG,KAAKo6B,KAAOW,EAAQX,KACpBp6B,KAAK+0H,cACL,MACJ,KAAK,iBACGh6F,EAAQm6F,eACRl1H,KAAKm1H,mBAGL5vH,EAAOvF,KAAK+1H,QACZxwH,EAAOvF,KAAK61H,UAEhB,MACJ,KAAK,kBACDloG,GAAMojG,eAAeh2F,EAAQ3T,gBAAiBpnB,KAAKnG,QAASmG,KAAKy1H,iBAAcr8H,GAAW4G,KAAKyB,eAC/FzB,KAAKknB,gBACL,MACJ,KAAK,iBACDlnB,KAAKgpB,eAAiB+R,EAAQ/R,eAC9BhpB,KAAKo6H,sBACL,MACJ,KAAK,QACDp6H,KAAKq3H,YAAYt8F,EAAQ/9B,MACzB,MACJ,KAAK,MACL,IAAK,MACDI,EAAS8N,EAAMrO,EAASqO,EAAM6vB,GAAU/6B,MACxCA,KAAK80H,iBACL90H,KAAKq3H,YAAYr3H,KAAKhD,MACtB,MACJ,KAAK,aACDgD,KAAKq1H,WAAat6F,EAAQs6F,WAC1Br1H,KAAKq3H,YAAYr3H,KAAKhD,OACtBgD,KAAKk5H,eACL,MACJ,KAAK,SACDl5H,KAAK40H,kBACL50H,KAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,QACpBvR,EAAkBuC,KAAK61H,WACxB9xH,EAAW/D,KAAK61H,UACZnoE,MAAS1tD,KAAKw7G,KAAKjvD,YAAY,kBAC/BupE,aAAc91H,KAAKw7G,KAAKjvD,YAAY,oBAGvC9uD,EAAkBuC,KAAK+1H,SACxBhyH,EAAW/D,KAAK+1H,QACZroE,MAAS1tD,KAAKw7G,KAAKjvD,YAAY,kBAC/BupE,aAAc91H,KAAKw7G,KAAKjvD,YAAY,oBAG5CvsD,KAAKg1H,oBACLrnG,GAAM8jG,eAAezxH,KAAK+oB,YAAa/oB,KAAKnG,SAC5CmG,KAAKq3H,YAAYr3H,KAAKhD,MACtB,MACJ,KAAK,WACD,GAAI87H,GAAUj8H,EAASqO,EAAM6vB,EAC7B/6B,MAAK2H,eAAgBuH,aAAc4pH,IAAW,GAC9C94H,KAAK64H,eAAe3tH,EAAM4tH,EAC1B,MACJ,KAAK,eACD,GAAI0B,GAAY39H,EAASqO,EAAM6vB,EAC/B/6B,MAAK2H,eAAgB6/B,SAAUgzF,IAAa,GAC5Cx6H,KAAK64H,eAAe,WAAY2B,EAChC,MACJ,KAAK,SACDp9H,EAAS8N,EAAMrO,EAASqO,EAAM6vB,GAAU/6B,MACxCA,KAAK20H,kBACL30H,KAAKq3H,YAAYr3H,KAAKhD,MACtB,MACJ,KAAK,WACDgD,KAAKu1H,SAAWx6F,EAAQw6F,SACxBv1H,KAAKq3H,YAAYr3H,KAAKhD,UAQtC82H,EAAet4H,UAAU0L,cAAgB,WACrC,MAAO,kBAEXoxB,IACI1vB,GAAS,KACVkrH,EAAet4H,UAAW,eAAY,IACzC88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,YAAS,IACtC88B,IACI1vB,IAAW+iD,OAAiB,YAC7BmoE,EAAet4H,UAAW,UAAO,IACpC88B,IACI1vB,GAAS+iD,OAAOsqE,YACjBnC,EAAet4H,UAAW,UAAO,IACpC88B,IACI1vB,GAAS,IACVkrH,EAAet4H,UAAW,WAAQ,IACrC88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,YAAS,IACtC88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,kBAAe,IAC5C88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,qBAAkB,IAC/C88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,eAAY,IACzC88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,cAAW,IACxC88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,gBAAa,IAC1C88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,sBAAmB,IAChD88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,wBAAqB,IAClD88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,aAAU,IACvC88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,eAAY,IACzC88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,eAAY,IACzC88B,IACI1vB,GAAS,OACVkrH,EAAet4H,UAAW,mBAAgB,IAC7C88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,iBAAc,IAC3C88B,IACI1vB,IAAS,IACVkrH,EAAet4H,UAAW,4BAAyB,IACtD88B,IACI1vB,GAAS,UACVkrH,EAAet4H,UAAW,qBAAkB,IAC/C88B,IACI7uB,MACDqqH,EAAet4H,UAAW,cAAW,IACxC88B,IACI7uB,MACDqqH,EAAet4H,UAAW,gBAAa,IAC1C88B,IACI7uB,MACDqqH,EAAet4H,UAAW,aAAU,IACvCs4H,EAAiBx7F,IACbvuB,IACD+pH,IAEL71E,IrC39BE5wB,GAAQ,UACRF,GAAa,gBACbC,GAAa,gBACbW,GAAW,iBACX7E,GAAW,cACXwE,GAAc,iBAKPM,IACPsjB,EAAK,QACLgB,EAAK,SACLmoF,IAAK,WACLrqF,EAAK,WACLsqF,IAAK,YACLC,IAAK,SACLzjF,EAAK,QACLG,EAAK,cACL5H,EAAK,gBA69BLmrF,GAA0B,WAC1B,QAASA,MAET,MAAOA,MuCx/BP9iG,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAyB5DmiG,GAA+B,SAAU9hG,GAEzC,QAAS8hG,GAAcvmH,EAASza,GAC5B,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA0RlD,MA5RA83B,IAAU+iG,EAAe9hG,GAQzB8hG,EAAcr/H,UAAU0L,cAAgB,WACpC,MAAO,iBAMX2zH,EAAcr/H,UAAUyY,UAAY,WAChCjU,KAAK+lB,WAAa,GAClB/lB,KAAK4lB,WAAa,GAClB5lB,KAAK8lB,gBAAkB,GACvB9lB,KAAKuoB,aAAeyF,GACpBhuB,KAAK2lB,sBACL3lB,KAAK4pB,cACL5pB,KAAK0nB,cACL1nB,KAAKurB,mBACLvrB,KAAKwoB,kBACLxoB,KAAKupB,cAAe,EACpBvpB,KAAK0oB,SAAU,EACf1oB,KAAKwrB,WAAY,EACjBxrB,KAAKsrB,cAAe,CACpB,IAAIhY,GAAazW,EAAS,gBAAiBmD,KAAKnG,QAIhD,IAHAmG,KAAKm0H,aAAen0H,KAAKnG,QAAQmI,WAAU,GAC3CwC,GAAaxE,KAAKm0H,eA7CZ,YADE,oBA+CRn0H,KAAKo0H,eAAiB,KACO,sBAAzBp0H,KAAKnG,QAAQyJ,QAAiC,CAC9CtD,KAAKo0H,eAAiBp0H,KAAKnG,QAAQyJ,OAEnC,KAAK,GADD+P,GAAQrT,KAAKyB,cAAc,SACtBpJ,EAAI,EAAGA,EAAI2H,KAAKnG,QAAQkK,WAAWxL,OAAQF,IAChDgb,EAAMxP,aAAa7D,KAAKnG,QAAQkK,WAAW1L,GAAGkb,SAAUvT,KAAKnG,QAAQkK,WAAW1L,GAAGmb,WACnFH,EAAM7Y,UAAYwF,KAAKnG,QAAQW,SAE/BwF,MAAKnG,QAAQmqH,aAAa,OAC1BhkH,KAAKnG,QAAQyS,gBAAgB,MAEjCtM,KAAKnG,QAAQrB,UAAUkM,OAAO,YAAa,mBAC3C1E,KAAKnG,QAAQrB,UAAU+L,IAAI,oBAC3BvE,KAAKnG,QAAQkI,YAAYsR,GACzBrT,KAAKnG,QAAUwZ,EACfjW,EAAS,gBAAiBkW,EAAYtT,KAAKnG,WAOnDghI,EAAcr/H,UAAU6jD,eAAiB,WACrC,GAAIk7E,IAAa,QACjB,OAAOv6H,MAAK8/C,aAAay6E,IAM7BM,EAAcr/H,UAAUojD,OAAS,WACc,UAAvC5+C,KAAKnG,QAAQyJ,QAAQnL,gBACO,UAAxB6H,KAAKgpB,gBACLhlB,GAAUhE,KAAKnG,SAjFnB,WAmFAmG,KAAKi1H,gBACqB,KAAtBj1H,KAAKnG,QAAQo5B,MACbjzB,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKnG,QAAQ8J,IAEnD3D,KAAKwrB,WAAY,EACjBxrB,KAAK86H,qBACL96H,KAAKwrB,WAAY,EACjBxrB,KAAK+6H,oBAAmB,GAAM,GAC9B/6H,KAAKg7H,SAASh7H,KAAK0X,OACnB1X,KAAKkqB,UAAYlqB,KAAKnG,QAAQmD,MACzBoP,GAAQuc,UAAsC,SAAzBvc,GAAQwc,KAAKC,SAA4C,SAAtBzc,GAAQwc,KAAKqK,MACtEjzB,KAAKnG,QAAQohI,SAIzBJ,EAAcr/H,UAAUs/H,mBAAqB,WACzC96H,KAAK+lB,WAAa,GAClB/lB,KAAK4lB,WAAa,GAClB5lB,KAAK8lB,gBAAkB,GACvB9lB,KAAK2lB,sBACL3lB,KAAK4pB,cACL5pB,KAAK0nB,cACD1nB,KAAK6lB,WAAWttB,OAAS,IACzByH,KAAK6lB,WAAa7lB,KAAK6lB,WAAW,IAEtCf,GAAWlkB,KAAKZ,MAChBomB,GAAUxlB,KAAKZ,OACG,OAAdA,KAAKqlB,MAA+B,KAAdrlB,KAAKqlB,UAA8BjsB,KAAf4G,KAAKhD,QAC/CqpB,GAAgBzlB,KAAKZ,KAAMA,KAAKhD,MAEpC,IAAImtB,GAAMjC,GAActnB,KAAKZ,KAAMA,KAAKnG,QACxCmG,MAAKoqB,UAAYD,EACjBnqB,KAAKhD,MAAQmtB,EACRnqB,KAAKwrB,WACNrE,GAAavmB,KAAKZ,MAEtBumB,GAAW3lB,KAAKZ,OAEpB66H,EAAcr/H,UAAUu/H,mBAAqB,SAAUG,EAAQC,IACvDA,GAAsBn7H,KAAK+oB,eAC3B4E,GAAM8jG,eAAezxH,KAAK+oB,YAAa/oB,KAAKnG,SACxCmG,KAAKnG,QAAQmD,QAAUgD,KAAK+lB,YAAcm1G,GAAkC,WAAxBl7H,KAAKgpB,gBACzD3C,GAAgBzlB,KAAKZ,KAAM,IAEH,UAAxBA,KAAKgpB,gBACLnC,GAAqBjmB,KAAKZ,QAItC66H,EAAcr/H,UAAUg2H,YAAc,SAAUj9G,EAAU1a,GAClD0a,GACAvQ,EAASnK,EAAS0a,IAG1BsmH,EAAcr/H,UAAUw/H,SAAW,SAAUtjH,GACpCja,EAAkBia,KACnB1X,KAAKnG,QAAQ+K,MAAM8S,MAAQhV,EAAWgV,GACtC1X,KAAKqnB,SAAS3K,UAAU9X,MAAM8S,MAAQhV,EAAWgV,KAGzDmjH,EAAcr/H,UAAUy5H,cAAgB,WACpCj1H,KAAKqnB,SAAWsG,GAAM+iG,aAClB72H,QAASmG,KAAKnG,QACdmvB,eAAgBhpB,KAAKgpB,eACrBzlB,YACIgM,UAAWvP,KAAKuP,UAChBgF,SAAUvU,KAAKuU,SACf0S,QAASjnB,KAAKinB,QACd8B,YAAa/oB,KAAK+oB,YAClB3B,gBAAiBpnB,KAAKonB,kBAE3BpnB,KAAKyB,eACRzB,KAAKqnB,SAAS3K,UAAU7Y,aAAa,QAAS07G,qCAAav/G,KAAKqnB,SAAS3K,UAAUjW,aAAa,WAMpGo0H,EAAcr/H,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC3D,IAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,QACDioB,GAAa1lB,KAAKZ,KAAMA,KAAKhD,OACzBgD,KAAK+oB,aACL/oB,KAAK+6H,oBAAmB,GAAO,EAEnC,MACJ,KAAK,cACD/6H,KAAK+6H,oBAAmB,GAAM,EAC9B,MACJ,KAAK,QACD/6H,KAAKg7H,SAASjgG,EAAQrjB,MACtB,MACJ,KAAK,WACD1X,KAAKwxH,YAAYz2F,EAAQxmB,UAAWvU,KAAKqnB,SAAS3K,WAClD,MACJ,KAAK,UACDiR,GAAMsuF,WAAWlhF,EAAQ9T,QAASjnB,KAAKnG,QACvC,MACJ,KAAK,YACD8zB,GAAM+tF,aAAa3gF,EAAQxrB,WAAYvP,KAAKqnB,SAAS3K,WACrD,MACJ,KAAK,mBACD1c,KAAKgmB,iBAAmB+U,EAAQ/U,iBAChChmB,KAAK86H,oBACL,MACJ,KAAK,kBACDntG,GAAMojG,eAAeh2F,EAAQ3T,gBAAiBpnB,KAAKnG,QAASmG,KAAKqnB,aAAUjuB,GAAW4G,KAAKyB,eAC3FylB,GAAetmB,KAAKZ,KACpB,MACJ,KAAK,iBACDA,KAAKgpB,eAAiB+R,EAAQ/R,eAC9B2E,GAAMuB,eAAelvB,KAAKqnB,UAC1BsG,GAAMqlG,YAAYhzH,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAK+oB,YAAa/oB,KAAKyB,cAC5E,MACJ,KAAK,OACD,GAAI25H,GAAkBp7H,KAAKhD,KAC3BgD,MAAKqlB,KAAO0V,EAAQ1V,KACpBrlB,KAAKq3H,YAAY+D,EACjB,MACJ,KAAK,aACGrgG,EAAQlV,WAAWttB,OAAS,IAC5BwiC,EAAQlV,WAAakV,EAAQlV,WAAW,IAExCkV,EAAQlV,WACR7lB,KAAK6lB,WAAakV,EAAQlV,WAG1B7lB,KAAK6lB,WAAa,GAEtB,IAAI7oB,GAAQgD,KAAKnG,QAAQmD,MAAMrD,QAAQ,GAAIS,QAAO,IAAM4gC,EAAQnV,WAAa,IAAK,KAAM7lB,KAAK6lB,WACzF7lB,MAAK+lB,aAAe/lB,KAAKnG,QAAQmD,QACjCA,EAAQgD,KAAK+lB,WAAWpsB,QAAQ,GAAIS,QAAO,IAAM4gC,EAAQnV,WAAa,IAAK,KAAM7lB,KAAK6lB,aAE1F7lB,KAAK+lB,WAAa/lB,KAAK+lB,WAAWpsB,QAAQ,GAAIS,QAAO,IAAM4gC,EAAQnV,WAAa,IAAK,KAAM7lB,KAAK6lB,YAChG7lB,KAAK4pB,WAAa5pB,KAAK0nB,cACvBrB,GAAgBzlB,KAAKZ,KAAMhD,KAK3C69H,EAAcr/H,UAAU67H,YAAc,SAAUgE,GAC5Cr7H,KAAK86H,qBACLx0G,GAAa1lB,KAAKZ,KAAMq7H,IAO5BR,EAAcr/H,UAAU8/H,eAAiB,WACrC,MAAOrzG,IAAgBrnB,KAAKZ,KAAMA,KAAKnG,UAQ3CghI,EAAcr/H,UAAUqY,QAAU,WAC9BsT,GAAavmB,KAAKZ,MAClBA,KAAKqnB,SAAS3K,UAAU1G,cAAcjU,YAAY/B,KAAKm0H,cACvD5uH,EAAOvF,KAAKqnB,SAAS3K,WACrBqc,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAElCs4B,IACI1vB,GAAS,OACViyH,EAAcr/H,UAAW,eAAY,IACxC88B,IACI1vB,GAAS,OACViyH,EAAcr/H,UAAW,YAAS,IACrC88B,IACI1vB,GAAS,OACViyH,EAAcr/H,UAAW,kBAAe,IAC3C88B,IACI1vB,GAAS,UACViyH,EAAcr/H,UAAW,qBAAkB,IAC9C88B,IACI1vB,IAAS,IACViyH,EAAcr/H,UAAW,cAAW,IACvC88B,IACI1vB,IAAS,IACViyH,EAAcr/H,UAAW,sBAAmB,IAC/C88B,IACI1vB,IAAS,IACViyH,EAAcr/H,UAAW,wBAAqB,IACjD88B,IACI1vB,IAAS,IACViyH,EAAcr/H,UAAW,gBAAa,IACzC88B,IACI1vB,GAAS,OACViyH,EAAcr/H,UAAW,WAAQ,IACpC88B,IACI1vB,GAAS,MACViyH,EAAcr/H,UAAW,iBAAc,IAC1C88B,IACI1vB,GAAS,OACViyH,EAAcr/H,UAAW,YAAS,IACrC88B,IACI1vB,GAAS,OACViyH,EAAcr/H,UAAW,uBAAoB,IAChD88B,IACI7uB,MACDoxH,EAAcr/H,UAAW,cAAW,IACvC88B,IACI7uB,MACDoxH,EAAcr/H,UAAW,gBAAa,IACzC88B,IACI7uB,MACDoxH,EAAcr/H,UAAW,aAAU,IACtC88B,IACI7uB,MACDoxH,EAAcr/H,UAAW,YAAS,IACrCq/H,EAAgBviG,IACZvuB,IACD8wH,IAEL58E,ICrUEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAW5D6iG,GAA2B,SAAUxiG,GAErC,QAASwiG,KACL,MAAkB,QAAXxiG,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBA83B,IAAUyjG,EAAWxiG,GAIrBT,IACI1vB,GAAS,SACV2yH,EAAU//H,UAAW,gBAAa,IACrC88B,IACI1vB,GAAS,KACV2yH,EAAU//H,UAAW,gBAAa,IACrC88B,IACI1vB,GAAS,IACV2yH,EAAU//H,UAAW,gBAAa,IACrC88B,IACI1vB,IAAS,IACV2yH,EAAU//H,UAAW,qBAAkB,IAC1C88B,IACI1vB,GAAS,OACV2yH,EAAU//H,UAAW,aAAU,IAC3B+/H,GACT54F,IAKE64F,GAA2B,SAAUziG,GAErC,QAASyiG,KACL,MAAkB,QAAXziG,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAuB/D,MAzBA83B,IAAU0jG,EAAWziG,GAIrBT,IACI1vB,IAAS,IACV4yH,EAAUhgI,UAAW,cAAW,IACnC88B,IACI1vB,GAAS,OACV4yH,EAAUhgI,UAAW,eAAY,IACpC88B,IACI1vB,GAAS,OACV4yH,EAAUhgI,UAAW,aAAU,IAClC88B,IACI1vB,GAAS,OACV4yH,EAAUhgI,UAAW,eAAY,IACpC88B,IACI1vB,GAAS,OACV4yH,EAAUhgI,UAAW,aAAU,IAClC88B,IACI1vB,IAAS,IACV4yH,EAAUhgI,UAAW,uBAAoB,IAC5C88B,IACI1vB,IAAS,IACV4yH,EAAUhgI,UAAW,qBAAkB,IACnCggI,GACT74F,IAKE84F,GAA6B,SAAU1iG,GAEvC,QAAS0iG,KACL,MAAkB,QAAX1iG,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBA83B,IAAU2jG,EAAa1iG,GAIvBT,IACI1vB,GAAS,KACV6yH,EAAYjgI,UAAW,eAAY,IACtC88B,IACI1vB,GAAS,WACV6yH,EAAYjgI,UAAW,gBAAa,IACvC88B,IACI1vB,GAAS,UACV6yH,EAAYjgI,UAAW,aAAU,IACpC88B,IACI1vB,IAAS,IACV6yH,EAAYjgI,UAAW,gBAAa,IACvC88B,IACI1vB,GAAS,OACV6yH,EAAYjgI,UAAW,aAAU,IAC7BigI,GACT94F,IAGE0lE,IACAC,KAAM,WACNsR,IAAK,QACL8hB,kBAAmB,iBACnBC,eAAgB,oBAChBC,aAAc,WACdC,SAAU,UACVC,aAAc,kBACdC,YAAa,iBACbC,aAAc,kBACdl8F,MAAO,UACPm8F,KAAM,SACNC,MAAO,UACPC,UAAW,eACXC,cAAe,mBACfC,YAAa,iBACbC,kBAAmB,iBACnBC,mBAAoB,kBACpBC,eAAgB,aAChBC,gBAAiB,qBACjBC,wBAAyB,6BACzBC,uBAAwB,4BACxBC,sBAAuB,2BACvBC,qBAAsB,0BACtBC,gBAAiB,qBACjBC,oBAAqB,0BACrBC,sBAAuB,mBACvBC,eAAgB,oBAChBC,YAAa,iBACbC,oBAAqB,mBACrBC,eAAgB,aAChBC,iBAAkB,eAClBC,kBAAmB,iBACnBC,mBAAoB,2BACpBC,gBAAiB,eACjBC,iBAAkB,gBAClBC,gBAAiB,eACjBC,mBAAoB,aACpBC,gBAAiB,eACjBC,eAAgB,cAChBC,kBAAmB,eACnBC,qBAAsB,iBACtBC,eAAgB,cAChBC,eAAgB,cAChBC,mBAAoB,kBACpBC,qBAAsB,oBACtBC,oBAAqB,mBACrBC,sBAAuB,qBACvBC,oBAAqB,0BACrBC,oBAAqB,0BACrB5M,SAAU,cACV6M,OAAQ,WACRC,gBAAiB,cACjBC,cAAe,gBACfC,eAAgB,iBAChBC,eAAgB,oBAChBC,aAAc,mBAedC,GAAwB,SAAU/lG,GAElC,QAAS+lG,GAAOxqH,EAASza,GACrB,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAenD,OAdAD,GAAMg/H,OAAS,OACfh/H,EAAMi/H,OAAS,SACfj/H,EAAMk/H,YACF39E,OAAQ,oKAERu6E,SAAU,yCAEd97H,EAAMm/H,6BACF59E,OAAQ,6DACRu6E,SAAU,uGAEd97H,EAAMo/H,eAAiB,8CACvBp/H,EAAMq/H,eAAiB,KACvBr/H,EAAMykD,MAAO,EACNzkD,EAupFX,MAxqFA+3B,IAAUgnG,EAAQ/lG,GAmBlB+lG,EAAOtjI,UAAUyY,UAAY,WACzB,GAAIsvG,IAAe8Q,eAAgB,WAAYC,eAAgB,WAC/Dt0H,MAAKw7G,KAAO,GAAI1vD,IAAK,SAAUy3D,EAAYvjH,KAAKgP,QAChDhP,KAAKq/H,kBAAmB,EACxBr/H,KAAKs/H,yBACLt/H,KAAKu/H,qBACLv/H,KAAKw/H,mBACLx/H,KAAK20H,kBACL30H,KAAK40H,mBAETkK,EAAOtjI,UAAUo5H,gBAAkB,WAC/B50H,KAAKy/H,qBAAuB,GAAIviF,IAAqBl9C,KAAKgP,SAE9D8vH,EAAOtjI,UAAUm5H,gBAAkB,WAC/B30H,KAAKu/H,kBAAkB13F,OAAWpqC,EAAkBuC,KAAK+jG,QAAQl8D,QAAiC,KAAtB7nC,KAAK+jG,QAAQl8D,OACzF7nC,KAAKw/H,gBAAgB33F,OAAWpqC,EAAkBuC,KAAK0/H,MAAM73F,QAA+B,KAApB7nC,KAAK0/H,MAAM73F,QAEvFi3F,EAAOtjI,UAAUmkI,aAAe,SAAU3iI,EAAO4iI,GAC7C,GAAIC,GAAc,KACdF,EAAe,IACnB,IAAK3iI,GAAmB,IAAVA,EAAc,CACxB6iI,EAAc7/H,KAAKw9C,aAAaxgD,EAChC,IAAI+7H,GAAmB/4H,KAAK+4H,iBAAiB/7H,EAC7C2iI,GAAe3/H,KAAKy/H,qBAAqBpiF,gBAAgBuiF,GAAY5/H,KAAK8/H,gBAAgB9iI,EAAO+7H,IAErG,OAASgH,WAAYF,EAAaF,aAAcA,IAGpDb,EAAOtjI,UAAUgiD,aAAe,SAAUxgD,GACtC,GAAI+7H,GAAmB/4H,KAAK+4H,iBAAiB/7H,EAC7C,OAAOgD,MAAKy/H,qBAAqBpiF,iBAC7B9U,sBAAuBwwF,EACvBvwF,sBAAuBuwF,EAAkBrwF,aAAa,IACvD1rC,IAGP8hI,EAAOtjI,UAAUu9H,iBAAmB,SAAU/7H,GAC1C,GAAIg8H,GAAch8H,EAAM2D,WAAWzD,MAAM,KAAK,EAE9C,OADwB87H,IAAgBA,EAAYzgI,OAAaygI,EAAYzgI,OAAhB,GAGjEumI,EAAOtjI,UAAUskI,gBAAkB,SAAU9iI,EAAO07H,GAChD,GAAInD,GAAWmD,GAAa,CAC5B,OAAO/sE,QAAO3uD,EAAMojB,QAAQm1G,KAGhCuJ,EAAOtjI,UAAUwkI,oBAAsB,SAAUhjI,GAC7CA,EAA0C,IAAjCgD,KAAK+4H,iBAAiB/7H,GAAgB2uD,OAAO3uD,GAAOojB,QAAQpgB,KAAKigI,cAAgBjjI,CAE1F,KAAK,GADDkjI,GAAO,EACF7nI,EAAI,EAAGA,EAAI2H,KAAKigI,aAAc5nI,IACnC6nI,GAAQ,EAGZ,OADAljI,GAAQ2uD,QAAQ3uD,EAAQkjI,GAAM9/G,QAAQ,KAO1C0+G,EAAOtjI,UAAUojD,OAAS,WACtB5+C,KAAKuhD,aACLvhD,KAAKijH,aACLjjH,KAAKumB,aACLvmB,KAAKmgI,aAETrB,EAAOtjI,UAAU+lD,WAAa,WAC1Bv9C,GAAUhE,KAAKnG,SAAUwuG,GAAWC,MACpCtoG,KAAK8pG,eAETg1B,EAAOtjI,UAAUsuG,YAAc,SAAUgB,GACjCA,GACAtmG,GAAaxE,KAAKnG,SAAUixG,EAAY5tG,MAAM,MAE9C8C,KAAKuU,UACLvQ,GAAUhE,KAAKnG,SAAUmG,KAAKuU,SAASrX,MAAM,OAGrD4hI,EAAOtjI,UAAUygH,WAAa,WAC1B,GAAImkB,GAA+B,UAAdpgI,KAAKjG,MAAoBiG,KAAKqgI,sBAC9CrgI,KAAKqgI,oBAAqBrgI,KAAKsgI,qBAC/BtgI,MAAKinB,SAUNziB,GAAaxE,KAAKy8H,kBAAmBp0B,GAAWm0B,iBAC5Cx8H,KAAK+jG,QAAQp/F,WAAqC,WAAxB3E,KAAK+jG,QAAQw8B,QACvCH,EAAehhI,QAAQ,SAAUghI,GAC7BA,EAAe5nI,UAAUkM,OAAO2jG,GAAWm0B,kBAGnDx8H,KAAKumB,eAfLviB,GAAUhE,KAAKy8H,kBAAmBp0B,GAAWm0B,iBACzCx8H,KAAK+jG,QAAQp/F,WAAqC,WAAxB3E,KAAK+jG,QAAQw8B,QACvCH,EAAehhI,QAAQ,SAAUghI,GAC7BA,EAAe5nI,UAAU+L,IAAI8jG,GAAWm0B,kBAGhDx8H,KAAKmnB,iBAYb23G,EAAOtjI,UAAUuhB,SAAW,SAAUL,GAElC,MADY1gB,QAAOiS,iBAAiByO,EAAW,UAAUxO,iBAAiB,WAC7DvU,QAAQ,SAAU,KAMnCmlI,EAAOtjI,UAAUynH,WAAa,WAC1BjjH,KAAKy8H,gBAAkBz8H,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAWo0B,gBAAkB,IAAMp0B,GAAWszB,iBAC5G37H,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAKy8H,gBAAiBz8H,KAAKnG,SAChEmG,KAAKy8H,gBAAgB16H,YAAY/B,KAAKnG,SACtCmG,KAAKk9H,YAAcl9H,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAW60B,cACrEl9H,KAAKnG,QAAQkI,YAAY/B,KAAKk9H,aAC9Bl9H,KAAKnG,QAAQ0tH,UAAY,EACzBvnH,KAAKwgI,WAAqD,aAAxCxgI,KAAK+c,SAAS/c,KAAKy8H,iBACrCz8H,KAAKygI,YAAsD,cAAxCzgI,KAAK+c,SAAS/c,KAAKy8H,iBACtCz8H,KAAK0gI,aACL1gI,KAAK2gI,iBACD3gI,KAAKw+H,OAAOv3G,SACZjnB,KAAK4gI,iBAET5gI,KAAK6gI,iBACL7gI,KAAK21H,YAAe31H,KAAKyB,cAAc,SACnCqC,OACI/J,KAAM,SAAUiD,MAAQS,EAAkBuC,KAAKhD,OAASgD,KAAKoiB,IAAIzhB,WAAaX,KAAKhD,MAAM2D,WACzFsyB,KAAMjzB,KAAKnG,QAAQ4M,aAAa,SAAWzG,KAAKnG,QAAQ4M,aAAa,OACjE,KAAuB,IAAhB2G,KAAK0T,UAAiBV,QAAQ,GAAK,SAAU3M,MAAO40F,GAAWqzB,qBAGlF17H,KAAK21H,YAAYpO,UAAY,EAC7BvnH,KAAKy8H,gBAAgB16H,YAAY/B,KAAK21H,aAClC31H,KAAK8gI,aACL9gI,KAAK+gI,aAET/gI,KAAKiqG,eACa,UAAdjqG,KAAKjG,KACLiG,KAAKghI,mBAGLhhI,KAAKhD,MAAQS,EAAkBuC,KAAKhD,OAASmjB,WAAWzd,EAAW1C,KAAKoiB,IAAIzhB,aAAeX,KAAKhD,MAEpGgD,KAAKihI,YAA4B,UAAdjhI,KAAKjG,KAAmBiG,KAAKkhI,iBAAiB/gH,WAAWzd,EAAW1C,KAAKhD,MAAM2D,eAC7FX,KAAKkhI,iBAAiB/gH,WAAWzd,EAAW1C,KAAKhD,MAAM,GAAG2D,cACvDX,KAAKkhI,iBAAiB/gH,WAAWzd,EAAW1C,KAAKhD,MAAM,GAAG2D,eAClEX,KAAKmhI,gBAAkBnhI,KAAKihI,YACvBxjI,EAAkBuC,KAAKnG,QAAQmqH,aAAa,UAC7ChkH,KAAKnG,QAAQyS,gBAAgB,QAEjCtM,KAAK5C,WACD4C,KAAKw+H,OAAOv3G,SACZjnB,KAAKohI,cAEoB,SAAzBphI,KAAK0/H,MAAM2B,WACXrhI,KAAKshI,cAELthI,KAAK+jG,QAAQp/F,WACb3E,KAAKuhI,gBAEJvhI,KAAKinB,QAINziB,GAAaxE,KAAKy8H,kBAAmBp0B,GAAWm0B,iBAHhDx4H,GAAUhE,KAAKy8H,kBAAmBp0B,GAAWm0B,iBAK7Cx8H,KAAK2xH,SACL3tH,GAAUhE,KAAKy8H,kBAAmBp0B,GAAWspB,WAG7CntH,GAAaxE,KAAKy8H,kBAAmBp0B,GAAWspB,YAGxDmN,EAAOtjI,UAAUmlI,eAAiB,WACZ,YAAd3gI,KAAKjG,OACLiG,KAAK67H,SAAY77H,KAAKyB,cAAc,OAASqC,OAAS2P,MAAO40F,GAAWwzB,YACxE77H,KAAKnG,QAAQkI,YAAY/B,KAAK67H,UAC1B77H,KAAKwkD,MAAsB,UAAdxkD,KAAKjG,OACO,eAArBiG,KAAKwhI,YACLxhI,KAAK67H,SAASrjI,UAAU+L,IAAI8jG,GAAWu2B,gBAGvC5+H,KAAK67H,SAASrjI,UAAU+L,IAAI8jG,GAAWw2B,iBAKvDC,EAAOtjI,UAAUolI,eAAiB,WAC9B,GAAIa,GAAsC,UAAdzhI,KAAKjG,KAAmBsuG,GAAWo2B,gBAC3Dp2B,GAAWq2B,aACf+C,IAAyB,IAAMp5B,GAAWm2B,OAC1Cx+H,KAAK0+H,cAAiB1+H,KAAKyB,cAAc,OACrCqC,OAAS2P,MAAOguH,KAEpBzhI,KAAKnG,QAAQkI,YAAY/B,KAAK0+H,eACZ,UAAd1+H,KAAKjG,OACLiG,KAAK2+H,eAAkB3+H,KAAKyB,cAAc,OACtCqC,OACI2P,MAAO40F,GAAWs2B,eAAiB,IAAMt2B,GAAWm2B,UAG5Dx+H,KAAKnG,QAAQkI,YAAY/B,KAAK2+H,kBAGtCG,EAAOtjI,UAAUqlI,eAAiB,WACL,aAArB7gI,KAAKwhI,aACLxhI,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAW+0B,gBACjDp9H,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWg1B,kBAC9Cr9H,KAAK0hI,YAAY79H,aAAa,mBAAoB,cAChC,UAAd7D,KAAKjG,MACLiG,KAAK2hI,aAAa99H,aAAa,mBAAoB,gBAIvD7D,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAWg1B,kBACjDr9H,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAW+0B,gBAC9Cp9H,KAAK0hI,YAAY79H,aAAa,mBAAoB,YAChC,UAAd7D,KAAKjG,MACLiG,KAAK2hI,aAAa99H,aAAa,mBAAoB,cAI/Di7H,EAAOtjI,UAAUomI,kBAAoB,SAAU/nI,GAC3C,GAAIkG,GAAQC,KACRoiB,EAAMpiB,KAAKoiB,IACX/U,EAAMrN,KAAKqN,KACV5P,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,IACpE6pB,EAAMpiB,KAAK6hI,aAAa,GACxBx0H,EAAMrN,KAAK6hI,aAAa7hI,KAAK6hI,aAAatpI,OAAS,IAErC,UAAdyH,KAAKjG,KACLgK,EAAWlK,GACPs8H,gBAAiB/zG,EAAIzhB,WAAYy1H,gBAAiB/oH,EAAI1M,eAI7ClD,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,IAC1E6pB,EAAIzhB,WAAaX,KAAK6hI,aAAa7hI,KAAKhD,MAAM,IAAK2D,aAC/CX,KAAK6hI,aAAa7hI,KAAKhD,MAAM,IAAK2D,WAAY0M,EAAI1M,eACtDyhB,EAAIzhB,WAAYX,KAAKhD,MAAM,GAAG2D,aAAcX,KAAKhD,MAAM,GAAG2D,WAAY0M,EAAI1M,cAC1EvB,QAAQ,SAAUorC,EAAOtyC,GAC3B,GAAI2B,GAAoB,IAAV3B,EAAc6H,EAAM2hI,YAAc3hI,EAAM4hI,YAClD9nI,IACAkK,EAAWlK,GACPs8H,gBAAiB3rF,EAAM,GAAI4rF,gBAAiB5rF,EAAM,QAMtEs0F,EAAOtjI,UAAUsmI,mBAAqB,WAClC9hI,KAAK2hI,aAAe3hI,KAAKyB,cAAc,OACnCqC,OACI2P,MAAO40F,GAAWuzB,aAAcxoH,KAAQ,SAAU0b,kBAAmB9uB,KAAKnG,QAAQ8J,GAAK,SAAU4jH,SAAU,OAGnHvnH,KAAK2hI,aAAanpI,UAAU+L,IAAI8jG,GAAWk0B,oBAC3Cv8H,KAAKnG,QAAQkI,YAAY/B,KAAK2hI,cAC1B3hI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,YAChC3E,KAAK+hI,qBAAuB/hI,KAAKyB,cAAc,OAC3CqC,OACI2P,MAAO40F,GAAWuzB,aAAe,IAC7BvzB,GAAW81B,wBAGvBn+H,KAAKnG,QAAQkI,YAAY/B,KAAK+hI,wBAGtCjD,EAAOtjI,UAAUwmI,kBAAoB,WACjChiI,KAAK0hI,YAAc1hI,KAAKyB,cAAc,OAClCqC,OACI2P,MAAO40F,GAAWuzB,aAAcxoH,KAAQ,SAAU0b,kBAAmB9uB,KAAKnG,QAAQ8J,GAAK,SAAU4jH,SAAU,OAGnHvnH,KAAK0hI,YAAYlpI,UAAU+L,IAAI8jG,GAAWi0B,mBAC1Ct8H,KAAKnG,QAAQkI,YAAY/B,KAAK0hI,aAC1B1hI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,YAChC3E,KAAKiiI,oBAAsBjiI,KAAKyB,cAAc,OAC1CqC,OACI2P,MAAO40F,GAAWuzB,aAAe,IAC7BvzB,GAAW81B,wBAGvBn+H,KAAKnG,QAAQkI,YAAY/B,KAAKiiI,uBAGtCnD,EAAOtjI,UAAU0mI,mBAAqB,SAAUruH,GACvCA,GAODpO,GAAaf,OAAO1E,KAAK0hI,YAAa,uBAAwB1hI,KAAKmiI,aACnE18H,GAAaf,OAAO1E,KAAK0hI,YAAa,gBAAiB1hI,KAAKoiI,eAC5D38H,GAAaf,OAAO1E,KAAK0hI,YAAa,wBAAyB1hI,KAAKqiI,YACpE58H,GAAaf,OAAO1E,KAAK0hI,YAAa,sBAAuB1hI,KAAKsiI,eATlE78H,GAAalB,IAAIvE,KAAK0hI,YAAa,uBAAwB1hI,KAAKmiI,YAAaniI,MAC7EyF,GAAalB,IAAIvE,KAAK0hI,YAAa,gBAAiB1hI,KAAKoiI,cAAepiI,MACxEyF,GAAalB,IAAIvE,KAAK0hI,YAAa,wBAAyB1hI,KAAKqiI,WAAYriI,MAC7EyF,GAAalB,IAAIvE,KAAK0hI,YAAa,sBAAuB1hI,KAAKsiI,YAAatiI,QASpF8+H,EAAOtjI,UAAU+mI,oBAAsB,SAAU1uH,GACxCA,GAODpO,GAAaf,OAAO1E,KAAK2hI,aAAc,uBAAwB3hI,KAAKmiI,aACpE18H,GAAaf,OAAO1E,KAAK2hI,aAAc,gBAAiB3hI,KAAKoiI,eAC7D38H,GAAaf,OAAO1E,KAAK2hI,aAAc,wBAAyB3hI,KAAKqiI,YACrE58H,GAAaf,OAAO1E,KAAK2hI,aAAc,sBAAuB3hI,KAAKsiI,eATnE78H,GAAalB,IAAIvE,KAAK2hI,aAAc,uBAAwB3hI,KAAKmiI,YAAaniI,MAC9EyF,GAAalB,IAAIvE,KAAK2hI,aAAc,gBAAiB3hI,KAAKoiI,cAAepiI,MACzEyF,GAAalB,IAAIvE,KAAK2hI,aAAc,wBAAyB3hI,KAAKqiI,WAAYriI,MAC9EyF,GAAalB,IAAIvE,KAAK2hI,aAAc,sBAAuB3hI,KAAKsiI,YAAatiI,QASrF8+H,EAAOtjI,UAAUgnI,YAAc,WAC3B,GAAI9rH,GAA6B,IAAtB1W,KAAKyiI,aAAsBziI,KAAK0iI,WAAa1iI,KAAK2iI,WACzDvC,EAAuC,IAAtBpgI,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,oBACnE,KAAR5pH,GAA2B,UAAd1W,KAAKjG,OAClBiG,KAAK4iI,YAAYpqI,UAAU+L,IAAI8jG,GAAWi1B,mBACtCt9H,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,YAChC3E,KAAKiiI,oBAAoBzpI,UAAU+L,IAAI8jG,GAAWi1B,mBAC9C8C,GACAA,EAAe5nI,UAAU+L,IAAI8jG,GAAWk1B,uBAKxDuB,EAAOtjI,UAAU4mI,cAAgB,SAAUhhI,GAMvC,GALApB,KAAKwiI,cACLxiI,KAAK4iI,YAAYh+H,MAAMq6H,WAAa,OAClB,YAAdj/H,KAAKjG,OACLiG,KAAK67H,SAASj3H,MAAMq6H,WAAa,QAEjCj/H,KAAK+jG,QAAQp/F,UAAW,CACxB,GAAIk+H,GAAmC,IAAtB7iI,KAAKyiI,aAAqBziI,KAAK8iI,gBAAkB9iI,KAAK+iI,iBACnE3C,EAAuC,IAAtBpgI,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,oBAC1EtgI,MAAKwgI,WAKDJ,EAAe5nI,UAAUC,SAAS4vG,GAAW00B,sBAA2C,cAAnB37H,EAAEuJ,cAItD,YAAd3K,KAAKjG,OACLqmI,EAAex7H,MAAMq6H,WAAaj/H,KAAKi/H,WAAW39E,QAEtDthD,KAAKgjI,kBANLhjI,KAAKijI,uBALTJ,EAAWhpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAAWx/F,SAAU,MACzFzM,KAAKkjI,oBAce,WAAxBljI,KAAK+jG,QAAQw8B,QACbvgI,KAAKmjI,gBAGbrE,EAAOtjI,UAAU4nI,eAAiB,WAC1BpjI,KAAK0hI,YAAYlpI,UAAUC,SAAS4vG,GAAW80B,sBAC/Cn9H,KAAK0hI,YAAYlpI,UAAUkM,OAAO2jG,GAAW80B,qBAE/B,UAAdn9H,KAAKjG,MACDiG,KAAK2hI,aAAanpI,UAAUC,SAAS4vG,GAAW80B,sBAChDn9H,KAAK2hI,aAAanpI,UAAUkM,OAAO2jG,GAAW80B,sBAI1D2B,EAAOtjI,UAAU2mI,YAAc,SAAU/gI,GACjCA,EAAEqgD,gBAAkBzhD,KAAK0hI,YACzB1hI,KAAK0hI,YAAYlpI,UAAU+L,IAAI8jG,GAAW80B,qBAG1Cn9H,KAAK2hI,aAAanpI,UAAU+L,IAAI8jG,GAAW80B,sBAGnD2B,EAAOtjI,UAAU6mI,WAAa,SAAUjhI,GAChCpB,KAAK+jG,QAAQp/F,WAAqC,UAAxB3E,KAAK+jG,QAAQw8B,SACvCvgI,KAAKqjI,gBACYjiI,EAAEqgD,gBAAkBzhD,KAAK0hI,YAAc1hI,KAAK8iI,gBAAkB9iI,KAAK+iI,kBACzElpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAAWx/F,SAAU,MACrFrL,EAAEqgD,gBAAkBzhD,KAAK0hI,YACzB1hI,KAAK8iI,gBAAgBhhI,KAAK9B,KAAK0hI,aAG/B1hI,KAAK+iI,iBAAiBjhI,KAAK9B,KAAK2hI,gBAI5C7C,EAAOtjI,UAAU8mI,YAAc,SAAUlhI,GACrC,GAAIpB,KAAK+jG,QAAQp/F,WAAqC,UAAxB3E,KAAK+jG,QAAQw8B,SACtCn/H,EAAEqgD,cAAcjpD,UAAUC,SAAS4vG,GAAW80B,uBAC9C/7H,EAAEqgD,cAAcjpD,UAAUC,SAAS4vG,GAAWm1B,iBAAkB,CACjEx9H,KAAKqjI,cACL,IAAIR,GAAazhI,EAAEqgD,gBAAkBzhD,KAAK0hI,YAAc1hI,KAAK8iI,gBAAkB9iI,KAAK+iI,gBAChF3hI,GAAEqgD,gBAAkBzhD,KAAK0hI,YACzB1hI,KAAK8iI,gBAAgB1gI,QAGrBpC,KAAK+iI,iBAAiB3gI,QAE1BygI,EAAWhpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAAWx/F,SAAU,QAGjGqyH,EAAOtjI,UAAUklI,WAAa,WACtB1gI,KAAKoiB,IAAMpiB,KAAKqN,MAChBrN,KAAKoiB,IAAMpiB,KAAKqN,KAEpBrN,KAAKgiI,oBACa,UAAdhiI,KAAKjG,MACLiG,KAAK8hI,sBAGbhD,EAAOtjI,UAAUyuG,aAAe,WAC5BjqG,KAAKuP,WAAkC,aAArBvP,KAAKwhI,YAA6Bx9H,GAAUhE,KAAKy8H,iBAAkBp0B,GAAWuR,KAC5Fp1G,GAAaxE,KAAKy8H,iBAAkBp0B,GAAWuR,IACnD,IAAI0pB,GAA+B,aAArBtjI,KAAKwhI,YAA8BxhI,KAAK++H,OAAS/+H,KAAKg/H,MAChEh/H,MAAKuP,WACLvP,KAAK++H,OAAS,QACd/+H,KAAKg/H,OAAS,WAGdh/H,KAAK++H,OAAS,OACd/+H,KAAKg/H,OAAS,UAGdsE,KADgC,aAArBtjI,KAAKwhI,YAA8BxhI,KAAK++H,OAAS/+H,KAAKg/H,SAExC,eAArBh/H,KAAKwhI,cACL96H,EAAkB1G,KAAK0hI,aAAel0H,MAAS,GAAID,KAAQ,SACzC,UAAdvN,KAAKjG,MACL2M,EAAkB1G,KAAK2hI,cAAgBl0H,IAAO,GAAIF,KAAQ,WAK1EuxH,EAAOtjI,UAAU6nI,aAAe,WAC5B,GAAI5pI,GAGAwG,GACAjD,MAAOgD,KAAKhD,MACZvD,KAAM,GAEVuG,MAAKujI,oBACLtjI,EAAKxG,KAAOA,EAAOuG,KAAK8iI,gBAAgBpoI,QACxCsF,KAAKyoB,QAAQ,gBAAiBxoB,GAC9BD,KAAKwjI,gBAAgBvjI,EAAKxG,MACtBA,IAASwG,EAAKxG,OACduG,KAAKo/H,eAAiBn/H,EAAKxG,KAC3BuG,KAAK8iI,gBAAgBpoI,QAAUuF,EAAKxG,KACpCuG,KAAKyjI,iBAAiBzjI,KAAK0hI,aACT,UAAd1hI,KAAKjG,OACLiG,KAAK+iI,iBAAiBroI,QAAUuF,EAAKxG,KACrCuG,KAAKyjI,iBAAiBzjI,KAAK2hI,iBAIvC7C,EAAOtjI,UAAU+nI,kBAAoB,WACjC,GAAI7oI,EACc,WAAdsF,KAAKjG,MACLW,EAAUsF,KAAK0jI,cAAc1jI,KAAKu/H,mBAAmB,GACrDv/H,KAAK8iI,gBAAgBpoI,QAAUA,EAC/BsF,KAAK+iI,iBAAiBroI,QAAUA,GAG3B+C,EAAkBuC,KAAK2jI,cACxBjpI,EAAUsF,KAAK0jI,cAAc1jI,KAAKu/H,mBAAmB,GACrDv/H,KAAK8iI,gBAAgBpoI,QAAUA,IAI3CokI,EAAOtjI,UAAUkoI,cAAgB,SAAU9D,EAAYgE,GACnD,GAAIlpI,GAAU,GACVmpI,EAAU7jI,KAAK2jI,WACfG,EAAU9jI,KAAK+jI,UAKnB,QAJKtmI,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,IACpEsrI,EAAU7jI,KAAK6hI,aAAa7hI,KAAK2jI,YACjCG,EAAU9jI,KAAK6hI,aAAa7hI,KAAK+jI,aAEhCH,GAsBiB,UAAd5jI,KAAKjG,KAEDW,EADAsF,KAAKuP,WAAkC,aAArBvP,KAAKwhI,YACX/jI,EAAkBuC,KAAK+jG,UAAatmG,EAAkBuC,KAAK+jG,QAAQl8D,QAG1Ei8F,EAAQnjI,WAAa,MAAQkjI,EAAQljI,WAFrCX,KAAK2/H,aAAamE,EAASlE,GAAYG,WAAa,MACjD//H,KAAK2/H,aAAakE,EAASjE,GAAYG,WAInCtiI,EAAkBuC,KAAK+jG,UAAatmG,EAAkBuC,KAAK+jG,QAAQl8D,QAG1Eg8F,EAAQljI,WAAa,MAAQmjI,EAAQnjI,WAFrCX,KAAK2/H,aAAakE,EAASjE,GAAYG,WAAa,MACjD//H,KAAK2/H,aAAamE,EAASlE,GAAYG,WAK9CtiI,EAAkBomI,KACnBnpI,EAAY+C,EAAkBuC,KAAK+jG,UAAatmG,EAAkBuC,KAAK+jG,QAAQl8D,QACvBg8F,EAAQljI,WAA5DX,KAAK2/H,aAAakE,EAASjE,GAAYG,YAG5CrlI,IAzCW,UAAdsF,KAAKjG,KAEDW,EADAsF,KAAKuP,WAAkC,aAArBvP,KAAKwhI,YACX/jI,EAAkBmiI,EAAW/3F,QAEpCi8F,EAAQnjI,WAAa,MAAQkjI,EAAQljI,WAFWX,KAAK2/H,aAAamE,EAASlE,GAC3ED,aAAe,MAAQ3/H,KAAK2/H,aAAakE,EAASjE,GAAYD,aAIvDliI,EAAkBmiI,EAAW/3F,QAEpCg8F,EAAQljI,WAAa,MAAQmjI,EAAQnjI,WAFWX,KAAK2/H,aAAakE,EAASjE,GAC3ED,aAAe,MAAQ3/H,KAAK2/H,aAAamE,EAASlE,GAAYD,aAKlEliI,EAAkBomI,KACnBnpI,EAAY+C,EAAkBmiI,EAAW/3F,QACiBg8F,EAAQljI,WAA9DX,KAAK2/H,aAAakE,EAASjE,GAAYD,cAG5CjlI,IA0BfokI,EAAOtjI,UAAUgoI,gBAAkB,SAAU9oI,GACzC,GAAIqF,GAAQC,IACZ,IAAIA,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,UAAW,CAC3C,GAAIq/H,GAAUtpI,EAAQiG,WAAWpI,QACE,UAAdyH,KAAKjG,MAAoBiG,KAAKqgI,sBAC9CrgI,KAAKqgI,oBAAqBrgI,KAAKsgI,uBACrBlhI,QAAQ,SAAUvF,EAAS3B,GACtC,GAAK2B,EAMGmqI,EAAU,GACVnqI,EAAQrB,UAAUkM,OAAO2jG,GAAWg2B,uBAC/BxkI,EAAQrB,UAAUC,SAAS4vG,GAAW+1B,uBACvCvkI,EAAQrB,UAAU+L,IAAI8jG,GAAW+1B,qBACjCvkI,EAAQ+K,MAAMuJ,UAAY,cAI9BtU,EAAQrB,UAAUkM,OAAO2jG,GAAW+1B,qBAC/BvkI,EAAQrB,UAAUC,SAAS4vG,GAAWg2B,yBACvCxkI,EAAQrB,UAAU+L,IAAI8jG,GAAWg2B,uBACjCxkI,EAAQ+K,MAAMuJ,UAAYpO,EAAMkkI,8BAA8BlkI,EAAMmkI,sBAAsBnhH,aAjBxF,CACV,GAAIxO,GAAWyvH,EAAU,EAAI37B,GAAW+1B,oBAAsB/1B,GAAWg2B,qBACxEnmI,GACG6H,EAAMgjI,iBAAiBxuH,SAAW8zF,GAAW+zB,cAAgB,IAAM7nH,EAD9DxU,EAAM+iI,gBAAgBvuH,SAAW8zF,GAAW+zB,cAAgB,IAAM7nH,OAsB3FuqH,EAAOtjI,UAAU2oI,iBAAmB,WAChC,GAAIC,EAEsCA,GADjB,eAArBpkI,KAAKwhI,YACsB,WAA3BxhI,KAAK+jG,QAAQs9B,UAA2C,YAAgC,eAG7D,WAA3BrhI,KAAK+jG,QAAQs9B,UAA2C,aAAiC,cAE7FrhI,KAAK8iI,gBAAgBjtH,SAAWuuH,EACd,UAAdpkI,KAAKjG,OACLiG,KAAK+iI,iBAAiBltH,SAAWuuH,GAEjCpkI,KAAKwgI,aACLxgI,KAAK8iI,gBAAgBtX,gBAAiB,EACtCxrH,KAAK2H,eAAgBo8F,SAAWw8B,OAAQ,YAAc,GACtDvgI,KAAK8iI,gBAAgBrrH,OAAS,GACZ,UAAdzX,KAAKjG,OACLiG,KAAK+iI,iBAAiBvX,gBAAiB,EACvCxrH,KAAK+iI,iBAAiBtrH,OAAS,MAI3CqnH,EAAOtjI,UAAU6oI,kBAAoB,SAAUpkI,GAC3C,GAAImgI,GAAiBngI,EAAK4I,SAAW7I,KAAK0hI,YAAc1hI,KAAKqgI,oBAAsBpgI,EAAKpG,QACpFmG,KAAKsgI,qBAAuBrgI,EAAKpG,OAKrC,IAJ8B,KAA1BmG,KAAK+jG,QAAQxvF,UACbvQ,GAAUo8H,GAAiBpgI,KAAK+jG,QAAQxvF,SAASrX,MAAM,MAE3D+C,EAAK4I,OAAOyD,gBAAgB,oBACxBtM,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,UAAW,CAC3C,GAAI2/H,GAAsBtkI,KAAKikI,8BAA8BjkI,KAAKkkI,qBAClE9D,GAAehhH,WAAW5mB,UAAU+L,IAAI8jG,GAAWk2B,qBACnDv+H,KAAKwiI,cACDpC,EAAe/6H,kBAAkBvM,UAAUP,OAAS,EACpD6nI,EAAex7H,MAAMuJ,UAAYm2H,EAAoBtmG,UAAY,eAGjEoiG,EAAex7H,MAAMuJ,UAAYm2H,EAAoBtmG,UAAY,IAAMsmG,EAAoBvhH,OAAS,eAG5G,GAAI/iB,KAAKygI,YACL,OAAQzgI,KAAKukI,uBAAuB7V,kBAChC,IAAK,YACD1uH,KAAK8iI,gBAAgBn7H,eAAgBqF,SA9qB5B,IA8qBoE,GAC3D,UAAdhN,KAAKjG,MACLiG,KAAK+iI,iBAAiBp7H,eAAgBqF,SAhrBjC,IAgrByE,EAElF,MACJ,KAAK,eACDhN,KAAK8iI,gBAAgBn7H,eAAgBqF,QAprB5B,IAorBiE,GACxD,UAAdhN,KAAKjG,MACLiG,KAAK+iI,iBAAiBp7H,eAAgBqF,QAtrBjC,IAsrBsE,EAE/E,MACJ,KAAK,aACDhN,KAAK8iI,gBAAgBn7H,eAAgBiF,SA1rB5B,IA0rBoE,GAC3D,UAAd5M,KAAKjG,MACLiG,KAAK+iI,iBAAiBp7H,eAAgBiF,SA5rBjC,IA4rByE,EAElF,MACJ,KAAK,cACD5M,KAAK8iI,gBAAgBn7H,eAAgBiF,QAhsB5B,IAgsBiE,GACxD,UAAd5M,KAAKjG,MACLiG,KAAK+iI,iBAAiBp7H,eAAgBiF,QAlsBjC,IAksBsE,KAQ/FkyH,EAAOtjI,UAAUgpI,yBAA2B,SAAU3wH,GAC9C7T,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,YAC3BkP,GAODpO,GAAaf,OAAO1E,KAAKqgI,oBAAqB,uBAAwBrgI,KAAKykI,YACzD,UAAdzkI,KAAKjG,MACL0L,GAAaf,OAAO1E,KAAKsgI,qBAAsB,uBAAwBtgI,KAAKykI,cARhFh/H,GAAalB,IAAIvE,KAAKqgI,oBAAqB,uBAAwBrgI,KAAKykI,WAAYzkI,MAClE,UAAdA,KAAKjG,MACL0L,GAAalB,IAAIvE,KAAKsgI,qBAAsB,uBAAwBtgI,KAAKykI,WAAYzkI,SAWrG8+H,EAAOtjI,UAAUkpI,2BAA6B,SAAU7uH,GACpD,GAAItB,EACJ,QAAQsB,GACJ,IAAK,YACDtB,EAAW8zF,GAAWq0B,uBACtB,MACJ,KAAK,eACDnoH,EAAW8zF,GAAWs0B,sBACtB,MACJ,KAAK,aACDpoH,EAAW8zF,GAAWu0B,qBACtB,MACJ,KAAK,cACDroH,EAAW8zF,GAAWw0B,qBAG9B,MAAOtoH,IAEXuqH,EAAOtjI,UAAUyoI,8BAAgC,SAAUvgI,GACvD,GAAI1D,KAAKqgI,oBAAqB,CAC1B,GAAIxqH,OAAW,EAYf,OAVIA,GADqB,eAArB7V,KAAKwhI,YACOxhI,KAAKqgI,oBAAoB/Y,aAAe,GAAOtnH,KAAKqgI,oBAAoB/Y,aAAe,EAGvFtnH,KAAKqgI,oBAAoB1U,YAAc,GAAO3rH,KAAKqgI,oBAAoB1U,YAAc,EAEtD,eAArB3rH,KAAKwhI,YAC1B99H,IAAc2kG,GAAWq0B,yBAA4B35G,OAAQ,gBAAiBib,UAAW,cAAgBnoB,EAAW,QAC/GkN,OAAQ,iBAAkBib,UAAW,iBAA8B,OACxEt6B,IAAc2kG,GAAWu0B,uBAA0B75G,OAAQ,iBAAkBib,UAAW,cAAgBnoB,EAAW,QAC9GkN,OAAQ,kBAAmBib,UAAW,eAAkBnoB,EAAY,SAKtFipH,EAAOtjI,UAAUynI,oBAAsB,WACnC,GAAIljI,GAAQC,IACZA,MAAKgjI,gBACL,IAAI5C,GAAuC,IAAtBpgI,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,qBAC3Eh/E,EAA+B,IAAtBthD,KAAKyiI,aAAqBziI,KAAKiiI,oBAAsBjiI,KAAK+hI,oBACnE3B,GAAehhH,WAAW5mB,UAAUC,SAAS4vG,GAAWk2B,sBACxD6B,EAAehhH,WAAW5mB,UAAUkM,OAAO2jG,GAAWk2B,qBAE1D6B,EAAehhH,WAAW5mB,UAAU+L,IAAI8jG,GAAWi2B,qBACnDt+H,KAAK4iI,YAAYh+H,MAAM+/H,OAAS,UAChCvE,EAAex7H,MAAMq6H,WAAaj/H,KAAKm/H,eACvCiB,EAAe5nI,UAAU+L,IAAI8jG,GAAW00B,qBACxCz7E,EAAO18C,MAAMuJ,UAAY,WACrBiyH,EAAe/6H,kBAAkBvM,UAAUP,OAAS,EACpD6nI,EAAex7H,MAAMuJ,UAAY,WAGjCiyH,EAAex7H,MAAMuJ,UAAYnO,KAAKikI,8BAA8BjkI,KAAKkkI,sBAAsBnhH,OAEjF,YAAd/iB,KAAKjG,KACL9B,WAAW,WAAcmoI,EAAex7H,MAAMq6H,WAAal/H,EAAMk/H,WAAW39E,QAAW,MAGvFrpD,WAAW,WAAcmoI,EAAex7H,MAAMq6H,WAAa,QAAW,OAG9EH,EAAOtjI,UAAUopI,qBAAuB,SAAU3kI,GAC9C,GAAImkI,GAAkBnkI,EAAK4I,SAAW7I,KAAK0hI,YAAc1hI,KAAK6kI,2BAC1D7kI,KAAK8kI,2BACT,IAAI9kI,KAAKwgI,iBAAmCpnI,KAApBgrI,GAAiCA,IAAoBnkI,EAAKyuH,kBAAmB,CACjG,GAAIqW,GAAe/kI,KAAK0kI,2BAA2BzkI,EAAKyuH,iBACxDzuH,GAAKpG,QAAQrB,UAAUkM,OAAO1E,KAAKkkI,sBACnCjkI,EAAKpG,QAAQrB,UAAU+L,IAAIwgI,GAC3B/kI,KAAKkkI,qBAAuBa,EACxB9kI,EAAKpG,QAAQ+K,MAAMuJ,WAAalO,EAAKpG,QAAQrB,UAAUC,SAAS4vG,GAAW00B,sBAC3E98H,EAAKpG,QAAQwL,kBAAkBvM,UAAUP,OAAS,IAClD0H,EAAKpG,QAAQ+K,MAAMuJ,UAAYnO,KAAKikI,8BAA8BjkI,KAAKkkI,sBAAsBnhH,QAE7F9iB,EAAK4I,SAAW7I,KAAK0hI,YACrB1hI,KAAK6kI,2BAA6B5kI,EAAKyuH,iBAGvC1uH,KAAK8kI,4BAA8B7kI,EAAKyuH,iBAGhD1uH,KAAKukI,uBAAyBtkI,GAElC6+H,EAAOtjI,UAAU+lI,cAAgB,WACD,SAAxBvhI,KAAK+jG,QAAQw8B,QACbvgI,KAAK2H,eAAgBo8F,SAAWw8B,OAAQ,WAAa,EAEzD,IAAIyE,KAAiBhlI,KAAKygI,WAC1BzgI,MAAK8iI,gBAAkB,GAAIlZ,KACvB4B,eAAgBwZ,EAChBzwH,SAAU8zF,GAAW+zB,cACrBviG,WAAa/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,SACxDujB,QAAS,SACTyV,WAAYjlI,KAAKqkI,kBAAkB5oI,KAAKuE,MACxCklI,gBAAiBllI,KAAK4kI,qBAAqBnpI,KAAKuE,MAChDmlI,WAAYnlI,KAAKolI,kBAAkB3pI,KAAKuE,QAE5CA,KAAK8iI,gBAAgBvkF,SAASv+C,KAAK0hI,aACjB,UAAd1hI,KAAKjG,OACLiG,KAAK+iI,iBAAmB,GAAInZ,KACxB4B,eAAgBwZ,EAChBzwH,SAAU8zF,GAAW+zB,cACrBviG,WAAa/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,SACxDujB,QAAS,SACTyV,WAAYjlI,KAAKqkI,kBAAkB5oI,KAAKuE,MACxCklI,gBAAiBllI,KAAK4kI,qBAAqBnpI,KAAKuE,MAChDmlI,WAAYnlI,KAAKolI,kBAAkB3pI,KAAKuE,QAE5CA,KAAK+iI,iBAAiBxkF,SAASv+C,KAAK2hI,eAExC3hI,KAAKmkI,mBACLnkI,KAAK0hI,YAAY98H,MAAMq6H,WAAa,OAClB,YAAdj/H,KAAKjG,OACLiG,KAAK67H,SAASj3H,MAAMq6H,WAAa,QAEnB,UAAdj/H,KAAKjG,OACLiG,KAAK2hI,aAAa/8H,MAAMq6H,WAAa,QAErCj/H,KAAKwgI,aACLxgI,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAW40B,gBAC9Cj9H,KAAKqjI,eACLrjI,KAAK8iI,gBAAgBhhI,KAAK9B,KAAK0hI,aACb,UAAd1hI,KAAKjG,MACLiG,KAAK+iI,iBAAiBjhI,KAAK9B,KAAK2hI,gBAI5C7C,EAAOtjI,UAAU4pI,kBAAoB,SAAUnlI,GACvCA,EAAKpG,UAAYmG,KAAKqgI,oBACtBrgI,KAAKqgI,wBAAsBjnI,GAG3B4G,KAAKsgI,yBAAuBlnI,IAGpC0lI,EAAOtjI,UAAUulI,WAAa,WAC1B/gI,KAAKqlI,SAAWrlI,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAWyzB,aAAe,IAAMzzB,GAAW0zB,cAClG/7H,KAAKqlI,SAAStjI,YAAY/B,KAAKyB,cAAc,QAAUiC,UAAW2kG,GAAWo1B,oBAC7Ez9H,KAAKqlI,SAAS9d,UAAY,EAC1BvnH,KAAKslI,UAAYtlI,KAAKyB,cAAc,OAASiC,UAAW2kG,GAAWyzB,aAAe,IAAMzzB,GAAW2zB,eACnGh8H,KAAKslI,UAAUvjI,YAAY/B,KAAKyB,cAAc,QAAUiC,UAAW2kG,GAAWo1B,oBAC9Ez9H,KAAKslI,UAAU/d,UAAY,EAC3BvnH,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWy1B,mBAC9C99H,KAAKy8H,gBAAgB16H,YAAY/B,KAAKqlI,UACtCrlI,KAAKy8H,gBAAgB16H,YAAY/B,KAAKslI,WACtCtlI,KAAKy8H,gBAAgB16H,YAAY/B,KAAKnG,SACtCmG,KAAKulI,eAETzG,EAAOtjI,UAAU+pI,YAAc,WAC3B,GAAIC,GAAaxlI,KAAKuP,WAAkC,aAArBvP,KAAKwhI,WACxCxhI,MAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,OACzB,IAAIslH,GAAiBt0H,KAAKw7G,KAAKjvD,YAAY,kBACvC8nE,EAAiBr0H,KAAKw7G,KAAKjvD,YAAY,iBAC3CxoD,GAAWyhI,EAAaxlI,KAAKslI,UAAYtlI,KAAKqlI,UAAYvP,aAAcxB,EAAgB5mE,MAAO4mE,IAC/FvwH,EAAWyhI,EAAaxlI,KAAKqlI,SAAWrlI,KAAKslI,WAAaxP,aAAczB,EAAgB3mE,MAAO2mE,KAEnGyK,EAAOtjI,UAAUiqI,eAAiB,WAC1BzlI,KAAKwgI,YACLxgI,KAAK4iI,YAAYpqI,UAAUkM,OAAO,uBAG1Co6H,EAAOtjI,UAAUkqI,aAAe,SAAUzlI,GAClBA,EAAK4I,OAAOmN,gBACW,IAAtBhW,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,uBACxDtgI,KAAK+jG,QAAQp/F,WAChC3E,KAAK2lI,aAET,IAEI3oI,GAFA4oI,EAAO5lI,KAAK6lI,oBACZL,EAAaxlI,KAAKuP,WAAkC,aAArBvP,KAAKwhI,WAEpCvhI,GAAK4I,OAAOmN,cAAcxd,UAAUC,SAAS4vG,GAAW0zB,cACrD97H,EAAK4I,OAAOrQ,UAAUC,SAAS4vG,GAAW0zB,aAC/B/+H,EAAdwoI,EAAsBxlI,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,GAC1DX,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,IAEzDV,EAAK4I,OAAOmN,cAAcxd,UAAUC,SAAS4vG,GAAW2zB,eACzD/7H,EAAK4I,OAAOrQ,UAAUC,SAAS4vG,GAAW2zB,iBAChCh/H,EAAdwoI,EAAsBxlI,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,GAC1DX,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,IAE9DX,KAAKw+H,OAAOv3G,UACZjqB,EAAQgD,KAAK8lI,wBAAwB9oI,IAErCA,GAASgD,KAAKoiB,KAAOplB,GAASgD,KAAKqN,MACnCrN,KAAK+lI,kBAAkB/oI,GACvBgD,KAAKgmI,yBAGblH,EAAOtjI,UAAUyqI,mBAAqB,SAAUhmI,GAC5CA,EAAKunB,+BACDvnB,EAAKlG,qBAA0BkG,EAAKlG,OACpCiG,KAAKkmI,YAAYjmI,GACjBD,KAAKmmI,eAAiB5jI,YAAYvC,KAAK0lI,aAAajqI,KAAKuE,MAAO,IAAKC,KAG7E6+H,EAAOtjI,UAAU4qI,eAAiB,WACzBpmI,KAAK4iI,YAAYpqI,UAAUC,SAAS,uBACrCuH,KAAK4iI,YAAYpqI,UAAU+L,IAAI,uBAGvCu6H,EAAOtjI,UAAU6qI,gBAAkB,SAAUjlI,GACzCpB,KAAKsmI,YAAY,WACbtmI,KAAK+jG,QAAQp/F,WAAqC,WAAxB3E,KAAK+jG,QAAQw8B,SAAwBvgI,KAAKwgI,YACpExgI,KAAKmjI,eAET1gI,cAAczC,KAAKmmI,gBACnBnmI,KAAK4iI,YAAYvgI,SAErBy8H,EAAOtjI,UAAU+qI,kBAAoB,SAAUC,GAC3C,GAAIC,GAAY,CAehB,QAdKhpI,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,IAChEiuI,EAAS,IACTC,EAAY,GAEZD,EAAS,IACTC,EAAY,GAEZD,EAAS,KACTC,EAAY,GAEZD,EAAS,KACTC,EAAY,IAGbA,GAEX3H,EAAOtjI,UAAU8lI,YAAc,WAC3B,GAAIoF,GAA6B,aAArB1mI,KAAKwhI,YAA6B,IAAM,GACpDxhI,MACKigI,aAAejgI,KAAK+4H,iBAAiB/4H,KAAKo6B,MAC/Cp6B,KAAK8hG,GAAK9hG,KAAKyB,cAAc,MACzBiC,UAAW2kG,GAAWvoE,MAAQ,MAAa4mG,EAAQ,UAAYr+B,GAAW4zB,KAAO,IAAMj8H,KAAK0/H,MAAM2B,UAAUlpI,cAC5G2L,OAASsP,KAAM,eAAgBm0G,SAAU,KAAM2G,cAAe,UAElEluH,KAAK8hG,GAAGl9F,MAAM44G,OAAS,KACnBpxG,GAAQ2f,WAAuB,MAAV26G,GACrB1mI,KAAK8hG,GAAGtpG,UAAU+L,IAAI8jG,GAAWs1B,mBAErC,IAAIgJ,GAAY3mI,KAAK0/H,MAAMiH,SACtB3mI,MAAK0/H,MAAMkH,eAIPD,GAAa,IAClBA,EAAYxmH,WAAWzd,EAAW1C,KAAKo6B,QAJXusG,EAA5B3mI,KAAK0/H,MAAMmH,UAAY,EAAiB7mI,KAAK0/H,MAAMmH,UACjC1mH,WAAWzd,EAAW1C,KAAKqN,MAAU8S,WAAWzd,EAAW1C,KAAKoiB,KAKtF,IAAIA,GAAMpiB,KAAKggI,oBAAoBhgI,KAAKoiB,KACpC/U,EAAMrN,KAAKggI,oBAAoBhgI,KAAKqN,KACpCy5H,EAAQ9mI,KAAKggI,oBAAoB2G,GACjCH,GAAU/oI,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,GAAKyH,KAAK6hI,aAAatpI,OAAS,EAC7GwuI,EAAa/mI,KAAKumI,kBAAkBC,GACpCvmH,GAASxiB,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,EAC3EiuI,EAASO,EAAcP,EAASp5H,KAAKE,KAAKD,EAAM+U,GAAO0kH,EAC5D9mI,MAAKnG,QAAQkI,YAAY/B,KAAK8hG,GAC9B,IAAID,GACAtkG,EAAQ4iB,WAAWngB,KAAKoiB,IAAIzhB,WAClB,OAAV+lI,IACAnpI,EAAQ4iB,WAAWngB,KAAKqN,IAAI1M,YAEhC,IACIqmI,GADAz5H,EAAO,EAEP05H,EAAY,IAAMhnH,CAClBgnH,KAAclqF,EAAAA,IACdkqF,EAAY,EAEhB,KAAK,GAAI5uI,GAAI,EAAG0V,GAAKtQ,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,EACpFyH,KAAK6hI,aAAatpI,OAAS,EAAI,EAAG6vB,EAAI,EAAG/vB,GAAK4nB,EAAO5nB,IAAK,CAO1D,GANAwpG,EAAM7hG,KAAKyB,cAAc,MACrBqC,OACI2P,MAAO40F,GAAW4zB,KAAM7oH,KAAM,eAAgBm0G,SAAU,KACxD2G,cAAe,WAGlBzwH,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,GACpEyuI,EAAc3uI,GAAK0uI,EAAa,IAAO,KAErB,MAAVL,GACAnpI,EAAQyC,KAAK6hI,aAAaz5G,GAC1BA,MAGA7qB,EAAQyC,KAAK6hI,aAAa9zH,GAC1BA,KAEJ8zF,EAAGh+F,aAAa,QAAStG,EAAMoD,iBAKnC,IADAkhG,EAAGh+F,aAAa,QAAStG,EAAMoD,YACS,IAApCX,KAAK+4H,iBAAiB/4H,KAAKqN,MAAkD,IAApCrN,KAAK+4H,iBAAiB/4H,KAAKoiB,MAC/B,IAArCpiB,KAAK+4H,iBAAiB/4H,KAAKo6B,MAEvB4sG,EADU,MAAVN,GACgBnpI,EAAQ4iB,WAAWngB,KAAKoiB,IAAIzhB,aAAeX,KAAK0/H,MAAMmH,WAAc,EAGrEz5H,KAAKE,IAAI/P,EAAQ4iB,WAAWngB,KAAKqN,IAAI1M,aAAeX,KAAK0/H,MAAMmH,WAAc,MAG/F,CACD,GAAIK,GAAYlnI,KAAKggI,oBAAoBhgI,KAAK0/H,MAAMmH,UAEpDG,IADiBhnI,KAAKggI,oBAAoBziI,GACb6kB,GAAO8kH,GAAc,EAGtDF,GACAnlC,EAAGrpG,UAAU+L,IAAI8jG,GAAW6zB,OAErB,MAAVwK,EAAkB7kC,EAAGj9F,MAAM8S,MAAQuvH,EAAY,IAAQplC,EAAGj9F,MAAM6S,OAASwvH,EAAY,GACtF,IAAIE,GAASH,EAAwC,SAAzBhnI,KAAK0/H,MAAM2B,UAAuB,EAAI,EAAK,CACvE,IAAI2F,EACA,IAAK,GAAIxhH,GAAI,EAAGA,EAAI2hH,EAAQ3hH,IACxBxlB,KAAKonI,WAAWvlC,EAAItkG,OAGnBE,GAAkBuC,KAAK6hI,eAC5B7hI,KAAKqnI,iBAAiBxlC,EAAItkG,EAE9ByC,MAAK8hG,GAAG//F,YAAY8/F,GACpB7hG,KAAKs/H,sBAAsBtmI,KAAK6oG,EAChC,IAAIylC,OAAgB,EAChB7pI,GAAkBuC,KAAK6hI,gBAEnByF,EADAtnI,KAAK+4H,iBAAiB4N,GAAa3mI,KAAK+4H,iBAAiBx7H,GACzCyC,KAAK+4H,iBAAiB4N,GAGtB3mI,KAAK+4H,iBAAiBx7H,GAGtCA,EADU,MAAVmpI,EACQ1mI,KAAK8/H,gBAAgBviI,EAAQopI,EAAWW,GAGxCtnI,KAAK8/H,gBAAgBviI,EAAQopI,EAAWW,GAEpD/5H,EAAOvN,KAAK8/H,gBAAgBvyH,EAAOo5H,EAAWW,IAGtDtnI,KAAKunI,gBAAgBb,EAAOO,IAEhCnI,EAAOtjI,UAAU+rI,gBAAkB,SAAUb,EAAOO,GAChDjnI,KAAKof,WAAapf,KAAK8hG,GAAGz8F,kBAC1BrF,KAAKwnI,UAAYxnI,KAAK8hG,GAAGyV,iBACzBv3G,KAAKof,WAAW5mB,UAAU+L,IAAI8jG,GAAWu1B,iBACzC59H,KAAKwnI,UAAUhvI,UAAU+L,IAAI8jG,GAAWw1B,gBACxC79H,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWvoE,MAAQ,IAAM9/B,KAAK0/H,MAAM2B,UAAUlpI,eACnE,MAAVuuI,GACA1mI,KAAKof,WAAWxa,MAAM8S,MAAQuvH,EAAY,EAAI,IAC9CjnI,KAAKwnI,UAAU5iI,MAAM8S,MAAQuvH,EAAY,EAAI,MAG7CjnI,KAAKof,WAAWxa,MAAM6S,OAASwvH,EAAY,EAAI,IAC/CjnI,KAAKwnI,UAAU5iI,MAAM6S,OAASwvH,EAAY,EAAI,IAElD,IAAI54H,IAAco5H,aAAcznI,KAAK8hG,GAAI4lC,aAAc1nI,KAAKs/H,sBAC5Dt/H,MAAKyoB,QAAQ,gBAAiBpa,GAC9BrO,KAAK2nI,kBAET7I,EAAOtjI,UAAU4rI,WAAa,SAAUvlC,EAAItkG,GACxC,GAAIshG,GAAO7+F,KAAKyB,cAAc,QAC1BiC,UAAW2kG,GAAW8zB,UAAY,IAAM9zB,GAAW4zB,KAAO,IAAMj8H,KAAK0/H,MAAM2B,UAAUlpI,cACrF2L,OAASsP,KAAM,eAAgBm0G,SAAU,KAAM2G,cAAe,SAElErsB,GAAG9/F,YAAY88F,GACfA,EAAKrkG,UAAYiD,EAAkBuC,KAAK6hI,cAAgB7hI,KAAKqnI,iBAAiBxlC,EAAItkG,GAASA,GAE/FuhI,EAAOtjI,UAAU6rI,iBAAmB,SAAUxlC,EAAItkG,GAC9C,GAAIqqI,GAAW5nI,KAAKw9C,aAAajgD,GAG7B8Q,GAAcrR,MAAOO,EAAO9D,KAFpBgE,EAAkBuC,KAAK0/H,QAAWjiI,EAAkBuC,KAAK0/H,MAAM73F,QACT+/F,EAA9D5nI,KAAK2/H,aAAapiI,EAAOyC,KAAKw/H,iBAAiBG,aACPkI,YAAahmC,EAGzD,OAFA7hG,MAAKyoB,QAAQ,iBAAkBpa,GAC/BwzF,EAAGh+F,aAAa,QAASwK,EAAU5U,KAAKkH,YACjC0N,EAAU5U,KAAKkH,YAE1Bm+H,EAAOtjI,UAAUmsI,eAAiB,WAC9B3nI,KAAK8nI,mBAIO9nI,MAAKwhI,WACQ,cAArBxhI,KAAKwhI,YACJxhI,KAAKnG,QAAQ8S,wBAAwB+K,OAAS,GAC3C1X,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWq1B,iBAC9C19H,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAWq1B,iBAGpD19H,KAAKnG,QAAQ8S,wBAAwB8K,QAAU,GAC5CzX,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWq1B,iBAC9C19H,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAWq1B,kBAG7DoB,EAAOtjI,UAAUssI,kBAAoB,WACjC,GACI1oH,GADAvgB,EAAQmB,KAAKof,WAAWzS,wBAExBg6H,EAAY3mI,KAAK0/H,MAAMiH,UACvB1mH,EAAQ7S,KAAKE,IAAK6S,WAAWzd,EAAW1C,KAAKqN,MAAU8S,WAAWzd,EAAW1C,KAAKoiB,OAAUukH,CAC5F3mI,MAAKof,WAAWtD,SAASvjB,OAAS,IAClC6mB,EAAapf,KAAKof,WAAWtD,SAAS,GAAGnP,wBAE7C,IAEIo7H,GAFAL,GAAgB1nI,KAAKy8H,gBAAgB7hI,iBAAiB,IAAMytG,GAAW4zB,KAAO,IAC1E5zB,GAAW6zB,MAAQ,KAAO7zB,GAAW8zB,WAGzC4L,GADyB,SAAzB/nI,KAAK0/H,MAAM2B,aACA1/H,MAAMf,KAAK8mI,EAAa,GAAI,MAG5B/lI,MAAMf,KAAK8mI,EAAa,GAAI,EAI3C,KAAK,GAFDT,GAAiC,aAArBjnI,KAAKwhI,YACD,EAAf3iI,EAAM4Y,OAA6B,EAAd5Y,EAAM6Y,MACvBrf,EAAI,EAAGA,EAAI2H,KAAKof,WAAWtD,SAASvjB,OAAQF,IACxB,aAArB2H,KAAKwhI,YACLxhI,KAAKof,WAAWtD,SAASzjB,GAAGuM,MAAM6I,KAAQ2R,EAAW3H,OAAS,EAAK,KAG9DzX,KAAKuP,UAINvP,KAAKof,WAAWtD,SAASzjB,GAAGuM,MAAM2I,MAAQ05H,EACtCjnI,KAAKof,WAAWtD,SAASzjB,GAAGsU,wBAAwB+K,OAAS,EAAI,KAJrE1X,KAAKof,WAAWtD,SAASzjB,GAAGuM,MAAM2I,MAAS6R,EAAW1H,MAAQ,EAAK,IAQ/E,KAASrf,EAAI,EAAGA,EAAI0vI,EAAMxvI,OAAQF,IAAK,CACnC,GAAI2vI,GAAaD,EAAM1vI,GAAGsU,uBACD,cAArB3M,KAAKwhI,YACL96H,EAAkBqhI,EAAM1vI,IAAMoV,KAAMw5H,EAAYe,EAAWvwH,QAAU,EAAI,OAGzE/Q,EAAkBqhI,EAAM1vI,IAAMkV,MAAO05H,EAAYe,EAAWtwH,OAAS,EAAI,OAG7E1X,KAAKuP,WAAavP,KAAKwnI,UAAU1rH,SAASvjB,QAAoB,IAAV0nB,IACpDjgB,KAAKwnI,UAAU1rH,SAAS,GAAGlX,MAAM2I,MAASvN,KAAKwnI,UAAU76H,wBAAwB+K,MAAQ,EAAK,KACjE,SAAzB1X,KAAK0/H,MAAM2B,YACXrhI,KAAKwnI,UAAU1rH,SAAS,GAAGlX,MAAM2I,MAASvN,KAAKwnI,UAAU76H,wBAAwB+K,MAAQ,EAAK,OAGxF,IAAVuI,IACyB,eAArBjgB,KAAKwhI,cACAxhI,KAAKuP,WAKNvP,KAAKof,WAAW5mB,UAAUkM,OAAO2jG,GAAWw1B,gBAC5C79H,KAAKof,WAAWxa,MAAM4I,MAAQxN,KAAK0hI,YAAY98H,MAAM4I,MACrDxN,KAAKof,WAAWtD,SAAS,GAAGlX,MAAM2I,KAC7BvN,KAAKof,WAAWzS,wBAAwB+K,MAAQ,EAAK,EAAI,KACjC,SAAzB1X,KAAK0/H,MAAM2B,YACXrhI,KAAKof,WAAWtD,SAAS,GAAGlX,MAAM2I,KAC7BvN,KAAKof,WAAWzS,wBAAwB+K,MAAQ,EAAK,EAAI,QAVlE1X,KAAKof,WAAW5mB,UAAUkM,OAAO2jG,GAAWw1B,gBAC5C79H,KAAKof,WAAWxa,MAAM2I,KAAOvN,KAAK0hI,YAAY98H,MAAM2I,OAanC,aAArBvN,KAAKwhI,aACLxhI,KAAKof,WAAW5mB,UAAUkM,OAAO2jG,GAAWw1B,kBAIxDiB,EAAOtjI,UAAUioI,iBAAmB,SAAU5pI,GAC1C,GAAIouI,GACAC,GAAqBzqI,EAAkBuC,KAAK0/H,SAAWjiI,EAAkBuC,KAAK0/H,MAAM73F,QACpFpuC,EAAQyuI,EAC0CloI,KAAK0jI,cAAc1jI,KAAKu/H,mBAAmB,GAA7Fv/H,KAAK0jI,cAAc1jI,KAAKw/H,iBAAiB,GACzC2I,EAAWD,EAAkBloI,KAAK0jI,cAAc1jI,KAAKw/H,iBAAiB,GACtEx/H,KAAK0jI,cAAc1jI,KAAKu/H,mBAAmB,EAG3C0I,GAD6B,KADjCxuI,EAASuG,KAAKo/H,eAA4Bp/H,KAAoB,kBACrD9C,MAAM,OAAO3E,OACFkB,EAAKyD,MAAM,QAGVzD,EAAMA,GAE3BuG,KAAK4hI,kBAAkB/nI,GACL,UAAdmG,KAAKjG,KACLgK,EAAWlK,GAAWurB,gBAAiB+iH,EAAUC,iBAAkB3uI,IAGjEuG,KAAKuP,UAGD1V,IAAYmG,KAAK0hI,YACf39H,EAAWlK,GAAWurB,gBAAiB+iH,EAASjrI,MAAM,OAAO,GAAIkrI,iBAAkBH,EAAc,KACjGlkI,EAAWlK,GAAWurB,gBAAiB+iH,EAASjrI,MAAM,OAAO,GAAIkrI,iBAAkBH,EAAc,KALnFpuI,IAAYmG,KAAK0hI,YACnC39H,EAAWlK,GAAWurB,gBAAiB+iH,EAASjrI,MAAM,OAAO,GAAIkrI,iBAAkBH,EAAc,KACjGlkI,EAAWlK,GAAWurB,gBAAiB+iH,EAASjrI,MAAM,OAAO,GAAIkrI,iBAAkBH,EAAc,MAM7GnJ,EAAOtjI,UAAUqqI,kBAAoB,WAajC,MAXkB,UAAd7lI,KAAKjG,KACqB,IAAtBiG,KAAKyiI,aACEziI,KAAK2jI,WAGL3jI,KAAK+jI,WAIT/jI,KAAK2jI,YAIpB7E,EAAOtjI,UAAUsqI,wBAA0B,SAAU9oI,GAYjD,MAVIA,GADc,aAAdgD,KAAKjG,MAAqC,YAAdiG,KAAKjG,KACxBiG,KAAKqoI,yBAAyBrrI,EAAOgD,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,QAAS,GAG/D,IAAtBvoI,KAAKyiI,aACIziI,KAAKqoI,yBAAyBrrI,EAAOgD,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,QAAS,GAGhFvoI,KAAKqoI,yBAAyBrrI,EAAOgD,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,QAAS,IAKrG3J,EAAOtjI,UAAUktI,mBAAqB,WAC7B1oI,KAAKq/H,mBACNr/H,KAAKnG,QAAQwI,QACbrC,KAAKq/H,kBAAmB,IAGhCP,EAAOtjI,UAAU0qI,YAAc,SAAUjmI,GACrCD,KAAK0oI,oBACL,IAAI1rI,GACAwoI,EAAaxlI,KAAKuP,WAAkC,aAArBvP,KAAKwhI,YACpCoE,EAAO5lI,KAAK6lI,mBACM,MAAjB5lI,EAAKvI,SAAqC,KAAjBuI,EAAKvI,SAC5BuI,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW0zB,aACtC/+H,EAAdwoI,EAAsBxlI,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,GAC1DX,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,GAEvC,KAAjBV,EAAKvI,SAAqC,KAAjBuI,EAAKvI,SACpCuI,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW2zB,cACnCh/H,EAAdwoI,EAAsBxlI,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,GAC1DX,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAKo6B,KAAKz5B,aAAa,GAEvC,KAAjBV,EAAKvI,SACRuI,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW0zB,aACtC/+H,EAAdwoI,EAAsBxlI,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAK0/H,MAAMmH,UAAUlmI,aAAa,GACrEX,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAK0/H,MAAMmH,UAAUlmI,aAAa,GAElD,KAAjBV,EAAKvI,SACXuI,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW2zB,cACnCh/H,EAAdwoI,EAAsBxlI,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAK0/H,MAAMmH,UAAUlmI,aAAa,GACrEX,KAAKuE,IAAIqhI,EAAMzlH,WAAWngB,KAAK0/H,MAAMmH,UAAUlmI,aAAa,GAElD,KAAjBV,EAAKvI,QACXsF,EAAQmjB,WAAWngB,KAAKoiB,IAAIzhB,YAEL,KAAjBV,EAAKvI,UACXsF,EAAQmjB,WAAWngB,KAAKqN,IAAI1M,aAE5BX,KAAKw+H,OAAOv3G,UACZjqB,EAAQgD,KAAK8lI,wBAAwB9oI,IAEzCgD,KAAK+lI,kBAAkB/oI,IACnBgD,KAAKwgI,YAAexgI,KAAK+jG,QAAQp/F,WAChC3E,KAAK4iI,YAAYpqI,UAAUC,SAAS4vG,GAAWm1B,kBAChDx9H,KAAKomI,iBAETpmI,KAAKkjI,mBACLljI,KAAK4iI,YAAYvgI,QACbpC,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW0zB,cACjDt2H,GAAalB,IAAIvE,KAAKqlI,SAAU,mBAAoBrlI,KAAK2oI,SAAU3oI,MAEnEC,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW2zB,eACjDv2H,GAAalB,IAAIvE,KAAKslI,UAAW,mBAAoBtlI,KAAK2oI,SAAU3oI,OAG5E8+H,EAAOtjI,UAAU0nI,iBAAmB,WAChC,GAAIljI,KAAK+jG,QAAQp/F,UAAW,CACxB,GAAIk+H,GAAmC,IAAtB7iI,KAAKyiI,aAAqBziI,KAAK8iI,gBAAkB9iI,KAAK+iI,iBACnE3C,EAAuC,IAAtBpgI,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,oBAC3EtgI,MAAKwgI,WACJJ,EAAe5nI,UAAUC,SAAS4vG,GAAW00B,qBAAoD/8H,KAAKgjI,iBAAlChjI,KAAKijI,uBAG1EJ,EAAWhpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAAWx/F,SAAU,MACzFzM,KAAK2lI,iBAIjB7G,EAAOtjI,UAAUmtI,SAAW,SAAU1oI,GAC9BD,KAAK+jG,QAAQp/F,YACR3E,KAAKwgI,cACiC,IAAtBxgI,KAAKyiI,aAAqBziI,KAAK8iI,gBAAkB9iI,KAAK+iI,kBAC5DlpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,WAGxEhsG,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW0zB,cACjDt2H,GAAaf,OAAO1E,KAAKqlI,SAAU,mBAAoBrlI,KAAK2oI,UAE5D1oI,EAAKwhD,cAAcjpD,UAAUC,SAAS4vG,GAAW2zB,eACjDv2H,GAAaf,OAAO1E,KAAKslI,UAAW,mBAAoBtlI,KAAK2oI,WAGrE7J,EAAOtjI,UAAUotI,YAAc,WACF,eAArB5oI,KAAKwhI,YACa,aAAdxhI,KAAKjG,MACLiG,KAAKuP,UAAavP,KAAK67H,SAASj3H,MAAM4I,MAAQ,MAAUxN,KAAK67H,SAASj3H,MAAM2I,KAAO,MACnF7G,EAAkB1G,KAAK67H,UAAYnkH,MAASja,EAAkBuC,KAAK0iI,YAAc,EAAI1iI,KAAK0iI,WAAa,SAGvG1iI,KAAKuP,UAAavP,KAAK67H,SAASj3H,MAAM4I,MAClCxN,KAAK0iI,WAAa,KAAS1iI,KAAK67H,SAASj3H,MAAM2I,KAAOvN,KAAK0iI,WAAa,KAC5Eh8H,EAAkB1G,KAAK67H,UAAYnkH,MAAS1X,KAAK2iI,WAAa3iI,KAAK0iI,WAAa,QAIlE,aAAd1iI,KAAKjG,MACLiG,KAAK67H,SAASj3H,MAAM8I,OAAS,MAC7BhH,EAAkB1G,KAAK67H,UAAYpkH,OAAUha,EAAkBuC,KAAK0iI,YAAc,EAAI1iI,KAAK0iI,WAAa,SAGxG1iI,KAAK67H,SAASj3H,MAAM8I,OAAS1N,KAAK0iI,WAAa,KAC/Ch8H,EAAkB1G,KAAK67H,UAAYpkH,OAAUzX,KAAK2iI,WAAa3iI,KAAK0iI,WAAa,SAI7F5D,EAAOtjI,UAAUqtI,sBAAwB,SAAU7rI,GAG/C,MAFAA,GAAQgD,KAAKkhI,iBAAiBlkI,GAC9BA,EAAQgD,KAAK8oI,oBAAoB9rI,IAGrC8hI,EAAOtjI,UAAUutI,qBAAuB,SAAUC,EAAgBC,EAAgBC,EAAcC,GACnE,eAArBnpI,KAAKwhI,YACAxhI,KAAKuP,WAKNvP,KAAK0+H,cAAc95H,MAAM4I,MAAQw7H,EAAiB,KAClDhpI,KAAK0+H,cAAc95H,MAAM8S,MAASuxH,EAAiBD,EAAkB,OALrEhpI,KAAK0+H,cAAc95H,MAAM2I,KAAOy7H,EAAiB,KACjDhpI,KAAK0+H,cAAc95H,MAAM8S,MAASuxH,EAAiBD,EAAkB,OAQzEhpI,KAAK0+H,cAAc95H,MAAM8I,OAASs7H,EAAiB,KACnDhpI,KAAK0+H,cAAc95H,MAAM6S,OAAUwxH,EAAiBD,EAAkB,MAExD,UAAdhpI,KAAKjG,OACoB,eAArBiG,KAAKwhI,YACAxhI,KAAKuP,WAKNvP,KAAK2+H,eAAe/5H,MAAM4I,MAAQ07H,EAAe,KACjDlpI,KAAK2+H,eAAe/5H,MAAM8S,MAASyxH,EAAeD,EAAgB,OALlElpI,KAAK2+H,eAAe/5H,MAAM2I,KAAO27H,EAAe,KAChDlpI,KAAK2+H,eAAe/5H,MAAM8S,MAASyxH,EAAeD,EAAgB,OAQtElpI,KAAK2+H,eAAe/5H,MAAM8I,OAASw7H,EAAe,KAClDlpI,KAAK2+H,eAAe/5H,MAAM6S,OAAU0xH,EAAeD,EAAgB,QAI/EpK,EAAOtjI,UAAU4lI,YAAc,WAC3B,GAAkB,YAAdphI,KAAKjG,MAAoC,aAAdiG,KAAKjG,KAAqB,CACrD,GAAIqvI,GAAgBppI,KAAKqoI,yBAAyBroI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,QAAQ,GAAO,EACzHa,GAAeppI,KAAK6oI,sBAAsBO,EAC1C,IAAIC,GAAcrpI,KAAKqoI,yBAAyBroI,KAAKw+H,OAAO+J,OAAQvoI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,QAAQ,GAAO,EACrHc,GAAarpI,KAAK6oI,sBAAsBQ,GACxCrpI,KAAK+oI,qBAAqBK,EAAcC,OAEvC,IAAkB,UAAdrpI,KAAKjG,KAAkB,CAC5B,GAAIivI,GAAkBhpI,KAAKqoI,yBAAyBroI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,QAAQ,GAAO,EAC3HS,GAAiBhpI,KAAK6oI,sBAAsBG,EAC5C,IAAIC,GAAkBjpI,KAAKqoI,yBAAyBroI,KAAKw+H,OAAO+J,OAAQvoI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,QAAQ,GAAO,EACzHU,GAAiBjpI,KAAK6oI,sBAAsBI,EAC5C,IAAIC,GAAgBlpI,KAAKqoI,yBAAyBroI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,QAAQ,GAAO,EACzHS,GAAelpI,KAAK6oI,sBAAsBK,EAC1C,IAAIC,GAAgBnpI,KAAKqoI,yBAAyBroI,KAAKw+H,OAAOiK,OAAQzoI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,QAAQ,GAAO,EACvHU,GAAenpI,KAAK6oI,sBAAsBM,GAC1CnpI,KAAK+oI,qBAAqBC,EAAgBC,EAAgBC,EAAcC,KAGhFrK,EAAOtjI,UAAU6sI,yBAA2B,SAAUiB,EAAcC,EAAUC,EAAUC,GAmBpF,MAlBIhsI,GAAkB8rI,KAClBA,EAAWvpI,KAAKoiB,IACZ3kB,EAAkB6rI,IAAiBG,IACnCH,EAAeC,IAGnB9rI,EAAkB+rI,KAClBA,EAAWxpI,KAAKqN,IACZ5P,EAAkB6rI,IAAiBG,IACnCH,EAAeE,IAGnBF,EAAeC,IACfD,EAAeC,GAEfD,EAAeE,IACfF,EAAeE,IAEXF,EAActpI,KAAK8oI,oBAAoBQ,KAEnDxK,EAAOtjI,UAAU4B,SAAW,WAYxB,IAXKK,EAAkBuC,KAAK6hI,eAAiB7hI,KAAK6hI,aAAatpI,OAAS,IACpEyH,KAAKoiB,IAAM,EACXpiB,KAAKqN,IAAMrN,KAAK6hI,aAAatpI,OAAS,GAE1CyH,KAAK4hI,kBAAkB5hI,KAAK0hI,aAC5B1hI,KAAK2jI,WAAalmI,EAAkBuC,KAAKhD,OAASgD,KAAKkhI,iBAAiB/gH,WAAWngB,KAAKoiB,IAAIzhB,aACxFX,KAAKkhI,iBAAiB/gH,WAAWngB,KAAKhD,MAAM2D,aAChDX,KAAK0iI,WAAa1iI,KAAK8oI,oBAAoB9oI,KAAK2jI,YAChD3jI,KAAK0pI,cAAgB1pI,KAAK0iI,WAC1BjlI,EAAkBuC,KAAKyiI,cAA+B,UAAdziI,KAAKjG,KAAmBiG,KAAKyiI,aAAe,EAAIziI,KAAKyiI,aAAe,EACxGziI,KAAKyiI,aAAeziI,KAAKyiI,aACX,YAAdziI,KAAKjG,MAAoC,aAAdiG,KAAKjG,KAAqB,CACrD,GAAIiG,KAAKw+H,OAAOv3G,QAAS,CACrB,GAAI8Z,GAAS/gC,KAAKqoI,yBAAyBroI,KAAK2jI,WAAY3jI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,OAC9FvoI,MAAK2jI,WAAa5iG,EAAO,GACzB/gC,KAAK0iI,WAAa3hG,EAAO,GACzB/gC,KAAK0pI,cAAgB1pI,KAAK0iI,WAE9B1iI,KAAK2pI,oBACL3pI,KAAKwiI,cACLxiI,KAAKhD,MAAQgD,KAAK2jI,WAClB3jI,KAAKyjI,iBAAiBzjI,KAAK0hI,aAC3B1hI,KAAKsmI,YAAY,eAGjBtmI,MAAK4pI,oBAES,aAAd5pI,KAAKjG,MACLiG,KAAK4oI,cAEL5oI,KAAKw+H,OAAOv3G,SACZjnB,KAAKohI,eAGbtC,EAAOtjI,UAAUwlI,iBAAmB,WACb,OAAfhhI,KAAKhD,OAA0C,gBAAhBgD,cAC/BA,KAAKhD,OAASmjB,WAAWzd,EAAW1C,KAAKoiB,MAAOjC,WAAWzd,EAAW1C,KAAKqN,SAGnFyxH,EAAOtjI,UAAUouI,mBAAqB,WAClC5pI,KAAKghI,mBACLhhI,KAAK6pI,iBAET/K,EAAOtjI,UAAUsuI,aAAe,WACV,UAAd9pI,KAAKjG,KACqB,IAAtBiG,KAAKyiI,cACLziI,KAAK0hI,YAAY98H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GACpDx9G,KAAK2hI,aAAa/8H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GACjDx9G,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAKqgI,qBAAuBrgI,KAAKsgI,uBAC9EtgI,KAAKqgI,oBAAoBz7H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GAC5Dx9G,KAAKsgI,qBAAqB17H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,MAIjEx9G,KAAK0hI,YAAY98H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GACpDx9G,KAAK2hI,aAAa/8H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GACjDx9G,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAKqgI,qBAAuBrgI,KAAKsgI,uBAC9EtgI,KAAKqgI,oBAAoBz7H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GAC5Dx9G,KAAKsgI,qBAAqB17H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,KAIhEx9G,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAKqgI,sBACvDrgI,KAAKqgI,oBAAoBz7H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,KAGpEshB,EAAOtjI,UAAUmuI,kBAAoB,WACjC,GAGIroF,GACA8+E,EAJArgI,EAAQC,KACR0W,EAA6B,IAAtB1W,KAAKyiI,aAAsBziI,KAAK0iI,WAAa1iI,KAAK2iI,UAC5B,KAAtB3iI,KAAKyiI,aAAsBziI,KAAK2jI,WAAa3jI,KAAK+jI,UAGzD/jI,MAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAChCy7H,EAAuC,IAAtBpgI,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,qBAC3Eh/E,GAAUthD,KAAK4iI,YAAoC,IAAtB5iI,KAAKyiI,aAAqBziI,KAAKiiI,oBAAsBjiI,KAAK+hI,uBAGvFzgF,GAAUthD,KAAK4iI,aAEf5iI,KAAK+jG,QAAQp/F,WAAqB,IAAR+R,GAA2B,UAAd1W,KAAKjG,MAC5CunD,EAAO,GAAG9oD,UAAU+L,IAAI8jG,GAAWi1B,mBAC/Bt9H,KAAKwgI,aACLl/E,EAAO,GAAG9oD,UAAU+L,IAAI8jG,GAAWi1B,mBAC/B8C,GACAA,EAAe5nI,UAAU+L,IAAI8jG,GAAWk1B,uBAKhDj8E,EAAO,GAAG9oD,UAAUkM,OAAO2jG,GAAWi1B,mBAClCt9H,KAAK+jG,QAAQp/F,WAAa3E,KAAKwgI,aAC/Bl/E,EAAO,GAAG9oD,UAAUkM,OAAO2jG,GAAWi1B,mBAClC8C,GACAA,EAAe5nI,UAAUkM,OAAO2jG,GAAWk1B,sBAIvDj8E,EAAOliD,QAAQ,SAAUkiD,GACK,eAAtBvhD,EAAMyhI,YACNzhI,EAAMwP,UAAa+xC,EAAO18C,MAAM4I,MAC5BkJ,EAAM,KAAS4qC,EAAO18C,MAAM2I,KAAOmJ,EAAM,KAG7C4qC,EAAO18C,MAAM8I,OAASgJ,EAAM,OAGpC1W,KAAKsmI,YAAY,WAErBxH,EAAOtjI,UAAUonI,UAAY,WACzB,MAA8B,KAAtB5iI,KAAKyiI,aAAsBziI,KAAK0hI,YAAc1hI,KAAK2hI,cAE/D7C,EAAOtjI,UAAUquI,cAAgB,WAClB7pI,KAAKyiI,YAChBziI,MAAK+pI,mBACL/pI,KAAKyiI,aAAe,EACpBziI,KAAK2pI,oBACL3pI,KAAKyiI,aAAe,EACpBziI,KAAK2pI,oBACL3pI,KAAKyiI,aAAe,GAExB3D,EAAOtjI,UAAU8qI,YAAc,SAAU3zG,GACrC,GAAIq3G,GAAyB,WAAdr3G,EAAyB3yB,KAAKihI,YAAcjhI,KAAKmhI,eAChE,IAAkB,UAAdnhI,KAAKjG,KACLiG,KAAK2H,eAAgB3K,MAASgD,KAAK2jI,aAAc,GAC7CqG,IAAahqI,KAAKhD,QAClBgD,KAAKyoB,QAAQkK,EAAW3yB,KAAKurB,gBAAgBoH,IAC7C3yB,KAAKiqI,eAAet3G,EAAW3yB,KAAKhD,QAExCgD,KAAKyjI,iBAAiBzjI,KAAK0hI,iBAE1B,CACD,GAAI1kI,GAAQgD,KAAKhD,OAASgD,KAAK2jI,WAAY3jI,KAAK+jI,WAChD/jI,MAAK2H,eAAgB3K,MAASA,IAAS,IACnCgtI,EAASzxI,SAAWyH,KAAKhD,MAAMzE,QAC5ByH,KAAKhD,MAAM,KAAOgtI,EAAS,IAAMhqI,KAAKhD,MAAM,KAAOgtI,EAAS,MAC/DhqI,KAAKyoB,QAAQkK,EAAW3yB,KAAKurB,gBAAgBoH,IAC7C3yB,KAAKiqI,eAAet3G,EAAW3yB,KAAKhD,QAExCgD,KAAKyjI,iBAAiBzjI,KAAK4iI,aAE/B5iI,KAAK21H,YAAY34H,MAAQgD,KAAKhD,MAAM2D,YAExCm+H,EAAOtjI,UAAU+vB,gBAAkB,SAAUoH,GACzC,GAAItkB,EAmBJ,OAlBIrO,MAAK+jG,QAAQp/F,WAAa3E,KAAK8iI,iBAC/B9iI,KAAKqjI,eACLh1H,GACIrR,MAAOgD,KAAKhD,MACZs6H,cAA6B,WAAd3kG,EAAyB3yB,KAAKihI,YAAcjhI,KAAKmhI,gBAChE71E,OAAQ34B,EAAWl5B,KAAMuG,KAAK8iI,gBAAgBpoI,UAIlD2T,GACIrR,MAAOgD,KAAKhD,MACZs6H,cAA6B,WAAd3kG,EAAyB3yB,KAAKihI,YAAcjhI,KAAKmhI,gBAChE71E,OAAQ34B,EAAWl5B,KAAMgE,EAAkBuC,KAAKw/H,gBAAgB33F,QAAU7nC,KAAKhD,MAAM2D,WAClE,UAAdX,KAAKjG,KAAmBiG,KAAK2/H,aAAa3/H,KAAKhD,MAAOgD,KAAKw/H,iBAAiBG,aACxE3/H,KAAK2/H,aAAa3/H,KAAKhD,MAAM,GAAIgD,KAAKw/H,iBAAiBG,aAAe,MACnE3/H,KAAK2/H,aAAa3/H,KAAKhD,MAAM,GAAIgD,KAAKw/H,iBAAiBG,cAGpEtxH,GAEXywH,EAAOtjI,UAAUyuI,eAAiB,SAAUt3G,EAAW31B,GACjC,WAAd21B,EACA3yB,KAAKihI,YAAcjkI,EAGnBgD,KAAKmhI,gBAAkBnkI,GAG/B8hI,EAAOtjI,UAAUuuI,iBAAmB,WAChC,GAAIhpG,GAAS/gC,KAAKhD,MAAM2D,WAAWzD,MAAM,KAAK8jC,IAAI2qB,OAuBlD,IAtBK3rD,KAAKuP,WAAkC,aAArBvP,KAAKwhI,aAA+BxhI,KAAK45G,IAC5D55G,KAAKhD,OAAS+jC,EAAO,GAAIA,EAAO,IAGhC/gC,KAAKhD,OAAS+jC,EAAO,GAAIA,EAAO,IAEhC/gC,KAAKuP,WAAkC,aAArBvP,KAAKwhI,aACvBxhI,KAAK2jI,WAAa3jI,KAAKkhI,iBAAiBlhI,KAAKhD,MAAM,IACnDgD,KAAK+jI,WAAa/jI,KAAKkhI,iBAAiBlhI,KAAKhD,MAAM,MAGnDgD,KAAK2jI,WAAa3jI,KAAKkhI,iBAAiBlhI,KAAKhD,MAAM,IACnDgD,KAAK+jI,WAAa/jI,KAAKkhI,iBAAiBlhI,KAAKhD,MAAM,KAEvDgD,KAAK0iI,WAAa1iI,KAAK8oI,oBAAoB9oI,KAAK2jI,YAChD3jI,KAAK2iI,WAAa3iI,KAAK8oI,oBAAoB9oI,KAAK+jI,YAC5C/jI,KAAK0iI,WAAa1iI,KAAK2iI,aACvB3iI,KAAK0iI,WAAa1iI,KAAK2iI,WACvB3iI,KAAK2jI,WAAa3jI,KAAK+jI,YAE3B/jI,KAAK0pI,cAAgB1pI,KAAK0iI,WAC1B1iI,KAAKkqI,cAAgBlqI,KAAK2iI,WACtB3iI,KAAKw+H,OAAOv3G,QAAS,CACrBjnB,KAAKyiI,aAAe,CACpB,IAAI0H,GAAWnqI,KAAKqoI,yBAAyBroI,KAAK2jI,WAAY3jI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,OAChGvoI,MAAK2jI,WAAawG,EAAS,GAC3BnqI,KAAK0iI,WAAayH,EAAS,GAC3BnqI,KAAK0pI,cAAgB1pI,KAAK0iI,WAC1B1iI,KAAKyiI,aAAe,EACpB0H,EAAWnqI,KAAKqoI,yBAAyBroI,KAAK+jI,WAAY/jI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,QAC5FzoI,KAAK+jI,WAAaoG,EAAS,GAC3BnqI,KAAK2iI,WAAawH,EAAS,GAC3BnqI,KAAKkqI,cAAgBlqI,KAAK2iI,aAGlC7D,EAAOtjI,UAAUstI,oBAAsB,SAAU9rI,GAC7C,GAAI0Z,EAiBJ,OAhBA1Z,GAAS,KACJA,EAASmjB,WAAWzd,EAAW1C,KAAKoiB,QAAajC,WAAWzd,EAAW1C,KAAKqN,MAAU8S,WAAWzd,EAAW1C,KAAKoiB,OAElH1L,EADqB,eAArB1W,KAAKwhI,YACCxhI,KAAKnG,QAAQ8S,wBAAwB+K,OAAS1a,EAAQ,KAGtDgD,KAAKnG,QAAQ8S,wBAAwB8K,QAAUza,EAAQ,KAE3DmjB,WAAWzd,EAAW1C,KAAKqN,QAAY8S,WAAWzd,EAAW1C,KAAKoiB,QAEhE1L,EADqB,eAArB1W,KAAKwhI,YACCxhI,KAAKnG,QAAQ8S,wBAAwB+K,MAGrC1X,KAAKnG,QAAQ8S,wBAAwB8K,QAG5Cf,GAEXooH,EAAOtjI,UAAU0lI,iBAAmB,SAAUlkI,GAI1C,GAHIgD,KAAKoiB,IAAMpiB,KAAKqN,MAChBrN,KAAKoiB,IAAMpiB,KAAKqN,KAEhBrN,KAAKoiB,MAAQpiB,KAAKqN,IAClB,MAAQ8S,YAAWzd,EAAW1C,KAAKqN,KAEvC,IAAIi0C,GAASthD,KAAKoqI,cAOlB,OANIptI,GAAQskD,EAAO/jD,MACfP,EAAQskD,EAAO/jD,MAEVP,EAAQskD,EAAOthC,MACpBhjB,EAAQskD,EAAOthC,KAEZhjB,GAEX8hI,EAAOtjI,UAAU6uI,SAAW,WACxB,GAAItqI,GAAQC,IACZA,MAAK0hI,YAAY98H,MAAMq6H,WAAa,OAClB,YAAdj/H,KAAKjG,OACLiG,KAAK67H,SAASj3H,MAAMq6H,WAAa,QAEnB,UAAdj/H,KAAKjG,OACLiG,KAAK2hI,aAAa/8H,MAAMq6H,WAAa,QAEzCj/H,KAAK0iI,WAAa1iI,KAAK8oI,oBAAoB9oI,KAAK2jI,YAC5C3jI,KAAK+jI,aACL/jI,KAAK2iI,WAAa3iI,KAAK8oI,oBAAoB9oI,KAAK+jI,aAE3B,eAArB/jI,KAAKwhI,aACLxhI,KAAKuP,UAAYvP,KAAK0hI,YAAY98H,MAAM4I,MACpCxN,KAAK0iI,WAAa,KAAO1iI,KAAK0hI,YAAY98H,MAAM2I,KAAOvN,KAAK0iI,WAAa,KACzE1iI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAKiiI,sBAClDjiI,KAAKuP,UAAYvP,KAAKiiI,oBAAoBr9H,MAAM4I,MAC5CxN,KAAK0iI,WAAa,KAAO1iI,KAAKiiI,oBAAoBr9H,MAAM2I,KAAOvN,KAAK0iI,WAAa,MAEvE,aAAd1iI,KAAKjG,MACLiG,KAAKuP,UAAavP,KAAK67H,SAASj3H,MAAM4I,MAAQ,MAAUxN,KAAK67H,SAASj3H,MAAM2I,KAAO,MACnF7G,EAAkB1G,KAAK67H,UAAYnkH,MAASja,EAAkBuC,KAAK0iI,YAAc,EAAI1iI,KAAK0iI,WAAa,QAEpF,UAAd1iI,KAAKjG,OACViG,KAAKuP,UAAYvP,KAAK2hI,aAAa/8H,MAAM4I,MACrCxN,KAAK2iI,WAAa,KAAO3iI,KAAK2hI,aAAa/8H,MAAM2I,KAAOvN,KAAK2iI,WAAa,KAC1E3iI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAK+hI,uBAClD/hI,KAAKuP,UAAYvP,KAAK+hI,qBAAqBn9H,MAAM4I,MAC7CxN,KAAK2iI,WAAa,KAAO3iI,KAAK+hI,qBAAqBn9H,MAAM2I,KAAOvN,KAAK2iI,WAAa,MAE1F3iI,KAAKuP,UAAavP,KAAK67H,SAASj3H,MAAM4I,MAClCxN,KAAK0iI,WAAa,KAAS1iI,KAAK67H,SAASj3H,MAAM2I,KAAOvN,KAAK0iI,WAAa,KAC5Eh8H,EAAkB1G,KAAK67H,UAAYnkH,MAAS1X,KAAK2iI,WAAa3iI,KAAK0iI,WAAa,UAIpF1iI,KAAK0hI,YAAY98H,MAAM8I,OAAS1N,KAAK0iI,WAAa,KAC9C1iI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAKiiI,sBAClDjiI,KAAKiiI,oBAAoBr9H,MAAM8I,OAAS1N,KAAK0iI,WAAa,MAE5C,aAAd1iI,KAAKjG,MACLiG,KAAK67H,SAASj3H,MAAM8I,OAAS,MAC7BhH,EAAkB1G,KAAK67H,UAAYpkH,OAAUha,EAAkBuC,KAAK0iI,YAAc,EAAI1iI,KAAK0iI,WAAa,QAErF,UAAd1iI,KAAKjG,OACViG,KAAK2hI,aAAa/8H,MAAM8I,OAAS1N,KAAK2iI,WAAa,KAC/C3iI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,WAAa3E,KAAK+hI,uBAClD/hI,KAAK+hI,qBAAqBn9H,MAAM8I,OAAS1N,KAAK2iI,WAAa,MAE/D3iI,KAAK67H,SAASj3H,MAAM8I,OAAS1N,KAAK0iI,WAAa,KAC/Ch8H,EAAkB1G,KAAK67H,UAAYpkH,OAAUzX,KAAK2iI,WAAa3iI,KAAK0iI,WAAa,SAGrF1iI,KAAKw+H,OAAOv3G,SACZjnB,KAAKohI,cAEoB,SAAzBphI,KAAK0/H,MAAM2B,WAAwBrhI,KAAK8hG,KACxC9hG,KAAK6tG,cAAc7tG,KAAK8hG,IACxB9hG,KAAKshI,eAEJthI,KAAK+jG,QAAQp/F,WACd1M,WAAW,WACP8H,EAAM2hI,YAAY98H,MAAMq6H,WAAal/H,EAAMo/H,eACxB,UAAfp/H,EAAMhG,OACNgG,EAAM4hI,aAAa/8H,MAAMq6H,WAAal/H,EAAMo/H,kBAIxDn/H,KAAKgjI,kBAETlE,EAAOtjI,UAAUuqI,kBAAoB,SAAU/oI,GAC3C,GAAI6Y,GAAW,IACW,KAAtB7V,KAAKyiI,cACCziI,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO8L,mBACrCtqI,KAAK2jI,WAAa3jI,KAAKkhI,iBAAiBlkI,GACxCgD,KAAK0iI,WAAa1iI,KAAK8oI,oBAAoB9oI,KAAK2jI,YAC9B,UAAd3jI,KAAKjG,MAAoBiG,KAAK0iI,WAAa1iI,KAAK2iI,aAChD3iI,KAAK0iI,WAAa1iI,KAAK2iI,WACvB3iI,KAAK2jI,WAAa3jI,KAAK+jI,YAEvB/jI,KAAK0iI,aAAe1iI,KAAK0pI,gBACzB7zH,EAAW7V,KAAK0pI,cAAgB1pI,KAAK0iI,aAG7C1iI,KAAK8pI,iBAGC9pI,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO+L,iBACrCvqI,KAAK+jI,WAAa/jI,KAAKkhI,iBAAiBlkI,GACxCgD,KAAK2iI,WAAa3iI,KAAK8oI,oBAAoB9oI,KAAK+jI,YAC9B,UAAd/jI,KAAKjG,MAAoBiG,KAAK2iI,WAAa3iI,KAAK0iI,aAChD1iI,KAAK2iI,WAAa3iI,KAAK0iI,WACvB1iI,KAAK+jI,WAAa/jI,KAAK2jI,YAEvB3jI,KAAK2iI,aAAe3iI,KAAKkqI,gBACzBr0H,EAAW7V,KAAKkqI,cAAgBlqI,KAAK2iI,aAG7C3iI,KAAK8pI,gBAEQ,OAAbj0H,IACkB,YAAd7V,KAAKjG,MACLiG,KAAK4oI,cAET5oI,KAAK2pI,sBAGb7K,EAAOtjI,UAAU4uI,aAAe,WAC5B,MAAIpqI,MAAKoiB,IAAMpiB,KAAKqN,KAEZ9P,MAAOyC,KAAKqN,IACZ2S,IAAKhgB,KAAKoiB,MAKV7kB,MAAOyC,KAAKoiB,IACZpC,IAAKhgB,KAAKqN,MAItByxH,EAAOtjI,UAAUgvI,aAAe,SAAU30H,GAEtC,GAAI7V,KAAKoiB,MAAQpiB,KAAKqN,IAClB,MAAO,IAEX,IAAyB,eAArBrN,KAAKwhI,YAA8B,CACnC,GAAIj0H,GAAOsI,EAAS/H,EAAI9N,KAAKnG,QAAQ8S,wBAAwBY,KACzDzR,EAAMkE,KAAKnG,QAAQiL,YAAc,GACrC9E,MAAKmqB,IAAO5c,EAAOzR,MAElB,CACD,GAAI2uI,GAAQ50H,EAAS9H,EAAI/N,KAAKnG,QAAQ8S,wBAAwBc,IAC1D3R,EAAMkE,KAAKnG,QAAQoqD,aAAe,GACtCjkD,MAAKmqB,IAAM,IAAOsgH,EAAQ3uI,EAE9B,GAAIquB,GAAMnqB,KAAK0qI,qBAAqB1qI,KAAKmqB,IAgBzC,OAfIA,GAAM,EACNA,EAAM,EAEDA,EAAM,MACXA,EAAM,KAENnqB,KAAKuP,WAAkC,aAArBvP,KAAKwhI,cACvBr3G,EAAM,IAAMA,GAES,eAArBnqB,KAAKwhI,YACCxhI,KAAKnG,QAAQ8S,wBAAwB+K,OAASyS,EAAM,KAGpDnqB,KAAKnG,QAAQ8S,wBAAwB8K,QAAU0S,EAAM,MAInE20G,EAAOtjI,UAAUkvI,qBAAuB,SAAU1tI,GAC5B,IAAdgD,KAAKo6B,OACLp6B,KAAKo6B,KAAO,EAEhB,IAAIuwG,GAAexqH,WAAWzd,EAAW1C,KAAKo6B,SAAYja,WAAWzd,EAAW1C,KAAKqN,MAAQ8S,WAAWzd,EAAW1C,KAAKoiB,OAAS,KAC7HwoH,EAAS5tI,EAAQoQ,KAAKE,IAAIq9H,EAS9B,OARe,KAAXC,IACKD,EAAc,EAAKC,EACpB5tI,GAAS4tI,EAGT5tI,GAASoQ,KAAKE,IAAIq9H,GAAeC,GAGlC5tI,GAEX8hI,EAAOtjI,UAAU+I,IAAM,SAAUkrC,EAAGtX,EAAG0yG,GACnC,GACI/8H,GAAIV,KAAKwrH,IAAI,GAAiB,EAQlC,OANIiS,IACOz9H,KAAKgoG,MAAM3lE,EAAI3hC,GAAKV,KAAKgoG,MAAMj9E,EAAIrqB,IAAMA,GAGzCV,KAAKgoG,MAAM3lE,EAAI3hC,GAAKV,KAAKgoG,MAAMj9E,EAAIrqB,IAAMA,GAIxDgxH,EAAOtjI,UAAU45G,MAAQ,SAAU3lE,GAC/B,GAAIq7F,GAAI9qI,KAAKo6B,KAAKz5B,WAAWzD,MAAM,IACnC,OAAO4tI,GAAE,GAAK3qH,WAAWsvB,EAAErvB,QAAQ0qH,EAAE,GAAGvyI,SAAW6U,KAAKgoG,MAAM3lE,IAElEqvF,EAAOtjI,UAAUuvI,gBAAkB,SAAUr0H,GACzC,GAAIyT,GACAulB,EAAOvvB,WAAWzd,EAAW1C,KAAKqN,MAAQ8S,WAAWzd,EAAW1C,KAAKoiB,KAQzE,OANI+H,GADqB,eAArBnqB,KAAKwhI,YACE9qH,EAAM1W,KAAKnG,QAAQ8S,wBAAwB+K,MAASg4B,EAGpDh5B,EAAM1W,KAAKnG,QAAQ8S,wBAAwB8K,OAAUi4B,EAEpD1vC,KAAKuE,IAAI4lB,EAAKhK,WAAWngB,KAAKoiB,IAAIzhB,aAAa,IAG/Dm+H,EAAOtjI,UAAUwvI,eAAiB,SAAUxpF,GACxCA,EAAIh6B,gBACJ,IAAI9Q,EACa,eAAb8qC,EAAIznD,MAAqC,UAAbynD,EAAIznD,KAChC2c,GAAQ5I,EAAG0zC,EAAImF,QAAS54C,EAAGyzC,EAAIoF,SAEb,eAAbpF,EAAIznD,OACT2c,GAAQ5I,EAAG0zC,EAAIG,eAAe,GAAGgF,QAAS54C,EAAGyzC,EAAIG,eAAe,GAAGiF,SAEvE,IAAIqkF,GAAYjrI,KAAKwqI,aAAa9zH,GAC9Bw0H,EAAYlrI,KAAK+qI,gBAAgBE,EACrC,IAAkB,UAAdjrI,KAAKjG,MAAqBiG,KAAK2iI,WAAasI,EAAcA,EAAYjrI,KAAK0iI,WAC3E1iI,KAAKyiI,aAAe,EACdziI,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO+L,iBACjCvqI,KAAKw+H,OAAOv3G,UAEZikH,GADIluI,EAAQgD,KAAKqoI,yBAAyB6C,EAAWlrI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,SACrE,GAClBwC,EAAYjuI,EAAM,IAEtBgD,KAAK2hI,aAAanpI,UAAU+L,IAAI8jG,GAAW61B,oBAC3Cl+H,KAAK2iI,WAAa3iI,KAAKkqI,cAAgBe,EACvCjrI,KAAK+jI,WAAamH,GAEtBlrI,KAAK8pI,eACL9pI,KAAK2hI,aAAat/H,YAEjB,CAED,GADArC,KAAKyiI,aAAe,GACdziI,KAAKw+H,OAAOv3G,UAAWjnB,KAAKw+H,OAAO8L,iBAAmB,CACxD,GAAItqI,KAAKw+H,OAAOv3G,QAAS,CACrB,GAAIjqB,GAAQgD,KAAKqoI,yBAAyB6C,EAAWlrI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,OACvF2C,GAAYluI,EAAM,GAClBiuI,EAAYjuI,EAAM,GAEtBgD,KAAK0hI,YAAYlpI,UAAU+L,IAAI8jG,GAAW61B,oBAC1Cl+H,KAAK0iI,WAAa1iI,KAAK0pI,cAAgBuB,EACvCjrI,KAAK2jI,WAAauH,EAEtBlrI,KAAK8pI,eACL9pI,KAAK0hI,YAAYr/H,QAEjBrC,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,YACW,IAAtB3E,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,sBAChE9nI,UAAU+L,IAAI8jG,GAAW20B,sBAE5C,IAAIruB,GAAiB3uG,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWm1B,gBAC7D7uB,IAAkB3uG,KAAK4iI,cAAgBj0B,GACvCA,EAAen2G,UAAUkM,OAAO2jG,GAAWm1B,gBAE/C,IAAIl8E,GAA+B,IAAtBthD,KAAKyiI,aAAqBziI,KAAK0hI,YAAc1hI,KAAK2hI,YAC/D,IAAIngF,EAAI34C,SAAWy4C,EAMf,OALIthD,KAAKwgI,YAAexgI,KAAK+jG,QAAQp/F,WAChC3E,KAAK4iI,YAAYpqI,UAAUC,SAAS4vG,GAAWm1B,kBAChDx9H,KAAKomI,qBAETpmI,MAAKkjI,kBAGT,IAAKljI,KAAKmrI,mBAAmBD,GAA7B,CAGA,GAAIjM,GAAaj/H,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,UAC7C3E,KAAKk/H,4BAA8Bl/H,KAAKi/H,UAC5Cj/H,MAAK4iI,YAAYh+H,MAAMq6H,WAAaA,EAAW39E,OAC7B,YAAdthD,KAAKjG,OACLiG,KAAK67H,SAASj3H,MAAMq6H,WAAaA,EAAWpD,UAEhD77H,KAAK2pI,oBACa,YAAd3pI,KAAKjG,MACLiG,KAAK4oI,gBAGb9J,EAAOtjI,UAAUwqI,qBAAuB,WAChChmI,KAAK+jG,QAAQp/F,YACb3E,KAAKqjI,eACiB,IAAtBrjI,KAAKyiI,aAAqBziI,KAAK8iI,gBAAgBpkF,QAAQ1+C,KAAK0hI,aACxD1hI,KAAK+iI,iBAAiBrkF,QAAQ1+C,KAAK2hI,gBAG/C7C,EAAOtjI,UAAUipI,WAAa,SAAUloI,GAGpC,GAFAA,EAAMirB,iBACNxnB,KAAK0oI,qBACa,UAAd1oI,KAAKjG,MAAoBiG,KAAKwkD,MAAQjoD,EAAMsM,SAAW7I,KAAK67H,SAAU,CACtE,GAAIuP,OAAW,GACXC,MAAW,EACI,eAAf9uI,EAAMxC,MAC+BqxI,GAArCpoI,GAAMzG,EAAMoqD,QAASpqD,EAAMqqD,UAAwB,GAAIykF,EAAWroI,EAAG,IAEjD,eAAfzG,EAAMxC,OAC8DqxI,GAAzE/mI,GAAM9H,EAAMolD,eAAe,GAAGgF,QAASpqD,EAAMolD,eAAe,GAAGiF,UAAwB,GAAIykF,EAAWhnI,EAAG,IAEpF,eAArBrE,KAAKwhI,aACLxhI,KAAKsrI,gBAAkBF,EAAWprI,KAAK67H,SAASlvH,wBAAwBY,KACxEvN,KAAKurI,iBAAmBvrI,KAAK67H,SAASlvH,wBAAwBa,MAAQ49H,IAGtEprI,KAAKsrI,gBAAkBD,EAAWrrI,KAAK67H,SAASlvH,wBAAwBc,IACxEzN,KAAKurI,iBAAmBvrI,KAAK67H,SAASlvH,wBAAwBe,OAAS29H,GAE3ErrI,KAAKwrI,QAAUxrI,KAAK+jI,WAAa/jI,KAAK2jI,WACtC3jI,KAAK4iI,YAAYvgI,QACjBoD,GAAalB,IAAIxJ,SAAU,sBAAuBiF,KAAKyrI,iBAAkBzrI,MACzEyF,GAAalB,IAAIxJ,SAAU,mBAAoBiF,KAAK0rI,eAAgB1rI,UAGpEA,MAAKgrI,eAAezuI,GACpBkJ,GAAalB,IAAIxJ,SAAU,sBAAuBiF,KAAK2rI,cAAe3rI,MACtEyF,GAAalB,IAAIxJ,SAAU,mBAAoBiF,KAAK4rI,YAAa5rI,KAErE,IAAIgD,GAAIqB,GAEZy6H,EAAOtjI,UAAUqwI,kBAAoB,SAAUC,EAAaC,EAAaC,GAChD,IAAjBA,GACAhsI,KAAK2jI,WAAaoI,EAClB/rI,KAAK+jI,WAAa/jI,KAAK2jI,WAAa3jI,KAAKwrI,SAEnB,IAAjBQ,IACLhsI,KAAK+jI,WAAagI,EAClB/rI,KAAK2jI,WAAa3jI,KAAK+jI,WAAa/jI,KAAKwrI,SAE7CxrI,KAAK0iI,WAAa1iI,KAAK8oI,oBAAoB9oI,KAAK2jI,YAChD3jI,KAAK2iI,WAAa3iI,KAAK8oI,oBAAoB9oI,KAAK+jI,aAEpDjF,EAAOtjI,UAAUiwI,iBAAmB,SAAUlvI,GACvB,cAAfA,EAAMxC,MACNwC,EAAMirB,gBAEV,IAAI9Q,EACJ1W,MAAK67H,SAASj3H,MAAMq6H,WAAa,OACjCj/H,KAAK0hI,YAAY98H,MAAMq6H,WAAa,OACpCj/H,KAAK2hI,aAAa/8H,MAAMq6H,WAAa,MACrC,IAAImM,GACAC,CAOJ,IANmB,cAAf9uI,EAAMxC,MAC+BqxI,GAArCpoI,GAAMzG,EAAMoqD,QAASpqD,EAAMqqD,UAAwB,GAAIykF,EAAWroI,EAAG,KAGIooI,GAAzE/mI,GAAM9H,EAAMolD,eAAe,GAAGgF,QAASpqD,EAAMolD,eAAe,GAAGiF,UAAwB,GAAIykF,EAAWhnI,EAAG,MAEvGrE,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO8L,kBAAuBtqI,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO+L,gBAAiB,CAiBhH,GAZI7zH,EAJC1W,KAAKuP,WAIEzB,EAAGs9H,EAAWprI,KAAKurI,iBAAkBx9H,EAAGs9H,EAAWrrI,KAAKurI,mBAHxDz9H,EAAGs9H,EAAWprI,KAAKsrI,gBAAiBv9H,EAAGs9H,EAAWrrI,KAAKurI,kBAKnEvrI,KAAK0iI,WAAa1iI,KAAKwqI,aAAa9zH,GACpC1W,KAAK2jI,WAAa3jI,KAAK+qI,gBAAgB/qI,KAAK0iI,YAKxChsH,EAJC1W,KAAKuP,WAIEzB,EAAGs9H,EAAWprI,KAAKsrI,gBAAiBv9H,EAAGs9H,EAAWrrI,KAAKsrI,kBAHvDx9H,EAAGs9H,EAAWprI,KAAKurI,iBAAkBx9H,EAAGs9H,EAAWrrI,KAAKsrI,iBAKpEtrI,KAAK2iI,WAAa3iI,KAAKwqI,aAAa9zH,GACpC1W,KAAK+jI,WAAa/jI,KAAK+qI,gBAAgB/qI,KAAK2iI,YACxC3iI,KAAKw+H,OAAOv3G,QAAS,CACrB,GAAIjqB,GAAQgD,KAAKqoI,yBAAyBroI,KAAK2jI,WAAY3jI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,OAC7FvoI,MAAK2jI,WAAa3mI,EAAM,GACxBgD,KAAK0iI,WAAa1lI,EAAM,GACpBgD,KAAK2jI,aAAe3jI,KAAKw+H,OAAO+J,QAChCvoI,KAAK6rI,kBAAkB7rI,KAAK2jI,WAAY3jI,KAAKw+H,OAAO+J,OAAQ,GAE5DvoI,KAAK2jI,aAAe3jI,KAAKw+H,OAAO8J,UAChCtoI,KAAK6rI,kBAAkB7rI,KAAK2jI,WAAY3jI,KAAKw+H,OAAO8J,SAAU,GAElEtrI,EAAQgD,KAAKqoI,yBAAyBroI,KAAK+jI,WAAY/jI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,QACzFzoI,KAAK+jI,WAAa/mI,EAAM,GACxBgD,KAAK2iI,WAAa3lI,EAAM,GACpBgD,KAAK+jI,aAAe/jI,KAAKw+H,OAAOgK,UAChCxoI,KAAK6rI,kBAAkB7rI,KAAK+jI,WAAY/jI,KAAKw+H,OAAOgK,SAAU,GAE9DxoI,KAAK+jI,aAAe/jI,KAAKw+H,OAAOiK,QAChCzoI,KAAK6rI,kBAAkB7rI,KAAK+jI,WAAY/jI,KAAKw+H,OAAOiK,OAAQ,GAGhEzoI,KAAK+jI,aAAe/jI,KAAKqN,KACzBrN,KAAK6rI,kBAAkB7rI,KAAK+jI,WAAY/jI,KAAKqN,IAAK,GAElDrN,KAAK2jI,aAAe3jI,KAAKoiB,KACzBpiB,KAAK6rI,kBAAkB7rI,KAAK2jI,WAAY3jI,KAAKoiB,IAAK,GAG1DpiB,KAAKyiI,aAAe,EACpBziI,KAAK2pI,oBACD3pI,KAAK+jG,QAAQp/F,YACT3E,KAAKwgI,WACJxgI,KAAKqgI,oBAAoB7nI,UAAUC,SAAS4vG,GAAW00B,qBACpD/8H,KAAKgmI,uBADsEhmI,KAAKijI,sBAInFjjI,KAAKqgI,oBAA2CrgI,KAAKgmI,uBAA1BhmI,KAAK2lI,eAGzC3lI,KAAKyiI,aAAe,EACpBziI,KAAK2pI,oBACD3pI,KAAK+jG,QAAQp/F,YACT3E,KAAKwgI,WACJxgI,KAAKsgI,qBAAqB9nI,UAAUC,SAAS4vG,GAAW00B,qBACrD/8H,KAAKgmI,uBADuEhmI,KAAKijI,sBAIpFjjI,KAAKsgI,qBAA4CtgI,KAAKgmI,uBAA1BhmI,KAAK2lI,eAG1C3lI,KAAK4oI,aACL,IAAI5lI,GAAIqB,GAEZy6H,EAAOtjI,UAAUowI,YAAc,WAC3B5rI,KAAKsmI,YAAY,WACjBtmI,KAAKojI,iBACLpjI,KAAK0hI,YAAYlpI,UAAUkM,OAAO2jG,GAAW61B,oBAC3B,UAAdl+H,KAAKjG,MACLiG,KAAK2hI,aAAanpI,UAAUkM,OAAO2jG,GAAW61B,oBAE9Cl+H,KAAK+jG,QAAQp/F,YACe,WAAxB3E,KAAK+jG,QAAQw8B,QACbvgI,KAAKmjI,eAEJnjI,KAAKwgI,cACiC,IAAtBxgI,KAAKyiI,aAAqBziI,KAAK8iI,gBAAkB9iI,KAAK+iI,kBAC5DlpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,WAGxEjsG,KAAKwgI,aACLxgI,KAAK4iI,YAAYpqI,UAAUkM,OAAO,sBAC9B1E,KAAK+jG,QAAQp/F,YAC8B,IAAtB3E,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,sBAChE9nI,UAAUkM,OAAO2jG,GAAW20B,wBAGnDv3H,GAAaf,OAAO3J,SAAU,sBAAuBiF,KAAK2rI,eAC1DlmI,GAAaf,OAAO3J,SAAU,mBAAoBiF,KAAK4rI,cAE3D9M,EAAOtjI,UAAUmwI,cAAgB,SAAUnqF,GACtB,cAAbA,EAAIznD,MACJynD,EAAIh6B,gBAER,IAAI9Q,EAEAA,GADa,cAAb8qC,EAAIznD,MACI+T,EAAG0zC,EAAImF,QAAS54C,EAAGyzC,EAAIoF,UAGvB94C,EAAG0zC,EAAIG,eAAe,GAAGgF,QAAS54C,EAAGyzC,EAAIG,eAAe,GAAGiF,QAEvE,IAAIqkF,GAAYjrI,KAAKwqI,aAAa9zH,GAC9Bw0H,EAAYlrI,KAAK+qI,gBAAgBE,EAErC,IADAA,EAAY79H,KAAKgoG,MAAM61B,GACL,UAAdjrI,KAAKjG,MAA0C,IAAtBiG,KAAKyiI,aAAoB,CAClD,IAAMziI,KAAKw+H,OAAOv3G,UAAWjnB,KAAKw+H,OAAO8L,iBAAmB,CACxD,GAAItqI,KAAKw+H,OAAOv3G,QAAS,CACrB,GAAIglH,GAAkBjsI,KAAKqoI,yBAAyB6C,EAAWlrI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,OACjG0C,GAAYgB,EAAgB,GAC5Bf,EAAYe,EAAgB,GAEhCjsI,KAAK0iI,WAAauI,EAClBjrI,KAAK2jI,WAAauH,EAEtBlrI,KAAK0hI,YAAYlpI,UAAU+L,IAAI8jG,GAAW61B,oBAE9C,GAAkB,UAAdl+H,KAAKjG,KACL,GAA0B,IAAtBiG,KAAKyiI,aACLziI,KAAK0hI,YAAYlpI,UAAU+L,IAAI8jG,GAAW61B,oBACpCl+H,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO8L,mBACjCW,EAAYjrI,KAAK2iI,aACjBsI,EAAYjrI,KAAK2iI,WACjBuI,EAAYlrI,KAAK+jI,YAEjBkH,IAAcjrI,KAAK0pI,gBACf1pI,KAAKw+H,OAAOv3G,UAEZikH,GADIluI,EAAQgD,KAAKqoI,yBAAyB6C,EAAWlrI,KAAKw+H,OAAO8J,SAAUtoI,KAAKw+H,OAAO+J,SACrE,GAClB0C,EAAYjuI,EAAM,IAEtBgD,KAAK0iI,WAAa1iI,KAAK0pI,cAAgBuB,EACvCjrI,KAAK2jI,WAAauH,EAClBlrI,KAAKyiI,aAAe,QAI3B,IAA0B,IAAtBziI,KAAKyiI,eACVziI,KAAK2hI,aAAanpI,UAAU+L,IAAI8jG,GAAW61B,sBACrCl+H,KAAKw+H,OAAOv3G,SAAWjnB,KAAKw+H,OAAO+L,iBACjCU,EAAYjrI,KAAK0iI,aACjBuI,EAAYjrI,KAAK0iI,WACjBwI,EAAYlrI,KAAK2jI,YAEjBsH,IAAcjrI,KAAKkqI,iBAAe,CAClC,GAAIlqI,KAAKw+H,OAAOv3G,QAAS,CACrB,GAAIjqB,GAAQgD,KAAKqoI,yBAAyB6C,EAAWlrI,KAAKw+H,OAAOgK,SAAUxoI,KAAKw+H,OAAOiK,OACvFyC,GAAYluI,EAAM,GAClBiuI,EAAYjuI,EAAM,GAEtBgD,KAAK2iI,WAAa3iI,KAAKkqI,cAAgBe,EACvCjrI,KAAK+jI,WAAamH,EAClBlrI,KAAKyiI,aAAe,EAKpC,GAAKziI,KAAKmrI,mBAAmBD,GAA7B,CAGAlrI,KAAK4iI,YAAYh+H,MAAMq6H,WAAaj/H,KAAKm/H,eACvB,YAAdn/H,KAAKjG,OACLiG,KAAK67H,SAASj3H,MAAMq6H,WAAa,QAErCj/H,KAAK2pI,qBACD3pI,KAAKwgI,YAAexgI,KAAK+jG,QAAQp/F,WAChC3E,KAAK4iI,YAAYpqI,UAAUC,SAAS4vG,GAAWm1B,kBAChDx9H,KAAKomI,gBAET,IAAIhG,GAAuC,IAAtBpgI,KAAKyiI,aAAqBziI,KAAKqgI,oBAAsBrgI,KAAKsgI,oBAC3EtgI,MAAK+jG,QAAQp/F,YACT3E,KAAKwgI,WACJJ,EAAe5nI,UAAUC,SAAS4vG,GAAW00B,qBAC1C/8H,KAAKgmI,uBAD4DhmI,KAAKijI,sBAIzE7C,EAAsCpgI,KAAKgmI,uBAA1BhmI,KAAK2lI,eAGb,YAAd3lI,KAAKjG,MACLiG,KAAK4oI,gBAGb9J,EAAOtjI,UAAUkwI,eAAiB,SAAUnvI,GACxCyD,KAAKsmI,YAAY,WACbtmI,KAAK+jG,QAAQp/F,YACe,WAAxB3E,KAAK+jG,QAAQw8B,QAAwBvgI,KAAKwgI,aAC1CxgI,KAAKyiI,aAAe,EACpBziI,KAAK8iI,gBAAgBjpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAAWx/F,SAAU,MACnGzM,KAAKmjI,eACLnjI,KAAKyiI,aAAe,EACpBziI,KAAK+iI,iBAAiBlpG,WAAc/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAAWx/F,SAAU,MACpGzM,KAAKmjI,iBAGb19H,GAAaf,OAAO3J,SAAU,sBAAuBiF,KAAKyrI,kBAC1DhmI,GAAaf,OAAO3J,SAAU,mBAAoBiF,KAAK0rI,iBAE3D5M,EAAOtjI,UAAU2vI,mBAAqB,SAAU7B,GAC5C,GAAkB,UAAdtpI,KAAKjG,MAIL,GAAIuvI,KAHctpI,KAAKuP,WAAkC,aAArBvP,KAAKwhI,YAAoD,IAAtBxhI,KAAKyiI,aACxEziI,KAAKihI,YAAY,GAAKjhI,KAAKihI,YAAY,GAChB,IAAtBjhI,KAAKyiI,aAAqBziI,KAAKihI,YAAY,GAAKjhI,KAAKihI,YAAY,IAElE,MAAO,OAIX,IAAIqI,IAAiBtpI,KAAKihI,YACtB,MAAO,EAGf,OAAO,IAEXnC,EAAOtjI,UAAUwnI,eAAiB,WAC1BhjI,KAAK+jG,QAAQp/F,WAAa3E,KAAK8iI,kBAC/B9iI,KAAKqjI,eACLrjI,KAAK8iI,gBAAgBpkF,QAAQ1+C,KAAK0hI,aAChB,UAAd1hI,KAAKjG,MACLiG,KAAK+iI,iBAAiBrkF,QAAQ1+C,KAAK2hI,gBAI/C7C,EAAOtjI,UAAUmqI,YAAc,WACvB3lI,KAAK+jG,QAAQp/F,WAAa3E,KAAK8iI,kBAC/B9iI,KAAKqjI,eACDrjI,KAAKwgI,WACLxgI,KAAKijI,sBAGqB,IAAtBjjI,KAAKyiI,aACLziI,KAAK8iI,gBAAgBhhI,KAAK9B,KAAK0hI,aAG/B1hI,KAAK+iI,iBAAiBjhI,KAAK9B,KAAK2hI,gBAKhD7C,EAAOtjI,UAAUioH,QAAU,SAAUlnH,GACjC,OAAQA,EAAM7E,SACV,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACD6E,EAAMirB,iBACNxnB,KAAKkmI,YAAY3pI,GACbyD,KAAK+jG,QAAQp/F,WAAqC,WAAxB3E,KAAK+jG,QAAQw8B,SAAwBvgI,KAAKwgI,YACpExgI,KAAKmjI,iBAKrBrE,EAAOtjI,UAAU0wI,cAAgB,SAAUr4H,GAClCA,GAWDpO,GAAaf,OAAO1E,KAAKqlI,SAAU,wBAAyBrlI,KAAKylI,gBACjEhgI,GAAaf,OAAO1E,KAAKslI,UAAW,wBAAyBtlI,KAAKylI,gBAClEhgI,GAAaf,OAAO1E,KAAKqlI,SAAU,uBAAwBrlI,KAAKimI,oBAChExgI,GAAaf,OAAO1E,KAAKqlI,SAAU,sCAAuCrlI,KAAKqmI,iBAC/E5gI,GAAaf,OAAO1E,KAAKslI,UAAW,uBAAwBtlI,KAAKimI,oBACjExgI,GAAaf,OAAO1E,KAAKslI,UAAW,sCAAuCtlI,KAAKqmI,iBAChF5gI,GAAaf,OAAO1E,KAAKqlI,SAAU,WAAYrlI,KAAKmsI,gBACpD1mI,GAAaf,OAAO1E,KAAKslI,UAAW,WAAYtlI,KAAKmsI,kBAjBrD1mI,GAAalB,IAAIvE,KAAKqlI,SAAU,wBAAyBrlI,KAAKylI,eAAgBzlI,MAC9EyF,GAAalB,IAAIvE,KAAKslI,UAAW,wBAAyBtlI,KAAKylI,eAAgBzlI,MAC/EyF,GAAalB,IAAIvE,KAAKqlI,SAAU,uBAAwBrlI,KAAKimI,mBAAoBjmI,MACjFyF,GAAalB,IAAIvE,KAAKqlI,SAAU,sCAAuCrlI,KAAKqmI,gBAAiBrmI,MAC7FyF,GAAalB,IAAIvE,KAAKslI,UAAW,uBAAwBtlI,KAAKimI,mBAAoBjmI,MAClFyF,GAAalB,IAAIvE,KAAKslI,UAAW,sCAAuCtlI,KAAKqmI,gBAAiBrmI,MAC9FyF,GAAalB,IAAIvE,KAAKqlI,SAAU,WAAYrlI,KAAKmsI,eAAgBnsI,MACjEyF,GAAalB,IAAIvE,KAAKslI,UAAW,WAAYtlI,KAAKmsI,eAAgBnsI,QAa1E8+H,EAAOtjI,UAAU+qB,WAAa,WAC1BvmB,KAAKosI,SAAWpsI,KAAKqqI,SAAS5uI,KAAKuE,MACnChE,OAAOU,iBAAiB,SAAUsD,KAAKosI,UACnCpsI,KAAKinB,UAAYjnB,KAAK2xH,WACtBlsH,GAAalB,IAAIvE,KAAKnG,QAAS,uBAAwBmG,KAAKykI,WAAYzkI,MACxEyF,GAAalB,IAAIvE,KAAKy8H,gBAAiB,UAAWz8H,KAAKyjH,QAASzjH,MAChEyF,GAAalB,IAAIvE,KAAKy8H,gBAAiB,QAASz8H,KAAKqsI,MAAOrsI,MAC5DyF,GAAalB,IAAIvE,KAAKnG,QAAS,WAAYmG,KAAKmsI,eAAgBnsI,MAChEyF,GAAalB,IAAIvE,KAAKy8H,gBAAiB,yCAA0Cz8H,KAAKuoG,MAAOvoG,MAC7FA,KAAKkiI,oBAAmB,GACN,UAAdliI,KAAKjG,MACLiG,KAAKuiI,qBAAoB,GAEzBviI,KAAK8gI,aACL9gI,KAAKksI,eAAc,GAEvBlsI,KAAKwkI,0BAAyB,KAGtC1F,EAAOtjI,UAAU2rB,aAAe,WAC5B1hB,GAAaf,OAAO1E,KAAKnG,QAAS,uBAAwBmG,KAAKykI,YAC/Dh/H,GAAaf,OAAO1E,KAAKy8H,gBAAiB,UAAWz8H,KAAKyjH,SAC1Dh+G,GAAaf,OAAO1E,KAAKy8H,gBAAiB,QAASz8H,KAAKqsI,OACxD5mI,GAAaf,OAAO1E,KAAKnG,QAAS,WAAYmG,KAAKmsI,gBACnD1mI,GAAaf,OAAO1E,KAAKy8H,gBAAiB,yCAA0Cz8H,KAAKuoG,OACzFvoG,KAAKkiI,oBAAmB,GACN,UAAdliI,KAAKjG,MACLiG,KAAKuiI,qBAAoB,GAEzBviI,KAAK8gI,aACL9gI,KAAKksI,eAAc,GAEvBlsI,KAAKwkI,0BAAyB,IAElC1F,EAAOtjI,UAAU6wI,MAAQ,SAAU9vI,GAC/B,GAAsB,IAAlBA,EAAM7E,SAAiB6E,EAAMsM,OAAOrQ,UAAUC,SAAS4vG,GAAWuzB,gBAClE57H,KAAK0oI,sBACAnsI,EAAMsM,OAAOrQ,UAAUC,SAAS4vG,GAAWm1B,kBAAkB,CAC1Dx9H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWm1B,kBAC5Cx9H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWm1B,iBAAiBhlI,UAAUkM,OAAO2jG,GAAWm1B,iBAE7FjhI,EAAMsM,OAAOrQ,UAAU+L,IAAI8jG,GAAWm1B,gBACtC,IAAIxnH,GAAgBzZ,EAAMsM,OAAOmN,aAC7BA,KAAkBhW,KAAKnG,UACvBmc,EAAclT,cAAc,IAAMulG,GAAW60B,aAAa1kI,UAAU+L,IAAI8jG,GAAW21B,gBACjE,UAAdh+H,KAAKjG,MAAkC,aAAdiG,KAAKjG,MAC9Bic,EAAclT,cAAc,IAAMulG,GAAWwzB,UAAUrjI,UAAU+L,IAAI8jG,GAAW41B,iBAGtE,UAAdj+H,KAAKjG,OACJwC,EAAMsM,uBAAwBrQ,UAAUC,SAAS4vG,GAAWuzB,cACzD57H,KAAKyiI,aAAe,EAAIziI,KAAKyiI,aAAe,GAEpDziI,KAAK4iI,YAAYvgI,QACjBrC,KAAKkjI,mBACDljI,KAAK+jG,QAAQp/F,WAAqC,WAAxB3E,KAAK+jG,QAAQw8B,SAAwBvgI,KAAKwgI,YACpExgI,KAAKmjI,eAIjBnjI,KAAKsmI,YAAY,YAErBxH,EAAOtjI,UAAU+sG,MAAQ,SAAUhsG,GAC1BkB,EAAkBlB,KACA,cAAfA,EAAMxC,MAAuC,cAAfwC,EAAMxC,MAAuC,cAAfwC,EAAMxC,MACnD,gBAAfwC,EAAMxC,MAAyC,eAAfwC,EAAMxC,KACtCiG,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWg0B,aAG9Cr8H,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAWg0B,eAI7DyC,EAAOtjI,UAAU2wI,eAAiB,SAAU5vI,GACxC,GAAIwD,GAAQC,IACZ,IAAIzD,EAAM+vI,gBAAkBtsI,KAAK2hI,cAAgBplI,EAAM+vI,gBAAkBtsI,KAAK0hI,aAC1EnlI,EAAM+vI,gBAAkBtsI,KAAKnG,SAAW0C,EAAM+vI,gBAAkBtsI,KAAKqlI,UAAY9oI,EAAM+vI,gBAAkBtsI,KAAKslI,UAAW,CACzH,GAAItlI,KAAKwgI,YAAcxgI,KAAK+jG,QAAQp/F,UAAW,CAC3C,GAAI4nI,GAAwBvsI,KAAKikI,8BAA8BjkI,KAAKkkI,sBAChE9D,EAA+B,UAAdpgI,KAAKjG,MAAoBiG,KAAKqgI,sBAC9CrgI,KAAKqgI,oBAAqBrgI,KAAKsgI,sBAChCkM,EAA+B,UAAdxsI,KAAKjG,MAAoBiG,KAAK0hI,cAAgB1hI,KAAK0hI,YAAa1hI,KAAK2hI,cACtF8K,EAAyB,UAAdzsI,KAAKjG,MAAoBiG,KAAKiiI,sBACxCjiI,KAAKiiI,oBAAqBjiI,KAAK+hI,qBACpC3B,GAAehhI,QAAQ,SAAUghI,EAAgBloI,GACzCkoI,IACAA,EAAex7H,MAAMq6H,WAAal/H,EAAMo/H,eACxCiB,EAAehhH,WAAW5mB,UAAUkM,OAAO2jG,GAAWi2B,qBACtD8B,EAAehhH,WAAW5mB,UAAU+L,IAAI8jG,GAAWk2B,qBACnDiO,EAAet0I,GAAO0M,MAAM+/H,OAAS,eACrC6H,EAAet0I,GAAO0M,MAAM+/H,OAAS,OACrC8H,EAASv0I,GAAO0M,MAAMuJ,UAAY,WAClCiyH,EAAe5nI,UAAUkM,OAAO2jG,GAAW00B,qBACvCqD,EAAe/6H,kBAAkBvM,UAAUP,OAAS,EACpD6nI,EAAex7H,MAAMuJ,UAAYo+H,EAAsBvuG,UAAY,eAGnEoiG,EAAex7H,MAAMuJ,UAAYo+H,EAAsBvuG,UAAY,IAC/DuuG,EAAsBxpH,OAAS,eAEvC9qB,WAAW,WAAcmoI,EAAex7H,MAAMq6H,WAAa,QAAW,SAI9Ej/H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWm1B,kBAC5Cx9H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAWm1B,iBAAiBhlI,UAAUkM,OAAO2jG,GAAWm1B,iBAEzFx9H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAW21B,kBAC5Ch+H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAW21B,gBAAgBxlI,UAAUkM,OAAO2jG,GAAW21B,gBACrE,UAAdh+H,KAAKjG,MAAkC,aAAdiG,KAAKjG,OAC/BiG,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAW41B,iBAC5Cj+H,KAAKnG,QAAQiJ,cAAc,IAAMulG,GAAW41B,gBAAgBzlI,UAAUkM,OAAO2jG,GAAW41B,iBAGhGj+H,KAAK21H,YAAYtzH,QACjBrC,KAAK21H,YAAYsF,OACjBj7H,KAAKq/H,kBAAmB,IAGhCP,EAAOtjI,UAAU2nI,aAAe,WACxBnjI,KAAK+jG,QAAQp/F,YACb3E,KAAKqjI,eACqB,IAAtBrjI,KAAKyiI,aACLziI,KAAK8iI,gBAAgB1gI,QAGrBpC,KAAK+iI,iBAAiB3gI,UAIlC08H,EAAOtjI,UAAUqyG,cAAgB,SAAUh0G,GACnCA,EAAQiB,YACRjB,EAAQiB,WAAW0K,YAAY3L,IAGvCilI,EAAOtjI,UAAUkxI,iBAAmB,SAAU3yI,GACtCiG,KAAKwgI,YAAcxgI,KAAKiiI,sBACxBjiI,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAW40B,gBACjDj9H,KAAK6tG,cAAc7tG,KAAKiiI,qBACxBjiI,KAAKqgI,wBAAsBjnI,GAC3B4G,KAAK6kI,+BAA6BzrI,GAC9B4G,KAAK+hI,uBACL/hI,KAAK6tG,cAAc7tG,KAAK+hI,sBACxB/hI,KAAKsgI,yBAAuBlnI,GAC5B4G,KAAK8kI,gCAA8B1rI,KAGvC4G,KAAK+jG,QAAQp/F,WAAa3E,KAAKwgI,YAC/BxgI,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAW40B,gBAElDj9H,KAAK6tG,cAAc7tG,KAAK0hI,aACX,YAAT3nI,IACa,UAATA,GACAiG,KAAK6tG,cAAc7tG,KAAK2hI,cAE5B3hI,KAAK6tG,cAAc7tG,KAAK67H,WAExB77H,KAAK+jG,QAAQp/F,YAAclH,EAAkBuC,KAAK8iI,mBAClD9iI,KAAK8iI,gBAAgBjvH,UACR,UAAT9Z,GAAqB0D,EAAkBuC,KAAK+iI,mBAC5C/iI,KAAK+iI,iBAAiBlvH,YAG1B7T,KAAKw+H,OAAOv3G,SAAoB,aAATltB,GAAgC,YAATA,KACzC0D,EAAkBuC,KAAK0+H,gBACxB1+H,KAAK6tG,cAAc7tG,KAAK0+H,gBAGnB,UAAT3kI,GACIiG,KAAKw+H,OAAOv3G,UACPxpB,EAAkBuC,KAAK0+H,gBAAmBjhI,EAAkBuC,KAAK2+H,kBAClE3+H,KAAK6tG,cAAc7tG,KAAK0+H,eACxB1+H,KAAK6tG,cAAc7tG,KAAK2+H,kBAIpC3+H,KAAK2gI,iBACD3gI,KAAKw+H,OAAOv3G,SACZjnB,KAAK4gI,iBAET5gI,KAAK0gI,aACL1gI,KAAK6gI,iBACL7gI,KAAKkiI,oBAAmB,GACN,UAAdliI,KAAKjG,MACLiG,KAAKuiI,qBAAoB,GAE7BviI,KAAK5C,WACD4C,KAAK+jG,QAAQp/F,YACb3E,KAAKuhI,gBACLvhI,KAAKwkI,0BAAyB,IAElCxkI,KAAK2sI,gBAET7N,EAAOtjI,UAAUoxI,UAAY,WAWzB,GAVK5sI,KAAKuP,WAA2B,UAAdvP,KAAKjG,OACxBiG,KAAKhD,OAASgD,KAAK+jI,WAAY/jI,KAAK2jI,aAExC3jI,KAAK2sI,eACD3sI,KAAK+jG,QAAQp/F,YACb3E,KAAK8iI,gBAAgBpkF,QAAQ1+C,KAAK0hI,aAChB,UAAd1hI,KAAKjG,MACLiG,KAAK+iI,iBAAiBrkF,QAAQ1+C,KAAK2hI,eAGvC3hI,KAAK8gI,YAAa,CAClB,GAAI0E,GAAaxlI,KAAKuP,WAAkC,aAArBvP,KAAKwhI,WACxCz9H,GAAWyhI,EAAaxlI,KAAKslI,UAAYtlI,KAAKqlI,UAAYvP,aAAc,WAAYpoE,MAAO,aAC3F3pD,EAAWyhI,EAAaxlI,KAAKqlI,SAAWrlI,KAAKslI,WAAaxP,aAAc,WAAYpoE,MAAO,eAGnGoxE,EAAOtjI,UAAUqxI,kBAAoB,WACjC7sI,KAAK0sI,iBAAiB1sI,KAAKjG,OAE/B+kI,EAAOtjI,UAAUmxI,aAAe,WAC5B3sI,KAAKiqG,eACLjqG,KAAK5C,WACD4C,KAAK+jG,QAAQp/F,WACb3E,KAAKgjI,iBAEoB,SAAzBhjI,KAAK0/H,MAAM2B,WACPrhI,KAAK8hG,KACL9hG,KAAK6tG,cAAc7tG,KAAK8hG,IACxB9hG,KAAKshI,eAGbthI,KAAK8sI,wBAEThO,EAAOtjI,UAAUsxI,qBAAuB,WAChC9sI,KAAKw+H,OAAOv3G,SACRxpB,EAAkBuC,KAAK0+H,gBAAgC,UAAd1+H,KAAKjG,MAC9CiG,KAAK4gI,iBAELnjI,EAAkBuC,KAAK0+H,gBAAkBjhI,EAAkBuC,KAAK2+H,iBAAiC,UAAd3+H,KAAKjG,MACxFiG,KAAK4gI,iBAET5gI,KAAKohI,cACLphI,KAAK5C,aAGAK,EAAkBuC,KAAK0+H,gBACxBn5H,EAAOvF,KAAK0+H,eAEXjhI,EAAkBuC,KAAK2+H,iBACxBp5H,EAAOvF,KAAK2+H,kBAQxBG,EAAOtjI,UAAU6jD,eAAiB,WAC9B,GAAIk7E,IAAa,QACjB,OAAOv6H,MAAK8/C,aAAay6E,IAQ7BuE,EAAOtjI,UAAUqY,QAAU,WACvBklB,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,MAC9BA,KAAKmnB,eACLnrB,OAAOY,oBAAoB,SAAUoD,KAAKosI,UAC1C5nI,GAAaxE,KAAKy8H,kBAAmBp0B,GAAWm0B,iBAChDx8H,KAAK0hI,YAAYp1H,gBAAgB,oBACf,UAAdtM,KAAKjG,MACLiG,KAAK2hI,aAAar1H,gBAAgB,oBAEtCtM,KAAKy8H,gBAAgB3hI,WAAWsK,aAAapF,KAAKnG,QAASmG,KAAKy8H,iBAChEl3H,EAAOvF,KAAKy8H,iBACRz8H,KAAK+jG,QAAQp/F,YACb3E,KAAK8iI,gBAAgBjvH,UACH,UAAd7T,KAAKjG,MAAqB0D,EAAkBuC,KAAK+iI,mBACjD/iI,KAAK+iI,iBAAiBlvH,WAG9B7T,KAAKnG,QAAQW,UAAY,IAM7BskI,EAAOtjI,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAEpD,IAAK,GADDj7B,GAAQC,KACH3B,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,WACD2B,KAAK8pG,YAAY9uE,EAAQzmB,SACzB,MACJ,KAAK,QACD,GAAIvX,GAAQS,EAAkBs9B,EAAQ/9B,OACnB,UAAdgD,KAAKjG,MAAoBiG,KAAKoiB,IAAKpiB,KAAKqN,KAAOrN,KAAKoiB,IAAO2Y,EAAQ/9B,KACxEgD,MAAK2H,eAAgB3K,MAASA,IAAS,GACnCg+B,EAAQh+B,MAAM2D,aAAe3D,EAAM2D,aACnCX,KAAK5C,WACL4C,KAAKgjI,iBACa,UAAdhjI,KAAKjG,OACD0D,EAAkBs9B,EAAQ/9B,QAAUg+B,EAAQh+B,MAAM,KAAOA,EAAM,GAC/DgD,KAAKyiI,aAAe,EAGpBziI,KAAKyiI,aAAe,GAIhC,MACJ,KAAK,MACL,IAAK,OACL,IAAK,MACDziI,KAAK+sI,gBACL,MACJ,KAAK,UACItvI,EAAkBs9B,EAAQgpE,UAAatmG,EAAkBu9B,EAAQ+oE,UAClE/jG,KAAKgtI,YAET,MACJ,KAAK,OACDhtI,KAAK0sI,iBAAiB1xG,EAAQjhC,MAC9BiG,KAAKmgI,WACL,MACJ,KAAK,YACGnlG,EAAQzrB,YAAcwrB,EAAQxrB,WAAkC,aAArBvP,KAAKwhI,cAChDxhI,KAAK45G,IAAM5+E,EAAQzrB,UACnBvP,KAAK4sI,YAET,MACJ,KAAK,SACD5sI,KAAK8sI,sBACL,MACJ,KAAK,cACD9sI,KAAK6sI,mBACL,MACJ,KAAK,QACIpvI,EAAkBuC,KAAKy8H,gBAAgB35H,cAAc,IAAMulG,GAAWvoE,UACvEv6B,EAAOvF,KAAK8hG,IACZrjG,MAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKy8H,gBAAgBjkI,UAAW,SAAUkL,GAC/DA,EAAUwN,MAAM,aAChBnR,EAAM08H,gBAAgBjkI,UAAUkM,OAAOhB,MAItB,SAAzB1D,KAAK0/H,MAAM2B,YACXrhI,KAAKshI,cACLthI,KAAKmgI,YAET,MACJ,KAAK,SACGngI,KAAK8gI,aACL9gI,KAAKulI,aAET,MACJ,KAAK,cACGxqG,EAAQ+lG,aACR9gI,KAAK+gI,aACL/gI,KAAKqqI,WACDrqI,KAAKinB,UAAYjnB,KAAK2xH,UACtB3xH,KAAKksI,eAAc,IAInBlsI,KAAKqlI,UAAYrlI,KAAKslI,YACtBtlI,KAAKy8H,gBAAgBj3H,YAAYxF,KAAKqlI,UACtCrlI,KAAKy8H,gBAAgBj3H,YAAYxF,KAAKslI,WACtCtlI,KAAKqlI,aAAWjsI,GAChB4G,KAAKslI,cAAYlsI,GAGzB,MACJ,KAAK,UACD4G,KAAKi8G,YACL,MACJ,KAAK,WACDj8G,KAAKitI,aACL,MACJ,KAAK,cACDjtI,KAAK5C,WACL4C,KAAKqqI,aAKrBvL,EAAOtjI,UAAUyxI,YAAc,WACvBjtI,KAAK2xH,UACL3xH,KAAKmnB,eACLnnB,KAAKy8H,gBAAgBjkI,UAAU+L,IAAI8jG,GAAWspB,YAG9C3xH,KAAKumB,aACLvmB,KAAKy8H,gBAAgBjkI,UAAUkM,OAAO2jG,GAAWspB,YAGzDmN,EAAOtjI,UAAUuxI,eAAiB,WAC9B,GAAIhtI,GAAQC,IACZA,MAAK5C,WACL4C,KAAKgjI,iBACAvlI,EAAkBuC,KAAKy8H,gBAAgB35H,cAAc,IAAMulG,GAAWvoE,SACnE9/B,KAAK8hG,KACLv8F,EAAOvF,KAAK8hG,IACZrjG,MAAMjD,UAAU4D,QAAQwB,KAAKZ,KAAKy8H,gBAAgBjkI,UAAW,SAAUkL,GAC/DA,EAAUwN,MAAM,aAChBnR,EAAM08H,gBAAgBjkI,UAAUkM,OAAOhB,MAK1B,SAAzB1D,KAAK0/H,MAAM2B,YACXrhI,KAAKshI,cACLthI,KAAKmgI,cAGbrB,EAAOtjI,UAAU2kI,UAAY,WACzBngI,KAAKw9G,OAAS,EACT//G,EAAkBuC,KAAK0/H,QAAmC,SAAzB1/H,KAAK0/H,MAAM2B,YAC7CrhI,KAAK8hG,GAAGl9F,MAAM44G,OAAUx9G,KAAKw9G,QAAU,EAAK,GAC5Cx9G,KAAKnG,QAAQ+K,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,IAE/Cx9G,KAAKwgI,YAAe/iI,EAAkBuC,KAAK0/H,QAAmC,SAAzB1/H,KAAK0/H,MAAM2B,YACjErhI,KAAKnG,QAAQ+K,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,IAEpDx9G,KAAK0hI,YAAY98H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,GAClC,UAAdx9G,KAAKjG,OACLiG,KAAK2hI,aAAa/8H,MAAM44G,OAAUx9G,KAAKw9G,OAAS,EAAK,KAG7DshB,EAAOtjI,UAAUwxI,WAAa,WAC1BhtI,KAAK0sI,iBAAiB1sI,KAAKjG,OAM/B+kI,EAAOtjI,UAAU0L,cAAgB,WAC7B,MAAO,UAEXoxB,IACI1vB,GAAS,OACVk2H,EAAOtjI,UAAW,YAAS,IAC9B88B,IACI1vB,GAAS,OACVk2H,EAAOtjI,UAAW,mBAAgB,IACrC88B,IACI1vB,GAAS,IACVk2H,EAAOtjI,UAAW,WAAQ,IAC7B88B,IACI1vB,GAAS,IACVk2H,EAAOtjI,UAAW,UAAO,IAC5B88B,IACI1vB,GAAS,MACVk2H,EAAOtjI,UAAW,UAAO,IAC5B88B,IACI1vB,IAAS,IACVk2H,EAAOtjI,UAAW,eAAY,IACjC88B,IACI1vB,GAAS,YACVk2H,EAAOtjI,UAAW,WAAQ,IAC7B88B,IACIjvB,MAAYkyH,KACbuD,EAAOtjI,UAAW,YAAS,IAC9B88B,IACIjvB,MAAYmyH,KACbsD,EAAOtjI,UAAW,aAAU,IAC/B88B,IACI1vB,IAAS,IACVk2H,EAAOtjI,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACVk2H,EAAOtjI,UAAW,gBAAa,IAClC88B,IACIjvB,MAAYoyH,KACbqD,EAAOtjI,UAAW,cAAW,IAChC88B,IACI1vB,IAAS,IACVk2H,EAAOtjI,UAAW,kBAAe,IACpC88B,IACI1vB,IAAS,IACVk2H,EAAOtjI,UAAW,sBAAmB,IACxC88B,IACI1vB,GAAS,eACVk2H,EAAOtjI,UAAW,kBAAe,IACpC88B,IACI1vB,GAAS,KACVk2H,EAAOtjI,UAAW,eAAY,IACjC88B,IACI7uB,MACDq1H,EAAOtjI,UAAW,cAAW,IAChC88B,IACI7uB,MACDq1H,EAAOtjI,UAAW,aAAU,IAC/B88B,IACI7uB,MACDq1H,EAAOtjI,UAAW,cAAW,IAChC88B,IACI7uB,MACDq1H,EAAOtjI,UAAW,qBAAkB,IACvC88B,IACI7uB,MACDq1H,EAAOtjI,UAAW,oBAAiB,IACtC88B,IACI7uB,MACDq1H,EAAOtjI,UAAW,oBAAiB,IACtCsjI,EAASxmG,IACLvuB,IACD+0H,IAEL7gF,IF51FEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAQ5Dw0G,GAAiB,GAAI9yI,QAAO,sGAE5B+yI,GAAe,GAAI/yI,QAAO,uDAC1BgzI,GAAoB,GAAIhzI,QAAO,2DAC/BizI,GAAkB,GAAIjzI,QAAO,YAC7BkzI,GAAiB,GAAIlzI,QAAO,qBAC5BmzI,GAAsB,GAAInzI,QAAO,iBAMrC,SAAWu5H,GACPA,EAAYA,EAAqB,QAAI,GAAK,UAC1CA,EAAYA,EAAmB,MAAI,GAAK,SACzCA,KAAgBA,OAgBnB,IAAI6Z,IAA+B,SAAUz0G,GAGzC,QAASy0G,GAAc3zI,EAASya,GAC5B,GAAIvU,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAqCnD,IApCAD,EAAM0tI,aACN1tI,EAAM2tI,cACN3tI,EAAM4tI,aAAc,EACpB5tI,EAAM6tI,SAAW,WACjB7tI,EAAM8tI,YAAc,KACpB9tI,EAAM0uB,aAAe,KACrB1uB,EAAM+tI,YAAc,+DAKpB/tI,EAAMguI,iBACFH,SAAU,0BACVI,MAAO,sCACP/9G,IAAK,4BACLsiE,KAAM,6BACN07C,QAAS,qCACTC,WAAY,iCACZC,OAAQ,+BACR5oG,OAAQ,4BACR6oG,UAAW,4CACXC,UAAW,wCACXC,YAAa,4DACb9jG,MAAO,4CACPn9B,IAAK,kDACL+U,IAAK,qDACL4iB,MAAO,gCACPupG,IAAK,qCACLl0I,QAAS,wCACTm0I,QAAS,yCAEc,KAAhBzuI,EAAM0uI,QACb1uI,EAAM0uI,UAEV50I,EAA6B,gBAAZA,GAAuB8L,EAAO9L,EAASkB,UAAYlB,EAE/C,MAAjBkG,EAAMlG,QASV,MARIkG,GAAMlG,QAAQgK,aAAa,aAAc,IACzC9D,EAAM2uI,cAAgB5oI,EAAU/F,EAAM+tI,YAAa/tI,EAAMlG,SACzDkG,EAAM4uI,mBACN5uI,EAAMwmB,aAKHxmB,EAsnBX,MAvqBA+3B,IAAU01G,EAAez0G,GAmDzB61G,EAAkBpB,EAOlBA,EAAchyI,UAAUqzI,SAAW,SAAU57G,EAAMw7G,GAC3Cx7G,IACIjzB,KAAKyuI,MAAMnnI,eAAe2rB,GAC1Bt0B,EAAOqB,KAAKyuI,MAAMx7G,GAAOw7G,MAGzBzuI,KAAKyuI,MAAMx7G,GAAQw7G,IAW/BjB,EAAchyI,UAAUszI,YAAc,SAAU77G,EAAMw7G,GAClD,GAAKx7G,GAASw7G,EAGT,GAAIzuI,KAAKyuI,MAAMx7G,KAAUw7G,QACnBzuI,MAAKyuI,MAAMx7G,OAEjB,CAAA,GAAKx1B,EAAkBuC,KAAKyuI,MAAMx7G,IAASw7G,GAM5C,MALA,KAAK,GAAIp2I,GAAI,EAAGA,EAAIo2I,EAAMl2I,OAAQF,UACvB2H,MAAKyuI,MAAMx7G,GAAMw7G,EAAMp2I,QAPlC2H,MAAKyuI,UAoBbjB,EAAchyI,UAAU67D,SAAW,SAAU4iC,GACzC,GAAIw0C,GAAQlwI,OAAOjB,KAAK0C,KAAKyuI,MAC7B,IAAIx0C,GAAYw0C,EAAMl2I,OAGlB,MAFAyH,MAAK+uI,cAAc90C,IAEiB,IAA7Bw0C,EAAMjwI,QAAQy7F,IAEP,IAF2Bj6F,KAAK0tI,WAAWj4G,OAAO,SAAUh5B,GACtE,MAAOA,GAAKw2B,OAASgnE,IACtB1hG,MAGHyH,MAAK0tI,aACL,KAAK,GAAIrvI,GAAK,EAAG2wI,EAAUP,EAAOpwI,EAAK2wI,EAAQz2I,OAAQ8F,IAAM,CACzD,GAAI4wI,GAASD,EAAQ3wI,EACrB2B,MAAK+uI,cAAcE,GAEvB,MAAkC,KAA3BjvI,KAAK0tI,WAAWn1I,QAO/Bi1I,EAAchyI,UAAUurD,MAAQ,WAC5B/mD,KAAKnG,QAAQktD,QACb/mD,KAAKkvI,aAOT1B,EAAchyI,UAAU2zI,gBAAkB,SAAUl8G,GAEhD,MADAjzB,MAAKyuB,aAAgB9oB,EAAO,SAAWstB,EAAO,IAAKjzB,KAAKnG,SACjDmG,KAAKyuB,cAMhB++G,EAAchyI,UAAUqY,QAAU,WAC9B7T,KAAK+mD,QACL/mD,KAAKmnB,eACLnnB,KAAKyuI,QAEL,KAAK,GAAIpwI,GAAK,EAAGq7B,EADF5zB,EAAU,IAAM9F,KAAKovI,WAAa,MAAQpvI,KAAKqvI,WAAYrvI,KAAKnG,SACvCwE,EAAKq7B,EAAWnhC,OAAQ8F,IAC9Cq7B,EAAWr7B,GACjBqG,QAEZq0B,GAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAKlCwtI,EAAchyI,UAAU+5B,kBAAoB,SAAUwF,EAASC,KAO/DwyG,EAAchyI,UAAU0L,cAAgB,WACpC,MAAO,iBAEXsmI,EAAchyI,UAAU0zI,UAAY,WAChClvI,KAAK0tI,cACL1tI,KAAKytI,YAEL,KAAK,GAAIpvI,GAAK,EAAGixI,EADFxpI,EAAU9F,KAAK8tI,YAAa9tI,KAAKnG,SACRwE,EAAKixI,EAAW/2I,OAAQ8F,IAAM,CAClE,GACIgV,GADUi8H,EAAWjxI,EAEzBgV,GAAM/G,gBAAgB,gBACtB+G,EAAM7a,UAAUkM,OAAO1E,KAAKovI,YACxB/7H,EAAM4f,KAAK16B,OAAS,IACpByH,KAAKmvI,gBAAgB97H,EAAM4f,MAC3BjzB,KAAKuvI,gBAAgBl8H,EAAM4f,MAC3BjzB,KAAKwvI,YAAYn8H,EAAM4f,OAE3B5f,EAAM7a,UAAUkM,OAAO1E,KAAKqvI,cAGpC7B,EAAchyI,UAAUmzI,iBAAmB,WAMvC,IAAK,GALDc,IAAY,WAAY,iBAAkB,QAAS,cAAe,YAAa,YAAa,UAAW,SACvG,UAAW,oBAAqB,OAAQ,kBAAmB,MAAO,MAAO,QAAS,UAAW,yBAC7F,yBAA0B,yBAA0B,qBAAsB,yBAA0B,sBACpG,sBAAuB,kBACvBC,GAAiB,SAAU,QAAS,MAAO,OAAQ,SAAU,OACxDrxI,EAAK,EAAG2E,EAAMhD,KAAmB,cAAE3B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAI9D,IAAK,GAHDgV,GAAQrQ,EAAG3E,GAEXsxI,KACKtrI,EAAK,EAAGurI,EAAaH,EAAUprI,EAAKurI,EAAWr3I,OAAQ8L,IAAM,CAClE,GAAIwrI,GAAOD,EAAWvrI,EACtB,IAAiC,OAA7BgP,EAAM5M,aAAaopI,GACnB,OAAQA,GACJ,IAAK,WACD7vI,KAAK8vI,QAAQz8H,EAAOs8H,EAASE,EAAMx8H,EAAMu6H,SACzC,MACJ,KAAK,kBACDiC,EAAOx8H,EAAM5M,aAAaopI,GAC1B7vI,KAAK8vI,QAAQz8H,EAAOs8H,EAASE,GAAM,EACnC,MACJ,KAAK,QAC0C,IAAvCH,EAAclxI,QAAQ6U,EAAMtZ,OAC5BiG,KAAK8vI,QAAQz8H,EAAOs8H,EAASt8H,EAAMtZ,MAAM,EAE7C,MACJ,KAAK,cACL,IAAK,QACDiG,KAAK8vI,QAAQz8H,EAAOs8H,EAASE,EAAM/9G,KAAKC,MAAM1e,EAAM5M,aAAaopI,IACjE,MACJ,KAAK,UACD,GAAIlsI,GAAK0P,EAAM5M,aAAaopI,EAC5B7vI,MAAK8vI,QAAQz8H,EAAOs8H,EAASE,EAAMlsI,EACnC,MACJ,SAC2C,SAAnC0P,EAAM5M,aAAa,YACnBzG,KAAK+vI,eAAe18H,EAAOs8H,EAASE,EAAMx8H,EAAM5M,aAAaopI,IAG7D7vI,KAAK8vI,QAAQz8H,EAAOs8H,EAASE,EAAMx8H,EAAM5M,aAAaopI,KAMtC,IAAhCtxI,OAAOjB,KAAKqyI,GAASp3I,QACrByH,KAAK6uI,SAASx7H,EAAM4f,KAAM08G,KAItCnC,EAAchyI,UAAUu0I,eAAiB,SAAU18H,EAAO28H,EAASC,EAAUjzI,GACzE,GAAI+yI,GAAiBE,EAAS/yI,MAAM,KAChCgzI,GAAa,WAAY,aAAc,QAAS,YAAa,YAAa,QAAS,QAAS,WAC5FC,EAAgBJ,EAAeA,EAAex3I,OAAS,GACvD63I,EAAiBL,EAAeA,EAAex3I,OAAS,EAC5D,KAA0C,IAAtC23I,EAAU1xI,QAAQ2xI,GAClB,OAAQA,GACJ,IAAK,WACDnwI,KAAK8vI,QAAQz8H,EAAO28H,EAAS,WAAYhzI,EACzC,MACJ,KAAK,aACDgD,KAAK8vI,QAAQz8H,EAAO28H,EAAS,aAAchzI,EAC3C,MACJ,KAAK,QACDgD,KAAK8vI,QAAQz8H,EAAO28H,EAAS,MAAOhzI,OAI3C,KAA2C,IAAvCkzI,EAAU1xI,QAAQ4xI,GACvB,OAAQA,GACJ,IAAK,YACDpwI,KAAK8vI,QAAQz8H,EAAO28H,EAAS,YAAahzI,EAC1C,MACJ,KAAK,YACDgD,KAAK8vI,QAAQz8H,EAAO28H,EAAS,YAAahzI,EAC1C,MACJ,KAAK,QACD,GAAIqzI,GAAWh9H,EAAM5M,aAAa,sBAC9B6pI,EAAWj9H,EAAM5M,aAAa,qBAClCzG,MAAK8vI,QAAQz8H,EAAO28H,EAAS,SAAUK,EAAUC,GACjD,MACJ,KAAK,UACD,GAAI3sI,GAAK0P,EAAM5M,aAAawpI,GAAU/yI,MAAM,IAC5C8C,MAAK8vI,QAAQz8H,EAAO28H,EAAS,UAAWrsI,EAAGA,EAAGpL,OAAS,GACvD,MACJ,KAAK,QACDyH,KAAK8vI,QAAQz8H,EAAO28H,EAAS,QAAShzI,KAKtDwwI,EAAchyI,UAAUs0I,QAAU,SAAUz8H,EAAO28H,EAASC,EAAUjzI,GAClE,GAAIkE,GAAUmS,EAAM5M,aAAa,QAAUwpI,EAAW,YAClDM,EAAoBl9H,EAAM5M,aAAa,YAAcwpI,EACrD/uI,GACAlE,GAASA,EAAOkE,GAEXqvI,IACLvzI,GAASA,EAAOuzI,IAEpBP,EAAQC,GAAYjzI,GAGxBwwI,EAAchyI,UAAU+qB,WAAa,WACjC,IAAK,GAAIloB,GAAK,EAAG2E,EAAMhD,KAAmB,cAAE3B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAIgV,GAAQrQ,EAAG3E,EACXuwI,GAAgB4B,YAAYn9H,GAC5B5N,GAAalB,IAAI8O,EAAO,QAASrT,KAAK0/F,aAAc1/F,MAE7B,WAAlBqT,EAAM/P,QACXmC,GAAalB,IAAI8O,EAAO,SAAUrT,KAAKwgG,cAAexgG,OAGtDyF,GAAalB,IAAI8O,EAAO,WAAYrT,KAAK2/F,gBAAiB3/F,MAC1DyF,GAAalB,IAAI8O,EAAO,QAASrT,KAAK62H,aAAc72H,OAG5DyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAKywI,cAAezwI,MAC7DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKunB,aAAcvnB,OAG/DwtI,EAAchyI,UAAU2rB,aAAe,WACnC,IAAK,GAAI9oB,GAAK,EAAG2E,EAAMhD,KAAmB,cAAE3B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAIgV,GAAQrQ,EAAG3E,EACfoH,IAAaC,YAAY2N,GAE7B5N,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAKywI,eACjDhrI,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKunB,eAGpDimH,EAAchyI,UAAUmkG,gBAAkB,SAAUv+F,GAChDpB,KAAKyoB,QAAQ,WAAYrnB,EAEzB,IAAIvH,GAAUuH,EAAEyH,MACZ7I,MAAKyuI,MAAM50I,EAAQo5B,QACfjzB,KAAKyuI,MAAM50I,EAAQo5B,MAAMjzB,KAAK4tI,WAAa/zI,EAAQmD,MAAMzE,OAAS,EAClEyH,KAAKq3D,SAASx9D,EAAQo5B,OAEyB,IAA1CjzB,KAAKytI,UAAUjvI,QAAQ3E,EAAQo5B,OACpCjzB,KAAKytI,UAAUz0I,KAAKa,EAAQo5B,QAKxCu6G,EAAchyI,UAAUq7H,aAAe,SAAUz1H,GAC7CpB,KAAKyoB,QAAQ,QAASrnB,EACtB,IAAIvH,GAAUuH,EAAEyH,OAEZ6nI,GAAe,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,MACpD,IAAZtvI,EAAE2pD,OAAiB/qD,KAAKyuI,MAAM50I,EAAQo5B,SAAUjzB,KAAKyuI,MAAM50I,EAAQo5B,OAAUjzB,KAAKyuI,MAAM50I,EAAQo5B,MAAMjzB,KAAK4tI,cAGjE,IAA1C5tI,KAAKytI,UAAUjvI,QAAQ3E,EAAQo5B,OAAgBjzB,KAAKyuI,MAAM50I,EAAQo5B,QAA2C,IAAlCy9G,EAAYlyI,QAAQ4C,EAAE2pD,QACjG/qD,KAAKq3D,SAASx9D,EAAQo5B,OAI9Bu6G,EAAchyI,UAAUkkG,aAAe,SAAUt+F,GAC7CpB,KAAKyoB,QAAQ,QAASrnB,EACtB,IAAIvH,GAAUuH,EAAEyH,MAEK,YAAjBhP,EAAQE,KACRiG,KAAKq3D,SAASx9D,EAAQo5B,MAE0B,OAA3Cp5B,EAAQ4M,aAAa,oBAE1BzG,KAAK2tI,aAAc,IAI3BH,EAAchyI,UAAUglG,cAAgB,SAAUp/F,GAC9CpB,KAAKyoB,QAAQ,SAAUrnB,EACvB,IAAIvH,GAAUuH,EAAEyH,MAChB7I,MAAKq3D,SAASx9D,EAAQo5B,OAG1Bu6G,EAAchyI,UAAUi1I,cAAgB,SAAUrvI,GAC9CpB,KAAKyoB,QAAQ,SAAUrnB,GAGlBpB,KAAK2tI,aAAgB3tI,KAAKq3D,WAI3Br3D,KAAK2tI,aAAc,EAHnBvsI,EAAEomB,kBAOVgmH,EAAchyI,UAAU+rB,aAAe,WACnCvnB,KAAKkvI,aAGT1B,EAAchyI,UAAUuzI,cAAgB,SAAU97G,GAC9C,GAAKjzB,KAAKyuI,MAAMx7G,GAAhB,CAGA,GAAIw7G,GAAQlwI,OAAOjB,KAAK0C,KAAKyuI,MAAMx7G,IAC/B09G,GAAa,EACbC,GAAqB,EACrBC,EAAQpC,EAAMjwI,QAAQ,kBACtBsyI,EAAOrC,EAAMjwI,QAAQ,SAQzB,IAPAwB,KAAKmvI,gBAAgBl8G,IACP,IAAV69G,IACAH,GAAa,IAEF,IAAXE,IACAD,GAAqB,IAEpBD,GAAeA,GAAcC,EAAlC,EACmB,IAAXC,GACApC,EAAMlkH,OAAOsmH,EAAO,IAEV,IAAVC,GACArC,EAAMlkH,OAAQumH,EAAO,EAAI,GAE7B9wI,KAAKuvI,gBAAgBt8G,EACrB,KAAK,GAAI50B,GAAK,EAAG0yI,EAAUtC,EAAOpwI,EAAK0yI,EAAQx4I,OAAQ8F,IAAM,CACzD,GAAIwxI,GAAOkB,EAAQ1yI,GACf2yI,EAAehxI,KAAKixI,gBAAgBjxI,KAAKyuI,MAAMx7G,GAAM48G,GAAOA,GAC5DqB,GAAcj+G,KAAMA,EAAM/xB,QAAS8vI,GACnC3iI,GACAomH,UAAWxhG,EACXp5B,QAASmG,KAAKyuB,aACdvtB,QAAS8vI,EAEb,KAAKhxI,KAAKmxI,QAAQl+G,EAAM48G,KAAU7vI,KAAKyuB,aAAaj2B,UAAUC,SAASuH,KAAKuM,QAAS,CACjFvM,KAAKoxI,iBAAiBn+G,GACtBjzB,KAAK0tI,WAAW10I,KAAKk4I,GAErBlxI,KAAKyuB,aAAa5qB,aAAa,eAAgB,QAC/C7D,KAAKyuB,aAAa5qB,aAAa,mBAAoB7D,KAAKyuB,aAAa9qB,GAAK,SAC1E3D,KAAKyuB,aAAaj2B,UAAU+L,IAAIvE,KAAKovI,YACrCpvI,KAAKyuB,aAAaj2B,UAAUkM,OAAO1E,KAAKqvI,YACnCrvI,KAAK6tI,YAIN7tI,KAAKqxI,YAAYH,GAHjBlxI,KAAKsxI,mBAAmBr+G,EAAMi+G,EAAUhwI,QAASlB,KAAKyuB,cAK1DpgB,EAAUkjI,aAAevxI,KAAK6tI,YAC9Bx/H,EAAUmB,OAAS,UACnBxP,KAAKyuB,aAAaj2B,UAAU+L,IAAIvE,KAAKovI,YACrCpvI,KAAKyuB,aAAaj2B,UAAUkM,OAAO1E,KAAKqvI,YACxCrvI,KAAKwxI,yBAAyBv+G,EAAM5kB,GACpCrO,KAAKyoB,QAAQ,qBAAsBpa,GAEtB,aAATwhI,GACA7vI,KAAKyuB,aAAa5qB,aAAa,gBAAiB,OAEpD,OAGA7D,KAAKwvI,YAAYv8G,GACjB5kB,EAAUmB,OAAS,UACnBxP,KAAKyoB,QAAQ,qBAAsBpa,OASnDm/H,EAAchyI,UAAUg2I,yBAA2B,SAAUv+G,EAAMw+G,GAC1DzxI,KAAKyuI,MAAMx7G,GAAMjzB,KAAK4tI,WAAc5tI,KAAKyuB,aAAazxB,MAAMzE,SAC7DyH,KAAK6tI,YAAYrzI,UAAYwF,KAAKyuB,aAAazxB,MAC/CgD,KAAK6tI,YAAYhqI,aAAa,eAAgB,SAC9C4tI,EAAMjiI,OAAS,GACfxP,KAAKwvI,YAAYv8G,KAIzBu6G,EAAchyI,UAAU21I,QAAU,SAAUl+G,EAAM48G,GAC9C,GAAIz0I,GAAS4E,KAAKyuI,MAAMx7G,GAAM48G,GAC1Bl1C,EAASv/F,YAAkBqD,QAA8B,gBAAdrD,GAAO,GAAmBA,EAAO,GAAKA,EACjFs2I,EAAc1xI,KAAKyuI,MAAMx7G,GAAM48G,GAC/B5vI,GAASjD,MAAOgD,KAAKyuB,aAAazxB,MAAO29F,MAAOA,EAAO9gG,QAASmG,KAAKyuB,aAAckjH,YAAa3xI,KAAKnG,QAEzG,OADAmG,MAAKyoB,QAAQ,kBAAmBxoB,GAC5ByxI,GAAyC,kBAAnBA,GAAY,GACzBA,EAAY,GACX9wI,KAAKZ,MAAQnG,QAASmG,KAAKyuB,aAAczxB,MAAOgD,KAAKyuB,aAAazxB,QAEvE4xI,EAAgB4B,YAAYxwI,KAAKyuB,cACzB,aAATohH,GAGG/pI,EAAU,cAAgBmtB,EAAO,YAAajzB,KAAKnG,SAAStB,OAAS,EAGrEq2I,EAAgBgD,eAAe/B,GAAM5vI,IAIpDutI,EAAchyI,UAAUy1I,gBAAkB,SAAUY,EAAWhC,GAC3D,GAAI3uI,GAAW2wI,YAAqBpzI,QAAiC,gBAAjBozI,GAAU,GAAmBA,EAAU,GAAK7xI,KAAK+tI,gBAAgB8B,GACjHiC,EAAU5wI,EAAQgQ,MAAM,UAC5B,KAAKzT,EAAkBq0I,GACnB,IAAK,GAAIz5I,GAAI,EAAGA,EAAIy5I,EAAQv5I,OAAQF,IAAK,CACrC,GAAI2E,GAAQ60I,YAAqBpzI,OAAQozI,EAAUx5I,GAAKw5I,CACxD3wI,GAAUA,EAAQvH,QAAQm4I,EAAQz5I,GAAI2E,GAG9C,MAAOkE,IAGXssI,EAAchyI,UAAU81I,mBAAqB,SAAUr+G,EAAM/xB,EAASmS,GAClE,GAAIk+H,GAAe9vI,EAAczB,KAAKuxI,cAClC7tI,UAAW1D,KAAKovI,WAChB50I,UAAW0G,EACX4C,OAASi8F,IAAK9sE,IAUlB,IAPIjzB,KAAK+xI,cAAgBpe,GAAYqe,UACjCT,EAAa/4I,UAAUkM,OAAO1E,KAAKovI,YACnCmC,EAAa/4I,UAAU+L,IAAI,aAC3BgtI,EAAe9vI,EAAczB,KAAKiyI,gBAAkBvuI,UAAW1D,KAAKovI,WAAY50I,UAAW+2I,EAAarvI,aAE5GqvI,EAAa5tI,GAAK3D,KAAKyuB,aAAawE,KAAO,QAEvCjzB,KAAKnG,QAAQiJ,cAAc,qBAAuBuQ,EAAM1P,GAAK,MAC7D3D,KAAKnG,QAAQiJ,cAAc,qBAAuBuQ,EAAM1P,GAAK,MAAM5B,YAAYwvI,OAE9E,KAAmD,IAA/Cl+H,EAAM2wG,aAAa,wBAAkC,CAE1D,GAAIkuB,GAAc7+H,EAAM5M,aAAa,uBACpBzG,MAAKnG,QAAQiJ,cAAc,IAAMovI,GACvCnwI,YAAYwvI,OAEM,OAAxBvxI,KAAKmyI,gBAEVnyI,KAAKmyI,gBAAgBvxI,KAAKZ,KAAMA,KAAKyuB,aAAc8iH,GAGnDvxI,KAAKyuB,aAAa3zB,WAAWsK,aAAamsI,EAAcvxI,KAAKyuB,aAAa0nF,YAE9Eo7B,GAAa3sI,MAAM6hD,QAAU,QAC7BzmD,KAAKuvI,gBAAgBt8G,GACrBjzB,KAAKytI,UAAUz0I,KAAKi6B,GACpBjzB,KAAKoyI,cAAcn/G,IAGvBu6G,EAAchyI,UAAU+zI,gBAAkB,SAAUt8G,GAKhD,MAJAjzB,MAAK6tI,YAAcloI,EAAO3F,KAAKuxI,aAAe,IAAMvxI,KAAKovI,WAAYpvI,KAAKyuB,aAAazY,eAClFhW,KAAK6tI,cACN7tI,KAAK6tI,YAAcloI,EAAO3F,KAAKuxI,aAAe,IAAMvxI,KAAKovI,WAAa,SAAWn8G,EAAO,KAAMjzB,KAAKnG,UAEhGmG,KAAK6tI,aAGhBL,EAAchyI,UAAU41I,iBAAmB,SAAUn+G,GACjD,IAAK,GAAI56B,GAAI,EAAGA,EAAI2H,KAAK0tI,WAAWn1I,OAAQF,IAC7B2H,KAAK0tI,WAAWr1I,GAClB46B,OAASA,GACdjzB,KAAK0tI,WAAWnjH,OAAOlyB,EAAG,IAKtCm1I,EAAchyI,UAAU61I,YAAc,SAAUH,GAC5ClxI,KAAK6tI,YAAYjpI,MAAM6hD,QAAU,QACjCzmD,KAAK6tI,YAAYrzI,UAAY02I,EAAUhwI,QACvClB,KAAKoyI,cAAclB,EAAUj+G,OAGjCu6G,EAAchyI,UAAUg0I,YAAc,SAAUv8G,GACxCjzB,KAAK6tI,cACL7tI,KAAK6tI,YAAYjpI,MAAM6hD,QAAU,OACjCzmD,KAAKoxI,iBAAiBn+G,GACtBjzB,KAAKyuB,aAAaj2B,UAAU+L,IAAIvE,KAAKqvI,YACrCrvI,KAAKyuB,aAAaj2B,UAAUkM,OAAO1E,KAAKovI,YACxCpvI,KAAKyuB,aAAa5qB,aAAa,eAAgB,WAIvD2pI,EAAchyI,UAAU42I,cAAgB,SAAUn/G,GACzCjzB,KAAKyuI,MAAMx7G,GAAMjzB,KAAK4tI,WAAc5tI,KAAKyuB,aAAazxB,MAAMzE,SAC7DyH,KAAK6tI,YAAYrzI,UAAYwF,KAAKyuB,aAAazxB,MAC/CgD,KAAK6tI,YAAYhqI,aAAa,eAAgB,SAC9C7D,KAAKwvI,YAAYv8G,KAIzBu6G,EAAcgD,YAAc,SAAUn9H,GAClC,GAAIg/H,GAAYh/H,EAAM5M,aAAa,OACnC,OAAO4rI,KAA4B,aAAdA,GAA0C,UAAdA,GAAuC,WAAdA,IAG9E7E,EAAcoE,gBACVhE,SAAU,SAAUjnG,GAChB,MAAOA,GAAO3pC,MAAMzE,OAAS,GAEjCy1I,MAAO,SAAUrnG,GACb,MAAOumG,IAAejzI,KAAK0sC,EAAO3pC,QAEtCizB,IAAK,SAAU0W,GACX,MAAOwmG,IAAalzI,KAAK0sC,EAAO3pC,QAEpCixI,QAAS,SAAUtnG,GACf,MAAOymG,IAAkBnzI,KAAK0sC,EAAO3pC,QAEzCuxI,IAAK,SAAU5nG,GACX,MAAO2mG,IAAerzI,KAAK0sC,EAAO3pC,QAEtCkxI,WAAY,SAAUvnG,GAClB,MAAO4mG,IAAoBtzI,KAAK0sC,EAAO3pC,QAE3CmxI,OAAQ,SAAUxnG,GACd,OAAQ2C,MAAMqiB,OAAOhlB,EAAO3pC,UAA0C,IAA/B2pC,EAAO3pC,MAAMwB,QAAQ,MAEhE+mC,OAAQ,SAAUoB,GACd,MAAO0mG,IAAgBpzI,KAAK0sC,EAAO3pC,QAEvCoxI,UAAW,SAAUznG,GACjB,MAAOA,GAAO3pC,MAAMzE,QAAUouC,EAAOg0D,OAEzC0zC,UAAW,SAAU1nG,GACjB,MAAOA,GAAO3pC,MAAMzE,QAAUouC,EAAOg0D,OAEzC2zC,YAAa,SAAU3nG,GACnB,GAAIg0D,GAAQh0D,EAAOg0D,KACnB,OAAOh0D,GAAO3pC,MAAMzE,QAAUoiG,EAAM,IAAMh0D,EAAO3pC,MAAMzE,QAAUoiG,EAAM,IAE3EnwD,MAAO,SAAU7D,GACb,GAAIg0D,GAAQh0D,EAAOg0D,KACnB,QAAQrxD,MAAMqiB,OAAOhlB,EAAO3pC,SAAW2uD,OAAOhlB,EAAO3pC,QAAU29F,EAAM,IAAMhvC,OAAOhlB,EAAO3pC,QAAU29F,EAAM,IAE7GpI,KAAM,SAAU5rD,GACZ,OAAQ2C,MAAM,GAAIjnB,MAAKskB,EAAO3pC,OAAOslB,YAEzCjV,IAAK,SAAUs5B,GACX,MAAK2C,OAAMqiB,OAAOhlB,EAAO3pC,QAKlB,GAAIqlB,MAAKskB,EAAO3pC,OAAOslB,WAAa,GAAID,MAAKyP,KAAKC,MAAMD,KAAKouB,UAAUvZ,EAAOg0D,SAASr4E,WAHlFqkB,EAAO3pC,OAAS2pC,EAAOg0D,OAKvCv4E,IAAK,SAAUukB,GACX,MAAK2C,OAAMqiB,OAAOhlB,EAAO3pC,QAKlB,GAAIqlB,MAAKskB,EAAO3pC,OAAOslB,WAAa,GAAID,MAAKyP,KAAKC,MAAMD,KAAKouB,UAAUvZ,EAAOg0D,SAASr4E,WAHlFqkB,EAAO3pC,OAAS2pC,EAAOg0D,OAKvC31D,MAAO,SAAU2B,GACb,MAAO,IAAIvsC,QAAOusC,EAAOg0D,OAAO1gG,KAAK0sC,EAAO3pC,QAEhDwxI,QAAS,SAAU7nG,GACf,GAAI2rG,GAAY3rG,EAAOgrG,YAAY7uI,cAAc,IAAM6jC,EAAOg0D,MAE9D,OADAh0D,GAAOg0D,MAAQ23C,EAAUt1I,MAClB2pC,EAAOg0D,QAAUh0D,EAAO3pC,QAGvCs7B,IACI1vB,GAAS,aACV4kI,EAAchyI,UAAW,aAAU,IACtC88B,IACI1vB,MACD4kI,EAAchyI,UAAW,YAAS,IACrC88B,IACI1vB,GAAS,YACV4kI,EAAchyI,UAAW,iBAAc,IAC1C88B,IACI1vB,GAAS,YACV4kI,EAAchyI,UAAW,iBAAc,IAC1C88B,IACI1vB,GAAS,UACV4kI,EAAchyI,UAAW,mBAAgB,IAC5C88B,IACI1vB,GAAS,QACV4kI,EAAchyI,UAAW,qBAAkB,IAC9C88B,IACI1vB,GAAS+qH,GAAY4e,QACtB/E,EAAchyI,UAAW,kBAAe,IAC3C88B,IACI7uB,MACD+jI,EAAchyI,UAAW,eAAY,IACxC88B,IACI7uB,MACD+jI,EAAchyI,UAAW,YAAS,IACrC88B,IACI7uB,MACD+jI,EAAchyI,UAAW,YAAS,IACrC88B,IACI7uB,MACD+jI,EAAchyI,UAAW,aAAU,IACtC88B,IACI7uB,MACD+jI,EAAchyI,UAAW,aAAU,IACtC88B,IACI7uB,MACD+jI,EAAchyI,UAAW,sBAAmB,IAC/C88B,IACI7uB,MACD+jI,EAAchyI,UAAW,yBAAsB,IAClD88B,IACI7uB,MACD+jI,EAAchyI,UAAW,sBAAmB,IAC/CgyI,EAAgBoB,EAAkBt2G,IAC9BvuB,IACDyjI,EAEH,IAAIoB,IACNv6G,IG/tBEyD,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAa5D85G,GAAO,qBACPC,GAAS,gBAOTC,GAAc,oBACdC,GAAc,oBACdC,GAAa,mBACbC,GAAa,oBAEbC,GAAmB,yBACnBC,GAAc,wBAGdC,GAAiB,mBACjBC,GAAgB,iBAMhBC,GAAe,qBAEfC,GAAe,mBAEfC,GAA2B,SAAUr6G,GAErC,QAASq6G,KACL,MAAkB,QAAXr6G,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbA83B,IAAUs7G,EAAWr6G,GAIrBT,IACI1vB,GAAS,KACVwqI,EAAU53I,UAAW,WAAQ,IAChC88B,IACI1vB,GAAS,OACVwqI,EAAU53I,UAAW,WAAQ,IAChC88B,IACI1vB,GAAS,KACVwqI,EAAU53I,UAAW,WAAQ,IACzB43I,GACTzwG,IAEE0wG,GAA8B,SAAUt6G,GAExC,QAASs6G,KACL,MAAkB,QAAXt6G,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAW/D,MAbA83B,IAAUu7G,EAAct6G,GAIxBT,IACI1vB,GAAS,cACVyqI,EAAa73I,UAAW,aAAU,IACrC88B,IACI1vB,GAAS,WACVyqI,EAAa73I,UAAW,aAAU,IACrC88B,IACI1vB,GAAS,UACVyqI,EAAa73I,UAAW,YAAS,IAC7B63I,GACT1wG,IAEE2wG,GAA+B,SAAUv6G,GAEzC,QAASu6G,KACL,MAAkB,QAAXv6G,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBA83B,IAAUw7G,EAAev6G,GAIzBT,IACI1vB,GAAS,KACV0qI,EAAc93I,UAAW,cAAW,IACvC88B,IACI1vB,GAAS,KACV0qI,EAAc93I,UAAW,gBAAa,IACzC88B,IACI1vB,GAAS,IACV0qI,EAAc93I,UAAW,gBAAa,IACzC88B,IACI1vB,GAAS,IACV0qI,EAAc93I,UAAW,iBAAc,IAC1C88B,IACI1vB,GAAS,MACV0qI,EAAc93I,UAAW,sBAAmB,IACxC83I,GACT3wG,IAcE4wG,GAA0B,SAAUx6G,GAKpC,QAASw6G,GAASj/H,EAASza,GACvB,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAUnD,OATAD,GAAMyzI,aAAgB9rF,OAAQ,KAAM+rF,UAAU,EAAOh1C,UAAU,GAC/D1+F,EAAM2zI,YACN3zI,EAAM4zI,aACN5zI,EAAM6zI,qBACN7zI,EAAM8zI,QAAS,EACf9zI,EAAM+zI,UAAW,EACjB/zI,EAAMg0I,cACNh0I,EAAMi0I,kBACNj0I,EAAMwnH,SAAW,IACVxnH,EAmvEX,MAlwEA+3B,IAAUy7G,EAAUx6G,GAqBpBw6G,EAAS/3I,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACtD,IAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,oBACD2B,KAAKi0I,cAAcj0I,KAAKk0I,mBACxBl0I,KAAKm0I,UACL,MACJ,KAAK,UACDn0I,KAAKo0I,kBACL,MACJ,KAAK,WACDp0I,KAAKq0I,sBACL,MACJ,KAAK,YACDr0I,KAAKs0I,SACLt0I,KAAKu0I,kBACL,MACJ,KAAK,UACDv0I,KAAKokH,QAAQowB,OAAS/2I,EAAkBuC,KAAKokH,QAAQowB,QAAU,GAAKx0I,KAAKokH,QAAQowB,OACjFx0I,KAAKokH,QAAQ38F,MAAQhqB,EAAkBuC,KAAKokH,QAAQ38F,OAAS,GAAKznB,KAAKokH,QAAQ38F,MAC/EznB,KAAKokH,QAAQhzF,OAAS3zB,EAAkBuC,KAAKokH,QAAQhzF,QAAU,GAAKpxB,KAAKokH,QAAQhzF,OACjFpxB,KAAKy0I,uBACL,MACJ,KAAK,WACDz0I,KAAK00I,mBACL10I,KAAK20I,aACL,MACJ,KAAK,QACD30I,KAAK40I,oBACL,MACJ,KAAK,kBACD50I,KAAK60I,2BACL,MACJ,KAAK,cACL,IAAK,cACL,IAAK,WACL,IAAK,aACD70I,KAAKm0I,UACL,MACJ,KAAK,SACDn0I,KAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,QACzBhP,KAAK80I,oBACL90I,KAAK+0I,aAAel4I,EAAS,gBAAiBmD,KAAKw7G,QAKnE+3B,EAAS/3I,UAAUs5I,kBAAoB,WAC/Br3I,EAAkBuC,KAAKwQ,YACc,gBAAzBxQ,MAAKokH,iBACbpkH,KAAKg1I,aAAal8I,UAAqC,cAAxBkH,KAAKokH,QAAQowB,OACxCx0I,KAAKi1I,eAAe,UAAYj1I,KAAKokH,QAAQowB,OACjDx0I,KAAKg1I,aAAanxI,aAAa,QAAS7D,KAAKg1I,aAAal8I,WAC1DkH,KAAKk1I,cAAcpyI,cAAc,gBAAiBtI,UAAYwF,KAAKi1I,eAAe,kBAEtFj1I,KAAKm1I,mBAGb5B,EAAS/3I,UAAU45I,YAAc,SAAUjrH,GAEvC,IAAK,GADDsC,GACKpuB,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAK+0I,cAAe12I,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACxE,GAAIhB,GAAM2F,EAAG3E,EACT2B,MAAK+0I,aAAa13I,KAAS8sB,IAC3BsC,EAAWpvB,GAGnB,MAAOovB,IAEX8mH,EAAS/3I,UAAU25I,eAAiB,WAEhC,GAAIn1I,KAAK0zI,SAASn7I,OAAS,IAAMkF,EAAkBuC,KAAKk1I,cAAcpyI,cAAc,oBAChF,IAAK,GAAIzK,GAAI,EAAGA,EAAI2H,KAAK0zI,SAASn7I,OAAQF,IAC5B2H,KAAK0zI,SAASr7I,GAAGyK,cAAc,kBACjCtI,UAAYwF,KAAKi1I,eAAej1I,KAAKo1I,YAAYp1I,KAAK2zI,UAAUt7I,GAAGmX,SAC3ExP,KAAK2zI,UAAUt7I,GAAGmX,OAASxP,KAAKi1I,eAAej1I,KAAKo1I,YAAYp1I,KAAK2zI,UAAUt7I,GAAGmX,SAE9ExP,KAAK0zI,SAASr7I,GAAGG,UAAUC,SAASu6I,KACpChzI,KAAK0zI,SAASr7I,GAAGyK,cAAc,YAAYe,aAAa,QAAS7D,KAAKi1I,eAAe,WAErFj1I,KAAK0zI,SAASr7I,GAAGyK,cAAc,qBAC/B9C,KAAK0zI,SAASr7I,GAAGyK,cAAc,YAAYe,aAAa,QAAS7D,KAAKi1I,eAAe,WAErFj1I,KAAK0zI,SAASr7I,GAAGyK,cAAc,uBAC/B9C,KAAK0zI,SAASr7I,GAAGyK,cAAc,YAAYe,aAAa,QAAS7D,KAAKi1I,eAAe,WAErFj1I,KAAK0zI,SAASr7I,GAAGyK,cAAc,uBAC/B9C,KAAK0zI,SAASr7I,GAAGyK,cAAc,YAAYe,aAAa,QAAS7D,KAAKi1I,eAAe,UAEpFj1I,KAAKq1I,aACNr1I,KAAKs1I,aAAax8I,UAAqC,WAAxBkH,KAAKokH,QAAQhzF,OACxCpxB,KAAKi1I,eAAe,UAAYj1I,KAAKokH,QAAQhzF,OACjDpxB,KAAKs1I,aAAazxI,aAAa,QAAS7D,KAAKi1I,eAAe,WAC5Dj1I,KAAKsnB,YAAYxuB,UAAoC,UAAvBkH,KAAKokH,QAAQ38F,MACvCznB,KAAKi1I,eAAe,SAAWj1I,KAAKokH,QAAQ38F,MAChDznB,KAAKsnB,YAAYzjB,aAAa,QAAS7D,KAAKi1I,eAAe,YAK3E1B,EAAS/3I,UAAU+4I,iBAAmB,WAC9Bv0I,KAAKu1I,aACLhwI,EAAOvF,KAAKu1I,YACZv1I,KAAKu1I,WAAa,KAClBv1I,KAAK0zI,YACL1zI,KAAKw1I,eAAex1I,KAAK2zI,WACrB3zI,KAAKy1I,gBACLz1I,KAAK01I,sBACL11I,KAAK21I,sBACL31I,KAAK41I,6BAIjBrC,EAAS/3I,UAAUyY,UAAY,WAc3B,GAbAjU,KAAKm0H,aAAen0H,KAAKnG,QAAQmI,WAAU,GAC3ChC,KAAKujH,YAAesyB,OAAQ,YAAaC,MAAO,QAASC,OAAQ,SAC7DC,cAAe,qBAAsBC,mBAAoB,yBACzDC,mBAAoB,yBAA0BC,gBAAiB,2BAC/DC,oBAAqB,wBAAyBC,qBAAsB,6BACpEC,sBAAuB,4BAA6BC,qBAAsB,wBAAyBC,WAAY,YAC/GC,qBAAsB,kBAAmB/0F,MAAO,QAASh9C,OAAQ,SAAUyrB,OAAQ,SAAU64B,OAAQ,cACrG0tF,YAAa,qBAAsBtuF,MAAO,QAASuuF,OAAQ,SAAUC,MAAO,QAC5EC,iBAAkB,wBAEtB72I,KAAKw7G,KAAO,GAAI1vD,IAAK,WAAY9rD,KAAKujH,WAAYvjH,KAAKgP,QACvDhP,KAAK+0I,aAAel4I,EAAS,gBAAiBmD,KAAKw7G,MACnDx7G,KAAK82I,sBAC8B,KAA/B92I,KAAK+2I,cAAcC,SAAmD,KAAjCh3I,KAAK+2I,cAAc/gD,YAAqBh2F,KAAKq1I,WAElF,IADA,GAAI5hB,GAAYzzH,KAAKnG,QAAQmc,cACtBy9G,GAAaA,IAAc14H,SAASoS,gBAAiBsmH,EAAYA,EAAUz9G,cACpD,SAAtBy9G,EAAUnwH,UACVtD,KAAK6zI,QAAS,EACd7zI,KAAK2xI,YAAcle,EACnBA,EAAU5vH,aAAa,UAAW,uBAClC4vH,EAAU5vH,aAAa,WAAY,uBAK/C,IAAIyP,GAAazW,EAAS,gBAAiBmD,KAAKnG,QAEhD,IAA6B,iBAAzBmG,KAAKnG,QAAQyJ,QAA4B,CACzC,GAAImrB,GAAezuB,KAAKyB,cAAc,SAAWqC,OAAS/J,KAAM,UAC5D7B,EAAQ,CACZ,KAAKA,EAAOA,EAAQ8H,KAAKnG,QAAQkK,WAAWxL,OAAQL,IAChDu2B,EAAa5qB,aAAa7D,KAAKnG,QAAQkK,WAAW7L,GAAOqb,SAAUvT,KAAKnG,QAAQkK,WAAW7L,GAAOsb,WAClGib,EAAaj0B,UAAYwF,KAAKnG,QAAQW,SAErCi0B,GAAau1F,aAAa,SAC3Bv1F,EAAa5qB,aAAa,OAAQ,eAEtC7D,KAAKnG,QAAQkI,YAAY0sB,GACzBzuB,KAAKnG,QAAU40B,EACfrxB,EAAS,gBAAiBkW,EAAYtT,KAAKnG,SAG3CyZ,EAAW,GAAG2jI,uBACTx5I,EAAkB6V,EAAW,GAAGnJ,MAAM8oB,OAGjCx1B,EAAkB6V,EAAW,GAAGnJ,MAAMxG,KAAOlG,EAAkB6V,EAAW,GAAGnJ,MAAM8oB,MACzFjzB,KAAKnG,QAAQgK,aAAa,OAAQyP,EAAW,GAAGnJ,MAAMxG,IAGtD3D,KAAKnG,QAAQgK,aAAa,OAAQ,eANlC7D,KAAKnG,QAAQgK,aAAa,OAAQyP,EAAW,GAAGnJ,MAAM8oB,OAS1Dx1B,EAAkBuC,KAAKnG,QAAQ4M,aAAa,UAC5CzG,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKnG,QAAQ4M,aAAa,OAE3DzG,KAAKnG,QAAQmqH,aAAa,SAC3BhkH,KAAKnG,QAAQgK,aAAa,OAAQ,QAEtC7D,KAAK60I,4BACL70I,KAAKgrD,YACDg/E,SAAU,YACV9hF,MAAO,QACPgvF,KAAM,OAENl3I,KAAKnG,QAAQmqH,aAAa,cAC1BhkH,KAAKunH,SAAWvnH,KAAKnG,QAAQ4M,aAAa,cAGlD8sI,EAAS/3I,UAAU6jD,eAAiB,WAChC,MAAOr/C,MAAK8/C,kBAKhByzF,EAAS/3I,UAAU0L,cAAgB,WAC/B,MAAO,YAEXqsI,EAAS/3I,UAAUq5I,0BAA4B,WACvC70I,KAAKm3I,iBACLn3I,KAAKnG,QAAQgK,aAAa,YAAa,QACvC7D,KAAKnG,QAAQgK,aAAa,kBAAmB,UAG7C7D,KAAKnG,QAAQyS,gBAAgB,aAC7BtM,KAAKnG,QAAQyS,gBAAgB,qBAOrCinI,EAAS/3I,UAAUojD,OAAS,WACxB5+C,KAAKo3I,qBACLp3I,KAAKq3I,mBACLr3I,KAAKumB,aACLvmB,KAAKq0I,uBACLr0I,KAAKi0I,cAAcj0I,KAAKk0I,mBACxBl0I,KAAKs0I,SACLt0I,KAAK40I,qBACL50I,KAAKo0I,oBAETb,EAAS/3I,UAAU47I,mBAAqB,WACpCp3I,KAAKg1I,aAAeh1I,KAAKyB,cAAc,UAAYiC,UAAW,cAAeI,OAAS/J,KAAQ,YAC9FiG,KAAKg1I,aAAanxI,aAAa,WAAY7D,KAAKunH,UACX,gBAAzBvnH,MAAKokH,gBACbpkH,KAAKg1I,aAAal8I,UAAqC,cAAxBkH,KAAKokH,QAAQowB,OACxCx0I,KAAKi1I,eAAe,UAAYj1I,KAAKokH,QAAQowB,OACjDx0I,KAAKg1I,aAAanxI,aAAa,QAAS7D,KAAKg1I,aAAal8I,YAG1DkH,KAAKg1I,aAAajzI,YAAY/B,KAAKokH,QAAQowB,QAE/Cx0I,KAAKnG,QAAQgK,aAAa,aAAc,aAE5C0vI,EAAS/3I,UAAUm6I,oBAAsB,WACrC31I,KAAKnG,QAAQgK,aAAa,WAAY,MACtC7D,KAAKy1I,cAAgBz1I,KAAKyB,cAAc,OAASiC,UA5VpC,qBA6Vb1D,KAAKs1I,aAAet1I,KAAKyB,cAAc,UAAYiC,UA5VtC,iDA4ViEI,OAAS/J,KAAQ,SAAUi4G,SAAY,QACrHhyG,KAAKsnB,YAActnB,KAAKyB,cAAc,UAAYiC,UA5VtC,sCA4VgEI,OAAS/J,KAAQ,SAAUi4G,SAAY,QACnHhyG,KAAKy1I,cAAc1zI,YAAY/B,KAAKsnB,aACpCtnB,KAAKy1I,cAAc1zI,YAAY/B,KAAKs1I,cACpCt1I,KAAKy0I,wBACLz0I,KAAKk1I,cAAcnzI,YAAY/B,KAAKy1I,eACpCz1I,KAAKg1I,aAAa/Z,OAClBj7H,KAAKs1I,aAAajzI,QAClBrC,KAAKs3I,0BAET/D,EAAS/3I,UAAU87I,uBAAyB,WACxC7xI,GAAalB,IAAIvE,KAAKs1I,aAAc,QAASt1I,KAAKu3I,kBAAmBv3I,MACrEyF,GAAalB,IAAIvE,KAAKsnB,YAAa,QAAStnB,KAAKw3I,iBAAkBx3I,OAEvEuzI,EAAS/3I,UAAUi8I,yBAA2B,WAC1ChyI,GAAaf,OAAO1E,KAAKs1I,aAAc,QAASt1I,KAAKu3I,mBACrD9xI,GAAaf,OAAO1E,KAAKsnB,YAAa,QAAStnB,KAAKw3I,mBAExDjE,EAAS/3I,UAAUk6I,oBAAsB,WACjC11I,KAAKy1I,gBACLz1I,KAAKy3I,2BACLlyI,EAAOvF,KAAKy1I,eACZz1I,KAAKy1I,cAAgB,OAG7BlC,EAAS/3I,UAAUi5I,sBAAwB,WAUvC,GATqC,gBAAzBz0I,MAAKokH,gBACbpkH,KAAKg1I,aAAal8I,UAAqC,cAAxBkH,KAAKokH,QAAQowB,OACxCx0I,KAAKi1I,eAAe,UAAYj1I,KAAKokH,QAAQowB,OACjDx0I,KAAKg1I,aAAanxI,aAAa,QAAS7D,KAAKg1I,aAAal8I,aAG1DkH,KAAKg1I,aAAax6I,UAAY,GAC9BwF,KAAKg1I,aAAajzI,YAAY/B,KAAKokH,QAAQowB,SAE3Cx0I,KAAKs1I,aAAc,CACnB,GAAIoC,OAAa,EACjBA,GAAaj6I,EAAkBuC,KAAKokH,QAAQhzF,QAAU,SAAWpxB,KAAKokH,QAAQhzF,OAC9EpxB,KAAKokH,QAAQhzF,OAASsmH,EACe,gBAAzB13I,MAAKokH,gBACbpkH,KAAKs1I,aAAax8I,UAAqC,WAAxBkH,KAAKokH,QAAQhzF,OACxCpxB,KAAKi1I,eAAe,UAAYj1I,KAAKokH,QAAQhzF,OACjDpxB,KAAKs1I,aAAazxI,aAAa,QAAS7D,KAAKs1I,aAAax8I,aAG1DkH,KAAKs1I,aAAa96I,UAAY,GAC9BwF,KAAKs1I,aAAavzI,YAAY/B,KAAKokH,QAAQhzF,SAGnD,GAAIpxB,KAAKsnB,YAAa,CAClB,GAAIqwH,OAAY,EAChBA,GAAYl6I,EAAkBuC,KAAKokH,QAAQ38F,OAAS,QAAUznB,KAAKokH,QAAQ38F,MAC3EznB,KAAKokH,QAAQ38F,MAAQkwH,EACe,gBAAxB33I,MAAKokH,eACbpkH,KAAKsnB,YAAYxuB,UAAoC,UAAvBkH,KAAKokH,QAAQ38F,MACvCznB,KAAKi1I,eAAe,SAAWj1I,KAAKokH,QAAQ38F,MAChDznB,KAAKsnB,YAAYzjB,aAAa,QAAS7D,KAAKsnB,YAAYxuB,aAGxDkH,KAAKsnB,YAAY9sB,UAAY,GAC7BwF,KAAKsnB,YAAYvlB,YAAY/B,KAAKokH,QAAQ38F,UAItD8rH,EAAS/3I,UAAU67I,iBAAmB,WAClCr3I,KAAKnG,QAAQgK,aAAa,WAAY,KACtC,IAAI4xH,GAAez1H,KAAKyB,cAAc,QAAUiC,UArapC,iBAsaZ1D,MAAKnG,QAAQmc,cAAc5Q,aAAaqwH,EAAcz1H,KAAKnG,SAC3DmG,KAAK43I,gBAAkB53I,KAAKyB,cAAc,OAASiC,UAraxC,uBAsaX1D,KAAKnG,QAAQmc,cAAc5Q,aAAapF,KAAK43I,gBAAiB53I,KAAKnG,SACnE47H,EAAa1zH,YAAY/B,KAAKnG,SAC9BmG,KAAK43I,gBAAgB71I,YAAY/B,KAAKg1I,cACtCh1I,KAAK43I,gBAAgB71I,YAAY0zH,EACjC,IAAIoiB,GAAe73I,KAAKyB,cAAc,QAAUiC,UA3axC,eA4aRm0I,GAAar9I,UAAYwF,KAAKi1I,eAAe,iBAC7Cj1I,KAAK43I,gBAAgB71I,YAAY81I,GACjC73I,KAAKk1I,cAAgBl1I,KAAKyB,cAAc,OAASiC,UAhbnC,WAgb+DI,OAASg0I,wBAAyB,gBAC/G93I,KAAK43I,gBAAgB5hI,cAAc5Q,aAAapF,KAAKk1I,cAAel1I,KAAK43I,iBACzE53I,KAAKk1I,cAAcnzI,YAAY/B,KAAK43I,iBACpC53I,KAAK20I,eAETpB,EAAS/3I,UAAUo5I,mBAAqB,WACpC,IAAIn3I,EAAkBuC,KAAK+3I,MAAM,GAAGp8G,OAAUl+B,EAAkBuC,KAAKwQ,UAArE,CAGA,GAAIunI,MAAWp2I,MAAMf,KAAKZ,KAAK+3I,OAC3BpE,IACC3zI,MAAKyzI,WACNzzI,KAAKg4I,YACLD,GAASA,EAAM,IAEnB,KAAK,GAAI15I,GAAK,EAAG45I,EAAUF,EAAO15I,EAAK45I,EAAQ1/I,OAAQ8F,IAAM,CACzD,GAAI5B,GAAOw7I,EAAQ55I,GACf65I,GACAjlH,KAAMx2B,EAAKw2B,KAAO,IAAMx2B,EAAK1C,KAAKmD,MAAM,KAAKT,EAAK1C,KAAKmD,MAAM,KAAK3E,OAAS,GAC3E4/I,QAAS,GACTx8G,KAAMl/B,EAAKk/B,KACXnsB,OAAQxP,KAAKi1I,eAAe,wBAC5Bl7I,KAAM0C,EAAK1C,KACXq+I,oBAAsBC,QAAS,GAAIC,QAAS,IAC5CC,WAAY,IAEhB5E,GAAU36I,KAAKk/I,GACfl4I,KAAK2zI,UAAU36I,KAAKk/I,GAExBl4I,KAAKw1I,eAAe7B,GACf3zI,KAAKq1I,aAAcr1I,KAAKu1I,YAAev1I,KAAKy1I,eAAkBz1I,KAAK6zI,SAAU7zI,KAAKw4I,cACnFx4I,KAAK21I,sBAET31I,KAAK41I,4BAETrC,EAAS/3I,UAAUo6I,wBAA0B,WACzC,GAAI51I,KAAKy1I,cAAe,CACpB,GAAIh9F,GAAWz4C,KAAKk1I,cAAct6I,iBAAiB,uBAAwBrC,OACvEyH,KAAKk1I,cAAct6I,iBAAiB,2CAA2CrC,OAC/EyH,KAAKk1I,cAAct6I,iBAAiB,QAAUo4I,IAAgBz6I,OAC9DyH,KAAKk1I,cAAct6I,iBAAiB,0BAA6BrC,MACjEkgD,GAAW,GAAKA,IAAaz4C,KAAKk1I,cAAct6I,iBAAiB,MAAMrC,OACvEyH,KAAKs1I,aAAazxI,aAAa,WAAY,YAG3C7D,KAAKs1I,aAAahpI,gBAAgB,cAI9CinI,EAAS/3I,UAAUm5I,YAAc,WAC7B,GAAI8D,GAAez4I,KAAK43I,gBAAgB90I,cAAc,eACtD,IAAI9C,KAAK04I,SAAU,CACf14I,KAAK24I,gBAA8C,gBAAnB34I,eAA+BA,KAAK04I,SAChE39I,SAAS+H,cAAc9C,KAAK04I,SAGhC,KAFA,GAAI7+I,GAAUmG,KAAKnG,QACf++I,GAAiB,EACd/+I,EAAQiB,aACXjB,EAAUA,EAAQiB,cACFkF,KAAK24I,kBACjBC,GAAiB,EACjBH,EAAa/+I,YAAcsG,KAAKi1I,eAAe,iBAGlD2D,KACDH,EAAa/+I,YAAc,QAI/BsG,MAAK24I,gBAAkB34I,KAAKk1I,cAC5BuD,EAAa/+I,YAAcsG,KAAKi1I,eAAe,gBAEnDj1I,MAAK64I,kBAETtF,EAAS/3I,UAAU64I,qBAAuB,WACtC,GAAIr0I,KAAKyzI,WAAazzI,KAAKnG,QAAQmqH,aAAa,YAAa,CACzD,GAAI80B,GAAU/9I,SAASg+I,gBAAgB,WACvC/4I,MAAKnG,QAAQm/I,iBAAiBF,OAExB94I,MAAKyzI,UACXzzI,KAAKnG,QAAQyS,gBAAgB,aAGrCinI,EAAS/3I,UAAUy9I,gBAAkB,SAAUf,GACvCl4I,KAAKq1I,YACLr1I,KAAKoxB,OAAO8mH,GACZl4I,KAAK01I,uBAEC11I,KAAKy1I,eACXz1I,KAAK21I,sBAET31I,KAAK41I,2BAETrC,EAAS/3I,UAAU+qB,WAAa,WAC5B9gB,GAAalB,IAAIvE,KAAKg1I,aAAc,QAASh1I,KAAKk5I,kBAAmBl5I,MACrEyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAKm5I,cAAen5I,MAC7DyF,GAAalB,IAAIxJ,SAAU,QAASiF,KAAKguG,YAAahuG,MACtDA,KAAKo5I,eAAiB,GAAI5uF,IAAexqD,KAAKk1I,eAC1C3pF,UAAWvrD,KAAK8vG,iBAAiBr0G,KAAKuE,MACtCgrD,WAAYhrD,KAAKgrD,WACjBr4B,UAAW,YAEX3yB,KAAK6zI,QACLpuI,GAAalB,IAAIvE,KAAK2xI,YAAa,QAAS3xI,KAAKq5I,UAAWr5I,OAGpEuzI,EAAS/3I,UAAUyjG,aAAe,WAC9Bx5F,GAAaf,OAAO1E,KAAKg1I,aAAc,QAASh1I,KAAKk5I,mBACrDzzI,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAKm5I,eACjD1zI,GAAaf,OAAO3J,SAAU,QAASiF,KAAKguG,aAC5ChuG,KAAKo5I,eAAevlI,WAExB0/H,EAAS/3I,UAAU69I,UAAY,WAC3Br5I,KAAKm0I,YAETZ,EAAS/3I,UAAUs0G,iBAAmB,SAAU1uG,GAC5C,GAAIo4G,GAAgBp4G,EAAEyH,MACtB,QAAQzH,EAAEkqD,QACN,IAAK,OACGlqD,EAAEyH,SAAW7I,KAAKg1I,cAAgBv3I,EAAkBuC,KAAKu1I,YACzDv1I,KAAKg1I,aAAa/Z,OAEb75H,EAAEyH,SAAW7I,KAAKs1I,aACvBt1I,KAAKs1I,aAAara,QAGlBj7H,KAAKs5I,YAAYl4I,GACjBA,EAAEomB,iBACFpmB,EAAEm4H,kBACEn4H,EAAEyH,SAAW7I,KAAKsnB,aAAetnB,KAAKs1I,aAAatxB,aAAa,aAChEhkH,KAAKsnB,YAAY2zG,OAGzB,MACJ,KAAK,WACG75H,EAAEyH,SAAW7I,KAAKg1I,aAClBh1I,KAAKg1I,aAAa/Z,QAGlBj7H,KAAKu5I,gBAAgBn4I,GACrBA,EAAEomB,iBACFpmB,EAAEm4H,kBAEN,MACJ,KAAK,QACD,GAAIn4H,EAAEyH,SAAW7I,KAAKsnB,YAClBtnB,KAAKw3I,uBAEJ,IAAIp2I,EAAEyH,SAAW7I,KAAKs1I,aACvBt1I,KAAKu3I,wBAEJ,IAAIn2I,EAAEyH,SAAW7I,KAAKg1I,aACvBh1I,KAAKk5I,wBAEJ,IAAI1/B,EAAchhH,UAAUC,SAAS06I,KAClCqG,EAAWx5I,KAAKy5I,mBAAmB,KAAMr4I,IACpCs4I,KAAKnB,WAAa,IAC3BiB,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,eAC3Cj1I,KAAK25I,YAAYH,GAAU,OAE1B,IAAIhgC,EAAchhH,UAAUC,SA/iB7B,mBAgjBAuH,KAAK45I,aAAa55I,KAAKy5I,mBAAmB,KAAMr4I,GAAIA,OAEnD,IAAIo4G,EAAchhH,UAAUC,SAASo6I,IAAa,CACnD,GAAI2G,GAAWx5I,KAAKy5I,mBAAmB,KAAMr4I,EAC7Co4I,GAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,wBAC3Cj1I,KAAK65I,YAAYL,EAASE,UAG1B15I,MAAK85I,YAAY14I,GACZo4G,EAAchhH,UAAUC,SAASm6I,KAClC5yI,KAAKg1I,aAAa3yI,OAG1BjB,GAAEomB,iBACFpmB,EAAEm4H,oBAIdga,EAAS/3I,UAAUi+I,mBAAqB,SAAUM,EAAU34I,GACxD,GAAI82I,GACA8B,CACJ,IAAIv8I,EAAkBs8I,GAAW,CAC7B,GAAIlxI,GAAS7I,KAAKk1I,cAAcpyI,cAAc,IAAMowI,IAAcl9H,aAClEkiI,GAAWl4I,KAAK2zI,UAAU3zI,KAAK0zI,SAASl1I,QAAQqK,QAGhDqvI,GAAW6B,CAEf,KAAK,GAAI1hJ,GAAI,EAAGA,EAAI2H,KAAKg0I,eAAez7I,OAAQF,IACxC2H,KAAKg0I,eAAe37I,GAAGqhJ,KAAKzmH,OAASilH,EAASjlH,OAC9C+mH,EAAiBh6I,KAAKg0I,eAAe37I,GAG7C,OAAO2hJ,IAEXzG,EAAS/3I,UAAU+9I,gBAAkB,SAAUn4I,GAC3C,GAAIyH,GAASzH,EAAEyH,MACf,IAAIA,IAAW7I,KAAKs1I,aAChBt1I,KAAKs1I,aAAara,OAClBj7H,KAAKsnB,YAAYjlB,YAEhB,IAAIwG,IAAW7I,KAAKsnB,aAAetnB,KAAKu1I,YAAcv1I,KAAKu1I,WAAWzyI,cAAc,YAAa,CAClG9C,KAAKsnB,YAAY2zG,MACjB,IAAItjI,MAAWgK,MAAMf,KAAKZ,KAAKu1I,WAAW36I,iBAAiB,gBAC3DjD,GAAMA,EAAMY,OAAS,GAAGC,UAAU+L,IAAI2uI,IACtCv7I,EAAMA,EAAMY,OAAS,GAAG8J,YAEvB,CACD,GAAI43I,MAAkBt4I,MAAMf,KAAKZ,KAAKu1I,WAAW36I,iBAAiB,iBAC9D1C,EAAQ+hJ,EAAaz7I,QAAQqK,EAC7B3Q,GAAQ,GACR8H,KAAKguG,cACLisC,EAAa/hJ,EAAQ,GAAGM,UAAU+L,IAAI2uI,IACtC+G,EAAa/hJ,EAAQ,GAAGmK,UAGxBrC,KAAKguG,cACLhuG,KAAKg1I,aAAa3yI,WAI9BkxI,EAAS/3I,UAAU89I,YAAc,SAAUl4I,GACvC,GAAIyH,GAASzH,EAAEyH,MACf,IAAIA,IAAW7I,KAAKsnB,YAAa,CAE7B,GADAtnB,KAAKguG,cACDhuG,KAAKs1I,aAAatxB,aAAa,YAC/B,MAEJhkH,MAAKs1I,aAAajzI,YAEjB,IAAIwG,EAAOrQ,UAAUC,SAAS,WAAY,CAC3C,GAAIwhJ,MAAkBt4I,MAAMf,KAAKZ,KAAKu1I,WAAW36I,iBAAiB,iBAC9D1C,EAAQ+hJ,EAAaz7I,QAAQqK,EAC7B3Q,GAAS+hJ,EAAa1hJ,OAAS,GAC/ByH,KAAKguG,cACLisC,EAAa/hJ,EAAQ,GAAGM,UAAU+L,IAAI2uI,IACtC+G,EAAa/hJ,EAAQ,GAAGmK,UAGxBrC,KAAKguG,cACLhuG,KAAKsnB,YAAYjlB,aAGpB,CACDrC,KAAKg1I,aAAa/Z,MAClB,IAAIif,GAAcl6I,KAAKu1I,WAAW36I,iBAAiB,gBAAgB,EACnEs/I,GAAY73I,QACZ63I,EAAY1hJ,UAAU+L,IAAI2uI,MAGlCK,EAAS/3I,UAAUwyG,YAAc,WACzBhuG,KAAKk1I,eAAiBl1I,KAAKu1I,YAAcv1I,KAAKu1I,WAAWzyI,cAAc,IAAMowI,MAC7En4I,SAASm1G,cAAc+qB,OACvBj7H,KAAKu1I,WAAWzyI,cAAc,IAAMowI,IAAc16I,UAAUkM,OAAOwuI,MAG3EK,EAAS/3I,UAAU09I,kBAAoB,WACnCl5I,KAAKnG,QAAQyqH,SAEjBivB,EAAS/3I,UAAU+7I,kBAAoB,WACnCv3I,KAAKoxB,OAAOpxB,KAAK2zI,YAErBJ,EAAS/3I,UAAUg8I,iBAAmB,WAClCx3I,KAAKm0I,YAETZ,EAAS/3I,UAAUq9I,eAAiB,WAC5B74I,KAAK24I,kBACLlzI,GAAalB,IAAIvE,KAAK24I,gBAAiB,OAAQ34I,KAAKm6I,YAAan6I,MACjEyF,GAAalB,IAAIvE,KAAK24I,gBAAiB,WAAY34I,KAAKo6I,UAAWp6I,MACnEyF,GAAalB,IAAIvE,KAAK24I,gBAAiB,YAAa34I,KAAKq6I,YAAar6I,MACtEyF,GAAalB,IAAIvE,KAAK24I,gBAAiB,QAAS34I,KAAKs6I,YAAat6I,QAG1EuzI,EAAS/3I,UAAUk5I,iBAAmB,WAC9B10I,KAAK24I,kBACLlzI,GAAaf,OAAO1E,KAAK24I,gBAAiB,OAAQ34I,KAAKm6I,aACvD10I,GAAaf,OAAO1E,KAAK24I,gBAAiB,WAAY34I,KAAKo6I,WAC3D30I,GAAaf,OAAO1E,KAAK24I,gBAAiB,YAAa34I,KAAKq6I,eAGpE9G,EAAS/3I,UAAU6+I,YAAc,SAAUj5I,GACvCpB,KAAK24I,gBAAgBngJ,UAAUkM,OAzrBtB,wBA2rBb6uI,EAAS/3I,UAAU4+I,UAAY,SAAUh5I,GAChCpB,KAAKinB,UAGVjnB,KAAK24I,gBAAgBngJ,UAAU+L,IA/rBtB,uBAgsBTnD,EAAEomB,iBACFpmB,EAAEm4H,oBAENga,EAAS/3I,UAAU2+I,YAAc,SAAU/4I,GACvCpB,KAAK24I,gBAAgBngJ,UAAUkM,OApsBtB,uBAqsBT1E,KAAKm5I,cAAc/3I,GACnBA,EAAEomB,iBACFpmB,EAAEm4H,mBAGNga,EAAS/3I,UAAU8+I,YAAc,SAAU/9I,GACvC,GAAI1D,GAAO0D,EAAMg+I,cAAc5iJ,KAC/B,IAAoB,IAAhBkB,EAAKN,OAAT,CAGA,GAAIiiJ,MAAe74I,MAAMf,KAAK/H,GAAM,EACZ,UAAnB2hJ,EAAUC,MAAoBD,EAAUzgJ,KAAKmX,MAAM,YACpDlR,KAAK06I,oBAAoBn+I,GAAQi+I,EAAUG,cAAc,GAAO,KAGxEpH,EAAS/3I,UAAUs+I,YAAc,SAAU75I,GACvC,GAAKD,KAAKinB,QAAV,CAGA,GAAI2zH,GAAkB36I,EAAK4I,OAAOmN,cAC9B9d,EAAQ8H,KAAK0zI,SAASl1I,QAAQo8I,GAC9BpzC,EAAYxnG,KAAK0zI,SAASx7I,GAC1BggJ,EAAWl4I,KAAK2zI,UAAUz7I,EAC9B,IAAI+H,EAAK4I,OAAOrQ,UAAUC,SAASm6I,KAE/B,GADAsF,EAASK,WAAa,KACjB96I,EAAkB+pG,GAAY,CAC/B,GAAIqzC,GAAgBrzC,EAAU1kG,cAAc,IAAM8vI,GAClDr2H,KAAgB1T,OAAQgyI,EAAenjI,MAAO,SAC9CuM,GAAY42H,QAIhB76I,MAAK0E,OAAOwzI,GAAU,GAAO,EAAOj4I,EAExCD,MAAKnG,QAAQmD,MAAQ,GACrBgD,KAAK41I,4BAETrC,EAAS/3I,UAAUs/I,gBAAkB,SAAUpB,EAAMqB,GACjD,GAAI7iJ,EACJ,IAAI6iJ,EAKA,YAJK/6I,KAAKw4I,eACNtgJ,EAAQ8H,KAAK2zI,UAAUn1I,QAAQk7I,GAC/B15I,KAAK2zI,UAAUppH,OAAOryB,EAAO,IAIrC,IAAI0iJ,GAAkB56I,KAAKg7I,aAAatB,EACpCj8I,GAAkBm9I,KAGtBr1I,EAAOq1I,GACP1iJ,EAAQ8H,KAAK0zI,SAASl1I,QAAQo8I,GAC9B56I,KAAK0zI,SAASnpH,OAAOryB,EAAO,GAC5B8H,KAAK2zI,UAAUppH,OAAOryB,EAAO,GACA,IAAzB8H,KAAK0zI,SAASn7I,QAAiBkF,EAAkBuC,KAAKu1I,cACtDhwI,EAAOvF,KAAKu1I,YACZv1I,KAAKu1I,WAAa,KAClBv1I,KAAK01I,yBAGbnC,EAAS/3I,UAAUy/I,mBAAqB,SAAUvB,EAAMrrI,EAAW6sI,EAAgBpsG,GAC/E,GAAI/uC,GAAQC,KACRm7I,EAAgBzB,EAChBzmH,EAAOjzB,KAAKnG,QAAQ4M,aAAa,QACjCg3F,EAAO,GAAI7tE,IAAK5vB,KAAK+2I,cAAc/gD,UAAW,QAAQ,EAAM,MAC5DolD,EAAW,GAAIC,UACf7zC,EAAYxnG,KAAKg7I,aAAatB,EAClCj8C,GAAKnsE,WAAa,SAAUlwB,GAKxB,GAJAiN,EAAUitI,eAAiB79C,EAAKltE,YAC3B2qH,GACDn7I,EAAM0oB,QAAQ,WAAYpa,GAE1BA,EAAU8hB,OAEV,YADA/uB,EAAE+uB,QAAS,EAGf,MAAK1yB,EAAkB+pG,IAAgB/pG,EAAkB+pG,EAAU1kG,cAAc,IAAM6vI,MAClFl1I,EAAkB+pG,EAAU1kG,cAAc,IAAM4vI,MAAgB,CACjE,GAAImI,OAAgB,EAGpBt+H,KAAgB1T,OAFhBgyI,EAAgBrzC,EAAU1kG,cAAc,IAAM6vI,IAAenrC,EAAU1kG,cAAc,IAAM6vI,IACvFnrC,EAAU1kG,cAAc,IAAM4vI,IACKh7H,MAAO,SAC9CuM,GAAY42H,GAEZxsI,EAAUktI,cAAgB99I,EAAkB09I,EAAchD,UAAsC,KAA1BgD,EAAchD,QACpFiD,EAAS91I,OAAO2tB,EAAMkoH,EAAchD,SAGpCiD,EAAS91I,OAAO2tB,EAAMkoH,EAAcloH,MAExClzB,EAAMy7I,eAAeJ,EAAU/sI,EAAUotI,iBAE7Ch+C,EAAK9sE,OAAS,SAAUvvB,GAAsD,MAAjDrB,GAAM27I,gBAAgBt6I,EAAG+5I,EAAersG,OAErE2uD,EAAKxsE,QAAU,SAAU7vB,GAAmD,MAA9CrB,GAAM47I,aAAav6I,EAAG+5I,EAAersG,OACnE2uD,EAAKvtE,KAAKkrH,IAGd7H,EAAS/3I,UAAUggJ,eAAiB,SAAUJ,EAAUQ,GACpD,GAAIA,EAAWrjJ,OAAS,GAAKqjJ,EAAW,GASpC,IAAK,GAAIvjJ,GAAI,EAAGA,EAAIujJ,EAAWrjJ,OAAQF,KARzB,SAAUA,GACpB,GAAIoE,GAAOm/I,EAAWvjJ,GAElB2E,EAAQuB,OAAOjB,KAAKb,GAAMukC,IAAI,SAAU5/B,GACxC,MAAO3E,GAAK2E,IAEhBg6I,GAAS91I,OAAO/G,OAAOjB,KAAKb,GAAM,GAAIO,IAG9B3E,IAIpBk7I,EAAS/3I,UAAUkgJ,gBAAkB,SAAUt6I,EAAG22I,EAAOgD,GACrD,GAAI96I,IACAmB,EAAGA,EAAGi1H,UAAW,SAAUqjB,KAAM15I,KAAK67I,aAAa9D,EAAO/3I,KAAKi1I,eAAe,yBAA0B,KAE5Gj1I,MAAKyoB,QAAQ,UAAWxoB,GACxBD,KAAK86I,gBAAgB/C,EAAOgD,EAC5B,IAAI7iJ,GAAQ8H,KAAK4zI,kBAAkBp1I,QAAQu5I,EAC3C/3I,MAAK4zI,kBAAkBrpH,OAAOryB,EAAO,GACrC8H,KAAKyoB,QAAQ,UAAYsvH,MAAO/3I,KAAK4zI,qBAEzCL,EAAS/3I,UAAUmgJ,aAAe,SAAUv6I,EAAG22I,EAAOgD,GAClD,GAAI96I,IACAmB,EAAGA,EAAGi1H,UAAW,SAAUqjB,KAAM15I,KAAK67I,aAAa9D,EAAO/3I,KAAKi1I,eAAe,wBAAyB,KAE3G,KAAK8F,EAAgB,CACjB,GAAI7iJ,GAAQ8H,KAAK2zI,UAAUn1I,QAAQu5I,GAC/B+D,EAAc97I,KAAK0zI,SAASx7I,EAChC,IAAI4jJ,EAAa,CACb,GAAIC,GAAgBD,EAAYh5I,cAAc,IAAM2vI,GACpDqJ,GAAYtjJ,UAAUkM,OAAOsuI,IAC7B+I,EAAcvjJ,UAAUkM,OAAOsuI,IAC/B8I,EAAYtjJ,UAAU+L,IAAI0uI,IAC1B8I,EAAcvjJ,UAAU+L,IAAI0uI,IAEhCjzI,KAAK41I,0BAET51I,KAAKyoB,QAAQ,UAAWxoB,EACxB,IAAIunG,GAAYxnG,KAAKg7I,aAAajD,EAC7Bt6I,GAAkB+pG,IAAe/pG,EAAkB+pG,EAAU1kG,cAAc,IAAM6vI,OAElFnuH,GADoBgjF,EAAU1kG,cAAc,IAAM6vI,KAElDptI,EAAOiiG,EAAU1kG,cAAc,sBAIvCywI,EAAS/3I,UAAUwgJ,mBAAqB,SAAUz/I,GAC9CyD,KAAKi8I,eACL,IAAItkJ,EAGJ,IAFAA,EAAQqI,KAAKyzI,SAAWl3I,EAAM2/I,aAAavkJ,OAAS4E,EAAM2/I,aAAavkJ,MAAM,IAClDqI,KAAKm8I,qBAAqBxkJ,GAoBrD,IAAK,GADD2oD,GAAStgD,KACJ3H,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,KAhBpB,SAAUA,GACpB,GAAIQ,GAAOlB,EAAMU,GAAG+jJ,kBACpB,IAAIvjJ,EAAKwjJ,OAAQ,CACb,GAAIC,KAEJzjJ,GAAK6gJ,KAAK,SAAU6C,GAChB,GAAI75H,GAAO7pB,EAAK2jJ,QAChBF,GAAQtjJ,MAAO0pB,KAAQA,EAAMg3H,KAAQ6C,MAEzCj8F,EAAOo6F,oBAAoBn+I,EAAO+/I,GAAS,OAEtCzjJ,GAAK4jJ,aACVn8F,EAAOo8F,iBAAiB7jJ,EAAM0D,IAK1BlE,IAIhBk7I,EAAS/3I,UAAU2gJ,qBAAuB,SAAUxkJ,GAChD,IAAK,GAAIU,GAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAE9B,GADWV,EAAMU,GAAG+jJ,mBACXK,YACL,OAAO,CAGf,QAAO,GAIXlJ,EAAS/3I,UAAUkhJ,iBAAmB,SAAU7jJ,EAAM0D,GAClD,GAAIwD,GAAQC,IACZ,IAAsB,oBAAW,CAS7B,IAAK,GARD28I,MAOA/jF,EAAS54D,KACJ3H,EAAI,EAAGA,EAAI2H,KAAKi8I,aAAa1jJ,OAAQF,KAPhC,SAAUA,GACpBugE,EAAOqjF,aAAa5jJ,GAAGqhJ,KAAK,SAAU6C,GAClC,GAAI75H,GAAO3iB,EAAMk8I,aAAa5jJ,GAAGmkJ,QACjCG,GAAQ3jJ,MAAO0pB,KAAQA,EAAMg3H,KAAQ6C,OAKjClkJ,EAEZ2H,MAAK06I,oBAAoBn+I,EAAOogJ,GAAS,OAEpC9jJ,GAAKwjJ,OACVr8I,KAAKi8I,aAAajjJ,KAAKH,GAElBA,EAAK4jJ,aACY5jJ,EAAK+jJ,eACXC,YAAY,SAAUC,GAClC,IAAK,GAAIzkJ,GAAI,EAAGA,EAAIykJ,EAAQvkJ,OAAQF,IAChC0H,EAAM28I,iBAAiBI,EAAQzkJ,GAGnC0H,GAAM28I,kBAAiB,GACvB38I,EAAMk8I,mBAKlB1I,EAAS/3I,UAAU29I,cAAgB,SAAUl5I,GACzC,GAAKD,KAAKinB,QAAV,CAGA,GAAI81H,EACJ,IAAkB,SAAd98I,EAAKlG,KAEL,GAAIiG,KAAKm3I,gBACLn3I,KAAKg8I,mBAAmB/7I,OAEvB,CACD,GAAI83I,GAAQ93I,EAAKi8I,aAAanE,KAC9BgF,GAAc/8I,KAAKyzI,SAAWzzI,KAAKg9I,aAAajF,IAAUA,EAAM,IAChE/3I,KAAK06I,oBAAoBz6I,EAAM88I,OAInCA,MAAiBp7I,MAAMf,KAAKX,EAAK4I,OAAOkvI,OACxC/3I,KAAK06I,oBAAoBz6I,EAAM88I,KAGvCxJ,EAAS/3I,UAAUk/I,oBAAsB,SAAUz6I,EAE/C88I,EAAaE,EAAWC,GACxB,KAAIH,EAAYxkJ,OAAS,GAAzB,CAGA,GAAI2/I,KACCl4I,MAAKyzI,WACNzzI,KAAKg4I,WAAU,GACf+E,GAAeA,EAAY,IAE/B,KAAK,GAAI1kJ,GAAI,EAAGA,EAAI0kJ,EAAYxkJ,OAAQF,IAAK,CACzC,GAAIqhJ,GAAOuD,EAAYF,EAAY1kJ,GAAGqhJ,KAAOqD,EAAY1kJ,GAIrD8kJ,GACAlqH,KAJWgqH,EAAYF,EAAY1kJ,GAAGqqB,KAAKwD,UAAU,EAAG62H,EAAY1kJ,GAAGqqB,KAAKnqB,QAAU2kJ,EACtF19I,EAAYk6I,EAAKzmH,KAAK/M,UAAU,EAAGwzH,EAAKzmH,KAAK0W,YAAY,OAAS,IAAM3pC,KAAKo9I,YAAY1D,EAAKzmH,MAC9FjzB,KAAKm3I,gBAAkB4F,EAAY1kJ,GAAGglJ,mBAAqB3D,EAAKzmH,KAGhEklH,QAASuB,EACT/9G,KAAM+9G,EAAK/9G,KACXnsB,OAAQxP,KAAKi1I,eAAe,wBAC5Bl7I,KAAMiG,KAAKo9I,YAAY1D,EAAKzmH,MAC5BmlH,mBAAoBp4I,KAAKs9I,kBAAkB5D,EAAK/9G,MAChD48G,WAAY,IAEZ2E,KACAC,EAAYI,WAAa,SAE7BJ,EAAY3tI,OAAoD,KAA3C2tI,EAAY/E,mBAAmBC,QAAiBr4I,KAAKi1I,eAAe,sBAC1C,KAA3CkI,EAAY/E,mBAAmBE,QAAiBt4I,KAAKi1I,eAAe,sBAAwBkI,EAAY3tI,OAC7D,KAA3C2tI,EAAY/E,mBAAmBC,SAA6D,KAA3C8E,EAAY/E,mBAAmBE,UAChF6E,EAAY5E,WAAa,KAE7BL,EAASl/I,KAAKmkJ,GAElB,GAAI9uI,IACA9R,MAAO0D,EACPkwB,QAAQ,EACRwjH,UAAWuE,EACXsF,YAAY,EACZC,qBACAC,iBAAkB,GAStB,IAPI19I,KAAKk0I,kBAAkB11I,QAAQ,MAAQ,IACvCwB,KAAK8zI,UAAW,GAEf9zI,KAAK8zI,WACNoE,EAAWl4I,KAAK29I,eAAezF,IAEnCl4I,KAAKyoB,QAAQ,WAAYpa,IACrBA,EAAU8hB,OAGd,GAAInwB,KAAKw4I,aAAc,CACnB,GAAInqI,EAAUmvI,YAAcnvI,EAAUovI,kBAAkBllJ,OAAS,EAAG,CAChE,GAAIqlJ,GAAY59I,KAAK8zI,SAAWzlI,EAAUovI,kBACtCz9I,KAAK29I,eAAetvI,EAAUovI,kBAClCz9I,MAAK69I,qBAAqBD,GAC1B59I,KAAK2zI,UAAYiK,EACZ59I,KAAK6zI,QACN7zI,KAAKi5I,gBAAgB2E,OAIzB59I,MAAKw1I,eAAe0C,GACpBl4I,KAAK2zI,UAAY3zI,KAAK2zI,UAAUz3H,OAAOg8H,GAClCl4I,KAAK6zI,QACN7zI,KAAKi5I,gBAAgBf,EAGxBz6I,GAAkB4Q,EAAUqvI,mBAAoD,KAA/BrvI,EAAUqvI,mBAC5D19I,KAAK09I,iBAAmBrvI,EAAUqvI,sBAItC19I,MAAK2zI,UAAY3zI,KAAK2zI,UAAUz3H,OAAOg8H,GACnCl4I,KAAKq1I,YACLr1I,KAAKoxB,OAAOpxB,KAAK2zI,WAAW,KAIxCJ,EAAS/3I,UAAUw8I,UAAY,SAAU8F,GAChCrgJ,EAAkBuC,KAAKu1I,cACxBhwI,EAAOvF,KAAKu1I,YACZv1I,KAAKu1I,WAAa,MAEI,SAAtBnpI,GAAQwc,KAAKqK,MAAoB6qH,IACjC99I,KAAKnG,QAAQmD,MAAQ,IAEzBgD,KAAK0zI,YACL1zI,KAAK2zI,aACL3zI,KAAK01I,uBAETnC,EAAS/3I,UAAUqiJ,qBAAuB,SAAUlK,GAChD,GAEIoK,GAFAC,EAAoBh+I,KAAKyB,cAAc,OAASkC,GAAI,iBACpDuyF,GAAS,CAEb,IAAIl2F,KAAKu1I,WAAY,CACjB,IAAK,GAAIl9I,GAAI,EAAGA,EAAI2H,KAAKu1I,WAAW36I,iBAAiB,MAAMrC,OAAQF,IAAK,CACpE,GAAImvG,GAAYxnG,KAAKu1I,WAAW36I,iBAAiB,MAAMvC,EACvD2lJ,GAAkBj8I,YAAYylG,EAAUxlG,WAAU,IAGtD,IAAK,GAAI3D,GAAK,EAAG4/I,EADjBF,EAAc/9I,KAAKu1I,WAAW36I,iBAAiB,MACDyD,EAAK4/I,EAAc1lJ,OAAQ8F,IAErEkH,EADW04I,EAAc5/I,GAG7B2B,MAAK01I,qBACL,IAAIwI,MAAav8I,MAAMf,KAAKo9I,EAAkB1jJ,WAC9CiL,GAAOvF,KAAKu1I,YACZv1I,KAAKu1I,WAAa,KAClBv1I,KAAK0zI,YACL1zI,KAAKm+I,gBACL,KAAK,GAAIjmJ,GAAQ,EAAGA,EAAQy7I,EAAUp7I,OAAQL,IAAS,CACnD,IAAK,GAAIstB,GAAI,EAAGA,EAAIxlB,KAAK2zI,UAAUp7I,OAAQitB,IACnCxlB,KAAK2zI,UAAUnuH,GAAGyN,OAAS0gH,EAAUz7I,GAAO+6B,OAC5CjzB,KAAKu1I,WAAWxzI,YAAYm8I,EAAQ14H,IACpC/f,GAAalB,IAAI25I,EAAQ14H,GAAG1iB,cAAc,YAAa,QAAS9C,KAAK85I,YAAa95I,MAClFA,KAAK0zI,SAAS16I,KAAKklJ,EAAQ14H,IAC3B0wE,EAAQh+F,EAGZg+F,KAAUh+F,GACV8H,KAAKw1I,gBAAgB7B,EAAUz7I,UAKvC8H,MAAKw1I,eAAe7B,IAG5BJ,EAAS/3I,UAAU4iJ,QAAU,SAAUxtI,GACnC,OAASA,GAAO,QAAQ3W,KAAK2W,IAEjC2iI,EAAS/3I,UAAUmiJ,eAAiB,SAAU5F,GAC1C,GAAIsG,GAAYtG,CAChB,KAAK/3I,KAAKo+I,QAAQp+I,KAAKk0I,mBAAoB,CAGvC,IAAK,GAFDA,MAEK71I,EAAK,EAAGigJ,EADAt+I,KAAKk0I,kBAAkBh3I,MAAM,KACFmB,EAAKigJ,EAAa/lJ,OAAQ8F,IAAM,CACxE,GAAIkgJ,GAAYD,EAAajgJ,EAC7B61I,GAAkBl7I,KAAKulJ,EAAU9sI,OAAOlY,qBAE5C,IAAK,GAAIlB,GAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,KACgD,IAA1E67I,EAAkB11I,SAAS,IAAMu5I,EAAM1/I,GAAG0B,MAAMR,uBAChDw+I,EAAM1/I,GAAGmX,OAASxP,KAAKi1I,eAAe,mBACtC8C,EAAM1/I,GAAGkgJ,WAAa,KAIlC,MAAO8F,IAEX9K,EAAS/3I,UAAU8hJ,kBAAoB,SAAUkB,GAC7C,GAAIC,GAAe,GACfC,EAAe,EAYnB,OAXIF,GAAWx+I,KAAK2+I,YAChBF,EAAez+I,KAAKi1I,eAAe,sBAE9BuJ,EAAWx+I,KAAK4+I,YACrBF,EAAe1+I,KAAKi1I,eAAe,uBAGnCwJ,EAAe,GACfC,EAAe,KAEErG,QAASoG,EAAcnG,QAASoG,IAGzDnL,EAAS/3I,UAAUqjJ,qBAAuB,SAAU3G,GAChDl4I,KAAKm+I,gBACL,KAAK,GAAI9/I,GAAK,EAAGygJ,EAAa5G,EAAU75I,EAAKygJ,EAAWvmJ,OAAQ8F,IAAM,CAClE,GAAIqqG,GAAWo2C,EAAWzgJ,GACtBmpG,EAAYxnG,KAAKyB,cAAc,MAAQiC,UAAW8uI,GAAM1uI,OAASi7I,iBAAkBr2C,EAASz1E,OAChGjzB,MAAKg/I,iBAAmBh/I,KAAKi/I,iBAAiBj/I,KAAKwQ,UACnDxQ,KAAKu1I,WAAWxzI,YAAYylG,GAE5BliG,KADsB3D,MAAMf,KAAKZ,KAAKg/I,iBAAiBt2C,IAClClB,GACrBxnG,KAAK0zI,SAAS16I,KAAKwuG,KAG3B+rC,EAAS/3I,UAAU2iJ,eAAiB,WAC5B1gJ,EAAkBuC,KAAKu1I,cACvBv1I,KAAKu1I,WAAav1I,KAAKyB,cAAc,MAAQiC,UAznCvC,mBA0nCN1D,KAAKk1I,cAAcnzI,YAAY/B,KAAKu1I,cAG5ChC,EAAS/3I,UAAUg6I,eAAiB,SAAU0C,GAE1C,GADAl4I,KAAKm+I,iBACiB,KAAlBn+I,KAAKwQ,UAAoB/S,EAAkBuC,KAAKwQ,UAIhD,IAAK,GAAInS,GAAK,EAAG6gJ,EAAahH,EAAU75I,EAAK6gJ,EAAW3mJ,OAAQ8F,IAAM,CAClE,GAAIqqG,GAAWw2C,EAAW7gJ,GACtBmpG,EAAYxnG,KAAKyB,cAAc,MAAQiC,UAAW8uI,GAAM1uI,OAASi7I,iBAAkBr2C,EAASz1E,QAC5FksH,EAAgBn/I,KAAKyB,cAAc,QAAUiC,UAlnC5C,qBAmnCD07I,EAAcp/I,KAAKyB,cAAc,QAAUiC,UAjoC/C,cAioCqEI,OAAS4pD,MAASg7C,EAASz1E,OAChGmsH,GAAY5kJ,UAAYwF,KAAKq/I,gBAAgB32C,EAASz1E,KACtD,IAAIqsH,GAAgBt/I,KAAKyB,cAAc,QAAUiC,UAloCjD,eAooCA,IADA47I,EAAc9kJ,UAAY,IAAMwF,KAAKo9I,YAAY10C,EAASz1E,MACrDjzB,KAAKuP,UAIL,CACD,GAAIgwI,GAAev/I,KAAKyB,cAAc,QAAUiC,UAxnChD,mBAynCA67I,GAAax9I,YAAYu9I,GACzBC,EAAax9I,YAAYq9I,GACzBD,EAAcp9I,YAAYw9I,OAP1BJ,GAAcp9I,YAAYq9I,GAC1BD,EAAcp9I,YAAYu9I,EAQ9B,IAAId,GAAWx+I,KAAKyB,cAAc,QAAUiC,UA7oC5C,eA8oCA86I,GAAShkJ,UAAYwF,KAAKw/I,YAAY92C,EAAS/sE,MAC/CwjH,EAAcp9I,YAAYy8I,EAC1B,IAAIzC,GAAgB/7I,KAAKyB,cAAc,QAAUiC,UAAW+uI,IAC5D0M,GAAcp9I,YAAYg6I,GAC1BA,EAAcvhJ,UAAYkuG,EAASl5F,OACnCg4F,EAAUzlG,YAAYo9I,EACtB,IAAIjF,GAAcl6I,KAAKyB,cAAc,QAAUiC,UAAW,WAAYI,OAASkuG,SAAY,OAEjE,UAAtB5lG,GAAQwc,KAAKqK,MACbinH,EAAY1hJ,UAAU+L,IAAI,UAE9B21I,EAAYr2I,aAAa,QAAS7D,KAAKi1I,eAAe,WACtDztC,EAAUzlG,YAAYm4I,GACtBz0I,GAAalB,IAAI21I,EAAa,QAASl6I,KAAK85I,YAAa95I,MAC7B,MAAxB0oG,EAAS6vC,YACTwD,EAAcvjJ,UAAU+L,IAAIyuI,IAC5BkH,EAAY1hJ,UAAU+L,IAAIouI,IAC1BuH,EAAYr2I,aAAa,QAAS7D,KAAKi1I,eAAe,YAEzB,MAAxBvsC,EAAS6vC,aACdwD,EAAcvjJ,UAAUkM,OAAOsuI,IAC/B+I,EAAcvjJ,UAAU+L,IAtpCrB,uBAwpCHvE,KAAKq1I,YAAsC,MAAxB3sC,EAAS6vC,YAAqD,KAA/Bv4I,KAAK+2I,cAAcC,UACrE+E,EAAcvhJ,UAAY,IAEzB0/I,EAAY1hJ,UAAUC,SAASk6I,KAChCuH,EAAY1hJ,UAAU+L,IAAImuI,IAE9B1yI,KAAKu1I,WAAWxzI,YAAYylG,GAC5BxnG,KAAK0zI,SAAS16I,KAAKwuG,GACnBxnG,KAAKy/I,aAAaL,OArDtBp/I,MAAK6+I,qBAAqB3G,IAyDlC3E,EAAS/3I,UAAUikJ,aAAe,SAAUxsH,GACxC,GACIx5B,GADAimJ,EAAczsH,CAEdysH,GAAY56I,YAAc46I,EAAYC,cACtClmJ,EAAOimJ,EAAYhmJ,YACnBgmJ,EAAYppC,QAAQspC,KAAOnmJ,EAAKkI,MAAMlI,EAAKlB,OAAS,MAG5Dg7I,EAAS/3I,UAAU4hJ,YAAc,SAAUnqH,GACvC,GAAIsrH,GACArmJ,EAAQ+6B,EAAK0W,YAAY,IAI7B,OAHIzxC,IAAS,IACTqmJ,EAAYtrH,EAAK/M,UAAUhuB,EAAQ,IAEhCqmJ,GAAwB,IAEnChL,EAAS/3I,UAAU6jJ,gBAAkB,SAAUpsH,GAC3C,GAAIl5B,GAAOiG,KAAKo9I,YAAYnqH,EAE5B,OAAOl5B,GADKk5B,EAAK/1B,MAAM,IAAMnD,GACT,IAExBw5I,EAAS/3I,UAAUqkJ,qBAAuB,WAOtC,GANI7/I,KAAKwzI,YAAY9rF,QACjB1nD,KAAKnG,QAAQgK,aAAa,SAAU7D,KAAKwzI,YAAY9rF,QAErD1nD,KAAKwzI,YAAY/0C,UACjBz+F,KAAKnG,QAAQgK,aAAa,WAAY,YAEtC7D,KAAKwzI,YAAYC,SAAU,CAC3B,GAAIqF,GAAU/9I,SAASg+I,gBAAgB,WACvC/4I,MAAKnG,QAAQm/I,iBAAiBF,KAGtCvF,EAAS/3I,UAAUskJ,eAAiB,SAAU/H,GAG1C,IAAK,GAFDgI,MAEK1nJ,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IACzB2H,KAAKg7I,aAAajD,EAAM1/I,IACrBG,UAAUC,SAASu6I,KACvB+M,EAAY/mJ,KAAK++I,EAAM1/I,GAG/B,OAAO0nJ,IAEXxM,EAAS/3I,UAAUqgJ,aAAe,SAAU9D,EAAOvoI,EAAQ+oI,GACtC,KAAX/oI,GAAiB/R,EAAkB+R,IAA6B,KAAf+oI,GAAqB96I,EAAkB86I,KAC1FR,EAAMvoI,OAASA,EACfuoI,EAAMQ,WAAaA,EAEvB,IAAI12C,GAAK7hG,KAAKg7I,aAAajD,EAM3B,OALKt6I,GAAkBokG,IACdpkG,EAAkBokG,EAAG/+F,cAAc,IAAM2vI,MAA0B,KAAXjjI,GAAiB/R,EAAkB+R,KAC5FqyF,EAAG/+F,cAAc,IAAM2vI,IAAQ/4I,YAAc8V,GAG9CuoI,GAEXxE,EAAS/3I,UAAUw/I,aAAe,SAAUjD,GAExC,IAAK,GADD7/I,GACKG,EAAI,EAAGA,EAAI2H,KAAK2zI,UAAUp7I,OAAQF,IACnC2H,KAAK2zI,UAAUt7I,GAAG46B,OAAS8kH,EAAM9kH,OACjC/6B,EAAQG,EAGhB,OAAO2H,MAAK0zI,SAASx7I,IAEzBq7I,EAAS/3I,UAAUwkJ,kBAAoB,SAAUx4C,GAC7C,GAAIy4C,GAAqBjgJ,KAAKyB,cAAc,QAAUiC,UAAWovI,KAC7DoN,EAAclgJ,KAAKyB,cAAc,eAAiBiC,UAAWqvI,GAAajvI,OAAS9G,MAAO,IAAKqQ,IAAK,SACpG8yI,EAA0BngJ,KAAKyB,cAAc,QAAUiC,UApuCtC,yBAquCrBw8I,GAAYr8I,aAAa,QAAS,YAClC,IAAIu8I,GAAkBpgJ,KAAKyB,cAAc,QAAUiC,UAhvCpC,uBAivCf08I,GAAgB1mJ,YAAc,KAC9BymJ,EAAwBp+I,YAAYm+I,GACpCD,EAAmBl+I,YAAYo+I,GAC/BF,EAAmBl+I,YAAYq+I,GAC/B54C,EAAU1kG,cAAc,qBAAsBf,YAAYk+I,IAG9D1M,EAAS/3I,UAAU6kJ,kBAAoB,SAAUj/I,EAAGygG,GAChD,IAAKv4D,MAAMl8B,KAAKgoG,MAAOh0G,EAAEk/I,OAASl/I,EAAEm/I,MAAS,QAAU9iJ,EAAkBokG,EAAG/+F,cAAc,IAAMiwI,KAC5F,GAAKt1I,EAAkBuC,KAAK09I,mBAA+C,KAA1B19I,KAAK09I,iBAOlD19I,KAAKwgJ,oBAAoB3+C,EAAIz0F,KAAKgoG,MAAOh0G,EAAEk/I,OAASl/I,EAAEm/I,MAAS,KAAK5/I,WAAa,SAPN,CAC3E,GAAI3D,GAASoQ,KAAKgoG,MAAOh0G,EAAEk/I,OAASl/I,EAAEm/I,MAAS,KAAQvmH,SAASh6B,KAAK09I,iBAAkB,GACzE,KAAV1gJ,GAAyB,MAAVA,GACfgD,KAAKwgJ,oBAAoB3+C,EAAIz0F,KAAKgoG,MAAOh0G,EAAEk/I,OAASl/I,EAAEm/I,MAAS,KAAK5/I,WAAa,OAQjG4yI,EAAS/3I,UAAUglJ,oBAAsB,SAAU3+C,EAAI4+C,GACnD5+C,EAAG/+F,cAAc,IAAMiwI,IAAalvI,aAAa,QAAS,SAAW48I,GACrE5+C,EAAG/+F,cAAc,wBAAwBpJ,YAAc+mJ,GAE3DlN,EAAS/3I,UAAUklJ,iBAAmB,SAAUt/I,EAAG22I,EAAO4I,EAAU1rD,GAChE,GAAI4M,GAAK7hG,KAAKg7I,aAAajD,EAC3B,KAAIt6I,EAAkBokG,IAAS8+C,EAA/B,CAGA,GAAKljJ,EAAkBokG,GAoBnB7hG,KAAK4gJ,oBAAoB7I,EAAO32I,EAAG6zF,OApBX,CAEC,MAArB8iD,EAAMQ,YACNv4I,KAAK4gJ,oBAAoB7I,EAAO32I,EAAG6zF,EAAS4M,GAE1CA,EAAGjnG,iBAAiB,IAAMk4I,IAAkBv6I,OAAS,IAAMspG,EAAG/+F,cAAc,IAAM2vI,MACpF5wC,EAAG/+F,cAAc,IAAM2vI,IAAQj6I,UAAU+L,IAnxCjC,qBAoxCRvE,KAAKggJ,kBAAkBn+C,GACvB7hG,KAAK6gJ,yBAAyBh/C,EArxCtB,qBAsxCRA,EAAG/+F,cAAc,IAAM2vI,IAAQj6I,UAAUkM,OAAOuuI,KAEpDjzI,KAAKqgJ,kBAAkBj/I,EAAGygG,EAC1B,IAAIoxB,GAAUpxB,EAAG/+F,cAAc,IAAM4vI,GAChCj1I,GAAkBw1H,KACnBA,EAAQz6H,UAAU+L,IAAIquI,GA3xCd,qBA4xCR3f,EAAQpvH,aAAa,QAAS7D,KAAKi1I,eAAe,UAClDhiB,EAAQz6H,UAAUkM,OAAOguI,KAMjC,GAAIzyI,IAASmB,EAAGA,EAAGi1H,UAAW,SAAUqjB,KAAM15I,KAAK67I,aAAa9D,EAAO/3I,KAAKi1I,eAAe,cAAe,KAC1Gj1I,MAAKyoB,QAAQ,WAAYxoB,KAG7BszI,EAAS/3I,UAAUolJ,oBAAsB,SAAU7I,EAAO32I,EAAG6zF,EAAS4M,GAClE,GAAI9hG,GAAQC,IACZ,IAAyB,MAArB+3I,EAAMQ,WAAoB,CAC1B,GAAIlqI,IACA9R,MAAO6E,EACP82I,SAAUH,EACV5nH,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,YAAapa,GACtBA,EAAU8hB,OAAQ,CAElB,GADA4nH,EAAMQ,WAAa,KACd96I,EAAkBokG,GAAK,CACxB,GAAIg5C,GAAgBh5C,EAAG/+F,cAAc,IAAM8vI,GACtCn1I,GAAkBo9I,KACnBr2H,GAAYq2H,GACZt1I,EAAOs8F,EAAG/+F,cAAc,qBAGhC,OAEJmyF,EAAQjlE,WAAY,EACpBilE,EAAQ1kE,YAAYmxB,OACpB,IAAI05F,GAAW,GAAIC,SACnB,IAAyB,MAArBtD,EAAMQ,WAAoB,CAC1B,GAAItJ,GAASjvI,KAAKnG,QAAQ4M,aAAa,OACvC20I,GAAS91I,OAAO2pI,EAAQ8I,EAAM9kH,MAC9BmoH,EAAS91I,OAAO,mBAAoByyI,EAAM9kH,KAC1C,IAAIwqE,GAAO,GAAI7tE,IAAK5vB,KAAK+2I,cAAc/gD,UAAW,QAAQ,EAAM,KAChEyH,GAAK9sE,OAAS,SAAUvvB,GAAyC,MAApCrB,GAAM+gJ,mBAAmB1/I,EAAG22I,OACzDt6C,EAAKvtE,KAAKkrH,MAItB7H,EAAS/3I,UAAUslJ,mBAAqB,SAAU1/I,EAAGs4I,GACjD,GAAIlyC,GAAYxnG,KAAKg7I,aAAatB,EAClC,KAAIlyC,EAAU1kG,cAAc,IAAM+vI,MAAep1I,EAAkB+pG,EAAU1kG,cAAc,IAAM8vI,KAAjG,CAGA5yI,KAAK67I,aAAanC,EAAM15I,KAAKi1I,eAAe,oBAAqB,KACjEj1I,KAAK+gJ,mBAAmB3/I,EAAGs4I,EAAMlyC,EACjC,IAAIqzC,GAAgBrzC,EAAU1kG,cAAc,IAAM4vI,GAC7Cj1I,GAAkB+pG,KACnBhjF,GAAYq2H,GACZt1I,EAAOiiG,EAAU1kG,cAAc,oBAEnC,IAAI7C,IAAS1D,MAAO6E,EAAGi1H,UAAW,SAAUqjB,KAAMA,EAClD15I,MAAKyoB,QAAQ,UAAWxoB,KAE5BszI,EAAS/3I,UAAUulJ,mBAAqB,SAAU3/I,EAAGs4I,EAAMlyC,GACvD,GAAIznG,GAAQC,IACZA,MAAK6gJ,yBAAyBr5C,EAAWyrC,IACzCjzI,KAAKghJ,kBAAkBx5C,EAAW,WAC7B/pG,EAAkB+pG,EAAU1kG,cAAc,oBAC3C0kG,EAAU1kG,cAAc,kBAAkBtK,UAAU+L,IAAI0uI,GAE5D,IAAIgO,GAAaz5C,EAAU1kG,cAAc,IAAM8vI,GAC3Cn1I,GAAkBwjJ,KAGtBA,EAAWzoJ,UAAUkM,OAAOkuI,GAl2CZ,qBAm2ChBqO,EAAWzoJ,UAAU+L,IAAImuI,IACzBuO,EAAWp9I,aAAa,QAAS7D,KAAKi1I,eAAe,WACrDj1I,KAAKkhJ,YAAclhJ,KAAKyB,cAAc,QAAUiC,UAAW,4BAA6BI,OAASkuG,SAAY,QAC7GxK,EAAUpiG,aAAapF,KAAKkhJ,YAAaD,GACzCjhJ,KAAKkhJ,YAAYr9I,aAAa,QAAS7D,KAAKi1I,eAAe,UACxCztC,EAAU1kG,cAAc,IAAM+vI,IAEpCn2I,iBAAiB,QAAS,SAAU0E,GAAKrB,EAAMohJ,mBAAmB//I,EAAGs4I,EAAMlyC,GAAW,KAAW,KAElH+rC,EAAS/3I,UAAU2lJ,mBAAqB,SAAU//I,EAAGs4I,EAAMlyC,EAAW14D,GAClE4qG,EAAKnB,WAAa,IAClBmB,EAAKlqI,OAASxP,KAAKi1I,eAAe,wBAC7BnmG,IACD04D,EAAU1kG,cAAc,IAAM2vI,IAAQj6I,UAAUkM,OAAOuuI,IAClDx1I,EAAkB+pG,EAAU1kG,cAAc,IAAM+vI,MACjDttI,EAAOiiG,EAAU1kG,cAAc,IAAM+vI,KAEzC7yI,KAAKkhJ,YAAc,MAEvBlhJ,KAAKoxB,QAAQsoH,KAGjBnG,EAAS/3I,UAAU4lJ,eAAiB,SAAUhgJ,EAAGs4I,EAAMiH,GACnD,GAAInxI,GAASpO,EAAEyH,MACf,IAA0B,IAAtB2G,EAAOyiB,YAAoBziB,EAAOA,QAAU,KAAOA,EAAOA,QAAU,IAAK,CACzE,GAAIqyF,GAAK7hG,KAAKg7I,aAAatB,EAC3B,IAAIj8I,EAAkBokG,MAAS8+C,GAAYljJ,EAAkBkjJ,IACzD,MAEJ,KAAKljJ,EAAkBokG,GAAK,CACxB7hG,KAAK6gJ,yBAAyBh/C,EAAImxC,IAClChzI,KAAKghJ,kBAAkBn/C,EAAI,UAC3B,IAAIoxB,GAAUpxB,EAAG/+F,cAAc,IAAM8vI,GAChCn1I,GAAkBw1H,KACnBA,EAAQz6H,UAAU+L,IAAIouI,IACtB1f,EAAQpvH,aAAa,QAAS7D,KAAKi1I,eAAe,WAClDhiB,EAAQz6H,UAAUkM,OAAOkuI,IACzB3f,EAAQz6H,UAAUkM,OAx4Cd,sBA24CZ1E,KAAKqhJ,kBAAkBjgJ,EAAGs4I,OAG1B15I,MAAKshJ,aAAalgJ,EAAGs4I,IAG7BnG,EAAS/3I,UAAU6lJ,kBAAoB,SAAUjgJ,EAAGs4I,GAChD,GAAIz5I,IAASmB,EAAGA,EAAGi1H,UAAW,SAAUqjB,KAAM15I,KAAK67I,aAAanC,EAAM15I,KAAKi1I,eAAe,wBAAyB,KACnHj1I,MAAKyoB,QAAQ,UAAWxoB,GACxBD,KAAK4zI,kBAAkB56I,KAAK0gJ,GAC5B15I,KAAKyoB,QAAQ,UAAYixH,KAAM15I,KAAK4zI,oBACpC5zI,KAAK41I,2BAETrC,EAAS/3I,UAAU8lJ,aAAe,SAAUlgJ,EAAGs4I,GAC3C,GAAI73C,GAAK7hG,KAAKg7I,aAAatB,GACvBz5I,GAASmB,EAAGA,EAAGi1H,UAAW,SAAUqjB,KAAM15I,KAAK67I,aAAanC,EAAM15I,KAAKi1I,eAAe,uBAAwB,KAC7Gx3I,GAAkBokG,IACnB7hG,KAAK+gJ,mBAAmB3/I,EAAGs4I,EAAM73C,GAErC7hG,KAAKyoB,QAAQ,UAAWxoB,GACxBD,KAAK41I,2BAETrC,EAAS/3I,UAAUqlJ,yBAA2B,SAAUh/C,EAAIn+F,GACxD,GAAIw8I,GAAcr+C,EAAG/+F,cAAc,IAAMiwI,GACpCt1I,GAAkByiJ,IACnBA,EAAY1nJ,UAAU+L,IAAIb,IAGlC6vI,EAAS/3I,UAAUwlJ,kBAAoB,SAAUn/C,EAAI0/C,GACjD,GAAIxhJ,GAAQC,IACPvC,GAAkBokG,EAAG/+F,cAAc,IAAMgwI,OAC1C9yI,KAAKwhJ,kBAAoB,GAAI1oH,KAAYrsB,SAAU,OACnDzM,KAAKwhJ,kBAAkB/nH,QAAQooE,EAAG/+F,cAAc,IAAMgwI,KAAqB7/G,KAAM,YACjFjzB,KAAKwhJ,kBAAkB/nH,QAAQooE,EAAG/+F,cAAc,yBAA2BmwB,KAAM,YACjFh7B,WAAW,WAAc8H,EAAM0hJ,mBAAmB5/C,EAAI0/C,IAAc,OAI5EhO,EAAS/3I,UAAUimJ,mBAAqB,SAAU5/C,EAAI0/C,GACjC,YAAbA,GACA1/C,EAAGrpG,UAAU+L,IAAIyuI,IACZv1I,EAAkBokG,EAAG/+F,cAAc,IAAM2vI,OAC1C5wC,EAAG/+F,cAAc,IAAM2vI,IAAQj6I,UAAUkM,OAr7CjC,qBAs7CR1E,KAAKwhJ,kBAAkB/nH,QAAQooE,EAAG/+F,cAAc,IAAM2vI,KAAWx/G,KAAM,WACvE4uE,EAAG/+F,cAAc,IAAM2vI,IAAQj6I,UAAU+L,IAAIyuI,MAI5Cv1I,EAAkBokG,EAAG/+F,cAAc,IAAM2vI,OAC1C5wC,EAAG/+F,cAAc,IAAM2vI,IAAQj6I,UAAUkM,OA57CjC,qBA67CR1E,KAAKwhJ,kBAAkB/nH,QAAQooE,EAAG/+F,cAAc,IAAM2vI,KAAWx/G,KAAM,WACvE4uE,EAAG/+F,cAAc,IAAM2vI,IAAQj6I,UAAU+L,IAAI0uI,KAGjDpxC,EAAG/+F,cAAc,IAAMgwI,KACvBvtI,EAAOs8F,EAAG/+F,cAAc,IAAMgwI,MAGtCS,EAAS/3I,UAAUy4I,cAAgB,SAAUyN,GACzC1hJ,KAAKnG,QAAQgK,aAAa,SAAU69I,IAExCnO,EAAS/3I,UAAUyjJ,iBAAmB,SAAU0C,GAC5C,GAAIA,EACA,IAEI,GAAI5mJ,SAASH,iBAAiB+mJ,GAAgBppJ,OAC1C,MAAOgY,IAAQxV,SAAS+H,cAAc6+I,GAAgBnnJ,UAAUiX,QAGxE,MAAOmwI,GACH,MAAOrxI,IAAQoxI,KAK3BpO,EAAS/3I,UAAU84I,OAAS,WACxBt0I,KAAKuP,UAAYvL,GAAUhE,KAAKk1I,eAl9C9B,SAk9CqD1wI,GAAaxE,KAAKk1I,eAl9CvE,UAo9CN3B,EAAS/3I,UAAUy5I,eAAiB,SAAU1xB,GAE1C,MADAvjH,MAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,QAClBhP,KAAKw7G,KAAKjvD,YAAYg3D,IAEjCgwB,EAAS/3I,UAAU44I,iBAAmB,WAC7Bp0I,KAAKinB,SAYFjnB,KAAKk1I,cAAc18I,UAAUC,SAp+C9B,eAq+CCuH,KAAKk1I,cAAc18I,UAAUkM,OAr+C9B,eAu+CEjH,EAAkBuC,KAAKg1I,eAAiBh1I,KAAKnG,QAAQmqH,aAAa,cACnEhkH,KAAKnG,QAAQyS,gBAAgB,YAC7BtM,KAAKg1I,aAAa1oI,gBAAgB,cAEjC7O,EAAkBuC,KAAKsnB,cAAgBtnB,KAAKsnB,YAAY08F,aAAa,aACtEhkH,KAAKsnB,YAAYhb,gBAAgB,aAEhC7O,EAAkBuC,KAAKs1I,eAAiBt1I,KAAKs1I,aAAatxB,aAAa,aACxEhkH,KAAKs1I,aAAatxB,aAAa,cAtBnChkH,KAAKk1I,cAAc18I,UAAU+L,IAz9C1B,cA09CHvE,KAAKnG,QAAQgK,aAAa,WAAY,YACtC7D,KAAKg1I,aAAanxI,aAAa,WAAY,YACtCpG,EAAkBuC,KAAKsnB,cACxBtnB,KAAKsnB,YAAYzjB,aAAa,WAAY,YAEzCpG,EAAkBuC,KAAKs1I,eACxBt1I,KAAKs1I,aAAazxI,aAAa,WAAY,cAmBvD0vI,EAAS/3I,UAAUs7I,oBAAsB,WACjC92I,KAAKnG,QAAQmqH,aAAa,YAC1BhkH,KAAKk0I,kBAAoBl0I,KAAKnG,QAAQ4M,aAAa,UACnDzG,KAAKwzI,YAAY9rF,OAAS1nD,KAAKk0I,mBAE/Bl0I,KAAKnG,QAAQmqH,aAAa,cAC1BhkH,KAAKyzI,UAAW,EAChBzzI,KAAKwzI,YAAYC,UAAW,GAE5BzzI,KAAKnG,QAAQmqH,aAAa,cAC1BhkH,KAAKinB,SAAU,EACfjnB,KAAKwzI,YAAY/0C,UAAW,IAGpC80C,EAAS/3I,UAAUq+I,YAAc,SAAUH,EAAM5qG,GAC7C,GACI9uB,GAAM5S,KAAKgV,IAAIpiB,KAAK+2I,cAAc8K,UAAWnI,EAAK/9G,MAGlD69G,GAAasI,WAFL,EAEwBC,KADzBrI,EAAKvB,QAAQx2I,MAHZ,EAGyBqe,GACW05H,KAAMA,EAAMn8I,MAJhD,EAI8DyiB,IAAKA,EAAKgiI,WAAY,EAAG/sD,QAAS,KAC5Gj1F,MAAKiiJ,YAAYvI,EAAMF,EAAU1qG,IAErCykG,EAAS/3I,UAAUymJ,YAAc,SAAUvI,EAAMF,EAAU1qG,GACvD,GAAI/uC,GAAQC,KACRo7I,EAAW,GAAIC,UACf0G,EAAOrI,EAAKvB,QAAQx2I,MAAM63I,EAASj8I,MAAOi8I,EAASx5H,IACvDo7H,GAAS91I,OAAO,YAAay8I,EAAMrI,EAAKzmH,MACxCmoH,EAAS91I,OAAO,cAAek0I,EAASsI,WAAWnhJ,WACnD,IAAIuhJ,GAAa90I,KAAKC,IAAID,KAAK+0I,KAAKzI,EAAK/9G,KAAO37B,KAAK+2I,cAAc8K,WAAY,EAC/EzG,GAAS91I,OAAO,cAAe48I,EAAWvhJ,WAC1C,IAAI88F,GAAO,GAAI7tE,KAAOK,IAAKjwB,KAAK+2I,cAAcC,QAASj9I,KAAM,OAAQ81B,OAAO,EAAMC,YAAa,MAC/F2tE,GAAK9sE,OAAS,SAAUvvB,GAAqD,MAAhDrB,GAAMqiJ,oBAAoBhhJ,EAAGo4I,EAAU1qG,OACpE2uD,EAAKtsE,iBAAmB,SAAU/vB,GAE9B,MADArB,GAAMsiJ,sBAAsBjhJ,EAAGo4I,EAAU1qG,MAG7C,IAAIzgC,IACA6pI,SAAUwB,EACV+B,kBACAtrH,QAAQ,EACR0xH,UAA4C,IAAjC7hJ,KAAK+2I,cAAc8K,UAAkB,KAAO7hJ,KAAK+2I,cAAc8K,UAE9EpkD,GAAKnsE,WAAa,SAAUlwB,GACI,IAAxBo4I,EAASsI,aAGbzzI,EAAUitI,eAAiB79C,EAAKltE,YAChCxwB,EAAM0oB,QAAQ,YAAapa,GACvBA,EAAU8hB,OACVpwB,EAAMuiJ,kBAAkBlhJ,EAAGiN,EAAWqrI,GAGtC35I,EAAMy7I,eAAeJ,EAAU/sI,EAAUotI,kBAIjDh+C,EAAKxsE,QAAU,SAAU7vB,GAAmD,MAA9CrB,GAAMwiJ,kBAAkBnhJ,EAAGo4I,EAAU1qG,OACnE2uD,EAAKvtE,KAAKkrH,GACV5B,EAASvkD,QAAUwI,GAEvB81C,EAAS/3I,UAAU8mJ,kBAAoB,SAAUlhJ,EAAGiN,EAAWqrI,GAC3D,GAAI35I,GAAQC,IAEZ,IADAoB,EAAE+uB,QAAS,EAC2B,MAAlC9hB,EAAU6pI,SAASK,WAAvB,CAGA,GAAI/wC,GAAYxnG,KAAKg7I,aAAa3sI,EAAU6pI,SAC5C1wC,GAAU1kG,cAAc,IAAM2vI,IAAQj4I,UAAYwF,KAAKi1I,eAAe,oBACtEztC,EAAU1kG,cAAc,IAAM2vI,IAAQj6I,UAAU+L,IAAI0uI,IACpD5kI,EAAU6pI,SAASK,WAAa,IAChClqI,EAAU6pI,SAAS1oI,OAASxP,KAAKi1I,eAAe,oBAChDj1I,KAAKkhJ,YAAclhJ,KAAKyB,cAAc,QAAUiC,UAAW,4BAA6BI,OAASkuG,SAAY,QAC7GxK,EAAUpiG,aAAapF,KAAKkhJ,YAAa15C,EAAU1kG,cAAc,IAAM4vI,KACvE1yI,KAAKkhJ,YAAYr9I,aAAa,QAAS7D,KAAKi1I,eAAe,UAE3Dj1I,KAAKkhJ,YAAYxkJ,iBAAiB,QAAS,SAAU0E,GAAKrB,EAAMohJ,mBAAmB//I,EAAGs4I,EAAMlyC,KAAe,GAC3GxnG,KAAK41I,4BAETrC,EAAS/3I,UAAUgnJ,iBAAmB,WAClC,QAAQxiJ,KAAK+2I,cAAc8K,WAAa,GAAKpkJ,EAAkBuC,KAAK+2I,cAAc8K,aAEtFtO,EAAS/3I,UAAU4mJ,oBAAsB,SAAUhhJ,EAAGo4I,EAAU1qG,GAC5D,GAEI04D,GAFAznG,EAAQC,KACRyiJ,EAAWrhJ,EAAEyH,MAEjB,IAA4B,IAAxB45I,EAASxwH,YAAoBwwH,EAASjzI,QAAU,KAAOizI,EAASjzI,OAAS,IAAK,CAC9E,GAAI0yI,GAAa90I,KAAKC,IAAID,KAAK+0I,KAAK3I,EAASE,KAAK/9G,KAAO37B,KAAK+2I,cAAc8K,WAAY,GACpFxzI,GACA9R,MAAO6E,EACPs4I,KAAMF,EAASE,KACfoI,WAAYtI,EAASsI,WACrBI,WAAYA,EACZL,UAAW7hJ,KAAK+2I,cAAc8K,UAUlC,IARA7hJ,KAAKyoB,QAAQ,eAAgBpa,IACzB5Q,EAAkBqxC,IAAYA,IAC9B04D,EAAYxnG,KAAKg7I,aAAaxB,EAASE,OAE3C15I,KAAK0iJ,eAAelJ,GAChBA,EAASx5H,MAAQw5H,EAASE,KAAK/9G,OAC/B69G,EAASE,KAAKnB,WAAa,KAEE,MAA7BiB,EAASE,KAAKnB,WAAoB,CAClC,GAAIoK,IAAgBpmJ,MAAO6E,EAAG82I,SAAUsB,EAASE,KAAMvpH,QAAQ,EAE/D,IADAnwB,KAAKyoB,QAAQ,YAAak6H,GACtBA,EAAYxyH,OAAQ,CACpBqpH,EAASE,KAAKnB,WAAa,GAC3B,IAAIsC,GAAgBrzC,EAAU1kG,cAAc,IAAM8vI,GAMlD,OALKn1I,GAAkB+pG,IAAe/pG,EAAkBo9I,KACpDr2H,GAAYq2H,GACZt1I,EAAOiiG,EAAU1kG,cAAc,yBAEnC9C,MAAK4iJ,gBAAgBpJ,GAGzBA,EAASvkD,QAAQjlE,WAAY,EAC7ByyH,EAAS/gG,OACT,IAAI05F,GAAW,GAAIC,UACfwH,EAAS7iJ,KAAKnG,QAAQ4M,aAAa,OACvC20I,GAAS91I,OAAOu9I,EAAQrJ,EAASE,KAAKzmH,MACtCmoH,EAAS91I,OAAO,mBAAoBk0I,EAASE,KAAKzmH,KAClD,IAAIwqE,GAAO,GAAI7tE,IAAK5vB,KAAK+2I,cAAc/gD,UAAW,QAAQ,EAAM,KAChEyH,GAAK9sE,OAAS,SAAUvvB,GAAiD,MAA5CrB,GAAM+iJ,gBAAgB1hJ,EAAGo4I,EAAU1qG,OAChE2uD,EAAKvtE,KAAKkrH,OAET,CACD,GAAK8G,EAAa,IAAO1I,EAASsI,YAAcI,EAAa1I,EAASsI,WAAY,CAC9E,GAAI5pJ,GAAQ8H,KAAK+zI,WAAWv1I,QAAQg7I,EAWpC,OAVIthJ,IAAS,GACT8H,KAAK+zI,WAAWxpH,OAAOryB,EAAO,GAE9BuF,EAAkBuC,KAAKwQ,YAAc/S,EAAkBqxC,KAAYA,IAAW04D,IAC1EA,GACAjiG,EAAOiiG,EAAU1kG,cAAc,IAAMqwI,KAEzCnzI,KAAK+iJ,uBAAuBvJ,QAEhCx5I,MAAKqhJ,kBAAkBjgJ,EAAGo4I,EAASE,MAGvC15I,KAAK4iJ,gBAAgBpJ,QAIzBx5I,MAAKuiJ,kBAAkBnhJ,EAAGo4I,IAGlCjG,EAAS/3I,UAAUonJ,gBAAkB,SAAUpJ,GAC3CA,EAASj8I,MAAQi8I,EAASx5H,IAC1Bw5H,EAASx5H,KAAOhgB,KAAK+2I,cAAc8K,UACnCrI,EAASx5H,IAAM5S,KAAKgV,IAAIo3H,EAASx5H,IAAKw5H,EAASE,KAAK/9G,MACpD69G,EAASsI,YAAc,EACvB9hJ,KAAKiiJ,YAAYzI,EAASE,KAAMF,IAEpCjG,EAAS/3I,UAAUsnJ,gBAAkB,SAAU1hJ,EAAGo4I,EAAU1qG,GACxD,GAAIrxC,EAAkBuC,KAAKwQ,WAAc/S,EAAkBqxC,KAAYA,EAAS,CAC5E,GAAI04D,GAAYxnG,KAAKg7I,aAAaxB,EAASE,MACvCuH,EAAaz5C,EAAU1kG,cAAc,IAAM8vI,IAC3CiI,EAAgBoG,CACpBjhJ,MAAK67I,aAAarC,EAASE,KAAM15I,KAAKi1I,eAAe,oBAAqB,KAC1Ej1I,KAAK6gJ,yBAAyBr5C,EAAWyrC,IACzCjzI,KAAKghJ,kBAAkBx5C,EAAW,WAClCy5C,EAAWzoJ,UAAUkM,OAAOkuI,IAC5BqO,EAAWzoJ,UAAU+L,IAAImuI,IACzBuO,EAAWp9I,aAAa,QAAS7D,KAAKi1I,eAAe,UACrD,IAAI+N,GAAYx7C,EAAU1kG,cAAc,IAAMqwI,GAC9C6P,GAAUxqJ,UAAU+L,IAAIsuI,IACxBmQ,EAAUxqJ,UAAUkM,OAAOyuI,IAC3B6P,EAAUn/I,aAAa,QAAS7D,KAAKi1I,eAAe,UAC/Cx3I,EAAkB+pG,IAAe/pG,EAAkBwjJ,KACpDz8H,GAAYq2H,GACZt1I,EAAOiiG,EAAU1kG,cAAc,uBAI3CywI,EAAS/3I,UAAUk7I,YAAc,SAAU8C,EAAUp4I,EAAG0tC,GACpD0qG,EAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,SAC3Cj1I,KAAK0iJ,eAAelJ,EACpB,IAAInrI,IACA9R,MAAO6E,GAAQ,KACfs4I,KAAMF,EAASE,KACfoI,WAAYtI,EAASsI,WACrBmB,WAAY71I,KAAKgoG,MAAMokC,EAASE,KAAK/9G,KAAO37B,KAAK+2I,cAAc8K,WAC/DA,UAAW7hJ,KAAK+2I,cAAc8K,UAElC7hJ,MAAK25I,YAAYH,EAAU1qG,EAAQzgC,IAEvCklI,EAAS/3I,UAAUm+I,YAAc,SAAUH,EAAU1qG,EAAQzgC,GACzDmrI,EAASvkD,QAAQjlE,WAAY,EAC7BwpH,EAASvkD,QAAQ1kE,YAAYmxB,OAC7B,IAAI8lD,GAAYxnG,KAAKg7I,aAAaxB,EAASE,KAC3C,IAAIj8I,EAAkBuC,KAAKwQ,YAAc/S,EAAkBqxC,KAAYA,GAAS,CAC5E,GAAI0qE,GAAgBhS,EAAU1kG,cAAc,IAAMqwI,GAClD35B,GAAchhH,UAAUkM,OAAOyuI,IAC/B35B,EAAchhH,UAAU+L,IAjrDhB,mBAkrDRi1G,EAAc31G,aAAa,QAAS7D,KAAKi1I,eAAe,WACxDz7B,EAAc5Y,mBAAmBpoG,UAAU+L,IAAImuI,IAC/Cl5B,EAAc5Y,mBAAmBpoG,UAAUkM,OAAOkuI,IAClDp5B,EAAc5Y,mBAAmB/8F,aAAa,QAAS7D,KAAKi1I,eAAe,WAE/E,IAAK,GAAI58I,GAAI,EAAGA,EAAI2H,KAAK+zI,WAAWx7I,OAAQF,IACpC2H,KAAK+zI,WAAW17I,GAAGqhJ,KAAKzmH,OAASumH,EAASE,KAAKzmH,MAC/CjzB,KAAK+zI,WAAWxpH,OAAOlyB,EAAG,EAGlC2H,MAAK+zI,WAAW/6I,KAAKwgJ,GACrBx5I,KAAKyoB,QAAQ,UAAWpa,IAE5BklI,EAAS/3I,UAAUo+I,aAAe,SAAUJ,EAAUp4I,EAAG0tC,GACrD,GACI0qE,GADAhS,EAAYxnG,KAAKg7I,aAAaxB,EAASE,KAEtCj8I,GAAkB+pG,KACnBgS,EAAgBhS,EAAU1kG,cAAc,qBAEvCrF,EAAkB+7G,KAAmB/7G,EAAkBqxC,IAAYA,IACpE0qE,EAAchhH,UAAUkM,OAtsDhB,mBAusDR80G,EAAchhH,UAAU+L,IAAI4uI,IAC5B35B,EAAc31G,aAAa,QAAS7D,KAAKi1I,eAAe,UACxDz7B,EAAc5Y,mBAAmBpoG,UAAUkM,OAAOguI,IAClDl5B,EAAc5Y,mBAAmBpoG,UAAU+L,IAAIquI,IAC/Cp5B,EAAc5Y,mBAAmB/8F,aAAa,QAAS7D,KAAKi1I,eAAe,WAE/EuE,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,cAC3CuE,EAASE,KAAKnB,WAAa,IAC3Bv4I,KAAK0iJ,eAAelJ,EACpB,IAAInrI,IACA9R,MAAO6E,GAAQ,KACfs4I,KAAMF,EAASE,KACfoI,WAAYtI,EAASsI,WACrBmB,WAAY71I,KAAKgoG,MAAMokC,EAASE,KAAK/9G,KAAO37B,KAAK+2I,cAAc8K,WAC/DA,UAAW7hJ,KAAK+2I,cAAc8K,UAElC7hJ,MAAKyoB,QAAQ,WAAYpa,EACzB,KAAK,GAAIhW,GAAI,EAAGA,EAAI2H,KAAK+zI,WAAWx7I,OAAQF,IACpC2H,KAAK+zI,WAAW17I,GAAG2nB,MAAQhgB,KAAK+zI,WAAW17I,GAAGqhJ,KAAK/9G,KACnD37B,KAAKoiJ,oBAAoBhhJ,EAAGo4I,EAAU1qG,GAGlC9uC,KAAK+zI,WAAW17I,GAAGqhJ,KAAKzmH,OAASumH,EAASE,KAAKzmH,OAC/CjzB,KAAK+zI,WAAW17I,GAAGkF,MAAQyC,KAAK+zI,WAAW17I,GAAG2nB,IAC9ChgB,KAAK+zI,WAAW17I,GAAG2nB,IAAMhgB,KAAK+zI,WAAW17I,GAAG2nB,IAAMhgB,KAAK+2I,cAAc8K,UACrE7hJ,KAAK+zI,WAAW17I,GAAG2nB,IAAM5S,KAAKgV,IAAIpiB,KAAK+zI,WAAW17I,GAAG2nB,IAAKhgB,KAAK+zI,WAAW17I,GAAGqhJ,KAAK/9G,MAClF37B,KAAK+zI,WAAW17I,GAAGypJ,WAAa9hJ,KAAK+zI,WAAW17I,GAAGypJ,WAAa,EAChE9hJ,KAAKiiJ,YAAYjiJ,KAAK+zI,WAAW17I,GAAGqhJ,KAAM15I,KAAK+zI,WAAW17I,GAAIy2C,KAK9EykG,EAAS/3I,UAAUknJ,eAAiB,SAAUlJ,IACK,IAA3Cx5I,KAAKg0I,eAAex1I,QAAQg7I,GAC5Bx5I,KAAKg0I,eAAeh7I,KAAKwgJ,IAGzBx5I,KAAKg0I,eAAezpH,OAAOvqB,KAAKg0I,eAAex1I,QAAQg7I,GAAW,GAClEx5I,KAAKg0I,eAAeh7I,KAAKwgJ,KAGjCjG,EAAS/3I,UAAUunJ,uBAAyB,SAAUvJ,GAClD,GAAIhyC,GAAYxnG,KAAKg7I,aAAaxB,EAASE,KAC3C,KAAKj8I,EAAkB+pG,GAAY,CAC/BxnG,KAAK6gJ,yBAAyBr5C,EAAWwrC,IACzChzI,KAAKghJ,kBAAkBx5C,EAAW,UAClC,IAAIiiB,GAAejiB,EAAU1kG,cAAc,IAAM8vI,GAC5Cn1I,GAAkBgsH,KACnBA,EAAajxH,UAAU+L,IAAIouI,IAC3BlpB,EAAa5lH,aAAa,QAAS7D,KAAKi1I,eAAe,WACvDxrB,EAAajxH,UAAUkM,OAAOkuI,GApwDtB,wBAwwDpBW,EAAS/3I,UAAU+mJ,kBAAoB,SAAUnhJ,EAAGo4I,EAAU1qG,GAC1D,GAEI04D,GAFAznG,EAAQC,KACRijJ,EAAa71I,KAAKC,IAAID,KAAK+0I,KAAK3I,EAASE,KAAK/9G,KAAO37B,KAAK+2I,cAAc8K,WAAY,IAEpFpkJ,EAAkBuC,KAAKwQ,YAAc/S,EAAkBqxC,IAAYA,IACnE04D,EAAYxnG,KAAKg7I,aAAaxB,EAASE,MAE3C,IAAIrrI,IACA9R,MAAO6E,EACPs4I,KAAMF,EAASE,KACfoI,WAAYtI,EAASsI,WACrBI,WAAYe,EACZpB,UAAW7hJ,KAAK+2I,cAAc8K,UAC9B1xH,QAAQ,EAEZnwB,MAAKyoB,QAAQ,eAAgBpa,EAE7B,IAAI60I,GAAgB70I,EAChB0yB,EAASxiC,OAAOjB,KAAK4lJ,GAAeliH,IAAI,SAAU5/B,GAClD,MAAO8hJ,GAAc9hJ,IAIzB,KAAK2/B,EAAOA,EAAOxoC,OAAS,GACxB,GAAIihJ,EAASwI,WAAahiJ,KAAK+2I,cAAciL,WACzC/pJ,WAAW,WAAc8H,EAAMojJ,aAAa37C,EAAWgyC,EAAU1qG,IAAY9uC,KAAK+2I,cAAcqM,qBAE/F,CACD,IAAK3lJ,EAAkB+pG,GAAY,CAC/B,GAAI05C,GAAc15C,EAAU1kG,cAAc,IAAMqwI,IAC5C3rC,EAAU1kG,cAAc,IAAMqwI,IAAgB3rC,EAAU1kG,cAAc,mBACrErF,GAAkByjJ,KACnBA,EAAY1oJ,UAAU+L,IAAIsuI,IAC1BqO,EAAY1oJ,UAAUkM,OAAOyuI,GA9xDjC,oBAgyDAnzI,KAAK6gJ,yBAAyBr5C,EAAWyrC,IACzCjzI,KAAKghJ,kBAAkBx5C,EAAW,WAClCA,EAAU1kG,cAAc,YAAYtK,UAAUkM,OA7yD1C,oBA8yDJ,IAAIw1I,GAAc1yC,EAAU1kG,cAAc,IAAM8vI,GAChDsH,GAAY1hJ,UAAUkM,OAAOkuI,IACxBn1I,EAAkB+pG,EAAU1kG,cAAc,IAAMqwI,MACjD5tI,EAAOiiG,EAAU1kG,cAAc,IAAMqwI,KAErCqG,EAASj8I,MAAQ,GACjB28I,EAAY1hJ,UAAU+L,IAAIouI,IAC1BuH,EAAYr2I,aAAa,QAAS7D,KAAKi1I,eAAe,aAGtDiF,EAAY1hJ,UAAU+L,IAAImuI,IAC1BwH,EAAYr2I,aAAa,QAAS7D,KAAKi1I,eAAe,YAG9DuE,EAASwI,WAAa,CACtB,IAAItI,GAAOF,EAASE,KAChBz5I,GAASmB,EAAGA,EAAGi1H,UAAW,SAAUqjB,KAAM15I,KAAK67I,aAAanC,EAAM15I,KAAKi1I,eAAe,uBAAwB,KAClHj1I,MAAKyoB,QAAQ,UAAWxoB,KAIpCszI,EAAS/3I,UAAU2nJ,aAAe,SAAU37C,EAAWgyC,EAAU1qG,GACzDrxC,EAAkBuC,KAAKwQ,YAAc/S,EAAkBqxC,KAAYA,IAAW04D,GAC9ExnG,KAAK6gJ,yBAAyBr5C,EAAWyrC,IAE7CuG,EAASwI,YAAc,EACvBhiJ,KAAKiiJ,YAAYzI,EAASE,KAAMF,IAEpCjG,EAAS/3I,UAAU6nJ,qBAAuB,SAAUjiJ,GAChD,GAAIo4G,GAAgBp4G,EAAEyH,OAClB+xI,EAAkBx5I,EAAEyH,OAAOmN,cAC3B9d,EAAQ8H,KAAK0zI,SAASl1I,QAAQo8I,GAC9B1C,EAAWl4I,KAAK2zI,UAAUz7I,GAC1BshJ,EAAWx5I,KAAKy5I,mBAAmBvB,EACnC1+B,GAAchhH,UAAUC,SAAS06I,IACjCnzI,KAAK02I,YAAY8C,EAAUp4I,GAEtBo4G,EAAchhH,UAAUC,SAx0DrB,mBAy0DRuH,KAAK45I,aAAaJ,EAAUp4I,GAEvBo4G,EAAchhH,UAAUC,SAASo6I,MAClC2G,EAASE,KAAKlqI,SAAWxP,KAAKi1I,eAAe,oBAC7Cj1I,KAAKsjJ,YAAY9J,GAAU,GAG3Bx5I,KAAKsjJ,YAAY9J,GAAU,KAIvCjG,EAAS/3I,UAAU8nJ,YAAc,SAAU9J,EAAU+J,GAC7CA,GACA/J,EAASx5H,IAAMw5H,EAASx5H,IAAMhgB,KAAK+2I,cAAc8K,UACjDrI,EAASj8I,MAAQi8I,EAASj8I,MAAQyC,KAAK+2I,cAAc8K,UACrD7hJ,KAAKiiJ,YAAYzI,EAASE,KAAMF,KAGhCA,EAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,wBAC3Cj1I,KAAK65I,YAAYL,EAASE,QAGlCnG,EAAS/3I,UAAU6mJ,sBAAwB,SAAUjhJ,EAAGo4I,EAAU1qG,GAC9D,GAAI/uC,GAAQC,IACZ,IAAiC,MAA7Bw5I,EAASE,KAAKnB,WAAlB,CAGiC,MAA7BiB,EAASE,KAAKnB,YAAmD,MAA7BiB,EAASE,KAAKnB,aAClDiB,EAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,eAE/Cj1I,KAAK0iJ,eAAelJ,EACpB,IAAIhyC,GAAYxnG,KAAKg7I,aAAaxB,EAASE,KAC3C,KAAIj8I,EAAkB+pG,GAAtB,CAGA,GACIg8C,GAAeh8C,EAAU1kG,cAAc,IAAM+vI,GAMjD,IALKp1I,EAAkB+lJ,KACnBA,EAAahrJ,UAAU+L,IAAI4uI,IAC3BqQ,EAAa3/I,aAAa,QAAS7D,KAAKi1I,eAAe,UACvDuO,EAAahrJ,UAAUkM,OAAOmuI,MAE7Bp1I,EAAkB+pG,GAAY,CAC/B,KAAMA,EAAU5sG,iBAAiB,IAAMk4I,IAAkBv6I,OAAS,GAAI,CAClE,GAAIwjJ,GAAgBv0C,EAAU1kG,cAAc,IAAM2vI,GAC9Ch1I,GAAkBuC,KAAKwQ,YACvBurI,EAAcvjJ,UAAU+L,IAp4DpB,qBAq4DJw3I,EAAcvjJ,UAAUkM,OAAOuuI,IAC/BjzI,KAAKggJ,kBAAkBx4C,GACvBxnG,KAAK6gJ,yBAAyBr5C,EAv4D1B,qBAy4DR,IAAIi8C,GAAYj8C,EAAU1kG,cAAc,IAAM4vI,IAAelrC,EAAU1kG,cAAc,IAAM4vI,IACvFlrC,EAAU1kG,cAAc,IAAM6vI,GAC7Bl1I,GAAkBgmJ,KACnBA,EAAUjrJ,UAAU+L,IAAIquI,IACxB6Q,EAAU5/I,aAAa,QAAS7D,KAAKi1I,eAAe,UACpDwO,EAAUjrJ,UAAUkM,OAAOguI,KAGnC,IAAKppG,MAAMl8B,KAAKgoG,MAAOh0G,EAAEk/I,OAASl/I,EAAEm/I,MAAS,OAAS9iJ,EAAkBuC,KAAKwQ,WAA0C,MAA7BgpI,EAASE,KAAKnB,WAAoB,CACxH,GAAImL,GAAclK,EAASsI,WAAa9hJ,KAAK+2I,cAAc8K,UACvD7kJ,EAAQoQ,KAAKgV,KAAOshI,EAAatiJ,EAAEk/I,QAAU9G,EAASE,KAAK/9G,KAAQ,IAAM,IAC7E37B,MAAKwgJ,oBAAoBh5C,EAAWp6F,KAAKgoG,MAAMp4G,GAAO2D,WAAa,KAE3C,IAAxB64I,EAASsI,YACT9hJ,KAAK41I,0BAGTn4I,EAAkB+pG,EAAU1kG,cAAc,IAAMqwI,MAAkB11I,EAAkBuC,KAAKwQ,YACzFxQ,KAAKkhJ,YAAclhJ,KAAKyB,cAAc,QAAUiC,UAAW,2BAA4BI,OAASkuG,SAAY,QAClF,SAAtB5lG,GAAQwc,KAAKqK,MACbjzB,KAAKkhJ,YAAY1oJ,UAAU+L,IAAI,UAEnCijG,EAAUpiG,aAAapF,KAAKkhJ,YAAa15C,EAAU1kG,cAAc,IAAM8vI,KACvE5yI,KAAKkhJ,YAAYr9I,aAAa,QAAS7D,KAAKi1I,eAAe,UAC3Dj1I,KAAKkhJ,YAAYxkJ,iBAAiB,QAAS,SAAU0E,GAAKrB,EAAMsjJ,qBAAqBjiJ,KAAO,OASpGmyI,EAAS/3I,UAAUgkJ,YAAc,SAAUmE,GACvC,GAAItrJ,IAAK,CACT,KACKsrJ,EACD,MAAO,QAEX,IACIA,GAAgB,KAChBtrJ,UACKsrJ,EAAQ,GAKjB,OAJItrJ,IAAK,IACLsrJ,GAAgB,KAChBtrJ,EAAI,GAED+U,KAAKC,IAAIs2I,EAAO,GAAGvjI,QAAQ,GAAK,KAAO,KAAM,MAAM/nB,IAO9Dk7I,EAAS/3I,UAAUwhJ,aAAe,SAAUrJ,GAGxC,IAAK,GAFDoE,GAAQpE,EACRiQ,KACKvrJ,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IAC9BurJ,EAAU5qJ,KAAK++I,EAAM1/I,GAAG46B,KAI5B,KACK,GAFD4wH,MAEKxlJ,EAAK,EAAGylJ,EAHKF,EAAUtqF,OAGsBj7D,EAAKylJ,EAAkBvrJ,OAAQ8F,IAEjF,IAAK,GADD0lJ,GAASD,EAAkBzlJ,GACtBhG,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IAC1B0rJ,IAAWhM,EAAM1/I,GAAG46B,MACpB4wH,EAAgB7qJ,KAAK++I,EAAM1/I,GAIvC,OAAOwrJ,IAOXtQ,EAAS/3I,UAAUqY,QAAU,WACzB7T,KAAKnG,QAAQmD,MAAQ,KACrBgD,KAAKm0I,WACLn0I,KAAKi/F,eACLj/F,KAAK00I,mBACD10I,KAAKyzI,UACLzzI,KAAKnG,QAAQyS,gBAAgB,YAE5BtM,KAAKinB,SACNjnB,KAAKnG,QAAQyS,gBAAgB,YAEjCtM,KAAKnG,QAAQyS,gBAAgB,UAC7BtM,KAAK6/I,uBACL7/I,KAAKk1I,cAAcl/H,cAAcjU,YAAY/B,KAAKm0H,cAClDn0H,KAAKm0H,aAAa37H,UAAUkM,OAAO,YA3/DhC,cA4/DHa,EAAOvF,KAAKk1I,eACZl1I,KAAKk1I,cAAgB,KACrBn8G,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OASlCuzI,EAAS/3I,UAAU41B,OAAS,SAAU2mH,EAAOjpG,GACzC,GAAIk1G,GAAchkJ,KAAKikJ,iBAAiBlM,EACxC/3I,MAAKgkJ,YAAYA,EAAal1G,IAElCykG,EAAS/3I,UAAUyoJ,iBAAmB,SAAUlM,GAC5C,GAAIiM,KAOJ,OANIjM,aAAiBt5I,OACjBulJ,EAAcjM,EAGdiM,EAAYhrJ,KAAK++I,GAEdiM,GAEXzQ,EAAS/3I,UAAUwoJ,YAAc,SAAUjM,EAAOjpG,GAC9C,GAAI/uC,GAAQC,KACRm7I,IACJ,IAAmC,KAA/Bn7I,KAAK+2I,cAAcC,UAAkBv5I,EAAkBuC,KAAK+2I,cAAcC,SAA9E,CAGA,IAAKloG,GAAUrxC,EAAkBqxC,GAC7B,GAAK9uC,KAAKyzI,SAMN0H,EAAgBn7I,KAAK8/I,eAAe/H,OANpB,CAChB,GAAI2B,KACJA,GAAK1gJ,KAAK++I,EAAM,IAChBoD,EAAgBn7I,KAAK8/I,eAAepG,OAOxCyB,GAAgBpD,CAsCpB,KAAK,GApCDmM,GAAelkJ,KAAKwiJ,mBAmCpB2B,EAASnkJ,KACJ3H,EAAI,EAAGA,EAAI8iJ,EAAc5iJ,OAAQF,KAnC5B,SAAUA,GACpB,GAAIolG,GAAO,GAAI7tE,IAAKu0H,EAAOpN,cAAcC,QAAS,QAAQ,EAAM,MAC5D3oI,GACA6pI,SAAUiD,EAAc9iJ,GACxBojJ,kBACAtrH,QAAQ,GAERirH,EAAW,GAAIC,SASnB,IARA59C,EAAKnsE,WAAa,SAAUlwB,GACxBiN,EAAUitI,eAAiB79C,EAAKltE,YAChCxwB,EAAM0oB,QAAQ,YAAapa,GACvBA,EAAU8hB,QACVpwB,EAAMuiJ,kBAAkBlhJ,EAAGiN,EAAW8sI,EAAc9iJ,IAExD0H,EAAMy7I,eAAeJ,EAAU/sI,EAAUotI,iBAET,MAAhCN,EAAc9iJ,GAAGkgJ,WAAoB,CACrC,GAAI6L,GAASD,EAAOtqJ,QAAQ4M,aAAa,OACzC20I,GAAS91I,OAAO8+I,EAAQjJ,EAAc9iJ,GAAG8/I,QAASgD,EAAc9iJ,GAAG46B,MAC/DixH,GAAgB/I,EAAc9iJ,GAAGsjC,KAAOwoH,EAAOpN,cAAc8K,UAC7DsC,EAAOtK,YAAYsB,EAAc9iJ,GAAIy2C,IAGrC2uD,EAAK9sE,OAAS,SAAUvvB,GAAwD,MAAnDrB,GAAMqhJ,eAAehgJ,EAAG+5I,EAAc9iJ,GAAIy2C,OACvE2uD,EAAKtsE,iBAAmB,SAAU/vB,GAE9B,MADArB,GAAM2gJ,iBAAiBt/I,EAAG+5I,EAAc9iJ,GAAIy2C,EAAQ2uD,OAIxDA,EAAKxsE,QAAU,SAAU7vB,GAA8C,MAAzCrB,GAAMuhJ,aAAalgJ,EAAG+5I,EAAc9iJ,QAClEolG,EAAKvtE,KAAKkrH,MAMV/iJ,KAYhBk7I,EAAS/3I,UAAUkJ,OAAS,SAAUwzI,EAAU6C,EAAgBG,EAAgBj7I,GAC5E,GAAIoO,IACA9R,MAAO0D,EACPkwB,QAAQ,EACRwjH,aACA8H,kBACAF,aAAa,EAEjB,IAAIv7I,KAAK6zI,OAML,MALAxlI,GAAUslI,UAAY3zI,KAAKqkJ,eAC3BrkJ,KAAKyoB,QAAQ,WAAYpa,QACpBA,EAAU8hB,QACXnwB,KAAKm0I,WAIb,IAAI2F,OACJ5B,EAAYz6I,EAAkBy6I,GAAuBl4I,KAAK2zI,UAAhBuE,YAClBz5I,OACpBq7I,EAAc5B,EAGd4B,EAAY9gJ,KAAKk/I,GAErB7pI,EAAUslI,UAAYmG,CAGtB,KAAK,GAFD9jD,GAAYh2F,KAAK+2I,cAAc/gD,UAC/BsuD,EAA0B,KAAdtuD,IAAoBv4F,EAAkBu4F,GAC7C33F,EAAK,EAAGkmJ,EAAgBzK,EAAaz7I,EAAKkmJ,EAAchsJ,OAAQ8F,IAAM,CAC3E,GAAI05I,GAAQwM,EAAclmJ,EAC1B,IAA0B,MAArB05I,EAAMQ,YAA2C,MAArBR,EAAMQ,aAAuB+L,EAGzD,CAID,GAHKpJ,GACDl7I,KAAKyoB,QAAQ,WAAYpa,GAEzBA,EAAU8hB,OACV,MAEJnwB,MAAK86I,gBAAgB/C,EAAOgD,OAT5B/6I,MAAKi7I,mBAAmBlD,EAAO1pI,EAAW6sI,EAAgBH,KAiBtExH,EAAS/3I,UAAU24I,SAAW,WAC1B,GAAI12I,EAAkBuC,KAAKu1I,YAKvB,MAJ0B,SAAtBnpI,GAAQwc,KAAKqK,OACbjzB,KAAKnG,QAAQmD,MAAQ,SAEzBgD,KAAK2zI,aAGT,IAAItlI,IACA8hB,QAAQ,EACRwjH,UAAW3zI,KAAK2zI,UAEpB3zI,MAAKyoB,QAAQ,WAAYpa,GACrBA,EAAU8hB,QAGdnwB,KAAKg4I,aAMTzE,EAAS/3I,UAAU6oJ,aAAe,WAC9B,MAAOrkJ,MAAK2zI,WAQhBJ,EAAS/3I,UAAU4sD,MAAQ,SAAU8vF,EAAUppG,GAC3C,GAAI01G,GAAgBxkJ,KAAKikJ,iBAAiB/L,EAC1Cl4I,MAAKykJ,eAAeD,EAAe11G,IAEvCykG,EAAS/3I,UAAUipJ,eAAiB,SAAUvM,EAAUppG,GAEpD,IAAK,GADDipG,GAAQ/3I,KAAK0kJ,SAASxM,GACjB7/I,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IACF,MAAxB0/I,EAAM1/I,GAAGkgJ,YACTv4I,KAAK02I,YAAY12I,KAAKy5I,mBAAmB1B,EAAM1/I,GAAI,MAAO,KAAMy2C,IAI5EykG,EAAS/3I,UAAUkpJ,SAAW,SAAUxM,GACpC,GAAIH,KAOJ,OANKt6I,GAAkBy6I,IAAeA,YAAoBz5I,OAItDs5I,EAAQG,EAHRH,EAAM/+I,KAAKk/I,GAKRH,GAQXxE,EAAS/3I,UAAUm7I,OAAS,SAAUuB,EAAUppG,GAC5C,GAAI01G,GAAgBxkJ,KAAKikJ,iBAAiB/L,EAC1Cl4I,MAAK2kJ,YAAYH,EAAe11G,IAEpCykG,EAAS/3I,UAAUmpJ,YAAc,SAAUzM,EAAUppG,GAEjD,IAAK,GADDipG,GAAQ/3I,KAAK0kJ,SAASxM,GACjB7/I,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IACF,MAAxB0/I,EAAM1/I,GAAGkgJ,YACTv4I,KAAK45I,aAAa55I,KAAKy5I,mBAAmB1B,EAAM1/I,GAAI,MAAO,KAAMy2C,IAU7EykG,EAAS/3I,UAAUo7I,MAAQ,SAAUsB,EAAUqL,EAAmBz0G,GAC9D,GAAI01G,GAAgBxkJ,KAAKikJ,iBAAiB/L,EAC1Cl4I,MAAK4kJ,iBAAiBJ,EAAejB,EAAmBz0G,IAE5DykG,EAAS/3I,UAAUopJ,iBAAmB,SAAU1M,EAAUqL,EAAmBz0G,GAEzE,IAAK,GADDipG,GAAQ/3I,KAAK0kJ,SAASxM,GACjB7/I,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IAC9B,GAA4B,MAAxB0/I,EAAM1/I,GAAGkgJ,YAA8C,MAAxBR,EAAM1/I,GAAGkgJ,WACxC,GAAIv4I,KAAK+2I,cAAc8K,UAAY,EAC/B7hJ,KAAKsjJ,YAAYtjJ,KAAKy5I,mBAAmB1B,EAAM1/I,GAAI,MAAOkrJ,OAEzD,CACD,GAAI/7C,OAAY,EACX14D,KACD04D,EAAYxnG,KAAK0zI,SAAS1zI,KAAK2zI,UAAUn1I,QAAQu5I,EAAM1/I,MAE3D2H,KAAKmhJ,mBAAmB,KAAMpJ,EAAM1/I,GAAImvG,EAAW14D,KAWnEykG,EAAS/3I,UAAU20B,OAAS,SAAU+nH,GAClC,GAAI2M,GAAiB7kJ,KAAKikJ,iBAAiB/L,EAC3Cl4I,MAAK8kJ,aAAaD,IAEtBtR,EAAS/3I,UAAUspJ,aAAe,SAAU5M,GACxC,GAAIH,GAAQ/3I,KAAK0kJ,SAASxM,EAC1B,IAAIl4I,KAAK+2I,cAAc8K,UAAY,GAC/B,IAASxpJ,EAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IAC9B,GAA4B,MAAxB0/I,EAAM1/I,GAAGkgJ,WAAoB,CAC7B,GAAIiB,GAAWx5I,KAAKy5I,mBAAmB1B,EAAM1/I,GAAI,KACjDmhJ,GAASE,KAAKnB,WAAa,IAC3BiB,EAASE,KAAKlqI,OAASxP,KAAKi1I,eAAe,oBAC3Cj1I,KAAK0iJ,eAAelJ,GACpBx5I,KAAK+kJ,sBAAsBhN,EAAM1/I,SAKzC,KAAK,GAAIA,GAAI,EAAGA,EAAI0/I,EAAMx/I,OAAQF,IACF,MAAxB0/I,EAAM1/I,GAAGkgJ,aACTR,EAAM1/I,GAAGkgJ,WAAa,IACtBR,EAAM1/I,GAAGmX,OAASxP,KAAKi1I,eAAe,oBACtCj1I,KAAK+kJ,sBAAsBhN,EAAM1/I,MAKjDk7I,EAAS/3I,UAAUupJ,sBAAwB,SAAUhN,GACjD,GAAIvwC,GAAYxnG,KAAKg7I,aAAajD,EAClC,KAAKt6I,EAAkB+pG,IAAc/pG,EAAkBuC,KAAKwQ,UAAW,CACnE,GAAIqqI,GAAgBrzC,EAAU1kG,cAAc,IAAM8vI,GAClDr2H,KAAgB1T,OAAQgyI,EAAenjI,MAAO,SAC9CuM,GAAY42H,KAGpBviH,IACIjvB,IAAU2tI,QAAS,GAAIhhD,UAAW,IAAMs9C,KACzCC,EAAS/3I,UAAW,oBAAiB,IACxC88B,IACI1vB,IAAS,IACV2qI,EAAS/3I,UAAW,gBAAa,IACpC88B,IACI1vB,IAAS,IACV2qI,EAAS/3I,UAAW,cAAW,IAClC88B,IACI1vB,GAAS,OACV2qI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACV2qI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACV2qI,EAAS/3I,UAAW,iBAAc,IACrC88B,IACIjvB,MAAYgqI,KACbE,EAAS/3I,UAAW,cAAW,IAClC88B,IACI1vB,GAAS,KACV2qI,EAAS/3I,UAAW,wBAAqB,IAC5C88B,IACI1vB,GAAS,IACV2qI,EAAS/3I,UAAW,kBAAe,IACtC88B,IACI1vB,GAAS,MACV2qI,EAAS/3I,UAAW,kBAAe,IACtC88B,IACI1vB,GAAS,OACV2qI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI/uB,QAAiB6pI,KAClBG,EAAS/3I,UAAW,YAAS,IAChC88B,IACI1vB,IAAS,IACV2qI,EAAS/3I,UAAW,mBAAgB,IACvC88B,IACI1vB,IAAS,IACV2qI,EAAS/3I,UAAW,sBAAmB,IAC1C88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,cAAW,IAClC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,gBAAa,IACpC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,cAAW,IAClC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,cAAW,IAClC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,eAAY,IACnC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,aAAU,IACjC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,mBAAgB,IACvC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,mBAAgB,IACvC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,gBAAa,IACpC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,cAAW,IAClC88B,IACI7uB,MACD8pI,EAAS/3I,UAAW,eAAY,IACnC+3I,EAAWj7G,IACPvuB,IACDwpI,IAELt1F,IxCh4EEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAiB5DssH,GAAsB,SAAUjsH,GAEhC,QAASisH,KACL,MAAkB,QAAXjsH,GAAmBA,EAAOr9B,MAAMsE,KAAMf,YAAce,KAiB/D,MAnBA83B,IAAUktH,EAAMjsH,GAIhBT,IACI1vB,GAAS,KACVo8I,EAAKxpJ,UAAW,cAAW,IAC9B88B,IACI1vB,GAAS,KACVo8I,EAAKxpJ,UAAW,SAAM,IACzB88B,IACI1vB,IAAS,IACVo8I,EAAKxpJ,UAAW,gBAAa,IAChC88B,IACI1vB,GAAS,KACVo8I,EAAKxpJ,UAAW,WAAQ,IAC3B88B,IACI1vB,GAAS,KACVo8I,EAAKxpJ,UAAW,UAAO,IACnBwpJ,GACTriH,IyCpDE7K,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAS5D2vE,IACA48C,SAAU,aACVC,MAAO,YACPv4B,KAAM,cACNw4B,KAAM,SACNC,MAAO,mBACPlnD,IAAK,QACLmnD,UAAW,cACXC,SAAU,cAeVC,GAAgC,SAAUxsH,GAO1C,QAASwsH,GAAejxI,EAASza,GAC7B,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KAidlD,MAxdA83B,IAAUytH,EAAgBxsH,GAS1BwsH,EAAe/pJ,UAAUyY,UAAY,aAOrCsxI,EAAe/pJ,UAAU6jD,eAAiB,WACtC,MAAOr/C,MAAK8/C,kBAMhBylG,EAAe/pJ,UAAUomG,OAAS,WAC9B5hG,KAAKwlJ,UAAYxlJ,KAAKylJ,YAAczlJ,KAAK0lJ,cAO7CH,EAAe/pJ,UAAUojD,OAAS,WAC9B5+C,KAAKuhD,aACAvhD,KAAKy+F,UACNz+F,KAAKumB,cAGbg/H,EAAe/pJ,UAAUmqJ,YAAc,WACnC,GAAInkJ,GAAMxB,KAAKyB,cAAc,OACzBiC,UAAW2kG,GAAW+8C,MACtBzhJ,GAAI3D,KAAKnG,QAAQ8J,GAAK,UAE1B5I,UAAS+R,KAAK/K,YAAYP,GAC1BxB,KAAK4lJ,SAAW,GAAIlmC,IAAMl+G,GACtB6+G,SAAUrgH,KAAKnG,QACf0nH,WAAazpG,EAAG,MAAOC,EAAG,QAC1BlC,UAAYiC,EAAG,OAAQC,EAAG,UAC1B+pG,WAAY,WACZpnH,QAASsF,KAAK6I,OAAS7I,KAAK6lJ,mBAAqB,GACjDt2I,UAAWvP,KAAKuP,YAEyB,UAAzCvP,KAAK4lJ,SAAS/rJ,QAAQ+K,MAAMiR,UAC5B7V,KAAK4lJ,SAASjmC,gBAAgB3/G,KAAKnG,SAEvCmG,KAAK4lJ,SAAStlC,OACdv8G,EAAW/D,KAAKnG,SAAUmJ,KACtBA,EAAS,KAAI,OACbA,EAAG,iBAAmBhD,KAAKrI,MAAMY,QAAUyH,KAAK6I,OAAS,OAAS,QAClE7F,EAAG,iBAAmB,QACtBA,EAAG,aAAehD,KAAK8lJ,kBAAkBniJ,GACzCX,EAAS,KAAI,SACbA,IACAhD,KAAKuU,UACLvQ,GAAUxC,GAAMxB,KAAKuU,SAASrX,MAAM,KAExC,IAAI8F,IAERuiJ,EAAe/pJ,UAAUqqJ,iBAAmB,WACxC,MAAgC,gBAAjB7lJ,aAA4B2F,EAAO3F,KAAK6I,QAAU7I,KAAK6I,QAE1E08I,EAAe/pJ,UAAUuqJ,YAAc,SAAUpuJ,GAS7C,IAAK,GAPDknG,GACAhmG,EACAgpG,EACAxzF,EAJAw1F,EAAW7jG,KAAKgmJ,QAAQruJ,EAAO,WAK/BmqG,EAAK9hG,KAAKyB,cAAc,MACxBqC,OAASkuG,SAAY,OAEhB35G,EAAI,EAAGA,EAAIV,EAAMY,OAAQF,IAC9BQ,EAAOlB,EAAMU,GACbwpG,EAAK7hG,KAAKyB,cAAc,MACpBjH,UAAW3B,EAAKo3B,IAAM,GAAKp3B,EAAKY,KAChCiK,UAAW7K,EAAKotJ,UAAY59C,GAAW88C,KAAO,IAAM98C,GAAWg9C,UAAYh9C,GAAW88C,KACtFrhJ,OAASsP,KAAQ,WAAY4+F,SAAY,MACzCruG,GAAI9K,EAAK8K,GAAK9K,EAAK8K,GAAKnE,EAAY,KAAOQ,KAAKkH,gBAAkB,WAElErO,EAAK+lG,SACLC,EAAO7+F,KAAKyB,cAAc,QAAUiC,UAAW2kG,GAAWskB,KAAO,IAAM9zH,EAAK+lG,UAC5EiD,EAAGz8F,aAAay5F,EAAMgD,EAAGvnG,WAAW,KAGhCupG,IAAahrG,EAAKotJ,WAClBpkD,EAAGrpG,UAAU+L,IAAI,gBAGrB1L,EAAKo3B,KACL4xE,EAAG9/F,YAAY/B,KAAKkmJ,aAAartJ,IAErCwV,GAAcxV,KAAMA,EAAMgB,QAASgoG,GACnC7hG,KAAKyoB,QAAQ,mBAAoBpa,GACjCyzF,EAAG//F,YAAY8/F,EAEnB,OAAOC,IAEXyjD,EAAe/pJ,UAAUwqJ,QAAU,SAAUruJ,EAAO27D,GAChD,IAAK,GAAIj7D,GAAI,EAAG4J,EAAMtK,EAAMY,OAAQF,EAAI4J,EAAK5J,IACzC,GAAIV,EAAMU,GAAGi7D,GACT,OAAO,CAGf,QAAO,GAEXiyF,EAAe/pJ,UAAU0qJ,aAAe,SAAUrtJ,GAC9C,MAAOmH,MAAKyB,cAAc,KAAOiC,UAAW,yBAA0BlJ,UAAW3B,EAAKY,KAAMqK,OAASo8B,KAAQrnC,EAAKo3B,QAEtHs1H,EAAe/pJ,UAAU+lD,WAAa,WAClCvhD,KAAK6xH,OAAS,GAAIvzB,KACdM,QAAS5+F,KAAK4+F,QAASE,aAAc9+F,KAAK8+F,aAAcvqF,SAAUvU,KAAKuU,SAAU7Z,QAASsF,KAAKtF,QAC/F+jG,SAAUz+F,KAAKy+F,SAAUlvF,UAAWvP,KAAKuP,UAAWivC,kBAAmBx+C,KAAKw+C,oBAEhFx+C,KAAK6xH,OAAOpwH,cAAgBzB,KAAKyB,cACjCzB,KAAK6xH,OAAOtzE,SAASv+C,KAAKnG,SACrBmG,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,kBAE9ClH,KAAKmmJ,kBACLnmJ,KAAK2lJ,cACL3lJ,KAAKomJ,eAAepmJ,KAAKnG,WAE7B0rJ,EAAe/pJ,UAAU2qJ,gBAAkB,WACvCnmJ,KAAKnG,QAAQkI,YAAY/B,KAAKyB,cAAc,QACxCiC,UAAW,8BAAqC1D,KAAKuU,SAAS/V,QAAQ6pG,GAAWi9C,WAAa,EACxF,SAAW,SAAW,eAGpCC,EAAe/pJ,UAAU4qJ,cAAgB,SAAUvjJ,GAC/C7C,KAAKqmJ,WAAaxjJ,GAOtB0iJ,EAAe/pJ,UAAU0L,cAAgB,WACrC,MAAO,gBAEXq+I,EAAe/pJ,UAAUgqJ,QAAU,WAC/B,MAAOxlJ,MAAK8lJ,kBAAkBttJ,UAAUC,SAAS,kBAMrD8sJ,EAAe/pJ,UAAUqY,QAAU,WAC/B,GAAI9T,GAAQC,IACRA,MAAKnG,QAAQiJ,cAAc,iBAC3ByC,EAAOvF,KAAKnG,QAAQiJ,cAAc,iBAEtCi2B,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,MAC9BA,KAAK6xH,OAAOh+G,WACX,OAAQ,gBAAiB,gBAAiB,YAAa,QAAQzU,QAAQ,SAAU/B,GAC9E0C,EAAMlG,QAAQyS,gBAAgBjP,KAElCmH,GAAaxE,KAAKnG,UAAW,UAC7B2K,EAAYxE,KAAKqmJ,YAAa,aAC9BrmJ,KAAK4lJ,SAAS/xI,SACd,IAAIyyI,GAAWvrJ,SAAS2gC,eAAe17B,KAAK8lJ,kBAAkBniJ,GAC1D2iJ,KACA9hJ,GAAa8hJ,IAAY,eAAgB,kBACzC/gJ,EAAO+gJ,IAENtmJ,KAAKy+F,UACNz+F,KAAKi/F,gBAGbsmD,EAAe/pJ,UAAUsqJ,gBAAkB,WACvC,MAAO9lJ,MAAK4lJ,SAAS/rJ,SAEzB0rJ,EAAe/pJ,UAAU+qJ,aAAe,WACpC,MAAOvmJ,MAAK8lJ,kBAAkBhqI,SAAS,IAE3CypI,EAAe/pJ,UAAU+qB,WAAa,WAClC,GAAIigI,GAAexmJ,KAAK8lJ,iBACxB9lJ,MAAKymJ,yBAA2BzmJ,KAAK0mJ,iBAAiBjrJ,KAAKuE,MAC3DyF,GAAalB,IAAIxJ,SAAU,uBAAwBiF,KAAKymJ,yBAA0BzmJ,MAClFyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK0/F,aAAc1/F,MAC3DyF,GAAalB,IAAIiiJ,EAAc,QAASxmJ,KAAK0/F,aAAc1/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,UAAWmG,KAAK2mJ,gBAAiB3mJ,MAChEyF,GAAalB,IAAIiiJ,EAAc,UAAWxmJ,KAAK2mJ,gBAAiB3mJ,MAChEA,KAAKiyG,SAAWvmG,GAAa86I,GAAgB5gJ,SAAU,IAAMyiG,GAAW88C,QAE5EI,EAAe/pJ,UAAUmrJ,gBAAkB,SAAUvlJ,GACjD,GAAIA,EAAEyH,SAAW7I,KAAKnG,SAA0B,IAAduH,EAAE1J,UAAmB0J,EAAEupD,QAAwB,KAAdvpD,EAAE1J,UAAiC,KAAd0J,EAAE1J,QAG1F,OAAQ0J,EAAE1J,SACN,IAAK,IACL,IAAK,KACG0J,EAAEupD,QAAyB,KAAdvpD,EAAE1J,SAAgC,KAAd0J,EAAE1J,QAInCsI,KAAK4mJ,iBAAiBxlJ,GAHtBpB,KAAK6mJ,gBAAgBzlJ,EAKzB,MACJ,KAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACDpB,KAAK6mJ,gBAAgBzlJ,KAIjCmkJ,EAAe/pJ,UAAUorJ,iBAAmB,SAAUxlJ,GAClD,IAAIpB,KAAK6I,QAAyB,KAAdzH,EAAE1J,SAAgC,KAAd0J,EAAE1J,QAA1C,CAGA0J,EAAEomB,gBACF,IAAIs6E,GAAK9hG,KAAKumJ,eACVO,EAA2B,KAAd1lJ,EAAE1J,QAAiB,EAAIoqG,EAAGilD,kBAAoB,EAC3DC,EAAQF,EACRjlD,EAAK,IACT7hG,MAAKinJ,uBACL,KAAK,GAAI5uJ,GAAI,EAAG4J,EAAM6/F,EAAGhmF,SAASvjB,OAAQF,EAAI4J,EAAK5J,IAC3CypG,EAAGhmF,SAASzjB,GAAGG,UAAUC,SAAS4vG,GAAW68C,SAE7C8B,EAAQ3uJ,GADRwpG,EAAKC,EAAGhmF,SAASzjB,IAEdG,UAAUkM,OAAO2jG,GAAW68C,OACjB,KAAd9jJ,EAAE1J,QAAiBsvJ,IAAUA,IACzBA,KAAyB,KAAd5lJ,EAAE1J,QAAiBoqG,EAAGilD,mBAAqB,KACtDC,EAAQF,GAIpBjlD,GAAKC,EAAGhmF,SAASkrI,IAEF,KADfA,EAAQhnJ,KAAK2sG,UAAU9K,EAAImlD,EAAO5lJ,EAAE1J,YAEhCsM,GAAU89F,EAAGhmF,SAASkrI,IAAS3+C,GAAW68C,OAC1CpjD,EAAGhmF,SAASkrI,GAAO3kJ,WAG3BkjJ,EAAe/pJ,UAAUyrJ,sBAAwB,WAC7C,GAAIC,GAAalnJ,KAAKumJ,eAAezjJ,cAAc,cAC/CokJ,IACAA,EAAW1uJ,UAAUkM,OAAO,eAGpC6gJ,EAAe/pJ,UAAUmxG,UAAY,SAAU9K,EAAI3pG,EAAOR,EAASuoB,GAW/D,OAVc,KAAVA,IAAoBA,EAAQ,IAC5B4hF,EAAGrpG,UAAUC,SAAS4vG,GAAWg9C,YAAcxjD,EAAGrpG,UAAUC,SAAS4vG,GAAW48C,aAC5E/sJ,KAAuB,KAAZR,EAAiBsI,KAAKrI,MAAMY,OAAS,EAAI,GACpDL,EAAoB,KAAZR,EAAiB,EAAIsI,KAAKrI,MAAMY,OAAS,EAGrC,KAAZb,EAAiBQ,IAAUA,MAGnC2pG,EAAK7hG,KAAKumJ,eAAezqI,SAAS5jB,IAC3BM,UAAUC,SAAS4vG,GAAWg9C,YAAcxjD,EAAGrpG,UAAUC,SAAS4vG,GAAW48C,UAAW,CAE3F,KADAhlI,IACcjgB,KAAKrI,MAAMY,OACrB,MAAOL,IAAS,CAEpBA,GAAQ8H,KAAK2sG,UAAU9K,EAAI3pG,EAAOR,EAASuoB,GAE/C,MAAO/nB,IAEXqtJ,EAAe/pJ,UAAUqrJ,gBAAkB,SAAUzlJ,KAC7CpB,KAAK6I,QAAyB,KAAdzH,EAAE1J,SAAgC,IAAd0J,EAAE1J,WAGxB,IAAd0J,EAAE1J,SACF0J,EAAEomB,iBAEY,KAAdpmB,EAAE1J,SAAgC,KAAd0J,EAAE1J,SAAgC,IAAd0J,EAAE1J,QACrCsI,KAAKwlJ,WACNxlJ,KAAK0lJ,WAAWtkJ,EAAGpB,KAAKnG,SAI5BmG,KAAK0/F,aAAat+F,KAG1BmkJ,EAAe/pJ,UAAU2rJ,MAAQ,SAAUtkJ,GACvC,MAAwB,OAAjBA,EAAKS,QAAmBT,EAAOkD,EAAQlD,EAAM,OAExD0iJ,EAAe/pJ,UAAUkrJ,iBAAmB,SAAUtlJ,GAClD,GAAIgmJ,GAAOhmJ,EAAEyH,MACR7I,MAAKwlJ,WAAez/I,EAAQqhJ,EAAM,IAAMpnJ,KAAK8lJ,kBAAkBniJ,KAAOoC,EAAQqhJ,EAAM,IAAMpnJ,KAAKnG,QAAQ8J,KACxG3D,KAAK0lJ,WAAWtkJ,IAGxBmkJ,EAAe/pJ,UAAUkkG,aAAe,SAAUt+F,GAC9C,GAAIgmJ,GAAOhmJ,EAAEyH,OACT28I,EAAUxlJ,KAAKwlJ,SACnB,IAAIz/I,EAAQqhJ,EAAM,IAAMpnJ,KAAKnG,QAAQ8J,IAC7B6hJ,EACAxlJ,KAAKylJ,UAAUrkJ,GAGfpB,KAAK0lJ,WAAWtkJ,EAAGpB,KAAKqmJ,WAAW,QAIvC,IAAItgJ,EAAQqhJ,EAAM,IAAMpnJ,KAAK8lJ,kBAAkBniJ,IAAK,CAChD,GAAI0K,OAAY,GACZ24I,MAAQ,GACRnuJ,MAAO,GACPgpG,EAAK7hG,KAAKmnJ,MAAMC,EAChBvlD,KACAmlD,EAAQvoJ,MAAMjD,UAAUgD,QAAQoC,KAAKZ,KAAKumJ,eAAezqI,SAAU+lF,IACnEhpG,EAAOmH,KAAKrI,MAAMqvJ,MAEd34I,GAAcxU,QAASgoG,EAAIhpG,KAAMA,GACjCmH,KAAKyoB,QAAQ,SAAUpa,IAE3BrO,KAAK0lJ,WAAWtkJ,EAAGpB,KAAKqmJ,WAAW,OAKnDd,EAAe/pJ,UAAUiqJ,UAAY,SAAUrkJ,OACjC,KAANA,IAAgBA,EAAI,MACnBpB,KAAK6I,QACN7I,KAAK8lJ,kBAAkB/jJ,YAAY/B,KAAK+lJ,YAAY/lJ,KAAKrI,OAE7D,IAAImqG,GAAK9hG,KAAKumJ,eACVc,GAAmBxtJ,QAASioG,EAAInqG,MAAOqI,KAAKrI,MAAO4E,MAAO6E,EAAG+uB,QAAQ,EAEzE,IADAnwB,KAAKyoB,QAAQ,aAAc4+H,IACtBA,EAAel3H,OAAQ,CACxBnwB,KAAK4lJ,SAASxjC,KAAK,KAAMpiH,KAAKnG,SAC9BmK,GAAUhE,KAAKnG,SAAU,YACzBmG,KAAKnG,QAAQgK,aAAa,gBAAiB,QAC3Ci+F,EAAGz/F,OACH,IAAIilJ,IAAaztJ,QAASioG,EAAInqG,MAAOqI,KAAKrI,MAC1CqI,MAAKyoB,QAAQ,OAAQ6+H,KAG7B/B,EAAe/pJ,UAAUkqJ,WAAa,SAAUtkJ,EAAGmmJ,OACrC,KAANnmJ,IAAgBA,EAAI,KACxB,IAAI0gG,GAAK9hG,KAAKumJ,eACViB,GAAoB3tJ,QAASioG,EAAInqG,MAAOqI,KAAKrI,MAAO4E,MAAO6E,EAAG+uB,QAAQ,EAE1E,IADAnwB,KAAKyoB,QAAQ,cAAe++H,IACvBA,EAAgBr3H,OAAQ,CACzBnwB,KAAKinJ,wBACLjnJ,KAAK4lJ,SAAStlC,OACd97G,EAAYxE,KAAKqmJ,WAAY,YAC7BrmJ,KAAKnG,QAAQgK,aAAa,gBAAiB,SACvC0jJ,GACAA,EAASllJ,OAEb,IAAIujH,IAAc/rH,QAASioG,EAAInqG,MAAOqI,KAAKrI,MAC3CqI,MAAKyoB,QAAQ,QAASm9F,IACjB5lH,KAAK6I,QAAUi5F,GAChBv8F,EAAOu8F,KAInByjD,EAAe/pJ,UAAUyjG,aAAe,WACpCx5F,GAAaf,OAAO3J,SAAU,uBAAwBiF,KAAKymJ,0BAC3DhhJ,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK0/F,cAChDj6F,GAAaf,OAAO1E,KAAK8lJ,kBAAmB,QAAS9lJ,KAAK0/F,cAC1Dj6F,GAAaf,OAAO1E,KAAKnG,QAAS,UAAWmG,KAAK2mJ,iBAClDlhJ,GAAaf,OAAO1E,KAAK8lJ,kBAAmB,UAAW9lJ,KAAK2mJ,iBAC5D3mJ,KAAKiyG,YASTszC,EAAe/pJ,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC5D,GAAIysH,IAAY,UAAW,WAAY,UAAW,eAAgB,WAAY,YAC9EznJ,MAAK6xH,OAAOlqH,cAAcymB,GAAS2M,EAAS0sH,GAE5C,KAAK,GADDjB,GAAexmJ,KAAK8lJ,kBACfznJ,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACI2B,KAAKnG,QAAQiJ,cAAc,iBAC5B9C,KAAKmmJ,iBAET,MACJ,KAAK,WACGprH,EAAQ0jE,UACRz+F,KAAKi/F,eACAj/F,KAAKwlJ,WACNxlJ,KAAK0lJ,cAIT1lJ,KAAKumB,YAET,MACJ,KAAK,WACGwU,EAAQxmB,SAAS/V,QAAQ6pG,GAAWi9C,WAAa,GAEjD9sJ,EADgBwH,KAAKnG,QAAQiJ,cAAc,iBACrB,kBAAmB,iBAEzCk4B,EAAQzmB,UACR/P,GAAagiJ,GAAexrH,EAAQzmB,SAASrX,MAAM,MAEnD69B,EAAQxmB,UACRvQ,GAAUwiJ,GAAezrH,EAAQxmB,SAASrX,MAAM,KAEpD,MACJ,KAAK,YACDspJ,EAAahuJ,UAAUopG,OAAOyG,GAAWnK,IACzC,MACJ,KAAK,SACDl+F,KAAK6I,OAASkyB,EAAQlyB,OACtBtD,EAAOvF,KAAKumJ,gBACZC,EAAazkJ,YAAY/B,KAAK6lJ,oBAC9B7lJ,KAAK4lJ,SAASlrJ,QAAUsF,KAAK6lJ,kBAC7B,MACJ,KAAK,QACD7lJ,KAAK4lJ,SAASlnG,UACV8nG,EAAahuJ,UAAUC,SAAS,iBAChCD,EAAUguJ,GAAe,kBAAmB,mBAMhEluH,IACI1vB,GAAS,KACV28I,EAAe/pJ,UAAW,cAAW,IACxC88B,IACI1vB,GAAS,KACV28I,EAAe/pJ,UAAW,eAAY,IACzC88B,IACI1vB,IAAS,IACV28I,EAAe/pJ,UAAW,eAAY,IACzC88B,IACI1vB,GAAS,KACV28I,EAAe/pJ,UAAW,cAAW,IACxC88B,IACI1vB,GAAS,SACV28I,EAAe/pJ,UAAW,mBAAgB,IAC7C88B,IACI/uB,MAAey7I,KAChBO,EAAe/pJ,UAAW,YAAS,IACtC88B,IACI1vB,GAAS,KACV28I,EAAe/pJ,UAAW,aAAU,IACvC88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,uBAAoB,IACjD88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,iBAAc,IAC3C88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,kBAAe,IAC5C88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,YAAS,IACtC88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,WAAQ,IACrC88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,aAAU,IACvC88B,IACI7uB,MACD87I,EAAe/pJ,UAAW,cAAW,IACxC+pJ,EAAiBjtH,IACbvuB,IACDw7I,IAELtnG,ICxgBEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAU5DgvH,GAAU,kBAeVC,GAA6B,SAAU5uH,GAOvC,QAAS4uH,GAAYrzI,EAASza,GAC1B,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA6PlD,MApQA83B,IAAU6vH,EAAa5uH,GAavB4uH,EAAYnsJ,UAAUyY,UAAY,WAC9B,GAAI7P,GAAMpE,KAAKnG,OACf,IAAIuK,EAAId,UAAYokJ,GAAS,CAIzB,IAAK,GAHDp0I,GAAazW,EAAS,gBAAiBuH,GACvCkiH,EAAMtmH,KAAKyB,cAAc,UAAYqC,OAAS/J,KAAQ,YACtDga,EAAU/T,KAAKyB,cAAcimJ,IAAWhkJ,UAAW,KAAO1D,KAAKkH,gBAAkB,aAC5E6lB,EAAM,EAAG9qB,EAAMmC,EAAIL,WAAWxL,OAAQw0B,EAAM9qB,EAAK8qB,IACtDu5F,EAAIziH,aAAaO,EAAIL,WAAWgpB,GAAKxZ,SAAUnP,EAAIL,WAAWgpB,GAAKvZ,UAEvEpP,GAAItJ,WAAWsK,aAAa2O,EAAS3P,GACrCmB,EAAOnB,GACPA,EAAMkiH,EACNvyG,EAAQhS,YAAYqC,GACpBhH,EAAS,gBAAiBkW,EAAYlP,GACtCpE,KAAK+T,QAAUA,EACf/T,KAAKnG,QAAUuK,EAEdpE,KAAKnG,QAAQ8J,KACd3D,KAAKnG,QAAQ8J,GAAKnE,EAAY,KAAOQ,KAAKkH,mBAGlDygJ,EAAYnsJ,UAAUojD,OAAS,WAC3B5+C,KAAK8/F,cACL9/F,KAAK4nJ,sBACL5nJ,KAAK6nJ,wBACL7nJ,KAAKomJ,eAAepmJ,KAAKnG,QAASmG,KAAK8nJ,gBAAgBjuJ,UACvDmG,KAAK+nJ,UACL/nJ,KAAKumB,cAETohI,EAAYnsJ,UAAUskG,YAAc,WAC3B9/F,KAAK+T,UACN/T,KAAK+T,QAAU/T,KAAKyB,cAAc,OAASiC,UAAW,KAAO1D,KAAKkH,gBAAkB,aACpFlH,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAK+T,QAAS/T,KAAKnG,UAE5DmG,KAAKnG,QAAQrB,UAAUkM,OAAO,KAAO1E,KAAKkH,iBACtClH,KAAKuP,WACLvP,KAAK+T,QAAQvb,UAAU+L,IAlEzB,SAoEEvE,KAAKuU,UACLvQ,GAAUhE,KAAK+T,SAAU/T,KAAKuU,SAASrX,MAAM,OAGrDyqJ,EAAYnsJ,UAAUosJ,oBAAsB,WACxC,GAAIH,IACAlzI,SAAUvU,KAAKuU,SACfhF,UAAWvP,KAAKuP,UAChBqvF,QAAS5+F,KAAK4+F,QACdE,aAAc9+F,KAAK8+F,aACnBpkG,QAASsF,KAAKtF,QACd+jG,SAAUz+F,KAAKy+F,SAEnBz+F,MAAKgoJ,cAAgB,GAAI1pD,IAAOmpD,GAChCznJ,KAAKgoJ,cAAcvmJ,cAAgBzB,KAAKyB,cACxCzB,KAAKgoJ,cAAczpG,SAASv+C,KAAKnG,SACjCmG,KAAKnG,QAAQrB,UAAU+L,IAAI,KAAOvE,KAAKkH,iBACvClH,KAAKnG,QAAQE,KAAO,SACpBiG,KAAK+T,QAAQhS,YAAY/B,KAAKnG,UAElC8tJ,EAAYnsJ,UAAUqsJ,sBAAwB,WAC1C,GAAI9nJ,GAAQC,KACRioJ,EAAUjoJ,KAAKyB,cAAc,UAC7BiC,UAAW,aACXI,OAASkuG,SAAY,MACrBruG,GAAI3D,KAAKnG,QAAQ8J,GAAK,gBAE1B3D,MAAK+T,QAAQhS,YAAYkmJ,EACzB,IAAIC,IACA3zI,SAAUvU,KAAKuU,SACfkqF,SAAUz+F,KAAKy+F,SACflvF,UAAWvP,KAAKuP,UAChB5X,MAAOqI,KAAKrI,MACZkR,OAAQ7I,KAAK6I,OACbs/I,iBAAkB,SAAUloJ,GACxBF,EAAM0oB,QAAQ,mBAAoBxoB,IAEtCglI,WAAY,SAAUhlI,GAClBF,EAAM0oB,QAAQ,aAAcxoB,IAEhCmoJ,YAAa,SAAUnoJ,GACnBF,EAAM0oB,QAAQ,cAAexoB,IAEjC6B,KAAM,SAAU7B,GACZF,EAAM0oB,QAAQ,OAAQxoB,IAE1BmC,MAAO,SAAUnC,GACbF,EAAM0oB,QAAQ,QAASxoB,IAE3B0F,OAAQ,SAAU1F,GACdF,EAAM0oB,QAAQ,SAAUxoB,IAGhCD,MAAK8nJ,gBAAkB,GAAIvC,IAAe2C,GAC1CloJ,KAAK8nJ,gBAAgBrmJ,cAAgBzB,KAAKyB,cAC1CzB,KAAK8nJ,gBAAgBvpG,SAAS0pG,GAC9BjoJ,KAAK8nJ,gBAAgBlC,SAASvlC,SAAWrgH,KAAK+T,QAC9C/T,KAAK4lJ,SAAW5lJ,KAAK8nJ,gBAAgBlC,SACrC5lJ,KAAK8nJ,gBAAgBzB,YAAcrmJ,KAAKnG,QAASmG,KAAK8nJ,gBAAgBjuJ,SACtE4L,GAAaf,OAAO1E,KAAK8lJ,kBAAmB,UAAW9lJ,KAAK8nJ,gBAAgBnB,iBAC5E3mJ,KAAK8nJ,gBAAgBjuJ,QAAQiJ,cAAc,eAAetK,UAAUkM,OAAO,iBAE/EijJ,EAAYnsJ,UAAUusJ,QAAU,WAC5BhkJ,EAAW/D,KAAKnG,SACZuZ,KAAQ,UAAWi1I,gBAAiB,QAASC,gBAAiB,OAC9DxyB,aAAc91H,KAAKnG,QAAQH,YAAc,eAAgB6uJ,YAAavoJ,KAAK8nJ,gBAAgBlC,SAAS/rJ,QAAQ8J,MAQpHgkJ,EAAYnsJ,UAAU0L,cAAgB,WAClC,MAAO,aAMXygJ,EAAYnsJ,UAAUomG,OAAS,WAC3B5hG,KAAK8nJ,gBAAgBlmD,UAEzB+lD,EAAYnsJ,UAAUqY,QAAU,WAC5B,GAAI9T,GAAQC,IACZA,MAAKgoJ,cAAcn0I,UACnB7T,KAAK8nJ,gBAAgBj0I,SACrB,IAAIha,GAAUkB,SAAS2gC,eAAe17B,KAAKnG,QAAQ8J,GAC/C9J,IAAWA,EAAQmc,gBAAkBhW,KAAK+T,UACtC/T,KAAK+T,QAAQzQ,UAAYokJ,IACzB1nJ,KAAK+T,QAAQvZ,UAAY,GACzBgK,GAAaxE,KAAK+T,UAAW,QAAS,KAAO/T,KAAKkH,gBAAkB,aACpE1C,GAAaxE,KAAK+T,SAAU/T,KAAKuU,SAASrX,MAAM,QAGhDsH,GAAaxE,KAAKnG,UAAW,KAAOmG,KAAKkH,gBAnK/C,WAoKO,OAAQ,aAAc,gBAAiB,gBAAiB,YAAa,QAAQ9H,QAAQ,SAAU/B,GAC5F0C,EAAMlG,QAAQyS,gBAAgBjP,KAElC2C,KAAK+T,QAAQjZ,WAAWsK,aAAapF,KAAKnG,QAASmG,KAAK+T,SACxDrP,EAAO1E,KAAK+T,UAEhB/T,KAAKi/F,iBAGb0oD,EAAYnsJ,UAAU+qB,WAAa,WAC/B9gB,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAKwoJ,uBAAwBxoJ,MACrEyF,GAAalB,IAAIvE,KAAK8lJ,kBAAmB,UAAW9lJ,KAAK2mJ,gBAAiB3mJ,MAC1E,GAAIwqD,IAAexqD,KAAKnG,SACpB0xD,UAAWvrD,KAAKyoJ,mBAAmBhtJ,KAAKuE,MACxCgrD,YACI09F,aAAc,oBAI1Bf,EAAYnsJ,UAAUyjG,aAAe,WACjCx5F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAKwoJ,wBAChD7lJ,EAAY3C,KAAKnG,QAAS2wD,IAAgB32C,WAE9C8zI,EAAYnsJ,UAAUgtJ,uBAAyB,WAC3CxoJ,KAAKyoB,QAAQ,SAAW5uB,QAASmG,KAAKnG,WAE1C8tJ,EAAYnsJ,UAAUitJ,mBAAqB,SAAUrnJ,GACjD,OAAQA,EAAEkqD,QACN,IAAK,eACDtrD,KAAK0/F,aAAat+F,KAU9BumJ,EAAYnsJ,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACzD,GAAI3M,IAAS,UAAW,UAAW,eAAgB,WAAY,WAAY,YAC3EruB,MAAKgoJ,cAAcrgJ,cAAcymB,GAAS2M,EAAS1M,IACnDA,GAAS,QAAS,aAAc,mBAAoB,SAAU,OAC1D,QAAS,WAAY,WAAY,aACrCruB,KAAK8nJ,gBAAgBngJ,cAAcymB,GAAS2M,EAAS1M,GACrD,KAAK,GAAIhwB,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,WACG28B,EAAQzmB,UACR/P,GAAaxE,KAAK+T,SAAUinB,EAAQzmB,SAASrX,MAAM,MAEvD8G,GAAUhE,KAAK+T,SAAUgnB,EAAQxmB,SAASrX,MAAM,KAChD,MACJ,KAAK,YACG69B,EAAQxrB,UACRvL,GAAUhE,KAAK+T,SA5N7B,SA+NcvP,GAAaxE,KAAK+T,SA/NhC,WAqONukB,IACI1vB,GAAS,KACV++I,EAAYnsJ,UAAW,cAAW,IACrC88B,IACI1vB,GAAS,KACV++I,EAAYnsJ,UAAW,eAAY,IACtC88B,IACI1vB,IAAS,IACV++I,EAAYnsJ,UAAW,eAAY,IACtC88B,IACI1vB,GAAS,KACV++I,EAAYnsJ,UAAW,cAAW,IACrC88B,IACI1vB,GAAS,SACV++I,EAAYnsJ,UAAW,mBAAgB,IAC1C88B,IACI/uB,MAAey7I,KAChB2C,EAAYnsJ,UAAW,YAAS,IACnC88B,IACI1vB,GAAS,KACV++I,EAAYnsJ,UAAW,aAAU,IACpC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,uBAAoB,IAC9C88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,iBAAc,IACxC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,kBAAe,IACzC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,YAAS,IACnC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,YAAS,IACnC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,WAAQ,IAClC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,aAAU,IACpC88B,IACI7uB,MACDk+I,EAAYnsJ,UAAW,cAAW,IACrCmsJ,EAAcrvH,IACVvuB,IACD49I,IAELpC,IC7SEztH,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAS5DiwH,GAAa,gBCvBb7wH,IDqCgC,SAAUiB,GAO1C,QAAS6vH,GAAet0I,EAASza,GAC7B,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAEnD,OADAD,GAAMq6B,KAAO,EACNr6B,EATX+3B,GAAU8wH,EAAgB7vH,GAW1B6vH,EAAeptJ,UAAUyY,UAAY,WACjC8kB,EAAOv9B,UAAUyY,UAAUrT,KAAKZ,OAOpC4oJ,EAAeptJ,UAAUojD,OAAS,WAC9B7lB,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,MAC7BA,KAAK6oJ,OACL7oJ,KAAKumB,aACLvmB,KAAK+nJ,WAOTa,EAAeptJ,UAAU+B,MAAQ,SAAUurJ,GACvC9oJ,KAAK+oJ,UAAW,EAChB/oJ,KAAKgpJ,cAAcF,GAAoB9oJ,KAAK8oJ,QAAS9oJ,KAAKipJ,eAM9DL,EAAeptJ,UAAUqkB,KAAO,WAC5B7f,KAAK+oJ,UAAW,EAChB9uH,qBAAqBj6B,KAAKq6B,UAO9BuuH,EAAeptJ,UAAU0L,cAAgB,WACrC,MAAO,gBAMX0hJ,EAAeptJ,UAAUqY,QAAU,WAC/BklB,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,MAC9BA,KAAKi/F,eACLj/F,KAAKnG,QAAQW,UAAY,GACzBgK,GAAaxE,KAAKnG,UA5ER,iBAEG,oBA0E6C,iBAAkB,KAAOk/B,EAAOv9B,UAAU0L,cAActG,KAAKZ,SAE3H4oJ,EAAeptJ,UAAUqtJ,KAAO,WAC5B7oJ,KAAKnG,QAAQrB,UAAU+L,IAAI,KAAOw0B,EAAOv9B,UAAU0L,cAActG,KAAKZ,OACtEA,KAAK4/G,aACL5/G,KAAKuc,gBACDvc,KAAKkpJ,gBACLlpJ,KAAKmpJ,kBAGbP,EAAeptJ,UAAU+gB,cAAgB,WACrC,GAAI6sI,GAAUppJ,KAAKyB,cAAc,QAAUiC,UAAW,aACtD1D,MAAKqpJ,gBAAgBD,GACrB7sI,IACI1T,OAAQugJ,EAAS1xI,MAAO1X,KAAKspJ,aAAa5xI,OAAS,GAAIlH,SAAUxQ,KAAKspJ,aAAa94I,UACpFxQ,KAAKyB,gBAEZmnJ,EAAeptJ,UAAU6tJ,gBAAkB,SAAUjlJ,GACjD,GAAIyR,GAAW7V,KAAKspJ,aAAazzI,UAAY,MAC5B,UAAbA,GAAoC,QAAbA,EACvB7V,KAAKnG,QAAQuL,aAAahB,EAAKpE,KAAKnG,QAAQ2U,uBAAuBm6I,IAAY,IAG/E3oJ,KAAKnG,QAAQkI,YAAYqC,GAE7BpE,KAAKnG,QAAQrB,UAAU+L,IAAI,UAAYsR,EAAS1d,gBAEpDywJ,EAAeptJ,UAAU2tJ,eAAiB,WACtCnpJ,KAAKnG,QAAQkI,YAAY/B,KAAKyB,cAAc,QAAUiC,UAvG/C,iBAyGXklJ,EAAeptJ,UAAUokH,WAAa,WAClC,GAAI2pC,GAAOvpJ,KAAKnG,QAAQW,SACxBwF,MAAKnG,QAAQW,UAAY,GACzBwF,KAAKnG,QAAQkI,YAAY/B,KAAKyB,cAAc,QAAUiC,UAAWilJ,GAAYnuJ,UAAW+uJ,MAE5FX,EAAeptJ,UAAUkkG,aAAe,WAChC1/F,KAAKnG,QAAQrB,UAAUC,SA9Gd,sBAiHbuH,KAAKgpJ,iBAETJ,EAAeptJ,UAAUwtJ,cAAgB,SAAUF,EAASG,GACxD,GAAIlpJ,GAAQC,KACRwpJ,EAAUxpJ,KAAKnG,QAAQrB,UACvBixJ,EAAaD,EAAQ/wJ,SAAS,aAClC+wJ,GAAQjlJ,IAvHK,qBAwHPilJ,EAAQ/wJ,SA1HJ,oBA2HNwrB,GAAYjkB,KAAKnG,SACZmG,KAAKkpJ,gBACNjxJ,WAAW,WACP8H,EAAM2pJ,YAEP1pJ,KAAKyM,WAGZzM,KAAKkpJ,gBACLlpJ,KAAK2pJ,aAAatnI,KAAKwY,MAAOouH,GAA8B,EAAGA,EAAe5mI,KAAKwY,MAAyB,EAAhB76B,KAAKyM,SAAe,IAAO4V,KAAKwY,MAAOiuH,GAAoB,EAAG,EAAG9oJ,KAAKo6B,KAAM,EAAGqvH,GAE/KzpJ,KAAK4pJ,oBAEThB,EAAeptJ,UAAUmuJ,aAAe,SAAUvmI,EAAW6lI,EAAcY,EAAUf,EAASgB,EAAa1vH,EAAM2vH,EAAkBN,GAC/H,GAAI1pJ,GAAQC,IACZ,KACI,GAAI2tG,GACAq8C,EAAW5mI,EAAYymI,EACvBI,EAAWjqJ,KAAKyM,SAAW2tB,EAAO,IAClC8vH,EAAiBF,EAAYA,EAAWC,EAAWD,EAAWC,EAAWD,EAAWC,EAAY,CACpGjqJ,MAAKipJ,aAAeA,EAAeA,EAAee,EAAWE,EAC7DL,EAAWzmI,EAAY8mI,EACvBpB,IAAqBkB,EAAWE,GAAkBlqJ,KAAKyM,SAAW,IAElEkhG,GAAWm7C,QADXgB,GAAgBb,EAAec,GAAoBE,GAAa,GAAiB,MAAZnB,EAAmBA,EAAUgB,EACjEK,gBAAiBlB,EAAc7uH,KAAMA,GACtD,IAAZ0uH,EACA9oJ,KAAKyoB,QAAQ,QAASklF,GAEL,MAAZm7C,GAAmBG,IAAiBjpJ,KAAKyM,SAC9CzM,KAAKyoB,QAAQ,MAAOklF,GAGpB3tG,KAAKyoB,QAAQ,WAAYklF,GAEzBm7C,IAAYn7C,EAAOm7C,SAAWn7C,EAAOm7C,UAAYgB,IACjDhB,EAAUn7C,EAAOm7C,SAErB9oJ,KAAK8oJ,QAAUA,EACf9oJ,KAAKo6B,KAAOuzE,EAAOvzE,MACd6uH,EAAec,IAAqB/pJ,KAAKyM,SAAWkhG,EAAOvzE,KAAO,MAAS,GAAiB,MAAZ0uH,IACjF9oJ,KAAKq6B,QAAUM,sBAAsB,WACjC56B,EAAMlG,QAAQ2U,uBAnKnB,cAmKoD,GAC1C5J,MAAM6kJ,EAAa,SAAW,SAAWX,EAAU,IACxD/oJ,EAAMlG,QAAQgK,aAAa,gBAAiBilJ,EAAQnoJ,cAExDmpJ,EAAchB,EACdiB,EAAmBd,GAElBjpJ,KAAK+oJ,WACFE,EAAejpJ,KAAKyM,UAAYq8I,EAAU,IAC1C7wJ,WAAW,WACP8H,EAAM4pJ,aAAatnI,KAAKwY,MAAOouH,EAAcY,EAAUf,EAASgB,EAAan8C,EAAOvzE,KAAM2vH,EAAkBN,IAE5GzpJ,KAAKyM,SAAW,IAAOy9I,GAG3BjyJ,WAAW,WACP8H,EAAMkpJ,aAAelpJ,EAAM+oJ,QAAU,EACrC/oJ,EAAMlG,QAAQ2U,uBApLvB,cAoLwD,GAAG5J,MAAM6kJ,EAAa,SAAW,SAAW,KAC3F1pJ,EAAMlG,QAAQgK,aAAa,gBAAiB,KAC5C9D,EAAM2pJ,YAEP,MAIf,MAAOtoJ,GACH64B,qBAAqBj6B,KAAKq6B,SAC1Br6B,KAAKyoB,QAAQ,OAAQrnB,KAG7BwnJ,EAAeptJ,UAAUouJ,iBAAmB,WACxC,GAAI7pJ,GAAQC,KACRoE,EAAMpE,KAAKnG,QAAQ2U,uBAAuBm6I,IAAY,EACpB,UAAlC3oJ,KAAKkoH,kBAAkBjc,OACvB,GAAKnzE,QAAeW,QAAQr1B,GACxBqI,SAAUzM,KAAKkoH,kBAAkBz7G,SACjCwmB,KAAM,WAAajzB,KAAKkoH,kBAAkBjc,OAC1CxxE,eAAgBz6B,KAAKkoH,kBAAkBjmG,OACvCrC,MAAO,WACiC,WAAhC7f,EAAMupJ,aAAazzI,UACnB9V,EAAMqqJ,kBAGdpqI,IAAK,WACD5b,EAAI5L,UAAU+L,IAAI,oBAIU,WAA/BvE,KAAKspJ,aAAazzI,UACvB7V,KAAKoqJ,kBAGbxB,EAAeptJ,UAAU4uJ,eAAiB,WACtC,GAAIhmJ,GAAMpE,KAAKnG,QAAQ2U,uBAAuBm6I,IAAY,GACtDS,EAAUppJ,KAAKnG,QAAQ2U,uBAAuB,aAAa,EAC/D46I,GAAQxkJ,MAAM8S,MAAQtK,KAAKC,IAAI+7I,EAAQtkJ,YAAaV,EAAIU,aAAe,KACvEskJ,EAAQxkJ,MAAM6S,OAASrK,KAAKC,IAAI+7I,EAAQnlG,aAAc7/C,EAAI6/C,cAAgB,KAC1E7/C,EAAI5L,UAAU+L,IAAI,mBAEtBqkJ,EAAeptJ,UAAUkuJ,SAAW,WAChC,GAAIH,GAAOvpJ,KAAKnG,QAAQ2U,uBAAuBm6I,IAAY,EAQ3D,IAPM3oJ,KAAKnG,QAAQrB,UAAUC,SAjOnB,mBAkON+rB,GAAYxkB,KAAKnG,SAErBmG,KAAKnG,QAAQrB,UAAUkM,OAlOV,qBAmOyB,SAAlC1E,KAAKkoH,kBAAkBjc,QACvBs9C,EAAK/wJ,UAAUkM,OAAO,iBAES,WAA/B1E,KAAKspJ,aAAazzI,SAAuB,CACzC,GAAIzR,GAAMpE,KAAKnG,QAAQ2U,uBAAuB,aAAa,EAC3D+6I,GAAK/wJ,UAAUkM,OAAO,kBACtBN,EAAIQ,MAAM8S,MAAQ,OAClBtT,EAAIQ,MAAM6S,OAAS,SAG3BmxI,EAAeptJ,UAAU6uJ,YAAc,WACnC,GAAId,GAAOvpJ,KAAKnG,QAAQ2U,uBAAuBm6I,IAAY,GACvD2B,EAAWtqJ,KAAKnG,QAAQ2U,uBAAuB,cAAc,IAC7D+6I,EAAKjvJ,WAAW,IAA6B,SAAtB0F,KAAK8+F,cAAiD,QAAtB9+F,KAAK8+F,aAI5DyqD,EAAKxnJ,YAAYuoJ,GAHjBf,EAAKnkJ,aAAaklJ,EAAUf,EAAKjvJ,WAAW,KAMpDsuJ,EAAeptJ,UAAUusJ,QAAU,WAC/BhkJ,EAAW/D,KAAKnG,SACZi8H,aAAc91H,KAAKnG,QAAQH,YAAc,YAAay8H,gBAAiB,IAAKC,gBAAiB,MAAOhxG,gBAAiB,OAG7HwjI,EAAeptJ,UAAU+qB,WAAa,WAClC9gB,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK0/F,aAAc1/F,OAE/D4oJ,EAAeptJ,UAAUyjG,aAAe,WACpCx5F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK0/F,eASpDkpD,EAAeptJ,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC5DjC,EAAOv9B,UAAU+5B,kBAAkB30B,KAAKZ,KAAM+6B,EAASC,EACvD,KAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,UACD2B,KAAK4/G,aACL5/G,KAAKuc,gBACDvc,KAAKkpJ,gBACLlpJ,KAAKmpJ,iBAETnpJ,KAAKnG,QAAQgK,aAAa,aAAc7D,KAAKnG,QAAQH,YAAc,YACnE,MACJ,KAAK,UACIshC,EAAQ4jE,SACT5+F,KAAKqqJ,aAET,MACJ,KAAK,eACDrqJ,KAAKqqJ,aACL,MACJ,KAAK,iBACGtvH,EAAQmuH,eACRlpJ,KAAKmpJ,iBAGLzkJ,EAAO1E,KAAKnG,QAAQ2U,uBApS7B,cAoS8D,MAMzE8pB,IACI1vB,IAAS,IACVggJ,EAAeptJ,UAAW,qBAAkB,IAC/C88B,IACI1vB,GAAS,MACVggJ,EAAeptJ,UAAW,eAAY,IACzC88B,IACI1vB,GAAS,SACVggJ,EAAeptJ,UAAW,mBAAgB,IAC7C88B,IACI1vB,GAAS,KACVggJ,EAAeptJ,UAAW,cAAW,IACxC88B,IACI1vB,IAAS,IACVggJ,EAAeptJ,UAAW,eAAY,IACzC88B,IACI1vB,IAAS,IACVggJ,EAAeptJ,UAAW,gBAAa,IAC1C88B,IACI1vB,GAAS,KACVggJ,EAAeptJ,UAAW,eAAY,IACzC88B,IACI1vB,GAAS,KACVggJ,EAAeptJ,UAAW,cAAW,IACxC88B,IACI1vB,IAAS,IACVggJ,EAAeptJ,UAAW,eAAY,IACzC88B,IACI1vB,IAAW4H,SAAU,KAAMkH,MAAO,GAAI7B,SAAU,UACjD+yI,EAAeptJ,UAAW,mBAAgB,IAC7C88B,IACI1vB,IAAW6D,SAAU,IAAKw/F,OAAQ,OAAQhqF,OAAQ,UACnD2mI,EAAeptJ,UAAW,wBAAqB,IAClD88B,IACI7uB,MACDm/I,EAAeptJ,UAAW,cAAW,IACxC88B,IACI7uB,MACDm/I,EAAeptJ,UAAW,YAAS,IACtC88B,IACI7uB,MACDm/I,EAAeptJ,UAAW,eAAY,IACzC88B,IACI7uB,MACDm/I,EAAeptJ,UAAW,UAAO,IACpC88B,IACI7uB,MACDm/I,EAAeptJ,UAAW,WAAQ,IACrCotJ,EAAiBtwH,IACbvuB,IACD6+I,IAELtqD,ICnX0C,WACxC,GAAIvmE,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,SAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAgB5D6xH,GAAa,oBAKbC,GAAU,mBAEVC,GAAW,0BACXC,GAAY,eAEZC,GAAU,cAEVC,GAAe,mBACfC,GAAa,oBACbC,GAAU,iBACVC,GAAU,kBAIVC,GAAU,sBAGVC,GAAY,eACZC,GAAS,aAETC,GAAO,SACPC,IACAC,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACzG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UACnG,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAcvGC,GAA6B,SAAUvyH,GAEvC,QAASuyH,GAAYh3I,EAASza,GAC1B,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KAgpDlD,MAlpDA83B,IAAUwzH,EAAavyH,GAIvBuyH,EAAY9vJ,UAAUyY,UAAY,WAC9B,GAAIsvG,IAAegoC,MAAO,QAASC,OAAQ,SAAUC,aAAc,cACnEzrJ,MAAKw7G,KAAO,GAAI1vD,IAAK,cAAey3D,EAAYvjH,KAAKgP,SAMzDs8I,EAAY9vJ,UAAUojD,OAAS,WAC3B5+C,KAAK8/F,cACD9/F,KAAK0rJ,OACL1rJ,KAAK2rJ,eAGL3rJ,KAAK4rJ,iBAEJ5rJ,KAAK6rJ,eACN7nJ,GAAUhE,KAAK0c,UAAU1G,eAlEnB,mBAqEds1I,EAAY9vJ,UAAUskG,YAAc,WAChC,GAAI/rF,GAAU/T,KAAKyB,cAAc,OAASiC,UAAW,KAAO1D,KAAKkH,gBAAkB,YACnFlH,MAAKnG,QAAQiB,WAAWsK,aAAa2O,EAAS/T,KAAKnG,SACnDka,EAAQhS,YAAY/B,KAAKnG,SACzBkK,EAAW/D,KAAKnG,SAAWm4G,SAAY,KAAM9sF,WAAc,UAC3DllB,KAAK0c,UAAY1c,KAAKyB,cAAc,OAASiC,UAlFrC,gBAmFR1D,KAAKw/F,aAAaz9F,YAAY/B,KAAK0c,UACnC,IAAI1f,GAAQgD,KAAKhD,MAAQgD,KAAKy4H,WAAWz4H,KAAKhD,OAAO7E,cAAgB,WACrE6H,MAAKnG,QAAQmD,MAAQA,EAAM2E,MAAM,EAAG,GACpC3B,KAAK2H,eAAgB3K,MAASA,IAAS,GACnCgD,KAAKuP,WACLwE,EAAQvb,UAAU+L,IAjEpB,SAmEEvE,KAAKuU,UACLvQ,GAAU+P,GAAU/T,KAAKuU,SAASrX,MAAM,MAE5C8C,KAAK8rJ,WAAapgJ,GAAa1L,KAAK0c,WAAa9W,SAAU,IAAMulJ,KACjEnrJ,KAAK+rJ,cAAgBrgJ,GAAa1L,KAAK0c,WAAa9W,SAAU,YAElE0lJ,EAAY9vJ,UAAUgkG,WAAa,WAC/B,MAAOx/F,MAAKnG,QAAQmc,eAExBs1I,EAAY9vJ,UAAUmwJ,aAAe,WACf,YAAd3rJ,KAAK+vB,MACL/vB,KAAKgsJ,gBACAhsJ,KAAK0rJ,QACN1rJ,KAAKisJ,sBAITjsJ,KAAKksJ,eACAlsJ,KAAK0rJ,QACN1rJ,KAAKmsJ,iBAAiB9pJ,SAG9BrC,KAAKosJ,OAAQ,EACbpsJ,KAAK0wH,cACL1wH,KAAKqsJ,gBACArsJ,KAAKy+F,UACNz+F,KAAKumB,aAELvmB,KAAK0rJ,QAAU1rJ,KAAKy+F,UACpBz+F,KAAKssJ,gBAAe,GAEpBlgJ,GAAQuc,UACR3oB,KAAKusJ,mBAGbjB,EAAY9vJ,UAAUowJ,eAAiB,WACnC,GAAI7rJ,GAAQC,KACRwsJ,EAAcxsJ,KAAKyB,cAAc,UAAYiC,UAAW,uBAC5D1D,MAAKw/F,aAAaz9F,YAAYyqJ,GAC9BxsJ,KAAKysJ,SAAW,GAAI9E,KAChB/oD,QAAS,mBACT/1F,OAAQ7I,KAAK0c,UACb+hF,SAAUz+F,KAAKy+F,SACflvF,UAAWvP,KAAKuP,UAChB01H,WAAYjlI,KAAK0sJ,aAAajxJ,KAAKuE,MACnC8B,KAAM9B,KAAK2sJ,OAAOlxJ,KAAKuE,MACvBooJ,YAAapoJ,KAAK4sJ,iBAAiBnxJ,KAAKuE,MACxCskH,MAAO,SAAUrkH,GACbF,EAAM0oB,QAAQ,UACV6gH,cAAgBujB,IAAK9sJ,EAAM/C,MAAM2E,MAAM,EAAG,GAAImrJ,KAAM/sJ,EAAMgtJ,mBAAmBhtJ,EAAMitJ,SAASjtJ,EAAM/C,SAClGs6H,eAAiBu1B,IAAK,KAAMC,KAAM,WAI9C9sJ,KAAKysJ,SAAShrJ,cAAgBzB,KAAKyB,cACnCzB,KAAKysJ,SAASluG,SAASiuG,EACvB,IAAIS,GAAUjtJ,KAAKyB,cAAc,QAAUiC,UAxHhC,mBAyHXiC,GAAO,oBAAqB6mJ,GAAazqJ,YAAYkrJ,GACrDA,EAAQroJ,MAAMsoJ,gBAAkBltJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAAShtJ,KAAKhD,OAC3E,IAAIspJ,GAAWtmJ,KAAKmtJ,aAKpB,IAJAnpJ,GAAUsiJ,GAAW,uBACjBtmJ,KAAKuU,UACLvQ,GAAUsiJ,GAAWtmJ,KAAKuU,SAASrX,MAAM,MAEzCkP,GAAQuc,SAAU,CAClB,GAAIykI,GAAYptJ,KAAKqtJ,cACrBD,GAAU/sC,SAAWtlH,SAAS+R,KAC9BsgJ,EAAUv3I,UAAaiC,EAAG,SAAUC,EAAG,UACvCq1I,EAAUtrC,WAAa,YACvBsrC,EAAU7rC,WAAczpG,EAAG,MAAOC,EAAG,OACrCq1I,EAAUpgJ,QAAU,EACpBs5I,EAAS1hJ,MAAM44G,OAAS9hG,GAAiB1b,KAAKysJ,SAAS5yJ,SAAS8G,aAGxE2qJ,EAAY9vJ,UAAUmxJ,OAAS,SAAU1sJ,GACrCD,KAAKyoB,QAAQ,QAAU5uB,QAASmG,KAAK0c,aAEzC4uI,EAAY9vJ,UAAU6xJ,aAAe,WACjC,MAAO1qJ,GAAY3C,KAAKmtJ,cAAeztC,KAE3C4rC,EAAY9vJ,UAAUkxJ,aAAe,SAAUzsJ,GAC3C,GAAIonJ,IAAmBxtJ,QAASmG,KAAK0c,UAAWngB,MAAO0D,EAAK1D,MAAO4zB,QAAQ,EAG3E,IAFAnwB,KAAKyoB,QAAQ,aAAc4+H,GAC3BpnJ,EAAKkwB,OAASk3H,EAAel3H,QACxBlwB,EAAKkwB,OAAQ,CACd,GAAIm2H,GAAWtmJ,KAAKmtJ,aACpB7G,GAAS1hJ,MAAM6I,IAAM/K,EAAW,EAAIwhD,aACpCoiG,EAAS1hJ,MAAM2I,KAAO7K,EAAW,EAAIyhD,aACrCmiG,EAAS1hJ,MAAM6hD,QAAU,QACzBzmD,KAAK2rJ,eACLrF,EAAS1hJ,MAAM6hD,QAAU,GACrBr6C,GAAQuc,WACR3oB,KAAKstJ,MAAQttJ,KAAKyB,cAAc,OAChCzB,KAAKstJ,MAAM5pJ,UAAY,KAAO1D,KAAKkH,gBAAkB,WACrDlH,KAAKstJ,MAAM1oJ,MAAM6hD,QAAU,OAC3B1rD,SAAS+R,KAAK1H,aAAapF,KAAKstJ,MAAOhH,GACvCvrJ,SAAS+R,KAAKpJ,WAAa,0BAC3B1D,KAAKstJ,MAAM1oJ,MAAM6hD,QAAU,QAC3BzmD,KAAKstJ,MAAM1oJ,MAAM44G,QAAU7xD,OAAO26F,EAAS1hJ,MAAM44G,QAAU,GAAG78G,cAI1E2qJ,EAAY9vJ,UAAUoxJ,iBAAmB,SAAU3sJ,GAC/C,IAAKxC,EAAkBwC,EAAK1D,OAAQ,CAChC,GAAIirJ,IAAoB3tJ,QAASmG,KAAK0c,UAAWngB,MAAO0D,EAAK1D,MAAO4zB,QAAQ,EAC5EnwB,MAAKyoB,QAAQ,cAAe++H,GACxBp7I,GAAQuc,UAAY1oB,EAAK1D,MAAMsM,SAAW7I,KAAKstJ,QAC/C9F,EAAgBr3H,QAAS,GAE7BlwB,EAAKkwB,OAASq3H,EAAgBr3H,OACzBlwB,EAAKkwB,QACNnwB,KAAKutJ,iBAIjBjC,EAAY9vJ,UAAU+xJ,aAAe,WACjCvtJ,KAAKi/F,eACLj/F,KAAKwtJ,mBACLxtJ,KAAK0c,UAAU9X,MAAM8S,MAAQ,GAC7B/R,EAAO,mBAAoB3F,KAAKysJ,SAAS5yJ,SAAS+K,MAAMsoJ,gBAClDltJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAAShtJ,KAAKhD,QACjDgD,KAAK0c,UAAUliB,UAAY,GAC3BgK,GAAaxE,KAAK0c,YAhMN,iBADC,oBAkMTtQ,GAAQuc,UAAY3oB,KAAKstJ,QACzB9oJ,GAAazJ,SAAS+R,MAAO,0BAC7B9M,KAAKstJ,MAAM1oJ,MAAM6hD,QAAU,OAC3BzmD,KAAKstJ,MAAMprJ,UAAY,GACvBlC,KAAKstJ,MAAQ,OAGrBhC,EAAY9vJ,UAAUwwJ,cAAgB,WAElC,GADAxzJ,EAAUwH,KAAK0c,WA1MF,oBACD,mBA0MR1c,KAAKytJ,aAAc,CACnB,GAAIC,GAAe1tJ,KAAKyB,cAAc,OAASiC,UAAW,oBAC1D1D,MAAK2tJ,cAAcD,EACnB,IAAIpwJ,GAAOiB,OAAOjB,KAAK0C,KAAKytJ,aAC5B,IAAoB,IAAhBnwJ,EAAK/E,OACLyH,KAAK4tJ,cAAc5tJ,KAAKytJ,aAAanwJ,EAAK,IAAKA,EAAK,GAAIowJ,OAGxD,KAAK,GAAIr1J,GAAI,EAAG4J,EAAM3E,EAAK/E,OAAQF,EAAI4J,EAAK5J,IACxC2H,KAAK4tJ,cAAc5tJ,KAAKytJ,aAAanwJ,EAAKjF,IAAKiF,EAAKjF,GAAIq1J,EAG5D5nJ,GAAU,SAAU4nJ,GAAcn1J,OAAS,IAC3CyL,GAAU0pJ,GAAe,uBAI7B1tJ,MAAK4tJ,cAAcxC,GAAQC,QAAS,UAEtB,aAAdrrJ,KAAK+vB,OAAuB/vB,KAAK6tJ,cAAgB7tJ,KAAK8tJ,SACtD9tJ,KAAK+tJ,YAET,IAAIr2I,GAAQsiB,SAAS/rB,iBAAiBjO,KAAK0c,WAAWsxI,kBAAmB,GACzEhuJ,MAAK0c,UAAU9X,MAAM8S,MAAQhV,EAAW1C,KAAK0c,UAAUZ,SAAS,GAAGhX,YAAc4S,EAAQA,GACzF1X,KAAKiuJ,IAAMjuJ,KAAKgtJ,SAAShtJ,KAAKy4H,WAAWz4H,KAAKhD,QAC9CgD,KAAKkuJ,IAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,MAE9C3C,EAAY9vJ,UAAUywJ,kBAAoB,WACjCtmJ,EAAO,IAAMulJ,GAAQlrJ,KAAK0c,UAAUZ,SAAS,KAC9ChW,EAAU,aAAgB9F,KAAK0c,WAAW,GAAGra,SAGrDipJ,EAAY9vJ,UAAUoyJ,cAAgB,SAAUxtH,EAAQ/iC,EAAK+wJ,GACzD,GAAIC,GAAUruJ,KAAKyB,cAAc,OAASiC,UA7OnC,YA6OwDI,OAASkuG,SAAY,MAChFo8C,GACAA,EAAOrsJ,YAAYssJ,GAGnBruJ,KAAK2tJ,cAAcU,EAKvB,KAAK,GAHDC,GACAC,EACAC,EACKn2J,EAAI,EAAG4J,EAAMm+B,EAAO7nC,OAAQF,EAAI4J,EAAK5J,IAChC,IAANA,GAAWA,EAAI2H,KAAKqxG,SAAY,IAChCi9C,EAAMtuJ,KAAKyB,cAAc,OACrBiC,UAAW,QAASI,OAASsP,KAAQ,SAEzCi7I,EAAQtsJ,YAAYusJ,IAExBE,EAAexuJ,KAAKy4H,WAAWr4F,EAAO/nC,IAAIF,cAC1Co2J,EAAOvuJ,KAAKyB,cAAc,QACtBiC,UAAWynJ,GAAMrnJ,OAASsP,KAAQ,WAAY0iH,aAAc04B,EAAcC,gBAAiB,WAE/FzuJ,KAAKyoB,QAAQ,oBAAsB5uB,QAAS00J,EAAMG,WAAYrxJ,EAAKL,MAAOojC,EAAO/nC,KACjFi2J,EAAIvsJ,YAAYwsJ,GACZvuJ,KAAKhD,QAAUwxJ,IACfxuJ,KAAK2uJ,iBAAiBJ,GACtBF,EAAQhsJ,SAEZksJ,EAAK3pJ,MAAMsoJ,gBAAkBltJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAASwB,KAG3ElD,EAAY9vJ,UAAUuyJ,WAAa,WAC/B,GAAIa,GAAa9oJ,EAAU,UAAU,GAAGgW,SAAS,EACjD8yI,GAAWp2J,UAAU+L,IAAIumJ,IACpB9qJ,KAAKhD,QACN4xJ,EAAWp2J,UAAU+L,IAAI2mJ,IACzBnlJ,EAAQ6oJ,EAAY,cAAgBvsJ,UAEvC,gBAAiB,cAAcjD,QAAQ,SAAU8kG,GAAQ0qD,EAAWtiJ,gBAAgB43F,KACrF0qD,EAAWhqJ,MAAMsoJ,gBAAkB,IAEvC5B,EAAY9vJ,UAAUmyJ,cAAgB,SAAUvpJ,EAAKyqJ,OAC/B,KAAdA,IAAwBA,EAAY,EACxC,IAAIT,GAASpuJ,KAAK0c,UAAUZ,SAAS+yI,EACrCT,GAASpuJ,KAAK0c,UAAUtX,aAAahB,EAAKgqJ,GAAUpuJ,KAAK0c,UAAU3a,YAAYqC,IAEnFknJ,EAAY9vJ,UAAUmzJ,iBAAmB,SAAUvqJ,GAC/CA,EAAI5L,UAAU+L,IAAI2mJ,IAClB9mJ,EAAIP,aAAa,gBAAiB,SAEtCynJ,EAAY9vJ,UAAU0wJ,aAAe,WACjC1zJ,EAAUwH,KAAK0c,WA7RH,mBADC,mBA+Rb,IAAIoyI,GAAe9uJ,KAAKyB,cAAc,OAASiC,UArSpC,mBAsSX1D,MAAK2tJ,cAAcmB,GACnBA,EAAa/sJ,YAAY/B,KAAKyB,cAAc,OAASiC,UAAWinJ,KAChE,IAAIoE,GAAc/uJ,KAAKyB,cAAc,QAAUiC,UAhTzC,YAgT6DI,OAASkuG,SAAY,MACxF88C,GAAa/sJ,YAAYgtJ,GACzB/uJ,KAAKiuJ,IAAMjuJ,KAAKgtJ,SAAShtJ,KAAKhD,OAC9BgD,KAAKkuJ,IAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KAC1CjuJ,KAAKgvJ,oBACLhvJ,KAAKivJ,qBACLjvJ,KAAKkvJ,eACLlvJ,KAAKmvJ,qBAET7D,EAAY9vJ,UAAUwzJ,kBAAoB,SAAUz6G,OACtC,KAANA,IAAgBA,EAAIv0C,KAAKkuJ,IAAI,IACjCluJ,KAAKovJ,kBAAkBxqJ,MAAMsoJ,gBAAkBltJ,KAAK+sJ,mBAAmB/sJ,KAAKqvJ,SAAS96G,EAAG,IAAK,IAAK,KAEtG+2G,EAAY9vJ,UAAU4zJ,gBAAkB,WACpC,MAAOzpJ,GAAO,mBAAoB3F,KAAK0c,YAE3C4uI,EAAY9vJ,UAAUyzJ,mBAAqB,WACvC,GAAIF,GAAc/uJ,KAAKmsJ,iBACnBmD,EAAU3pJ,EAAO,IAAMglJ,GAAS3qJ,KAAK0c,UACrC1c,MAAKuP,UACLw/I,EAAYnqJ,MAAM2I,KAAO7K,EAAW4sJ,EAAQxqJ,YAAcsI,KAAKE,IAAI,IAAMtN,KAAKkuJ,IAAI,IAAM,KAGxFa,EAAYnqJ,MAAM2I,KAAO7K,EAAW4sJ,EAAQxqJ,YAAc9E,KAAKkuJ,IAAI,GAAK,KAE5Ea,EAAYnqJ,MAAM6I,IAAM/K,EAAW4sJ,EAAQrrG,cAAgB,IAAMjkD,KAAKkuJ,IAAI,IAAM,MAEpF5C,EAAY9vJ,UAAU0zJ,aAAe,WACjC,GAAIK,GAAuBvvJ,KAAKyB,cAAc,OAASiC,UAAW,oBAClE1D,MAAK2tJ,cAAc4B,EAAsB,GACzCvvJ,KAAKwvJ,cAAcD,EACnB,IAAIE,GAAgBzvJ,KAAKyB,cAAc,OAASiC,UAAW,wBAC3D6rJ,GAAqBnqJ,aAAaqqJ,EAAeF,EAAqBzzI,SAAS,GAC/E,IAAI4zI,GAAS1vJ,KAAKyB,cAAc,OAASiC,UAAW,gBACpD+rJ,GAAc1tJ,YAAY2tJ,GAC1B1vJ,KAAK2vJ,UAAY,GAAI7wB,KACjB9hI,MAAOgD,KAAKkuJ,IAAI,GAChB9rI,IAAK,EACL/U,IAAK,IACLkC,UAAWvP,KAAKuP,UAChB0X,SAAUjnB,KAAKy+F,SACfh8E,OAAQziB,KAAK4vJ,UAAUn0J,KAAKuE,QAEhCA,KAAK2vJ,UAAUluJ,cAAgBzB,KAAKyB,cACpCzB,KAAK2vJ,UAAUpxG,SAASmxG,GACpB1vJ,KAAK6rJ,gBACL6D,EAAS1vJ,KAAKyB,cAAc,OAASiC,UAAW,qBAChD+rJ,EAAc1tJ,YAAY2tJ,GAC1B1vJ,KAAK6vJ,oBAAoBH,KAGjCpE,EAAY9vJ,UAAUq0J,oBAAsB,SAAUH,GAClD1vJ,KAAK8vJ,cAAgB,GAAIhxB,KACrB9hI,MAAqB,IAAdgD,KAAKiuJ,IAAI,GAChB7rI,IAAK,EACL/U,IAAK,IACLkC,UAAWvP,KAAKuP,UAChB0X,SAAUjnB,KAAKy+F,SACfh8E,OAAQziB,KAAK+vJ,cAAct0J,KAAKuE,QAEpCA,KAAK8vJ,cAAcruJ,cAAgBzB,KAAKyB,cACxCzB,KAAK8vJ,cAAcvxG,SAASmxG,EAC5B,IAAIM,GAAiBhwJ,KAAKyB,cAAc,OAASiC,UAAW,yBAC5DgsJ,GAAO3tJ,YAAYiuJ,GACnBhwJ,KAAKiwJ,yBAET3E,EAAY9vJ,UAAUy0J,sBAAwB,WAC1C,GAAIx6F,GAAYz1D,KAAKuP,UAAY,UAAY,UAC7C5J,GAAO,kBAAmB3F,KAAK8vJ,cAAcj2J,SAAS+K,MAAMsrJ,WACxD,mBAAqBz6F,EAAY,UAAYz1D,KAAKiuJ,IAAItsJ,MAAM,EAAG,GAAK,YAChE3B,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,IAAItsJ,MAAM,EAAG,IAAM,UAE5D2pJ,EAAY9vJ,UAAUo0J,UAAY,SAAU3vJ,GACxCD,KAAKkuJ,IAAI,GAAKjuJ,EAAKjD,MACnBgD,KAAKgvJ,oBACLhvJ,KAAKmwJ,wBAET7E,EAAY9vJ,UAAUu0J,cAAgB,SAAU9vJ,GAC5C,GAAIjD,GAAQiD,EAAKjD,MACbozJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKkuJ,IAAI,GAAKlxJ,EAAQ,IACtBgD,KAAKiuJ,IAAI,GAAKjxJ,EAAQ,GACtB,IAAIszJ,GAAStwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAC3BjuJ,MAAKw/F,aAAahnG,UAAUC,SAASiyJ,MACtC/nJ,EAAYgD,EAAO,IAAMolJ,GAAS/qJ,KAAK0c,WAAYo3G,IAAgB92H,MAAQA,EAE/E,IAAIixJ,GAAMjuJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,IACvCjuJ,MAAKuwJ,cAActC,GACnBjuJ,KAAKwwJ,aAAaF,EAAQF,EAAQnC,IAEtC3C,EAAY9vJ,UAAUg0J,cAAgB,SAAU/7B,GAC5C,GAAIg9B,GAAmBzwJ,KAAKyB,cAAc,OAASiC,UAAWsnJ,IAC9Dv3B,GAAU1xH,YAAY0uJ,EACtB,IAAIxD,GAAUjtJ,KAAKyB,cAAc,QAAUiC,UAAW,uBACtD+sJ,GAAiB1uJ,YAAYkrJ,EAC7B,IAAIyD,GAAa1wJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,IAC9ChB,GAAQroJ,MAAMsoJ,gBAAkBwD,EAChCzD,EAAUjtJ,KAAKyB,cAAc,QAAUiC,UAAW,yBAClD+sJ,EAAiB1uJ,YAAYkrJ,GAC7BA,EAAQroJ,MAAMsoJ,gBAAkBwD,GAEpCpF,EAAY9vJ,UAAUm1J,SAAW,WAC7B,OAAQ3wJ,KAAK0c,UAAUlkB,UAAUC,SAxYpB,oBA0YjB6yJ,EAAY9vJ,UAAU2xJ,YAAc,WAChC,MAAOntJ,MAAK0c,UAAU1G,eAE1Bs1I,EAAY9vJ,UAAUo1J,mBAAqB,SAAU/2J,EAASmD,EAAO0X,EAAOrH,GACxE,GAAItN,GAAQC,KACR6wJ,EAAe,GAAI/8B,KACnB92H,MAAOA,EACP+rB,YAAarU,EACb0N,IAAK,EACL/U,IAAKA,EACLw6B,OAAQ,SACRqtF,gBAAgB,EAChBlsG,eAAgB,SAChBzZ,UAAWvP,KAAKuP,UAChB0X,SAAUjnB,KAAKy+F,SACfkzB,UAAU3xH,KAAK2wJ,WACfluI,OAAQ,SAAUxiB,GACVA,EAAK1D,OACLwD,EAAM+2H,aAAa72H,EAAK1D,SAIpCs0J,GAAapvJ,cAAgBzB,KAAKyB,cAClCovJ,EAAatyG,SAAS1kD,IAE1ByxJ,EAAY9vJ,UAAUk1H,YAAc,WAChC,GAAIigC,GAAW3wJ,KAAK2wJ,WAChB58I,EAAU/T,KAAKw/F,YACnB,IAAKmxD,IAAa58I,EAAQvb,UAAUC,SAASiyJ,MAAiBiG,GAAY58I,EAAQvb,UAAUC,SAASwyJ,IAAa,CAC9G,GAAI6F,GAAY9wJ,KAAKyB,cAAc,OAASiC,UAAWknJ,IACvD+F,GAAW3wJ,KAAK2tJ,cAAcmD,EAAW,GAAK9wJ,KAAK2tJ,cAAcmD,EAAW,EAC5E,IAAIp0I,GAAY1c,KAAKyB,cAAc,OAASiC,UAAW,qBAKvD,IAJAotJ,EAAU/uJ,YAAY2a,GACjB3I,EAAQvb,UAAUC,SAnbb,yBAobNuH,KAAK+wJ,qBAAqBD,IAEzB/8I,EAAQvb,UAAUC,SAAS+xJ,IAAU,CACtC,GAAIwG,GAAWhxJ,KAAKyB,cAAc,SAC9BiC,UA7bV,QA8bUI,OAASmtJ,UAAa,IAAK/rI,WAAc,UAE7CxI,GAAU3a,YAAYivJ,GACtBrjI,GAAM+iG,aACF72H,QAASm3J,EACThoI,eAAgB,SAChBzlB,YACIwlB,YAAa,MACbxZ,UAAWvP,KAAKuP,UAChB0X,SAAUjnB,KAAKy+F,SACfkzB,UAAU3xH,KAAK2wJ,aAEpB3wJ,KAAKyB,eACRksB,GAAMvwB,SAAS4C,KAAKhD,MAAM2E,MAAM,EAAG,GAAIqvJ,GACvCA,EAASt0J,iBAAiB,QAASsD,KAAK82H,aAAar7H,KAAKuE,OAE9D,IAAK+T,EAAQvb,UAAUC,SAASgyJ,IAAW,CACvC,GAAI/1I,OAAQ,GACR1X,MAAQ,EACRgD,MAAKosJ,OACL13I,EAAQ,MACR1X,EAAQgD,KAAKiuJ,MAGbv5I,EAAQ,MACR1X,EAAQgD,KAAKkuJ,IAGjB,KAAK,GADDgD,IAAW,KAAM,KAAM,MAClB74J,EAAI,EAAGA,EAAI,EAAGA,IACnB2H,KAAK4wJ,mBAAmBl0I,EAAU3a,YAAY/B,KAAKyB,cAAc,SAAWiC,UAAW,KAAOwtJ,EAAQ74J,GAAK,YAAc2E,EAAM3E,GAAIqc,EAAMrc,GAAI,IAE7I2H,MAAK6rJ,eACL7rJ,KAAKmxJ,mBAAmBz0I,MAKxC4uI,EAAY9vJ,UAAU21J,mBAAqB,SAAUz0I,GACjD1c,KAAK4wJ,mBAAmBl0I,EAAU3a,YAAY/B,KAAKyB,cAAc,SAAWiC,UAAWqnJ,MAA2B,IAAd/qJ,KAAKiuJ,IAAI,GAAU,IAAK,MAEhI3C,EAAY9vJ,UAAUu1J,qBAAuB,SAAUxsC,GACnD,GAAI6sC,GAAiBpxJ,KAAKyB,cAAc,UAAYiC,UAAW,sDAC/D6gH,GAAUxiH,YAAYqvJ,GAClBpxJ,KAAK2wJ,aAAe3wJ,KAAKw/F,aAAahnG,UAAUC,SAASgyJ,KACzD2G,EAAe10J,iBAAiB,QAASsD,KAAKqxJ,oBAAoB51J,KAAKuE,QAG/EsrJ,EAAY9vJ,UAAU6wJ,cAAgB,WAClC,GAAIrsJ,KAAK6tJ,cAAgB7tJ,KAAK8gI,YAAa,CACvC9gI,KAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,OACzB,IAAIsiJ,GAAatxJ,KAAKyB,cAAc,OAASiC,UAAW6mJ,IAExD,IADAvqJ,KAAK0c,UAAU3a,YAAYuvJ,GACvBtxJ,KAAK8gI,YAAa,CAClB,GAAIywB,GAAoBvxJ,KAAKyB,cAAc,OAASiC,UAxftD,cAyfE4tJ,GAAWvvJ,YAAYwvJ,EACvB,IAAI71J,GAAQsE,KAAKw7G,KAAKjvD,YAAY,QAClCglG,GAAkBxvJ,YAAY/B,KAAKyB,cAAc,UAC7CjH,UAAWkB,EACXgI,UAAW,yCACXI,OAAS4pD,MAAShyD,KAEtB,IAAIy0B,GAASnwB,KAAKw7G,KAAKjvD,YAAY,SACnCglG,GAAkBxvJ,YAAY/B,KAAKyB,cAAc,UAC7CjH,UAAW21B,EACXzsB,UAAW,gCACXI,OAAS4pD,MAASv9B,MAGtBnwB,KAAK6tJ,cACL7tJ,KAAKwxJ,wBAIjBlG,EAAY9vJ,UAAUg2J,oBAAsB,WACxC,GAAI3D,GAAe7tJ,KAAKyB,cAAc,UAClCiC,UAAW,mCAAqCmnJ,GAAY/mJ,OAAS4pD,MAAO1tD,KAAKw7G,KAAKjvD,YAAY,kBAEtG5mD,GAAO,IAAM4kJ,GAAYvqJ,KAAK0c,WAAWtX,aAAayoJ,EAAcloJ,EAAO,cAAe3F,KAAK0c,aAEnG4uI,EAAY9vJ,UAAU2zJ,kBAAoB,WACtC,GAAIpvJ,GAAQC,KACR+jG,EAAU,GAAI6lB,KACd4F,QAAS,SACThE,gBAAgB,EAChBj3G,SAAU,yBACV0wH,WAAY,SAAUhlI,GAClBF,EAAMwqH,WAAatqH,EAAKpG,SAE5BggC,WAAa/3B,MAAQmqG,OAAQ,QAAU7pG,OAAS6pG,OAAQ,UAE5DlI,GAAQtiG,cAAgBzB,KAAKyB,cAC7BsiG,EAAQxlD,SAASv+C,KAAK0c,WACtBqnF,EAAQjiG,KAAK9B,KAAK0c,WAClB1c,KAAKuqH,WAAW3lH,MAAM44G,OAAS9hG,GAAiB1b,KAAKuqH,YAAY5pH,WACjEgF,EAAO,iBAAkB3F,KAAKuqH,YAAYxoH,YAAY/B,KAAKyB,cAAc,OAASiC,UAAW,wBAEjG4nJ,EAAY9vJ,UAAUi2J,eAAiB,WACnC,MAAO9uJ,GAAY3C,KAAK0c,UAAWktG,KAEvC0hC,EAAY9vJ,UAAUk2J,iBAAmB,SAAU10J,GAC/CgD,KAAKyxJ,iBAAiBzkJ,QAAUhQ,GAEpCsuJ,EAAY9vJ,UAAU8wJ,eAAiB,SAAUphD,GAC7CA,EAASlrG,KAAKw/F,aAAahnG,UAAU+L,IAxiB9B,cAwiB8CvE,KAAKw/F,aAAahnG,UAAUkM,OAxiB1E,cAyiBH1E,KAAK8gI,gBACDn/H,MAAMf,KAAKkF,EAAU,SAAU9F,KAAK0c,YAAatd,QAAQ,SAAUgF,GACnE8mG,EAASnnG,EAAWK,GAAOq6F,SAAY,KAAQr6F,EAAIkI,gBAAgB,eAI/Eg/I,EAAY9vJ,UAAUuxJ,mBAAqB,SAAUkB,GACjD,MAAOA,GAAI11J,OAAwB,IAAf01J,EAAI11J,OAAe,QAAU01J,EAAIztJ,OAAS,IAAM,OAASytJ,EAAIztJ,OAAS,IAAM,IAEpG8qJ,EAAY9vJ,UAAUm2J,mBAAqB,SAAUzD,GACjD,MAAsB,KAAfA,EAAI31J,OAAe,QAAU21J,EAAI1tJ,OAAS,IAAM,OAAS0tJ,EAAI1tJ,OAAS,KAEjF8qJ,EAAY9vJ,UAAUo2J,UAAY,WAC9B5xJ,KAAKkuJ,IAAI,GAAKluJ,KAAKkuJ,IAAI,GAAK,IAAM,IAAMluJ,KAAKkuJ,IAAI,GACjDluJ,KAAKkuJ,IAAI,GAAKluJ,KAAKkuJ,IAAI,GAAK,IAAM,IAAMluJ,KAAKkuJ,IAAI,GACjDluJ,KAAKivJ,sBAET3D,EAAY9vJ,UAAU20J,qBAAuB,SAAU0B,OACrC,KAAVA,IAAoBA,GAAQ,EAChC,IAAIzB,GAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKiuJ,IAAMjuJ,KAAKqvJ,SAAS3zJ,MAAMsE,KAAMA,KAAKkuJ,IAC1C,IAAIoC,GAAStwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,KAC5BnB,EAAO9sJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,IACxCjuJ,MAAKuwJ,cAAczD,GACnB9sJ,KAAK8xJ,YAAYxB,GACjBtwJ,KAAKwwJ,aAAaF,EAAQF,EAAQtD,EAAM+E,IAE5CvG,EAAY9vJ,UAAUs2J,YAAc,SAAU90J,GAC1C,GAAI+W,GAAU/T,KAAKw/F,YACdzrF,GAAQvb,UAAUC,SAASiyJ,MACvB32I,EAAQvb,UAAUC,SAAS+xJ,KAC5B78H,GAAMvwB,SAASJ,EAAMjE,OAAO,EAAG,GAAI4M,EAAO,SAAW3F,KAAK0c,YAEzD3I,EAAQvb,UAAUC,SAASgyJ,MACxBzqJ,KAAKosJ,MACLpsJ,KAAKq3H,YAAYr3H,KAAKiuJ,KAAK,GAG3BjuJ,KAAKq3H,YAAYr3H,KAAKkuJ,KAAK,MAK3C5C,EAAY9vJ,UAAU+0J,cAAgB,SAAUvzJ,GACxCgD,KAAK6rJ,eACL7rJ,KAAKiwJ,wBAETtqJ,EAAO,qBAAsB3F,KAAKuqH,YAAY3lH,MAAMsoJ,gBAAkBlwJ,EACtE2I,EAAO,IAAMqlJ,GAAU,cAAgBhrJ,KAAK0c,WAAW9X,MAAMsoJ,gBAAkBlwJ,EAC/E2I,EAAO,IAAMqlJ,GAAU,eAAiBhrJ,KAAK0c,WAAW9X,MAAMsoJ,gBACxDltJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAAShtJ,KAAKhD,SAErDsuJ,EAAY9vJ,UAAU2wJ,eAAiB,WACnC,MAAOxmJ,GAAO,aAAe3F,KAAK0c,YAEtC4uI,EAAY9vJ,UAAUu2J,oBAAsB,cACnBpwJ,MAAMf,KAAKkF,EAAU,IAAMolJ,GAAQlrJ,KAAK0c,UAAUZ,SAAS,KACpE1c,QAAQ,SAAUgF,GAC1BA,EAAI5L,UAAUkM,OAAOwmJ,IACrB9mJ,EAAIP,aAAa,gBAAiB,YAG1CynJ,EAAY9vJ,UAAUw2J,wBAA0B,SAAUh1J,GACtD,MAAQA,GAAM2E,MAAM3E,EAAMwB,QAAQ,KAAO,EAAGxB,EAAMwB,QAAQ,MAAOtB,MAAM,KAAK8jC,IAAI,SAAUixH,EAAG55J,GACzF,MAAc,KAANA,EAAW2hC,SAASi4H,EAAG,IAAM9xI,WAAW8xI,MAUxD3G,EAAY9vJ,UAAUqB,SAAW,SAAUG,EAAOjD,GAK9C,GAJKiD,IACDA,EAAQgD,KAAKhD,OAEjBjD,EAAQA,EAAeA,EAAK5B,cAAb,MACE,MAAb6E,EAAM,GAAY,CACdszJ,EAAStwJ,KAAKgyJ,wBAAwBh1J,EAC1C,IAAa,QAATjD,GAA2B,SAATA,EAAiB,CAC/B8yJ,EAAM7sJ,KAAKqwJ,SAASC,EACxB,OAAgB,QAATv2J,EAAiB8yJ,EAAIlrJ,MAAM,EAAG,GAAKkrJ,EAG1C,MAAa,QAAT9yJ,EACOiG,KAAK2xJ,mBAAmB3xJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMswJ,EAAO3uJ,MAAM,EAAG,KAG5D,SAAT5H,EACOiG,KAAK2xJ,mBAAmB3xJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMswJ,IAGlD,OAMnB,GAAiB,MAAbtzJ,EAAM,GAAY,CAClB,GAAIszJ,GAAStwJ,KAAKqvJ,SAAS3zJ,MAAMsE,KAAMA,KAAKgyJ,wBAAwBh1J,GACpE,IAAa,SAATjD,EACA,MAAOiG,MAAK+sJ,mBAAmBuD,EAG/B,IAAa,QAATv2J,GAA2B,SAATA,EAAiB,CACnC,GAAI8yJ,GAAM7sJ,KAAKqwJ,SAASC,EACxB,OAAgB,QAATv2J,EAAiB8yJ,EAAIlrJ,MAAM,EAAG,GAAKkrJ,EAG1C,MAAa,QAAT9yJ,EACOiG,KAAK+sJ,mBAAmBuD,EAAO3uJ,MAAM,EAAG,IAGxC,OAMnB3E,EAAQgD,KAAKy4H,WAAWz7H,EACxB,IAAIixJ,GAAMjuJ,KAAKgtJ,SAAShwJ,EAIxB,OAHa,QAATjD,GAA2B,QAATA,IAClBk0J,EAAMA,EAAItsJ,MAAM,EAAG,IAEV,SAAT5H,GAA4B,QAATA,EACZiG,KAAK+sJ,mBAAmBkB,GAGlB,SAATl0J,GAA4B,QAATA,EACZiG,KAAK2xJ,mBAAmB3xJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMiuJ,IAG5C,QAATl0J,EACOiD,EAAM2E,MAAM,EAAG,GAGT,MAAT5H,EACOk0J,EAAI,GAAGttJ,WAGP,QAanC2qJ,EAAY9vJ,UAAUomG,OAAS,WAC3B5hG,KAAKysJ,SAAS7qD,UAOlB0pD,EAAY9vJ,UAAU0L,cAAgB,WAClC,MAAO,eAMXokJ,EAAY9vJ,UAAU6jD,eAAiB,WACnC,MAAOr/C,MAAK8/C,cAAc,WAE9BwrG,EAAY9vJ,UAAU+qB,WAAa,WAC/B,GAAIvmB,KAAK2wJ,WAAY,CACjB,GAAI5B,GAAc/uJ,KAAKmsJ,gBACvB1mJ,IAAalB,IAAIwqJ,EAAa,UAAW/uJ,KAAKkyJ,cAAelyJ,MAC7DyF,GAAalB,IAAIvE,KAAKovJ,kBAAmB,uBAAwBpvJ,KAAKmyJ,YAAanyJ,OAC/EA,KAAK6tJ,cAAgB7tJ,KAAK8gI,cAC1B9gI,KAAKoyJ,qBAET3sJ,GAAalB,IAAIoB,EAAO,cAAgB3F,KAAK0c,WAAY,QAAS1c,KAAKqyJ,eAAgBryJ,UAGvFyF,IAAalB,IAAIvE,KAAK0c,UAAW,QAAS1c,KAAKsyJ,oBAAqBtyJ,MACpEyF,GAAalB,IAAIvE,KAAK0c,UAAW,UAAW1c,KAAKuyJ,eAAgBvyJ,OAGzEsrJ,EAAY9vJ,UAAU42J,mBAAqB,WACvC3sJ,GAAalB,IAAIoB,EAAO,IAAM4kJ,GAAYvqJ,KAAK0c,WAAY,QAAS1c,KAAKg/F,gBAAiBh/F,OAE9FsrJ,EAAY9vJ,UAAU02J,cAAgB,SAAU9wJ,GAC5C,OAAQA,EAAE1J,SACN,IAAK,IACDsI,KAAKwyJ,oBAAoB,EAAGxyJ,KAAKuP,WAAa,EAAI,EAAGnO,EACrD,MACJ,KAAK,IACDpB,KAAKwyJ,oBAAoB,EAAGxyJ,KAAKuP,UAAY,GAAK,EAAGnO,EACrD,MACJ,KAAK,IACDpB,KAAKwyJ,oBAAoB,EAAG,EAAGpxJ,EAC/B,MACJ,KAAK,IACDpB,KAAKwyJ,oBAAoB,GAAI,EAAGpxJ,EAChC,MACJ,KAAK,IACDA,EAAEomB,gBACF,IAAI8oI,GAAStwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAK4vG,gBAAgB0gD,EAAQlvJ,KAGzCkqJ,EAAY9vJ,UAAUo0G,gBAAkB,SAAU5yG,EAAOoE,GACrDpB,KAAKyyJ,mBAAmBz1J,GACnBgD,KAAK0rJ,SACN1rJ,KAAK0lJ,WAAWtkJ,GAChBpB,KAAKysJ,SAAS5yJ,QAAQwI,UAG9BipJ,EAAY9vJ,UAAUkqJ,WAAa,SAAUtkJ,GACzC,GAAIomJ,IAAoB3tJ,QAASmG,KAAK0c,UAAWngB,MAAO6E,EAAG+uB,QAAQ,EACnEnwB,MAAKyoB,QAAQ,cAAe++H,GACvBA,EAAgBr3H,SACjBnwB,KAAK4hG,SACL5hG,KAAKutJ,iBAGbjC,EAAY9vJ,UAAUi3J,mBAAqB,SAAUz1J,GACjD,GAAI6vJ,GAAM7vJ,EAAM2E,MAAM,EAAG,EACzB3B,MAAKyoB,QAAQ,UACT6gH,cAAgBujB,IAAKA,EAAKC,KAAM9sJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,MAC7D32B,eAAiBu1B,IAAK7sJ,KAAKhD,MAAM2E,MAAM,EAAG,GAAImrJ,KAAM9sJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAAShtJ,KAAKhD,WAEnGgD,KAAK2H,eAAgB3K,MAASA,IAAS,GACvCgD,KAAKnG,QAAQmD,MAAQ6vJ,GAAY,WAErCvB,EAAY9vJ,UAAUg3J,oBAAsB,SAAUE,EAAM11J,EAAOoE,GAC/DA,EAAEomB,iBACFxnB,KAAKkuJ,IAAIwE,IAAS11J,GAASoE,EAAE2oB,QAAU,EAAI,GACvC/pB,KAAKkuJ,IAAIwE,GAAQ,IACjB1yJ,KAAKkuJ,IAAIwE,GAAQ,GAErB1yJ,KAAK4xJ,YACL5xJ,KAAKmwJ,sBAAqB,IAE9B7E,EAAY9vJ,UAAU22J,YAAc,SAAU/wJ,GAC1CA,EAAEomB,iBAGa,cAAXpmB,EAAErH,MACFiG,KAAK2mD,QAAUv5C,KAAKE,IAAIlM,EAAEyL,MAAQs3C,aAClCnkD,KAAK4mD,QAAUx5C,KAAKE,IAAIlM,EAAE6L,MAAQi3C,aAClClkD,KAAK0xJ,iBAAiB,KAGtB1xJ,KAAK2mD,QAAUv5C,KAAKE,IAAIlM,EAAEugD,eAAe,GAAG90C,MAAQs3C,aACpDnkD,KAAK4mD,QAAUx5C,KAAKE,IAAIlM,EAAEugD,eAAe,GAAG10C,MAAQi3C,aACpDlkD,KAAK0xJ,kBAAkB,IAE3B1xJ,KAAK2yJ,OAAO3yJ,KAAK2mD,QAAS3mD,KAAK4mD,SAC/B5mD,KAAKmsJ,iBAAiBvnJ,MAAMq6H,WAAa,gFACzCj/H,KAAK4xJ,YACL5xJ,KAAKmwJ,uBACLnwJ,KAAKmsJ,iBAAiB9pJ,QACtBoD,GAAalB,IAAIxJ,SAAU,sBAAuBiF,KAAK4yJ,YAAa5yJ,MACpEyF,GAAalB,IAAIxJ,SAAU,mBAAoBiF,KAAK6yJ,WAAY7yJ,OAEpEsrJ,EAAY9vJ,UAAUo3J,YAAc,SAAUxxJ,GAC3B,cAAXA,EAAErH,MACFqH,EAAEomB,gBAEN,IAAI1Z,GACAC,CACW,eAAX3M,EAAErH,MACF+T,EAAIV,KAAKE,IAAIlM,EAAEyL,MAAQs3C,aACvBp2C,EAAIX,KAAKE,IAAIlM,EAAE6L,MAAQi3C,eAGvBp2C,EAAIV,KAAKE,IAAIlM,EAAEugD,eAAe,GAAG90C,MAAQs3C,aACzCp2C,EAAIX,KAAKE,IAAIlM,EAAEugD,eAAe,GAAG10C,MAAQi3C,cAE7ClkD,KAAK2yJ,OAAO7kJ,EAAGC,EACf,IAAIghJ,GAAc/uJ,KAAKmsJ,gBACZnyH,UAAS+0H,EAAYnqJ,MAAM2I,KAAM,IAClCysB,SAAS+0H,EAAYnqJ,MAAM6I,IAAK,GAC1CzN,MAAK4xJ,YACL5xJ,KAAKmwJ,uBACLnwJ,KAAKyxJ,iBAAiB/yG,QAAQqwG,GACzB/uJ,KAAKuqH,WAAW3lH,MAAMuJ,YACnBf,KAAKE,IAAItN,KAAK2mD,QAAU74C,GAAK,GAAKV,KAAKE,IAAItN,KAAK4mD,QAAU74C,GAAK,KAC/DpI,EAAO,IAAMglJ,GAAS3qJ,KAAK0c,WAAW9X,MAAM+/H,OAAS,UACrDoqB,EAAYnqJ,MAAMq6H,WAAa,OAC1Bj/H,KAAK0rJ,SACN1rJ,KAAKuqH,WAAW3lH,MAAM44G,QAAUxjF,SAASh6B,KAAKmtJ,cAAcvoJ,MAAM44G,OAAQ,IAAM,GAAG78G,YAEvFX,KAAKuqH,WAAW3lH,MAAMuJ,UAAY,gBAClC4gJ,EAAYv2J,UAAU+L,IAAI,oBAItC+mJ,EAAY9vJ,UAAUm3J,OAAS,SAAUhsG,EAASC,GAC9C,GAAIxiD,GAAMuB,EAAO,IAAMglJ,GAAS3qJ,KAAK0c,WACjC7G,EAAWzR,EAAIuI,uBAEfg6C,GADA3mD,KAAKuP,UACKo3C,EAAU9wC,EAASrI,MAAQ,EAAIJ,KAAKE,IAAIq5C,EAAU9wC,EAASrI,OAG3Dm5C,EAAU9wC,EAAStI,KAAOH,KAAKE,IAAIq5C,EAAU9wC,EAAStI,MAAQ,EAE5Eq5C,EAAUA,EAAU/wC,EAASpI,IAAML,KAAKE,IAAIs5C,EAAU/wC,EAASpI,KAAO,EACtEzN,KAAKkuJ,IAAI,GAAK9gJ,KAAKgoG,MAC2E,GADrEzpD,OAAO,KAAOvnD,EAAI6/C,aACvC72C,KAAKC,IAAI,EAAGD,KAAKgV,IAAIhe,EAAI6/C,aAAe2C,EAAUxiD,EAAI2R,aAAgB3R,EAAI6/C,eAAsB,GACpGjkD,KAAKkuJ,IAAI,GACL9gJ,KAAKgoG,MAA6G,GAAvGzpD,OAAO,IAAOv+C,KAAKC,IAAI,EAAGD,KAAKgV,IAAIhe,EAAIU,YAAc6hD,EAAUviD,EAAI0R,aAAiB1R,EAAIU,cAAqB,IAEhIwmJ,EAAY9vJ,UAAUq3J,WAAa,SAAUzxJ,GAC1B,aAAXA,EAAErH,MACFqH,EAAEomB,iBAEN/hB,GAAaf,OAAO3J,SAAU,sBAAuBiF,KAAK4yJ,aAC1DntJ,GAAaf,OAAO3J,SAAU,mBAAoBiF,KAAK6yJ,WACvD,IAAI9D,GAAc/uJ,KAAKmsJ,gBACvBxmJ,GAAO,IAAMglJ,GAAS3qJ,KAAK0c,WAAW9X,MAAM+/H,OAAS,GACjD3kI,KAAKuqH,WAAW3lH,MAAMuJ,YACtBnO,KAAKuqH,WAAW3lH,MAAMuJ,UAAY,GAClC4gJ,EAAYv2J,UAAUkM,OAAO,mBAE5B1E,KAAK0rJ,QAAW1rJ,KAAK8gI,aACtB9gI,KAAK0lJ,WAAWtkJ,IAGxBkqJ,EAAY9vJ,UAAUwjG,gBAAkB,SAAU59F,GAC9C,GAAIyH,GAASzH,EAAEyH,MACX9C,GAAQ8C,EAAQ,IAAMgiJ,KACtBzpJ,EAAEm4H,kBACFv5H,KAAK8yJ,oBAGDjqJ,EAAOrQ,UAAUC,SAh4BrB,YAg4BwCoQ,EAAOrQ,UAAUC,SA/3BxD,cAg4BGuH,KAAK+yJ,aAAalqJ,EAAQzH,IAItCkqJ,EAAY9vJ,UAAUs3J,gBAAkB,WACpC9yJ,KAAKyoB,QAAQ,oBAAsB5uB,QAASmG,KAAK0c,UAAWqT,KAAM,YAClE/vB,KAAKi/F,eACLj/F,KAAKwtJ,mBACLjoJ,EAAOI,EAAO,oBAAqB3F,KAAK0c,YACnC1c,KAAKw/F,aAAahnG,UAAUC,SAASiyJ,KACtChmJ,EAAOiB,EAAO,IAAMilJ,GAAc5qJ,KAAK0c,YAE3CnX,EAAOvF,KAAKovJ,mBACZpvJ,KAAKgsJ,gBACLhsJ,KAAKisJ,oBACLjsJ,KAAK0wH,cACL1wH,KAAKusJ,kBACLvsJ,KAAKumB,cAET+kI,EAAY9vJ,UAAU+wJ,gBAAkB,WACpC,IAAKvsJ,KAAK0rJ,OAAQ,CACd,GAAIpF,GAAWtmJ,KAAKmtJ,aACpB7G,GAAS1hJ,MAAM2I,KAAO7K,EAAW,EAAIyhD,aACrCmiG,EAAS1hJ,MAAM6I,IAAM/K,EAAW,EAAIwhD,aACpClkD,KAAKqtJ,eAAe1tC,gBAAgB3/G,KAAKysJ,SAAS5yJ,QAAQmc,iBAGlEs1I,EAAY9vJ,UAAU61J,oBAAsB,SAAUjwJ,GACrCA,EAAEyH,OAAOmN,aAClBhW,MAAKosJ,OACLpsJ,KAAKq3H,YAAYr3H,KAAKkuJ,KAAK,EAAM,GAAI,IAAK,IAAK,MAC/CluJ,KAAKosJ,OAAQ,IAGbpsJ,KAAKq3H,YAAYr3H,KAAKiuJ,KAAK,EAAM,GACjCjuJ,KAAKosJ,OAAQ,IAGrBd,EAAY9vJ,UAAU67H,YAAc,SAAUr6H,EAAO6qC,EAAQ9a,EAAK1f,GAG9D,IAAK,GADDpK,GADAiuJ,GAAW,aAAc,aAAc,cAElC74J,EAAI,EAAG4J,EAAMivJ,EAAQ34J,OAAQF,EAAI4J,EAAK5J,KAC3C4K,EAAON,EAAYgD,EAAO,IAAMurJ,EAAQ74J,GAAI2H,KAAK0c,WAAYo3G,KACxD92H,MAAQoQ,KAAKgoG,MAAMp4G,EAAM3E,IAC1BwvC,IACA5kC,EAAK8lB,YAAcmoI,EAAQ74J,GAAGU,OAAOg0B,EAAK,GAAGS,cAC7CvqB,EAAKoK,IAAMA,EAAMA,EAAIhV,GAAK,KAE9B4K,EAAK+xB,YAGbs2H,EAAY9vJ,UAAU62J,eAAiB,SAAUjxJ,GAC7C,GAAIyH,GAASzH,EAAEyH,OACXunJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKiuJ,IAAMjuJ,KAAKgyJ,wBAAwBnpJ,EAAOjE,MAAMsoJ,iBAChDltJ,KAAKiuJ,IAAI,KACVjuJ,KAAKiuJ,IAAI,GAAK,EAElB,IAAIqC,GAAStwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,KAC5BC,EAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,IACrCC,GAAI,KAAOluJ,KAAKkuJ,IAAI,KACpBluJ,KAAK2vJ,UAAUhoJ,eAAgB3K,MAASkxJ,EAAI,KAAM,GAClDluJ,KAAK2vJ,UAAUjxG,WAEnB1+C,KAAKgvJ,kBAAkBd,EAAI,IACvBluJ,KAAK6rJ,eAAiBqC,EAAI,KAAOluJ,KAAKkuJ,IAAI,KAC1CluJ,KAAK8vJ,cAAcnoJ,eAAgB3K,MAAkB,IAATkxJ,EAAI,KAAY,GAC5DluJ,KAAK8vJ,cAAcpxG,UACnB1+C,KAAKiwJ,yBAETjwJ,KAAKkuJ,IAAMA,EACXluJ,KAAKivJ,qBACLjvJ,KAAK8xJ,YAAYxB,GACjB3qJ,EAAO,IAAMqlJ,GAAU,cAAgBhrJ,KAAK0c,WAAW9X,MAAMsoJ,gBAAkBltJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,KAC5GjuJ,KAAKwwJ,aAAaF,EAAQF,EAAQpwJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,OAEnE3C,EAAY9vJ,UAAU82J,oBAAsB,SAAUlxJ,GAClDA,EAAEomB,gBACF,IAAI3e,GAASzH,EAAEyH,MACf,IAAIA,EAAOrQ,UAAUC,SAAS0yJ,IAAO,CAGjC,GAFAnrJ,KAAK+xJ,sBACL/xJ,KAAK2uJ,iBAAiB9lJ,GAClBA,EAAOrQ,UAAUC,SAASqyJ,IAC1B9qJ,KAAKgzJ,kBAEJ,CACD,GAAI1C,GAASznJ,EAAOpC,aAAa,cAC7B2pJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKiuJ,IAAMjuJ,KAAKgtJ,SAAShtJ,KAAKy4H,WAAW63B,IACzCtwJ,KAAKkuJ,IAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KACtCjuJ,KAAKw/F,aAAahnG,UAAUC,SAASwyJ,KACrCjrJ,KAAK8xJ,YAAYxB,GAErBtwJ,KAAKwwJ,aAAaF,EAAQF,EAAQpwJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,MAE9DjuJ,KAAK0rJ,QAAW1rJ,KAAK8gI,aACtB9gI,KAAK0lJ,WAAWtkJ,OAIhB2E,GAAQ8C,EAAQ,IAAMgiJ,IACtB7qJ,KAAKizJ,iBAGDpqJ,EAAOrQ,UAAUC,SAz+BzB,YAy+B4CoQ,EAAOrQ,UAAUC,SAx+B5D,YAy+BOuH,KAAK+yJ,aAAalqJ,EAAQzH,GAGtBpB,KAAKw/F,aAAahnG,UAAUC,SAASwyJ,KAAcllJ,EAAQ8C,EAAQ,wBACnE7I,KAAKqxJ,oBAAoBjwJ,IAM7CkqJ,EAAY9vJ,UAAUw3J,YAAc,SAAUnB,OAC5B,KAAVA,IAAoBA,GAAQ,EAChC,IAAIzB,GAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKiuJ,OACLjuJ,KAAKkuJ,OACLluJ,KAAKwwJ,aAAa,GAAIJ,EAAQ,GAAIyB,IAEtCvG,EAAY9vJ,UAAUy3J,eAAiB,WACnC,GAAIl/I,GAAU/T,KAAKw/F,YACnBx/F,MAAKyoB,QAAQ,oBAAsB5uB,QAASmG,KAAK0c,UAAWqT,KAAM,WAClE/vB,KAAKi/F,kBACDt9F,MAAMf,KAAKkF,EAAU,aAAgB9F,KAAK0c,YAAatd,QAAQ,SAAUgF,GACzEmB,EAAOnB,KAEP2P,EAAQvb,UAAUC,SAASwyJ,KAC3B1lJ,EAAOI,EAAO,IAAMilJ,GAAc5qJ,KAAK0c,YAE3C1c,KAAK0c,UAAU9X,MAAM8S,MAAQ,EAC7B,IAAIw7I,GAASvtJ,EAAO,oBAAqB3F,KAAK0c,UAC1C1c,MAAKytJ,cACL/oJ,EAAOwuJ,GAEXlzJ,KAAKksJ,eACLlsJ,KAAKmsJ,iBAAiB9pJ,QACtBrC,KAAK0wH,cACL1wH,KAAKusJ,kBACLvsJ,KAAKumB,cAET+kI,EAAY9vJ,UAAUu3J,aAAe,SAAU3uJ,EAAKhD,GAChD,GAAIgD,EAAI5L,UAAUC,SAjhCd,WAihC+B,CAC/B,GAAI63J,GAAStwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKyyJ,mBAAmBnC,GAEvBtwJ,KAAK0rJ,SACN1rJ,KAAK0lJ,WAAWtkJ,GAChBpB,KAAKysJ,SAAS5yJ,QAAQwI,UAG9BipJ,EAAY9vJ,UAAU+2J,eAAiB,SAAUnxJ,GAC7C,GAAIyH,GAASzH,EAAEyH,MACf,IAAKA,EAAOrQ,UAAUC,SAvgCf,aAugCP,CAGA,GAAI06J,GACApmI,EACAqmI,KAAWzxJ,MAAMf,KAAKkF,EAAU,IAAMqlJ,GAAMtiJ,IAC5CwqJ,EAAmBD,EAAM39H,OAAO,SAAU84H,GAAQ,MAAOA,GAAK/1J,UAAUC,SAAS,gBAAmB25G,KACxG,SAAShxG,EAAEupD,QAAUvpD,EAAE1J,SACnB,IAAK,IACD0J,EAAEomB,iBACF2rI,EAAcE,EAAkBD,EAAMpzJ,KAAKszJ,aAAaF,EAAOC,EAAiBrzJ,KAAKuP,WAAa,EAAI,IAChG6jJ,EAAMpzJ,KAAKuP,UAAY6jJ,EAAM76J,OAAS,EAAI,GAChDyH,KAAKuzJ,oBAAoBJ,EACzB,MACJ,KAAK,IACD/xJ,EAAEomB,iBACF2rI,EAAcE,EAAkBD,EAAMpzJ,KAAKszJ,aAAaF,EAAOC,EAAiBrzJ,KAAKuP,UAAY,GAAK,IAChG6jJ,EAAMpzJ,KAAKuP,UAAY,EAAI6jJ,EAAM76J,OAAS,GAChDyH,KAAKuzJ,oBAAoBJ,EACzB,MACJ,KAAK,IACD/xJ,EAAEomB,iBAEF2rI,EAAcC,EADdrmI,EAAMsmI,EAAkBrzJ,KAAKszJ,aAAaF,EAAOC,GAAkBrzJ,KAAKqxG,SAAW,GACxD+hD,EAAMrmI,GAAOqmI,EAAMrmI,EAAM/sB,KAAKqxG,SACzDrxG,KAAKuzJ,oBAAoBJ,EACzB,MACJ,KAAK,IACD/xJ,EAAEomB,iBAEE4rI,EADJrmI,EAAMsmI,EAAkBrzJ,KAAKszJ,aAAaF,EAAOC,EAAiBrzJ,KAAKqxG,SAAW+hD,EAAM76J,OAAS,GAE7F46J,EAAcC,EAAMrmI,IAGpBA,GAAOqmI,EAAM76J,OAEb46J,EAAcC,EADdrmI,GAAOqmI,EAAMA,EAAM76J,OAAS,GAAGyd,cAAc+wI,oBAGjD/mJ,KAAKuzJ,oBAAoBJ,EACzB,MACJ,KAAK,IAED,GADA/xJ,EAAEomB,iBACE6rI,EAAiB,CACjB,GAAI/C,GAAS+C,EAAgB5sJ,aAAa,aAC1CzG,MAAK4vG,gBAAgB0gD,GAAkB,GAAIlvJ,OAI3DkqJ,EAAY9vJ,UAAU+3J,oBAAsB,SAAUC,GAGlD,GAFAxzJ,KAAK+xJ,sBACL/xJ,KAAK2uJ,iBAAiB6E,GAClBA,EAAOh7J,UAAUC,SAASqyJ,IAC1B9qJ,KAAKgzJ,aAAY,OAEhB,CACD,GAAI1C,GAASkD,EAAO/sJ,aAAa,cAC7B2pJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKiuJ,IAAMjuJ,KAAKgtJ,SAASsD,GACzBtwJ,KAAKkuJ,IAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KACtCjuJ,KAAKw/F,aAAahnG,UAAUC,SAASwyJ,KACrCjrJ,KAAK8xJ,YAAYxB,GAErBtwJ,KAAKwwJ,aAAaF,EAAQF,EAAQpwJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,MAAM,KAG7E3C,EAAY9vJ,UAAU83J,aAAe,SAAU37J,EAAOkC,EAAS2/F,GAE3D,GAAIy4D,IADJt6J,EAAQ8G,MAAMjD,UAAUmG,MAAMf,KAAKjJ,IACrBY,OACVk7J,EAAazzJ,KAAKqxG,QAAU15G,EAAMs6J,EAAI,GAAGj8I,cAAc+wI,kBACvDh6H,EAAMp1B,EAAM6G,QAAQ3E,EAGxB,OAFAkzB,IAAOysE,EACPzsE,EAAM,EAAIA,GAAOklI,EAAIwB,EAAa1mI,GAAOklI,EAAIwB,EACtC1mI,GAEXu+H,EAAY9vJ,UAAUs7H,aAAe,SAAU11H,GAC3C,GAAIyH,GAASzH,EAAEyH,MACf,IAAKA,EAAO7L,MAAMzE,OAAlB,CAGA,GAAI21J,GACAkC,CAEJ,QADYzqJ,EAAO,gBAAiBkD,EAAOmN,eAAetc,aAEtD,IAAK,MACD,GAAIsD,GAAQ,EAIZ,KAHyB,MAApB6L,EAAO7L,MAAM,IAAsC,IAAxB6L,EAAO7L,MAAMzE,QAAsC,MAApBsQ,EAAO7L,MAAM,IAAsC,IAAxB6L,EAAO7L,MAAMzE,UACnGyE,EAAQgD,KAAKy4H,WAAW5vH,EAAO7L,QAEd,IAAjBA,EAAMzE,OAMN,MALA63J,GAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,KAC5BjuJ,KAAKiuJ,IAAMjuJ,KAAKgtJ,SAAShwJ,EAAQA,EAAMjE,QAAQ,IAC/CiH,KAAK0zJ,iBAAiB1zJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KAAMmC,EAAQvnJ,EAAO7L,MAK9E,MACJ,KAAK,IACGgD,KAAKiuJ,IAAI,KAAOtiG,OAAO9iD,EAAO7L,SAC9BozJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,KAC5BjuJ,KAAKiuJ,IAAI,GAAKtiG,OAAO9iD,EAAO7L,OAC5BkxJ,EAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KACrCjuJ,KAAK0zJ,iBAAiBxF,EAAKkC,GAE/B,MACJ,KAAK,IACGpwJ,KAAKiuJ,IAAI,KAAOtiG,OAAO9iD,EAAO7L,SAC9BozJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,KAC5BjuJ,KAAKiuJ,IAAI,GAAKtiG,OAAO9iD,EAAO7L,OAC5BkxJ,EAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KACrCjuJ,KAAK0zJ,iBAAiBxF,EAAKkC,GAE/B,MACJ,KAAK,IACGpwJ,KAAKiuJ,IAAI,KAAOtiG,OAAO9iD,EAAO7L,SAC9BozJ,EAASpwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,KAC5BjuJ,KAAKiuJ,IAAI,GAAKtiG,OAAO9iD,EAAO7L,OAC5BkxJ,EAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KACrCjuJ,KAAK0zJ,iBAAiBxF,EAAKkC,GAE/B,MACJ,KAAK,IACDpwJ,KAAK2vJ,UAAU3yJ,MAAQ2uD,OAAO9iD,EAAO7L,MACrC,MACJ,KAAK,IACGgD,KAAKkuJ,IAAI,KAAOviG,OAAO9iD,EAAO7L,SAC9BgD,KAAKkuJ,IAAI,GAAKviG,OAAO9iD,EAAO7L,OAC5BgD,KAAK4xJ,YACL5xJ,KAAKmwJ,uBAET,MACJ,KAAK,IACGnwJ,KAAKkuJ,IAAI,KAAOviG,OAAO9iD,EAAO7L,SAC9BgD,KAAKkuJ,IAAI,GAAKviG,OAAO9iD,EAAO7L,OAC5BgD,KAAK4xJ,YACL5xJ,KAAKmwJ,uBAET,MACJ,KAAK,IACDnwJ,KAAK8vJ,cAAc9yJ,MAAQ2uD,OAAO9iD,EAAO7L,UAIrDsuJ,EAAY9vJ,UAAUk4J,iBAAmB,SAAUxF,EAAKkC,EAAQpzJ,GACxDkxJ,EAAI,KAAOluJ,KAAKkuJ,IAAI,KACpBluJ,KAAK2vJ,UAAUhoJ,eAAgB3K,MAASkxJ,EAAI,KAAM,GAClDluJ,KAAK2vJ,UAAUjxG,UACf1+C,KAAKgvJ,kBAAkBd,EAAI,KAE/BluJ,KAAKkuJ,IAAMA,CACX,IAAIoC,GAAStwJ,KAAKqwJ,SAASrwJ,KAAKiuJ,IAChCjuJ,MAAKivJ,qBACLjvJ,KAAK8xJ,YAAY90J,GAAgBszJ,EACjC,IAAIxD,GAAO9sJ,KAAK+sJ,mBAAmB/sJ,KAAKiuJ,IACxCjuJ,MAAKuwJ,cAAczD,GACnB9sJ,KAAKwwJ,aAAaF,EAAQF,EAAQtD,IAEtCxB,EAAY9vJ,UAAUg1J,aAAe,SAAUF,EAAQF,EAAQtD,EAAM+E,OACnD,KAAVA,IAAoBA,GAAQ,EAChC,IAAIhF,GAAMyD,EAAO3uJ,MAAM,EAAG,GACtB0M,GACAi7H,cAAgBujB,IAAKA,EAAKC,KAAMA,GAChCx1B,eAAiBu1B,IAAKuD,EAAOzuJ,MAAM,EAAG,GAAImrJ,KAAM9sJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAASoD,KAErFpwJ,MAAK8gI,aAAgB+wB,EAOtB7xJ,KAAKyoB,QAAQ,SAAUpa,IANvBA,EAAUipH,eAAkBu1B,IAAK7sJ,KAAKhD,MAAM2E,MAAM,EAAG,GAAImrJ,KAAM9sJ,KAAK+sJ,mBAAmB/sJ,KAAKgtJ,SAAShtJ,KAAKhD,SAC1GgD,KAAKyoB,QAAQ,SAAUpa,GACvBrO,KAAK2H,eAAgB3K,MAASszJ,IAAU,GACxCtwJ,KAAKnG,QAAQmD,MAAQ6vJ,GAAY,YAYzCvB,EAAY9vJ,UAAUqY,QAAU,WAC5B,GAAI9T,GAAQC,KACR+T,EAAU/T,KAAKw/F,YACnBzmE,GAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAC7B,WAAY,cAAcZ,QAAQ,SAAU8kG,GAAQnkG,EAAMlG,QAAQyS,gBAAgB43F,KAC/ElkG,KAAK0rJ,QACL1rJ,KAAKi/F,eACLj/F,KAAKwtJ,qBAGDxtJ,KAAK2zJ,gBACL3zJ,KAAKi/F,eACLj/F,KAAKwtJ,oBAETxtJ,KAAKysJ,SAAS54I,UACd7T,KAAKysJ,SAAW,MAEpBzsJ,KAAK8rJ,aACL9rJ,KAAK8rJ,WAAa,KAClB9rJ,KAAK+rJ,gBACL/rJ,KAAK+rJ,cAAgB,KACrBxmJ,EAAOvF,KAAKnG,QAAQ+mG,oBACpB7sF,EAAQiC,cAAc5Q,aAAapF,KAAKnG,QAASka,GACjDxO,EAAOwO,GACP/T,KAAK0c,UAAY,MAErB4uI,EAAY9vJ,UAAUgyJ,iBAAmB,WACrC,GAAIxtJ,KAAK2wJ,WAAY,CACjB3wJ,KAAK2vJ,UAAU97I,UACX7T,KAAK6rJ,gBACL7rJ,KAAK8vJ,cAAcj8I,UACnB7T,KAAK8vJ,cAAgB,MAEzB9vJ,KAAK2vJ,UAAY,IACjB,IAAIiE,GAAc5zJ,KAAKyxJ,gBACvBmC,GAAYxxJ,QACZwxJ,EAAY//I,UACZ7T,KAAKuqH,WAAa,OAG1B+gC,EAAY9vJ,UAAUm4J,YAAc,WAChC,MAAO3zJ,MAAKmtJ,cAAc30J,UAAUC,SAAS,iBAEjD6yJ,EAAY9vJ,UAAUyjG,aAAe,WACjC,GAAIj/F,KAAK2wJ,WAAY,CACH3wJ,KAAKw/F,YAAnB,IACIuvD,GAAc/uJ,KAAKmsJ,gBACvB1mJ,IAAaf,OAAOqqJ,EAAa,UAAW/uJ,KAAKkyJ,eACjDzsJ,GAAaf,OAAO1E,KAAKovJ,kBAAmB,uBAAwBpvJ,KAAKmyJ,cACrEnyJ,KAAK6tJ,cAAgB7tJ,KAAK8gI,cAC1Br7H,GAAaf,OAAOiB,EAAO,IAAM4kJ,GAAYvqJ,KAAK0c,WAAY,QAAS1c,KAAKg/F,iBAEhFv5F,GAAaf,OAAOiB,EAAO,cAAgB3F,KAAK0c,WAAY,QAAS1c,KAAKqyJ,oBAG1E5sJ,IAAaf,OAAO1E,KAAK0c,UAAW,QAAS1c,KAAKsyJ,qBAClD7sJ,GAAaf,OAAO1E,KAAK0c,UAAW,UAAW1c,KAAKuyJ,iBAG5DjH,EAAY9vJ,UAAUi9H,WAAa,SAAUz7H,GACzC,IAAKA,EACD,MAAO,EAEM,OAAbA,EAAM,KACNA,EAAQ,IAAMA,EAElB,IAAIiF,GAAMjF,EAAMzE,MAKhB,IAJY,IAAR0J,IACAjF,GAAS,IACTiF,EAAM,GAEE,IAARA,EAAW,CAEX,IAAK,GADDmJ,GAAY,GACP/S,EAAI,EAAGw7J,EAAQ72J,EAAMzE,OAAQF,EAAIw7J,EAAOx7J,IAC7C+S,GAAcpO,EAAMgkB,OAAO3oB,GAAK2E,EAAMgkB,OAAO3oB,EAEjD2E,GAAQ,IAAMoO,EACdnJ,EAAM,EAKV,MAHY,KAARA,IACAjF,GAAS,MAENA,GAEXsuJ,EAAY9vJ,UAAUwxJ,SAAW,SAAUH,GACvC,IAAKA,EACD,QAGe,MADnBA,EAAMA,EAAIp7I,QACFlZ,SACJs0J,EAAM7sJ,KAAKy4H,WAAWo0B,GAE1B,IAAIt+I,GAAUo9C,QAAQ3xB,SAAS6yH,EAAIlrJ,OAAO,GAAI,IAAM,KAAKye,QAAQ,GACjEysI,GAAMA,EAAIlrJ,MAAM,EAAG,EACnB,IAAImyJ,GAAS95H,SAAS6yH,EAAK,IACvBt4G,IAKJ,OAJAA,GAAEv7C,KAAM86J,GAAU,GAAM,KACxBv/G,EAAEv7C,KAAM86J,GAAU,EAAK,KACvBv/G,EAAEv7C,KAAc,IAAT86J,GACPv/G,EAAEv7C,KAAKuV,GACAgmC,GAEX+2G,EAAY9vJ,UAAU2yJ,SAAW,SAAUz1H,EAAGq7H,EAAG57H,EAAG5pB,GAChD,GAAIvO,KAAKiuJ,MAAQjuJ,KAAKiuJ,IAAI11J,OACtB,QAEJmgC,IAAK,IACLq7H,GAAK,IACL57H,GAAK,GACL,IAEIoc,GACA1K,EAHAx8B,EAAMD,KAAKC,IAAIqrB,EAAGq7H,EAAG57H,GACrB/V,EAAMhV,KAAKgV,IAAIsW,EAAGq7H,EAAG57H,GAGrB67H,EAAI3mJ,EACJ6qB,EAAI7qB,EAAM+U,CAEd,IADAynB,EAAY,IAARx8B,EAAY,EAAI6qB,EAAI7qB,EACpBA,IAAQ+U,EACRmyB,EAAI,MAEH,CACD,OAAQlnC,GACJ,IAAKqrB,GACD6b,GAAKw/G,EAAI57H,GAAKD,GAAK67H,EAAI57H,EAAI,EAAI,EAC/B,MACJ,KAAK47H,GACDx/G,GAAKpc,EAAIO,GAAKR,EAAI,CAClB,MACJ,KAAKC,GACDoc,GAAK7b,EAAIq7H,GAAK77H,EAAI,EAG1Bqc,GAAK,EAET,GAAI25G,IAAO9gJ,KAAKgoG,MAAU,IAAJ7gE,GAAUnnC,KAAKgoG,MAAU,IAAJvrE,GAAY,GAAIz8B,KAAKgoG,MAAU,IAAJ4+C,GAAY,GAIlF,OAHKv2J,GAAkB8Q,IACnB2/I,EAAIl1J,KAAKuV,GAEN2/I,GAEX5C,EAAY9vJ,UAAU6zJ,SAAW,SAAU96G,EAAG1K,EAAGmqH,EAAGzlJ,GAChD,GAAImqB,GACAq7H,EACA57H,EACA9/B,EACAyyI,EACA1yG,EACAk+B,EACAqxD,CAGJ,IAFA99E,GAAK,IACLmqH,GAAK,IACK,IAANnqH,EAEA,MADAnR,GAAIq7H,EAAI57H,EAAI67H,GACJ5mJ,KAAKgoG,MAAU,IAAJ18E,GAAUtrB,KAAKgoG,MAAU,IAAJ2+C,GAAU3mJ,KAAKgoG,MAAU,IAAJj9E,GAAU5pB,EAQ3E,QANAgmC,GAAK,GACLl8C,EAAI+U,KAAK6T,MAAMszB,GACfu2F,EAAIv2F,EAAIl8C,EACR+/B,EAAI47H,GAAK,EAAInqH,GACbysB,EAAI09F,GAAK,EAAInqH,EAAIihG,GACjBnjB,EAAIqsC,GAAK,EAAInqH,GAAK,EAAIihG,IACdzyI,GACJ,IAAK,GACDqgC,EAAIs7H,EACJD,EAAIpsC,EACJxvF,EAAIC,CACJ,MACJ,KAAK,GACDM,EAAI49B,EACJy9F,EAAIC,EACJ77H,EAAIC,CACJ,MACJ,KAAK,GACDM,EAAIN,EACJ27H,EAAIC,EACJ77H,EAAIwvF,CACJ,MACJ,KAAK,GACDjvF,EAAIN,EACJ27H,EAAIz9F,EACJn+B,EAAI67H,CACJ,MACJ,KAAK,GACDt7H,EAAIivF,EACJosC,EAAI37H,EACJD,EAAI67H,CACJ,MACJ,SACIt7H,EAAIs7H,EACJD,EAAI37H,EACJD,EAAIm+B,EAEZ,GAAI23F,IAAO7gJ,KAAKgoG,MAAU,IAAJ18E,GAAUtrB,KAAKgoG,MAAU,IAAJ2+C,GAAU3mJ,KAAKgoG,MAAU,IAAJj9E,GAIhE,OAHK16B,GAAkB8Q,IACnB0/I,EAAIj1J,KAAKuV,GAEN0/I,GAEX3C,EAAY9vJ,UAAU60J,SAAW,SAAUpC,GACvC,MAAOA,GAAI11J,OAAU,IAAMyH,KAAK6sJ,IAAIoB,EAAI,IAAMjuJ,KAAK6sJ,IAAIoB,EAAI,IAAMjuJ,KAAK6sJ,IAAIoB,EAAI,KACxExwJ,EAAkBwwJ,EAAI,IAA6F,GAA3E,IAAXA,EAAI,IAAY7gJ,KAAKgoG,MAAe,IAAT64C,EAAI,IAAY,OAASttJ,SAAS,IAAI5H,QAAQ,GAAK,MAAe,IAEpIuyJ,EAAY9vJ,UAAUqxJ,IAAM,SAAU/+I,GAClC,OAAQ,IAAMA,EAAEnN,SAAS,KAAKgB,OAAO,IAEzC2pJ,EAAY9vJ,UAAUy4J,uBAAyB,SAAU/oJ,GACrD,GAAIgpJ,GAAoBvuJ,EAAO,IAAM4kJ,GAAYvqJ,KAAK0c,UAClDxR,GACIgpJ,EACAl0J,KAAKwxJ,uBAGLxxJ,KAAKqsJ,gBACDrsJ,KAAK2wJ,aAAe3wJ,KAAKy+F,UACzBz+F,KAAKoyJ,sBAKT8B,IACIl0J,KAAK8gI,YACLv7H,EAAOI,EAAO,IAAMklJ,GAAYqJ,IAGhCxvJ,EAAOwvJ,KAKvB5I,EAAY9vJ,UAAU24J,mBAAqB,SAAUjpJ,GACjD,GAAIkpJ,GAAiBzuJ,EAAO,IAAM4kJ,GAAYvqJ,KAAK0c,UAC/CxR,IACIkpJ,GACA1vJ,EAAO0vJ,GAEXp0J,KAAKqsJ,gBACDrsJ,KAAK2wJ,aAAe3wJ,KAAKy+F,UACzBz+F,KAAKoyJ,sBAILpyJ,KAAK6tJ,aACLtoJ,EAAOI,EAAO,cAAeyuJ,IAG7B1vJ,EAAO0vJ,IAInB9I,EAAY9vJ,UAAU64J,gBAAkB,SAAUt5H,GAC1C/6B,KAAK2wJ,YACL3wJ,KAAKiuJ,IAAMjuJ,KAAKgtJ,SAASjyH,GACzB/6B,KAAKkuJ,IAAMluJ,KAAKmuJ,SAASzyJ,MAAMsE,KAAMA,KAAKiuJ,KAC1CjuJ,KAAKivJ,qBACL1pJ,EAAOQ,EAAQ/F,KAAK2vJ,UAAU91J,QAAS,sBACvCmG,KAAKkvJ,eACLlvJ,KAAKgvJ,oBACLhvJ,KAAK8xJ,YAAY/2H,KAGjB/6B,KAAK+xJ,sBACL/xJ,KAAK2uJ,iBAAiBhpJ,EAAO,oBAAsB3F,KAAKy4H,WAAW19F,GAAW,KAAM/6B,KAAK0c,aAE7F1c,KAAKnG,QAAQmD,MAAQ+9B,EAAQp5B,MAAM,EAAG,IAE1C2pJ,EAAY9vJ,UAAU84J,iBAAmB,SAAUppJ,GAC/CxG,EAAOiB,EAAO,IAAMilJ,GAAc5qJ,KAAK0c,YACvC1c,KAAK0wH,eAET46B,EAAY9vJ,UAAU+4J,mBAAqB,SAAUx5H,GAC7C/6B,KAAK2wJ,aACL3wJ,KAAK2vJ,UAAU1oI,SAAW8T,EAC1B/6B,KAAK8vJ,cAAc7oI,SAAW8T,EAC9B/6B,KAAKs0J,iBAAiBv5H,IAEtBA,GACA/6B,KAAKssJ,gBAAe,GACpBtsJ,KAAKi/F,iBAGLj/F,KAAKssJ,gBAAe,GACpBtsJ,KAAKumB,eAGb+kI,EAAY9vJ,UAAUg5J,oBAAsB,SAAUz5H,EAASC,GAC3D,GAAIjnB,GAAU/T,KAAKw/F,aACfi1D,EAAez0J,KAAKmtJ,aACpBnyH,IACAx2B,GAAauP,EAAS0gJ,GAAez5H,EAAQ99B,MAAM,MAEnD69B,GACA/2B,GAAU+P,EAAS0gJ,GAAe15H,EAAQ79B,MAAM,OAGxDouJ,EAAY9vJ,UAAUk5J,eAAiB,SAAU35H,GACzCA,EACA/2B,GAAUhE,KAAKw/F,cAAe,SAG9Bh7F,GAAaxE,KAAKw/F,cAAe,UAGzC8rD,EAAY9vJ,UAAUm5J,mBAAqB,WACvCpvJ,EAAOvF,KAAK0c,UAAUZ,SAAS,IAC/B9b,KAAK0c,UAAU9X,MAAM8S,MAAQ,GAC7B1X,KAAKgsJ,iBAETV,EAAY9vJ,UAAUo5J,mBAAqB,SAAU75H,GACjD,GAAIhnB,GAAU/T,KAAKw/F,YACfzkE,IACAv2B,GAAaxE,KAAK0c,UAAU1G,eAz/CtB,kBA0/CNhW,KAAK6vJ,oBAAoBlqJ,EAAO,wBAAyB3F,KAAK0c,WAAW3a,YAAY/B,KAAKyB,cAAc,OAASiC,UAAW,uBACvHqQ,EAAQvb,UAAUC,SAASiyJ,KAAe32I,EAAQvb,UAAUC,SAASgyJ,KACtEzqJ,KAAKmxJ,mBAAmBxrJ,EAAO,qBAAsB3F,KAAK0c,cAI9D1Y,GAAUhE,KAAK0c,UAAU1G,eAhgDnB,kBAigDNhW,KAAK8vJ,cAAcj8I,UACnBnP,EAAO1E,KAAK8vJ,cAAcj2J,SAC1BmG,KAAK8vJ,cAAgB,KAChB/7I,EAAQvb,UAAUC,SAASiyJ,KAAe32I,EAAQvb,UAAUC,SAASgyJ,KACtE/lJ,EAAOiB,EAAO,IAAMolJ,GAAS/qJ,KAAK0c,WAAW1G,iBAWzDs1I,EAAY9vJ,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACzD,GAAIj7B,GAAQC,IACEA,MAAKw/F,YACnB,KAAKx/F,KAAK0rJ,QAAUjuJ,EAAkBs9B,EAAQ2wH,QAAS,CACnD,GAAImJ,IAAkB,WAAY,YAElC,IADA70J,KAAKysJ,SAAS9kJ,cAAcymB,GAAS2M,EAAS85H,KACzC70J,KAAK2zJ,cAMN,MALI54H,GAAQ/9B,QACR2I,EAAO,mBAAoB3F,KAAKysJ,SAAS5yJ,SAAS+K,MAAMsoJ,gBAAkBnyH,EAAQ/9B,OAEtFgD,KAAKw0J,oBAAoBz5H,EAAQxmB,SAAUymB,EAAQzmB,cACnDvU,MAAK00J,eAAe35H,EAAQxrB,WA6FpC,IAAK,GADD+wC,GAAStgD,KACJ3B,EAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,KAzF9C,SAAU6M,GACpB,OAAQA,GACJ,IAAK,SACG6vB,EAAQ2wH,QACRprG,EAAOk/C,aAAaz9F,YAAYu+C,EAAO5jC,WACvC4jC,EAAOmsG,SAAS54I,UAChBtO,EAAO+6C,EAAOzmD,QAAQ+mG,oBACjBtgD,EAAO5jC,UAAUZ,SAASvjB,QAC3B+nD,EAAOqrG,iBAIXrrG,EAAOktG,mBACPltG,EAAO2+C,eACP3+C,EAAO5jC,UAAUliB,UAAY,GAC7B8lD,EAAOsrG,iBAEX,MACJ,KAAK,WACDtrG,EAAOk0G,oBAAoBz5H,EAAQxmB,SAAUymB,EAAQzmB,SACrD,IAAIpK,GAAQ4wB,EAAQxmB,SAASrX,MAAM,KAAKgf,OAAO8e,EAAQzmB,SAASrX,MAAM,MAIlE8mI,EAAU,GAHd75H,EAAQA,EAAM2qJ,OAAO,SAAUrlH,EAAGtX,GAEhC,MAFyCsX,GAAEjxC,QAAQ25B,GAAK,GACtDsX,EAAEz2C,KAAKm/B,GACFsX,QAEHrwC,QAAQ,SAAU21J,GACJ,IAAZ/wB,GACC+wB,IAAQrK,IAvjDf,yBAujD4BqK,GAA2BA,IAAQ9J,IAAa8J,IAAQvK,IAAWuK,IAAQtK,KACjF9kJ,EAAO,IAAMilJ,GAAc7qJ,EAAM2c,YAE7ChY,EAAOiB,EAAO,IAAMilJ,GAAc7qJ,EAAM2c,YAE5C3c,EAAM2wH,cACNsT,MAGR,MACJ,KAAK,YACG1jF,EAAOqwG,aACPrwG,EAAOqvG,UAAUpgJ,UAAYwrB,EAAQxrB,UACjC+wC,EAAOurG,gBACPvrG,EAAOwvG,cAAcvgJ,UAAYwrB,EAAQxrB,WAE7C+wC,EAAOg0G,iBAAiBv5H,EAAQxrB,YAEpC+wC,EAAOo0G,eAAe35H,EAAQxrB,UAC9B,MACJ,KAAK,WACD+wC,EAAOi0G,mBAAmBx5H,EAAQ0jE,SAClC,MACJ,KAAK,QACDn+C,EAAO+zG,gBAAgBt5H,EAAQ/9B,MAC/B,MACJ,KAAK,cACDsjD,EAAO6zG,mBAAmBp5H,EAAQ+lG,YAClC,MACJ,KAAK,OACoB,WAAjB/lG,EAAQhL,KACRuwB,EAAO2yG,iBAGP3yG,EAAOwyG,iBAEX,MACJ,KAAK,eACDxyG,EAAO2zG,uBAAuBl5H,EAAQ8yH,aACtC,MACJ,KAAK,UACL,IAAK,eACIvtG,EAAOqwG,YACRrwG,EAAOq0G,oBAEX,MACJ,KAAK,UACG55H,EAAQ+yH,QACY,YAAhBxtG,EAAOvwB,MAAuBuwB,EAAOutG,cACrCvtG,EAAOytG,aAIXztG,EAAOq0G,oBAEX,MACJ,KAAK,gBACDr0G,EAAOs0G,mBAAmB75H,EAAQ8wH,iBAM/B7oJ,EAAG3E,KAItBi6B,IACI1vB,GAAS,cACV0iJ,EAAY9vJ,UAAW,YAAS,IACnC88B,IACI1vB,GAAS,KACV0iJ,EAAY9vJ,UAAW,eAAY,IACtC88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,eAAY,IACtC88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,gBAAa,IACvC88B,IACI1vB,GAAS,WACV0iJ,EAAY9vJ,UAAW,WAAQ,IAClC88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,mBAAgB,IAC1C88B,IACI1vB,GAAS,OACV0iJ,EAAY9vJ,UAAW,mBAAgB,IAC1C88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,kBAAe,IACzC88B,IACI1vB,GAAS,KACV0iJ,EAAY9vJ,UAAW,cAAW,IACrC88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,aAAU,IACpC88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,cAAW,IACrC88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,wBAAqB,IAC/C88B,IACI1vB,IAAS,IACV0iJ,EAAY9vJ,UAAW,oBAAiB,IAC3C88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,aAAU,IACpC88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,aAAU,IACpC88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,uBAAoB,IAC9C88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,iBAAc,IACxC88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,WAAQ,IAClC88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,kBAAe,IACzC88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,uBAAoB,IAC9C88B,IACI7uB,MACD6hJ,EAAY9vJ,UAAW,cAAW,IACrC8vJ,EAAchzH,IACVvuB,IACDuhJ,IAELrtG,ICpuDEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAoB5Ds8H,GAAyB,SAAUj8H,GAEnC,QAASi8H,GAAQ1gJ,EAASza,GACtB,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAEnD,OADAD,GAAMu3H,cAAgB,KACfv3H,EAmUX,MAvUA+3B,IAAUk9H,EAASj8H,GAUnBi8H,EAAQx5J,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACrD,IAAK,GAAI38B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAExD,OADW2E,EAAG3E,IAEV,IAAK,iBACDsvB,GAAMuB,eAAelvB,KAAKi1J,gBAC1BtnI,GAAMqlG,YAAYhzH,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAK+oB,YAC1D,MACJ,KAAK,UACD4E,GAAMsuF,WAAWj8G,KAAKinB,QAASjnB,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAKi1J,eAAev4I,UACtF,MACJ,KAAK,QACD,GAAI8mG,GAAexjH,KAAKs0B,mBACxBt0B,MAAKs0B,qBAAsB,EACtBt0B,KAAKo+I,QAAQp+I,KAAKhD,SACnBgD,KAAKhD,MAAQgD,KAAKhD,MAAM2D,YAE5BX,KAAKs0B,oBAAsBkvF,EAC3B71F,GAAMvwB,SAAS4C,KAAKhD,MAAOgD,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAKonB,iBACnEpnB,KAAKy2H,kBACL,MACJ,KAAK,WACD9oG,GAAM+jG,YAAY1xH,KAAK2xH,SAAU3xH,KAAKnG,QACtC,MACJ,KAAK,OACDmG,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKjG,MACvCiG,KAAKy2H,kBACL,MACJ,KAAK,kBACD9oG,GAAMojG,eAAe/wH,KAAKonB,gBAAiBpnB,KAAKnG,QAASmG,KAAKi1J,gBAC9Dj1J,KAAKknB,gBACL,MACJ,KAAK,YACDyG,GAAM+tF,aAAa17G,KAAKuP,WAAYvP,KAAKi1J,eAAev4I,WACxD,MACJ,KAAK,cACDiR,GAAM8jG,eAAezxH,KAAK+oB,YAAa/oB,KAAKnG,QAC5C,MACJ,KAAK,WACD8zB,GAAM6jG,YAAYxxH,KAAKuU,UAAWvU,KAAKi1J,eAAev4I,WACtD,MACJ,KAAK,SACD1c,KAAKk1J,UAAY,GAAIh4G,IAAqBl9C,KAAKgP,QAC/ChP,KAAKw7G,KAAKvvD,UAAUjsD,KAAKgP,QACzBhP,KAAK2H,eAAgBohB,YAAa/oB,KAAKw7G,KAAKjvD,YAAY,iBAAkB,GAC1E5+B,GAAM8jG,eAAezxH,KAAK+oB,YAAa/oB,KAAKnG,WAS5Dm7J,EAAQx5J,UAAU0L,cAAgB,WAC9B,MAAO,WAEX8tJ,EAAQx5J,UAAU4iJ,QAAU,SAAUxtI,GAClC,OAASA,GAAO,QAAQ3W,KAAK2W,IAEjCokJ,EAAQx5J,UAAUyY,UAAY,WAG1B,GAFAjU,KAAKm0H,aAAen0H,KAAKnG,QAAQmI,WAAU,GAEd,gBAAzBhC,KAAKnG,QAAQyJ,QAA2B,CACxC,GAAIgQ,GAAazW,EAAS,gBAAiBmD,KAAKnG,SAC5C40B,EAAezuB,KAAKyB,cAAc,SAClCvJ,EAAQ,CACZ,KAAKA,EAAOA,EAAQ8H,KAAKnG,QAAQkK,WAAWxL,OAAQL,IAChDu2B,EAAa5qB,aAAa7D,KAAKnG,QAAQkK,WAAW7L,GAAOqb,SAAUvT,KAAKnG,QAAQkK,WAAW7L,GAAOsb,WAClGib,EAAaj0B,UAAYwF,KAAKnG,QAAQW,SAE1CwF,MAAKnG,QAAQkI,YAAY0sB,GACzBzuB,KAAKnG,QAAU40B,EACfrxB,EAAS,gBAAiBkW,EAAYtT,KAAKnG,SAE/C,GAAIkK,GAAa/D,KAAKnG,QAAQkK,UAC9B/D,MAAK60H,gBAAgB9wH,GACrB/D,KAAKnG,QAAQgK,aAAa,OAAQ7D,KAAKjG,MACvCiG,KAAKk1J,UAAY,GAAIh4G,IAAqBl9C,KAAKgP,OAC/C,IAAIu0G,IAAex6F,YAAa/oB,KAAK+oB,YACrC/oB,MAAKw7G,KAAO,GAAI1vD,IAAK,UAAWy3D,EAAYvjH,KAAKgP,QACJ,KAAzChP,KAAKw7G,KAAKjvD,YAAY,gBACtBvsD,KAAK2H,eAAgBohB,YAAa/oB,KAAK+oB,aAAe/oB,KAAKw7G,KAAKjvD,YAAY,iBAAkB,GAE7FvsD,KAAKnG,QAAQmqH,aAAa,OAC3BhkH,KAAKnG,QAAQgK,aAAa,KAAMrE,EAAY,aAGpDw1J,EAAQx5J,UAAUq5H,gBAAkB,SAAU/wH,GAC1C,IAAK,GAAIzL,GAAI,EAAGA,EAAIyL,EAAMvL,OAAQF,IAAK,CACnC,GAAIgF,GAAMyG,EAAMzL,GAAGkb,QACP,cAARlW,EACA2C,KAAK2H,eAAgBsf,SAAS,IAAS,GAE1B,aAAR5pB,EACL2C,KAAK2H,eAAgBgqH,UAAU,IAAQ,GAE1B,gBAARt0H,GACL2C,KAAK2H,eAAgBohB,YAAajlB,EAAMzL,GAAGmb,YAAa,KAQpEwhJ,EAAQx5J,UAAUojD,OAAS,WACvB5+C,KAAKi1J,eAAiBtnI,GAAM+iG,aACxB72H,QAASmG,KAAKnG,QACdmvB,eAAgBhpB,KAAKgpB,eACrBzlB,YACI0jB,QAASjnB,KAAKinB,QACd1X,UAAWvP,KAAKuP,UAChBgF,SAAUvU,KAAKuU,SACfo9G,SAAU3xH,KAAK2xH,SACf5oG,YAAa/oB,KAAK+oB,YAClB3B,gBAAiBpnB,KAAKonB,mBAG9BpnB,KAAKumB,cAETyuI,EAAQx5J,UAAU+qB,WAAa,WAC3B9gB,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK4/F,aAAc5/F,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,OAAQmG,KAAK2/F,gBAAiB3/F,MAC7DyF,GAAalB,IAAIvE,KAAKnG,QAAS,QAASmG,KAAK82H,aAAc92H,MAC3DyF,GAAalB,IAAIvE,KAAKnG,QAAS,SAAUmG,KAAKwgG,cAAexgG,MACzDA,KAAKinB,SACLjnB,KAAKknB,kBAGb8tI,EAAQx5J,UAAUokG,aAAe,SAAU3/F,GACvC,GAAIoO,IACAqO,UAAW1c,KAAKi1J,eAAev4I,UAC/BngB,MAAO0D,EACPjD,MAAOgD,KAAKhD,MAEhBgD,MAAKyoB,QAAQ,QAASpa,IAE1B2mJ,EAAQx5J,UAAUmkG,gBAAkB,SAAU1/F,GACb,OAAvBD,KAAKs3H,eAAyC,OAAft3H,KAAKhD,OAAyC,KAAvBgD,KAAKnG,QAAQmD,OACpEgD,KAAKs3H,gBAAkBt3H,KAAKnG,QAAQmD,OACrCgD,KAAKy2H,iBAAiBx2H,GAAM,EAEhC,IAAIoO,IACAqO,UAAW1c,KAAKi1J,eAAev4I,UAC/BngB,MAAO0D,EACPjD,MAAOgD,KAAKhD,MAEhBgD,MAAKyoB,QAAQ,OAAQpa,IAEzB2mJ,EAAQx5J,UAAUs7H,aAAe,SAAU72H,GACvC,GAAIoO,IACA9R,MAAO0D,EACPjD,MAAOgD,KAAKnG,QAAQmD,MACpBs6H,cAAet3H,KAAKhD,MACpB0f,UAAW1c,KAAKi1J,eAAev4I,UAEnC1c,MAAKyoB,QAAQ,QAASpa,IAE1B2mJ,EAAQx5J,UAAUglG,cAAgB,SAAUvgG,GACxCD,KAAK2H,eAAgB3K,MAAOgD,KAAKnG,QAAQmD,QAAS,GAClDgD,KAAKy2H,iBAAiBx2H,GAAM,IAEhC+0J,EAAQx5J,UAAUi7H,iBAAmB,SAAUl6H,EAAO44J,GAClD,GAAI9mJ,IACA9R,MAAOA,EACPS,MAAOgD,KAAKhD,MACZs6H,cAAet3H,KAAKs3H,cACpB56G,UAAW1c,KAAKi1J,eAAev4I,UAC/BgP,cAAeypI,IAA4B,EAE/Cn1J,MAAKyoB,QAAQ,SAAUpa,GACvBrO,KAAKs3H,cAAgBt3H,KAAKhD,OAE9Bg4J,EAAQx5J,UAAU0rB,eAAiB,WAC3BlnB,KAAKonB,iBACL3hB,GAAalB,IAAIvE,KAAKi1J,eAAe3tI,YAAa,uBAAwBtnB,KAAKo1J,kBAAmBp1J,OAG1Gg1J,EAAQx5J,UAAU45J,kBAAoB,SAAU74J,GAC5CA,EAAMirB,iBACAxnB,KAAKi1J,eAAe3tI,YAAY9uB,UAAUC,SA7MvC,sBA8MLk1B,GAAMvwB,SAAS,GAAI4C,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAKonB,kBAGnE4tI,EAAQx5J,UAAUyjG,aAAe,WAC7Bx5F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK4/F,cAChDn6F,GAAaf,OAAO1E,KAAKnG,QAAS,OAAQmG,KAAK2/F,iBAC/Cl6F,GAAaf,OAAO1E,KAAKnG,QAAS,QAASmG,KAAK82H,cAChDrxH,GAAaf,OAAO1E,KAAKnG,QAAS,SAAUmG,KAAKwgG,gBAQrDw0D,EAAQx5J,UAAUqY,QAAU,WACxB7T,KAAKi/F,eACLj/F,KAAKi1J,eAAev4I,UAAU1G,cAAcjU,YAAY/B,KAAKm0H,cAC7D5uH,EAAOvF,KAAKi1J,eAAev4I,WAC3B1c,KAAKi1J,eAAiB,KACtBj1J,KAAKm0H,aAAa37H,UAAUkM,OApOzB,YACG,aAoONq0B,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,OAMlCg1J,EAAQx5J,UAAU6jD,eAAiB,WAC/B,GAAIk7E,IAAa,QACjB,OAAOv6H,MAAK8/C,aAAay6E,IAO7By6B,EAAQx5J,UAAUs3H,cAAgB,SAAU/uH,GACxC,IAAK,GAAI1F,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKyG,GAAa1F,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACjE,GAAIhB,GAAM2F,EAAG3E,EACD,cAARhB,GACA2C,KAAK2H,eAAgBsf,SAAS,IAAS,GACvC0G,GAAMsuF,WAAWj8G,KAAKinB,QAASjnB,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAKi1J,eAAev4I,YAEzE,aAARrf,GACL2C,KAAK2H,eAAgBgqH,UAAU,IAAQ,GACvChkG,GAAM+jG,YAAY1xH,KAAK2xH,SAAU3xH,KAAKnG,UAEzB,UAARwD,EACL2C,KAAKnG,QAAQrB,UAAU+L,IAAIR,EAAW1G,IAEzB,gBAARA,GACL2C,KAAK2H,eAAgBohB,YAAahlB,EAAW1G,KAAQ,GACrDswB,GAAM8jG,eAAezxH,KAAK+oB,YAAa/oB,KAAKnG,UAG5CmG,KAAKnG,QAAQgK,aAAaxG,EAAK0G,EAAW1G,MAStD23J,EAAQx5J,UAAUq3H,iBAAmB,SAAU9uH,GAC3C,IAAK,GAAI1F,GAAK,EAAGqnG,EAAe3hG,EAAY1F,EAAKqnG,EAAantG,OAAQ8F,IAAM,CACxE,GAAIhB,GAAMqoG,EAAarnG,EACX,cAARhB,GACA2C,KAAK2H,eAAgBsf,SAAS,IAAQ,GACtC0G,GAAMsuF,WAAWj8G,KAAKinB,QAASjnB,KAAKnG,QAASmG,KAAKgpB,eAAgBhpB,KAAKi1J,eAAev4I,YAEzE,aAARrf,GACL2C,KAAK2H,eAAgBgqH,UAAU,IAAS,GACxChkG,GAAM+jG,YAAY1xH,KAAK2xH,SAAU3xH,KAAKnG,UAEzB,gBAARwD,GACL2C,KAAK2H,eAAgBohB,YAAa,OAAQ,GAC1C4E,GAAM8jG,eAAezxH,KAAK+oB,YAAa/oB,KAAKnG,UAG5CmG,KAAKnG,QAAQyS,gBAAgBjP,KAIzCi7B,IACI1vB,GAAS,SACVosJ,EAAQx5J,UAAW,WAAQ,IAC9B88B,IACI1vB,IAAS,IACVosJ,EAAQx5J,UAAW,eAAY,IAClC88B,IACI1vB,GAAS,OACVosJ,EAAQx5J,UAAW,YAAS,IAC/B88B,IACI1vB,GAAS,UACVosJ,EAAQx5J,UAAW,qBAAkB,IACxC88B,IACI1vB,GAAS,KACVosJ,EAAQx5J,UAAW,eAAY,IAClC88B,IACI1vB,GAAS,OACVosJ,EAAQx5J,UAAW,kBAAe,IACrC88B,IACI1vB,IAAS,IACVosJ,EAAQx5J,UAAW,gBAAa,IACnC88B,IACI1vB,IAAS,IACVosJ,EAAQx5J,UAAW,cAAW,IACjC88B,IACI1vB,IAAS,IACVosJ,EAAQx5J,UAAW,sBAAmB,IACzC88B,IACI1vB,IAAS,IACVosJ,EAAQx5J,UAAW,wBAAqB,IAC3C88B,IACI7uB,MACDurJ,EAAQx5J,UAAW,cAAW,IACjC88B,IACI7uB,MACDurJ,EAAQx5J,UAAW,gBAAa,IACnC88B,IACI7uB,MACDurJ,EAAQx5J,UAAW,aAAU,IAChC88B,IACI7uB,MACDurJ,EAAQx5J,UAAW,WAAQ,IAC9B88B,IACI7uB,MACDurJ,EAAQx5J,UAAW,YAAS,IAC/B88B,IACI7uB,MACDurJ,EAAQx5J,UAAW,YAAS,IAC/Bw5J,EAAU18H,IACNvuB,IACDirJ,IAEL/2G,mkBC3WEnmB,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAcrD28H,IACP/sD,KAAM,iBACNC,MAAOoR,GAAoBpR,MAC3BtO,SAAU0f,GAAoB1f,SAC9B2f,IAAKD,GAAoBC,IACzB/X,GAAI8X,GAAoB9X,GACxBoH,QAAS0Q,GAAoBlb,SAC7Bv3D,KAAMyyE,GAAoBrR,KAC1BjmG,MAAOs3G,GAAoBt3G,MAC3BgR,MAAO,gBACPiiJ,WAAY,gBACZvzD,KAAM,gCACNwzD,cAAe,cACfv4J,MAAO,gBACPw4J,OAAQ,eACRtsD,SAAU,yCACVusD,mBAAoB,0CACpBC,YAAa,iBACbC,aAAc,kBACdC,aAAc,sBACdC,OAAQ,eACRxjI,OAAQ,eACRoxH,UAAW,eACXqS,cAAe,oBACfC,gBAAiB,oBACjBC,YAAa,qBACbC,cAAe,gBAEftlC,IACAj0G,UAAW,KACX0nG,YAaA8xC,GAA8B,SAAUn9H,GAKxC,QAASm9H,GAAa5hJ,EAASza,GAC3B,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAEnD,OADAD,GAAMu3H,cAAgB,KACfv3H,EAqiEX,MA5iEA+3B,IAAUo+H,EAAcn9H,GAcxBm9H,EAAa16J,UAAUyY,UAAY,WAC/BjU,KAAKnG,QAAQ+K,MAAM2J,QAAU,IAC7BvO,KAAKm2J,iBACLp9H,EAAOv9B,UAAUyY,UAAUrT,KAAKZ,MAChCA,KAAK02G,YAAc12G,KAAK9H,MACxB8H,KAAKlI,YAAc,IAEvBo+J,EAAa16J,UAAU26J,eAAiB,WACpCn2J,KAAK2zJ,aAAc,EACnB3zJ,KAAKo2J,iBAAkB,EACvBp2J,KAAKywG,cAAe,EACpBzwG,KAAKq2J,eAAgB,EACrBr2J,KAAKs2J,iBAAkB,EACvBt2J,KAAK+xH,SAAU,EACf/xH,KAAKu2J,kBAAmB,EACxBv2J,KAAKw2J,iBAAkB,EACvBx2J,KAAKy2J,SAAU,EACfz2J,KAAKk3G,YAAa,EAClBl3G,KAAK02J,cAAe,EACpB12J,KAAK22J,iBAAkB,EACvB32J,KAAK42J,YAAa,EAClB52J,KAAK62J,YAAc,GACnB72J,KAAK82J,aAAc,EACnB92J,KAAK+2J,eAAgB,EACrB/2J,KAAKg3J,UAAW,EAChBh3J,KAAKi3J,oBAAuBC,WAAW,GACvCl3J,KAAKm3J,oBACLn3J,KAAKo3J,gBAAiB,EACtBp3J,KAAKq3J,iBAAkB,EACvBr3J,KAAKs3J,cAAe,EACpBt3J,KAAKu3J,gBAAiB,EACtBv3J,KAAKw3J,eAAgB,EACrBx3J,KAAKy3J,cACDxvG,IAAK,MACLC,MAAO,KACPK,OAAQ,KACRvoC,IAAK,KACL0oC,KAAM,KACNgvG,KAAM,KACNC,GAAI,KACJC,OAAQ,KACRC,SAAU,KACV/1J,KAAM,SACNM,MAAO,YACPk+G,KAAM,SACNh4D,MAAO,OAGf4tG,EAAa16J,UAAUijH,UAAY,WAC3Bz+G,KAAKwlH,UACLxlH,KAAKwlH,SAAS79G,eAAgB61G,OAAUx9G,KAAKw9G,UAGrD04C,EAAa16J,UAAUk2G,WAAa,SAAUgN,GAC1C3lF,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,KAAM0+G,GACnC1+G,KAAK83J,kBAET5B,EAAa16J,UAAUu8J,iBAAmB,WACtC,GAA6B,iBAAzB/3J,KAAKkH,iBAA8D,SAAxBlH,KAAKgpB,eAA2B,CAC3E,GAAIgvI,GAAeh4J,KAAKy1H,aAAa/4G,UAAU5Z,cAAc,gBAC7B,MAA5B9C,KAAKyuB,aAAazxB,OAAgBgD,KAAKywG,aACvCj4G,EAAUw/J,GAAe,gBAAiB,mBAG1Cx/J,EAAUw/J,GAAe,mBAAoB,kBAIzD9B,EAAa16J,UAAU+rB,aAAe,SAAUnmB,GAC5CA,EAAEomB,iBACFxnB,KAAKynB,MAAMrmB,GACXpB,KAAKi4J,cAAc72J,IAEvB80J,EAAa16J,UAAU08J,kBAAoB,WAKvC,GAJAl4J,KAAKkuG,cACLluG,KAAKm4J,kBACLn4J,KAAKguG,cACLhuG,KAAKu2C,KAAKrpC,UAAY,EACO,iBAAzBlN,KAAKkH,gBAAoC,CACzC,GAAI26F,GAAK7hG,KAAK+lG,UAAUjjG,cAAc,IAAMuyJ,GAAoBxzD,GAC5DA,IACAA,EAAGrpG,UAAU+L,IAAI8wJ,GAAoBhzJ,SAIjD6zJ,EAAa16J,UAAUisB,MAAQ,SAAUrmB,EAAGmC,IACpC9F,EAAkB8F,KAAiB9F,EAAkB8F,IAAe9F,EAAkB8F,EAAW4vF,cACjGnzF,KAAKo4J,gBAET,IAAIljJ,GAAWlV,KAAK4tG,aAChB5tG,MAAKs3H,gBAAkBpiH,EAASlY,OAGpCgD,KAAKi4J,cAAc72J,IAEvB80J,EAAa16J,UAAU48J,eAAiB,WAChCp4J,KAAKu2C,QACDv2C,KAAKq4J,gBAA2C,iBAAzBr4J,KAAKkH,iBACxBzJ,EAAkBuC,KAAKi3J,mBAAmBlxD,YAAetoG,EAAkBuC,KAAKi3J,mBAAmB1gH,OACvGv2C,KAAK08G,iBAAiB18G,KAAKi3J,mBAAmBlxD,UAAU/jG,WAAU,GAAOhC,KAAKi3J,mBAAmB1gH,MAErGv2C,KAAKk4J,qBAETl4J,KAAKi2J,cAAcz7J,UAAY,GAC/BwF,KAAKyuB,aAAazxB,MAAQ,GAC1BgD,KAAKhD,MAAQ,KACbgD,KAAK3G,SAAW,KAChB2G,KAAKvG,KAAO,KACZuG,KAAK9H,MAAQ,KACb8H,KAAK02G,YAAc,KACnB12G,KAAKnH,KAAO,KACZmH,KAAKlI,YAAc,GACfkI,KAAKs4J,mBACL/yJ,EAAOvF,KAAKs4J,kBACZt4J,KAAKyuB,aAAa7pB,MAAM6hD,QAAU,QAClCzmD,KAAKs4J,iBAAmB,MAE5Bt4J,KAAKu4J,aAAa,KAAM,MACxBv4J,KAAKo3J,gBAAiB,EACtBp3J,KAAK4xH,mBAETskC,EAAa16J,UAAUg9J,kBAAoB,WACvC,GAAIj6J,OAAOjB,KAAK0C,KAAKgkG,gBAAgBzrG,OACjC,IAAK,GAAI8F,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKgkG,gBAAiB3lG,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC1E,GAAIo6J,GAAWz1J,EAAG3E,EAClB,IAAiB,UAAbo6J,EACAz4J,KAAKy1H,aAAa/4G,UAAUlkB,UAAU+L,IAAIvE,KAAKgkG,eAAey0D,QAE7D,IAAiB,aAAbA,GAA6D,aAAlCz4J,KAAKgkG,eAAey0D,GACpDz4J,KAAKinB,SAAU,EACfjnB,KAAK+pG,gBAEJ,IAAiB,aAAb0uD,GAA6D,aAAlCz4J,KAAKgkG,eAAey0D,GACpDz4J,KAAK2xH,UAAW,EAChB3xH,KAAKg1B,eAEJ,IAAiB,UAAbyjI,EACLz4J,KAAKy1H,aAAa/4G,UAAU7Y,aAAa,QAAS7D,KAAKgkG,eAAey0D,QAErE,CACD,GAAIC,IAAe,QAAS,KAAM,gBACd,OAAQ,YACXl6J,QAAQi6J,IAAa,EAClCz4J,KAAKi2J,cAAcpyJ,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,IAEzDC,EAAYl6J,QAAQi6J,IAAa,EACzB,gBAAbA,EAA6B9qI,GAAM8jG,eAAezxH,KAAKgkG,eAAey0D,GAAWz4J,KAAKyuB,cAClFzuB,KAAKnG,QAAQgK,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,IAG5Dz4J,KAAKy1H,aAAa/4G,UAAU7Y,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,OAM3FvC,EAAa16J,UAAUm9J,kBAAoB,WACvC,OACIhmC,gBAAiB,QACjB41B,YAAavoJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,UACRk1I,gBAAiB,OACjBD,gBAAiB,QACjBvQ,wBAAyB,OACzBhpH,kBAAmB9uB,KAAKi2J,cAActyJ,KAG9CuyJ,EAAa16J,UAAUkgH,aAAe,WAClC/tF,GAAM+tF,aAAa17G,KAAKuP,WAAYvP,KAAKyuB,aAAazY,gBAClDhW,KAAKwlH,WACLxlH,KAAKwlH,SAASj2G,UAAYvP,KAAKuP,UAC/BvP,KAAKwlH,SAASxwF,aAGtBkhI,EAAa16J,UAAUuuG,UAAY,WAC/Bp8E,GAAMsuF,WAAWj8G,KAAKinB,QAASjnB,KAAKyuB,cAChCzuB,KAAKinB,SACLziB,GAAaxE,KAAKy1H,aAAa/4G,WAAY24I,GAAoBpsD,SAC/DjpG,KAAKyuB,aAAa5qB,aAAa,gBAAiB,SAChD7D,KAAKw5G,gBAAgB31G,aAAa,WAAY7D,KAAKunH,YAGnDvnH,KAAK44J,YACL50J,GAAUhE,KAAKy1H,aAAa/4G,WAAY24I,GAAoBpsD,SAC5DjpG,KAAKyuB,aAAa5qB,aAAa,gBAAiB,QAChD7D,KAAKw5G,gBAAgB+N,UAAY,IAMzC2uC,EAAa16J,UAAU6jD,eAAiB,WACpC,MAAOr/C,MAAK8/C,cAAc,WAG9Bo2G,EAAa16J,UAAUq9J,gBAAkB,SAAUh/J,GAClB,iBAAzBmG,KAAKkH,kBACLrN,EAAQ0tH,UAAY,IAG5B2uC,EAAa16J,UAAUg+G,cAAgB,WACnC,MAAOx5G,MAAKy1H,aAAa/4G,WAE7Bw5I,EAAa16J,UAAUs9J,eAAiB,WACpC,MAAO,oBAEX5C,EAAa16J,UAAUu9J,iBAAmB,SAAUt/J,GAChD,MAAOuG,MAAKg5J,kBAAkBh5J,KAAKq6G,eAAe5gH,KAEtDy8J,EAAa16J,UAAUw9J,kBAAoB,SAAUh8J,GAGjD,IAAK,GAFDnE,GAEKwF,EAAK,EAAG46J,EADDj5J,KAAKm+G,WACqB9/G,EAAK46J,EAAY1gK,OAAQ8F,IAAM,CACrE,GAAIi5G,GAAS2hD,EAAY56J,EACzB,IAAI2B,KAAKk7G,kBAAkB5D,EAAO7wG,aAAa,iBAAmBzJ,EAAO,CACrEnE,EAAOy+G,CACP,QAGR,MAAOz+G,IAGXq9J,EAAa16J,UAAU09J,UAAY,WAC/Bl5J,KAAK0xG,aACD1xG,KAAKmzF,qBAAsB93B,IAC3Br7D,KAAKu2J,kBAAmB,EAGxBv2J,KAAKm5J,gBAGbjD,EAAa16J,UAAU29J,aAAe,WAClC,GAAK17J,EAAkBuC,KAAKhD,OAGvB,GAAIgD,KAAKvG,MAAQgE,EAAkBuC,KAAKhD,OAAQ,CACjD,GAAInD,GAAUmG,KAAK+4J,iBAAiB/4J,KAAKvG,KACzC,IAAIgE,EAAkB5D,GAElB,WADAmG,MAAK2H,eAAgBlO,KAAM,MAI3BuG,MAAKu4J,aAAa1+J,EAAS,UAI/BmG,MAAKu4J,aAAav4J,KAAK2kG,cAAc3kG,KAAK02G,aAAc,UAbxD12G,MAAKu4J,aAAav4J,KAAKg5J,kBAAkBh5J,KAAKhD,OAAQ,KAe1DgD,MAAKo5J,iBACLzrI,GAAMvwB,SAAS4C,KAAKvG,KAAMuG,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,kBAE3E8uI,EAAa16J,UAAU69J,OAAS,SAAUj4J,GACtC,GAAKpB,KAAKinB,QAAV,CAGA,GAAIpe,GAASzH,EAAEkrI,cACX7qF,EAAgBrgD,EAAEyH,OAClBkuJ,EAAgB/2J,KAAK+2J,aAGzB,IAFA/2J,KAAK+2J,eAAgB,EAEjBA,IAAkB/2J,KAAKo2J,iBAAmBp2J,KAAK2zJ,eAAiBl2J,EAAkBgkD,KACjFzhD,KAAKs5J,kBAAoB77J,EAAkBoL,IAO5C,YAN6B,iBAAzB7I,KAAKkH,iBAAsClH,KAAKq4J,gBAAkBr4J,KAAK2zJ,YACvE3zJ,KAAK01J,YAAYrzJ,QAGjBrC,KAAKw5G,gBAAgBn3G,QAI7B,IAAIrC,KAAKo2J,kBAAqB34J,EAAkBuC,KAAKwlH,WAC9CzqH,SAAS+R,KAAKrU,SAASuH,KAAKwlH,SAAS3rH,UACxCmG,KAAKwlH,SAAS3rH,QAAQrB,UAAUC,SAAS48J,GAAoBO,cAI7D,YAHK51J,KAAKs2J,kBACNt2J,KAAKo2J,iBAAkB,KAIA,iBAAzBp2J,KAAKkH,kBAAuClH,KAAKq2J,eAAiBxtJ,IAAW7I,KAAKyuB,eAChF1zB,SAASm1G,gBAAkBrnG,GAAW9N,SAASm1G,gBAAkBrnG,GACjE44C,EAAcjpD,UAAUC,SAAS48J,GAAoBC,cACxD73J,EAAkBoL,IAAoC,iBAAzB7I,KAAKkH,iBAAsClH,KAAKq4J,gBAC1E52G,IAAkBzhD,KAAKy1H,aAAa/4G,WAAuC,iBAAzB1c,KAAKkH,kBAC1DlH,KAAKy1H,aAAa/4G,UAAUjkB,SAASoQ,IAAW7I,KAAKg3J,YACtDh3J,KAAKo2J,kBAAkBp2J,KAAK2zJ,YAC5B3zJ,KAAKu5J,iBACLv5J,KAAKg3J,UAAW,IAEhBh3J,KAAKq8G,aAAgBr8G,KAAK2zJ,aAAgB3zJ,KAAK+2J,gBAC/C/2J,KAAKu8G,UAAW,EAChBv8G,KAAKs2J,iBAAkB,KAG/BJ,EAAa16J,UAAU+9J,eAAiB,WACpCv5J,KAAKywG,cAAe,EACpBzwG,KAAK42H,WACL52H,KAAKw5J,cAETtD,EAAa16J,UAAUg+J,WAAa,WAC3Bx5J,KAAKinB,UAGNjnB,KAAKk3G,aACLl3G,KAAKo3J,gBAAiB,EACtBp3J,KAAKi4J,cAAc,OAEvBj4J,KAAK+3J,mBACL/3J,KAAKgV,cAAchV,KAAKi2J,cAAe,UACV,iBAAzBj2J,KAAKkH,iBAA+D,UAAzBlH,KAAKnG,QAAQyJ,SACxDtD,KAAKgV,cAAchV,KAAKyuB,aAAc,QAEtCzuB,KAAKy1H,aAAanuG,aAClBtjB,GAAUhE,KAAKy1H,aAAanuG,aAAc+tI,GAAoBS,eAElE91J,KAAKyoB,QAAQ,UAEjBytI,EAAa16J,UAAUi+J,QAAU,WACxBz5J,KAAKywG,eACNzwG,KAAKywG,cAAe,EACpBzwG,KAAKyoB,QAAQ,UAEjBzoB,KAAK4xH,mBAETskC,EAAa16J,UAAUk+J,kBAAoB,SAAUt4J,GACjD,GAAIuwI,GAAc5rI,EAAQ/F,KAAKyuB,aAAc,OACzCkjH,IAAevwI,EAAEyH,SAAW8oI,IAC5B3xI,KAAKhD,MAAQ,OAGrBk5J,EAAa16J,UAAUm+J,UAAY,WAC/Bl0J,GAAalB,IAAIvE,KAAKy1H,aAAa/4G,UAAW,YAAa1c,KAAK45J,cAAe55J,MAC/EyF,GAAalB,IAAIvE,KAAKy1H,aAAa/4G,UAAW,QAAS1c,KAAK22H,QAAS32H,MACrEyF,GAAalB,IAAIvE,KAAKy1H,aAAa/4G,UAAW,WAAY1c,KAAKm0F,SAAUn0F,MACzEA,KAAK65J,mBAET3D,EAAa16J,UAAUq+J,gBAAkB,WACrCp0J,GAAalB,IAAIvE,KAAKw5G,gBAAiB,OAAQx5G,KAAKq5J,OAAQr5J,KAC5D,IAAI2xI,GAAc5rI,EAAQ/F,KAAKyuB,aAAc,OACzCkjH,IACAlsI,GAAalB,IAAIotI,EAAa,QAAS3xI,KAAK05J,kBAAmB15J,MAE9DoM,GAAQuc,WACT3oB,KAAKo5I,eAAiB,GAAI5uF,IAAexqD,KAAKw5G,iBAC1CjuD,UAAWvrD,KAAK8vG,iBAAiBr0G,KAAKuE,MAAOgrD,WAAYhrD,KAAKy3J,aAAc9kI,UAAW,aAG/F3yB,KAAKknB,kBAETgvI,EAAa16J,UAAU0rB,eAAiB,WAChClnB,KAAKonB,iBACL3hB,GAAalB,IAAIvE,KAAKy1H,aAAanuG,YAAa,YAAatnB,KAAKunB,aAAcvnB,OAGxFk2J,EAAa16J,UAAUs+J,kBAAoB,WACvCr0J,GAAaf,OAAO1E,KAAKw5G,gBAAiB,OAAQx5G,KAAKq5J,OACvD,IAAI1nB,GAAc5rI,EAAQ/F,KAAKyuB,aAAc,OACzCkjH,IACAlsI,GAAaf,OAAOitI,EAAa,QAAS3xI,KAAK05J,mBAE9CttJ,GAAQuc,UACT3oB,KAAKo5I,eAAevlI,UAEpB7T,KAAKonB,iBACL3hB,GAAaf,OAAO1E,KAAKy1H,aAAanuG,YAAa,YAAatnB,KAAKunB,eAG7E2uI,EAAa16J,UAAUo2H,gBAAkB,WACjC5xH,KAAKonB,kBAC2B,KAA5BpnB,KAAKyuB,aAAazxB,MAClBwH,GAAaxE,KAAKy1H,aAAanuG,aAAc+tI,GAAoBS,eAGjE9xJ,GAAUhE,KAAKy1H,aAAanuG,aAAc+tI,GAAoBS,iBAO1EI,EAAa16J,UAAUs8J,eAAiB,WACpCryJ,GAAalB,IAAIvE,KAAKu2C,KAAM,QAASv2C,KAAK+5J,aAAc/5J,MACxDyF,GAAalB,IAAIvE,KAAKu2C,KAAM,YAAav2C,KAAKg6J,YAAah6J,MAC3DyF,GAAalB,IAAIvE,KAAKu2C,KAAM,WAAYv2C,KAAKi6J,aAAcj6J,OAG/Dk2J,EAAa16J,UAAU24F,SAAW,SAAU/yF,GACrB,KAAfA,EAAE84J,UAAkC,KAAf94J,EAAE84J,eACL9gK,KAAd4G,KAAKu2C,MACLv2C,KAAK0xG,aAET1xG,KAAKm6J,eAAiB/4J,EACjBpB,KAAKq8G,aAAgB5+G,EAAkBuC,KAAKu2C,KAAKzzC,cAAc,QAChE9C,KAAKvI,kBAAkB2J,KAInC80J,EAAa16J,UAAUu+J,aAAe,SAAU34J,GAC5C,GAAIyH,GAASzH,EAAEyH,OAEXg5F,GADYh5F,EAAOrQ,UACduN,EAAQ8C,EAAQ,IAAM8wG,GAAoB9X,IACnD,IAAK7hG,KAAK2sG,UAAU9K,GAIpB,GADA7hG,KAAKu4J,aAAa12D,EAAIzgG,GAClBgL,GAAQuc,UAAY3oB,KAAKs5J,iBACzB35G,QAAQouD,WAEP,CAED/tG,KAAK0lJ,WADO,OAIpBwQ,EAAa16J,UAAUw+J,YAAc,SAAU54J,GAC3C,GAAIw8G,GAAY73G,EAAQ3E,EAAEyH,OAAQ,IAAM8wG,GAAoB9X,GAC5D7hG,MAAKo6J,SAASx8C,IAGlBs4C,EAAa16J,UAAU4+J,SAAW,SAAUv4D,GACpC7hG,KAAKinB,SAAWjnB,KAAK2sG,UAAU9K,KAAQA,EAAGrpG,UAAUC,SAASkhH,GAAoBpR,SACjFvoG,KAAKkuG,cACLlqG,GAAU69F,GAAK8X,GAAoBpR,SAI3C2tD,EAAa16J,UAAUy+J,aAAe,SAAU74J,GAC5CpB,KAAKkuG,eAGTgoD,EAAa16J,UAAU0yG,YAAc,WACjC,GAAImsD,GAAcr6J,KAAKu2C,KAAK37C,iBAAiB,IAAM++G,GAAoBpR,MACnE8xD,IAAeA,EAAY9hK,QAC3BiM,EAAY61J,EAAa1gD,GAAoBpR,QAIrD2tD,EAAa16J,UAAUmxG,UAAY,SAAU9K,GACzC,MAAQA,IAAMA,EAAGmiB,aAAa,SAAuC,WAA5BniB,EAAGp7F,aAAa,SAG7DyvJ,EAAa16J,UAAU/D,kBAAoB,SAAU2J,GACjD,GAAIpB,KAAK2kG,cAAcpsG,OAAS,EAAG,CAC/B,GAAIspG,GAAKpqG,EAAkB2J,EAAE84J,SAAUl6J,KAAK2kG,cAAe3kG,KAAK02G,aAAa,EACxEj5G,GAAkBokG,KACnB7hG,KAAKu4J,aAAa12D,EAAIzgG,GACtBpB,KAAKs6J,uBASjBpE,EAAa16J,UAAUgpB,YAAc,WAC5B/mB,EAAkBuC,KAAKu6J,kBACxB/1I,GAAYxkB,KAAKu6J,gBACjB/1J,GAAaxE,KAAKu6J,gBAAiBlF,GAAoBW,aACvDh2J,KAAKu6J,eAAe//J,UAAY,GAChCwF,KAAKu6J,eAAiB,OAO9BrE,EAAa16J,UAAUyoB,YAAc,WAC7BxmB,EAAkBuC,KAAKu6J,kBACvBv6J,KAAKu6J,eAAiBnuJ,GAAQuc,WAAalrB,EAAkBuC,KAAKw6J,iBAAmBx6J,KAAKw6J,eAAep2C,QAAQ,KAC5G3mH,EAAkBuC,KAAKw6J,iBAAmBx6J,KAAKw6J,eAAep2C,QAAQ,IAAMpkH,KAAKy1H,aAAarR,QAAQ,GAC3GpgH,GAAUhE,KAAKu6J,gBAAiBlF,GAAoBW,aACpDz5I,IACI1T,OAAQ7I,KAAKu6J,eACb7iJ,MAAOtL,GAAQuc,SAAW,OAAS,QACpC3oB,KAAKyB,eACRwiB,GAAYjkB,KAAKu6J,kBAGzBrE,EAAa16J,UAAUs0G,iBAAmB,SAAU1uG,GAChD,GAAIq5J,GAA6B,WAAbr5J,EAAEkqD,QAAoC,aAAblqD,EAAEkqD,OAC3CovG,EAA0C,iBAAzB16J,KAAKkH,kBAAoD,SAAb9F,EAAEkqD,QAAkC,QAAblqD,EAAEkqD,OAC1FtrD,MAAK82J,YAA2B,WAAb11J,EAAEkqD,OACrBtrD,KAAKg3J,UAAYh3J,KAAK2zJ,aAA4B,QAAbvyJ,EAAEkqD,MACvC,IAAIqvG,GAA6B,SAAbv5J,EAAEkqD,QAAkC,OAAblqD,EAAEkqD,QAAgC,WAAblqD,EAAEkqD,QAAoC,aAAblqD,EAAEkqD,QACvE,SAAblqD,EAAEkqD,QAAkC,QAAblqD,EAAEkqD,MAChC,OAAKtrD,KAAK46J,iBAAmBH,GAAiBC,IAAoB16J,KAAK2zJ,eAGlE3zJ,KAAK2xH,SAAU,CAChB,GAAIkpC,GAA2B,QAAbz5J,EAAEkqD,QAAiC,UAAblqD,EAAEkqD,MAK1C,QAJkBlyD,KAAd4G,KAAKu2C,MAAuBv2C,KAAKq8G,aAAgBw+C,GAA4B,WAAbz5J,EAAEkqD,SAClEtrD,KAAKm6J,eAAiB/4J,EACtBpB,KAAK0xG,cAELj0G,EAAkBuC,KAAKu2C,QAAW94C,EAAkBuC,KAAK2kG,gBACzDg2D,GAA8C,IAA9B36J,KAAK2kG,cAAcpsG,QAAiByH,KAAKq8G,YACzD,MAOJ,SALIw+C,GAAe76J,KAAK2zJ,aAA4B,WAAbvyJ,EAAEkqD,SACrClqD,EAAEomB,iBAENxnB,KAAKk3G,WAA0B,WAAb91G,EAAEkqD,QAA8BtrD,KAAKk3G,WACvDl3G,KAAKy2J,SAAWkE,GAA6B,WAAbv5J,EAAEkqD,QAA+BtrD,KAAKy2J,QAC9Dr1J,EAAEkqD,QACN,IAAK,OACL,IAAK,KACD,GAAIi8F,GAAWvnJ,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBhzJ,MACjE,IAAIrC,KAAK86J,kBAAkBvT,GACvBvnJ,KAAKu4J,aAAahR,EAAUnmJ,OAE3B,CACD,GAAI25J,OAAW,GACX7iK,EAAqB,SAAbkJ,EAAEkqD,OAAoBtrD,KAAK02G,YAAc,EAAI12G,KAAK02G,YAAc,EACxE/uF,EAAa,CACY,kBAAzB3nB,KAAKkH,kBACLygB,EAA0B,SAAbvmB,EAAEkqD,QAAqB7tD,EAAkBuC,KAAK02G,aAAe,EAAI12G,KAAK2kG,cAAcpsG,OAAS,EAC1GL,EAAQA,EAAQ,EAAI8H,KAAK2kG,cAAcpsG,OAAS,EAAIL,IAAU8H,KAAK2kG,cAAcpsG,OAAS,EAAIL,GAElG6iK,EAAWt9J,EAAkBuC,KAAK02G,aAAe12G,KAAK2kG,cAAch9E,GAAc3nB,KAAK2kG,cAAczsG,GACrG8H,KAAKu4J,aAAawC,EAAU35J,GAEhCA,EAAEomB,gBACF,MACJ,KAAK,SACDxnB,KAAKg7J,gBAAgBh7J,KAAK02G,YAAc12G,KAAKi7J,eAAgB75J,GAC7DA,EAAEomB,gBACF,MACJ,KAAK,WACDxnB,KAAKk7J,kBAAkBl7J,KAAK02G,YAAc12G,KAAKi7J,eAAgB75J,GAC/DA,EAAEomB,gBACF,MACJ,KAAK,OACD,GAA6B,iBAAzBxnB,KAAKkH,gBAAoC,CAEzC,GADA9F,EAAEomB,iBACuB,IAArBxnB,KAAK02G,YACL,MAEJ12G,MAAKu4J,aAAav4J,KAAK2kG,cAAc,GAAIvjG,GAE7C,KACJ,KAAK,MACD,GAA6B,iBAAzBpB,KAAKkH,gBAAoC,CACzC9F,EAAEomB,gBACF,IAAImpF,GAAS3wG,KAAKm+G,WAAW5lH,OAAS,CACtC,IAAIyH,KAAK02G,cAAgB/F,EACrB,MAEJ3wG,MAAKu4J,aAAav4J,KAAK2kG,cAAcgM,GAASvvG,GAElD,KACJ,KAAK,QAC4B,iBAAzBpB,KAAKkH,kBACAlH,KAAKs2J,iBACNt2J,KAAKm7J,YAGb,MACJ,KAAK,OACDn7J,KAAKm7J,WACL,MACJ,KAAK,OACDn7J,KAAKs3J,aAAet3J,KAAK2zJ,YACzB3zJ,KAAK44J,YACL54J,KAAKo7J,cAAch6J,EACnB,MACJ,KAAK,QACDpB,KAAKq7J,kBAAkBj6J,EACvB,MACJ,KAAK,SACL,IAAK,MACL,IAAK,QACGpB,KAAK2zJ,cACL3zJ,KAAK44J,YACL54J,KAAKo7J,cAAch6J,OAMvC80J,EAAa16J,UAAU6/J,kBAAoB,SAAUj6J,GACjD,GAAIpB,KAAK2zJ,YAAa,CAClB,GAAI9xD,GAAK7hG,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBhzJ,MACvDw/F,KACA7hG,KAAKu4J,aAAa12D,EAAIzgG,GACtBpB,KAAKy2J,SAAU,GAEfz2J,KAAKk3G,aACLl3G,KAAKo3J,gBAAiB,EACtBp3J,KAAKi4J,cAAc72J,IAEvBpB,KAAK44J,YACL54J,KAAKo7J,cAAch6J,OAGnBpB,MAAKm7J,aAGbjF,EAAa16J,UAAUs/J,kBAAoB,SAAUjhK,GACjD,OAAQ4D,EAAkB5D,IAE9Bq8J,EAAa16J,UAAUy/J,aAAe,WAClC,GAAIv9C,GAAW19G,KAAKu2C,KAAK/9C,UAAUC,SAASkhH,GAAoBE,QAAU,KACtE5rG,iBAAiBjO,KAAKm+G,WAAW,GAAI,MAAMjwG,iBAAiB,SAChE,OAAOd,MAAKgoG,MAAMp1G,KAAKu2C,KAAK5pC,wBAAwB8K,OAASuiB,SAAS0jF,EAAU,MAEpFw4C,EAAa16J,UAAUw/J,gBAAkB,SAAUl0B,EAAOvqI,GACtD,GAAI++J,GAAex0B,GAAS,EAAI9mI,KAAK2kG,cAAcmiC,EAAQ,GAAK9mI,KAAK2kG,cAAc,EACnF3kG,MAAKu4J,aAAa+C,EAAc/+J,IAGpC25J,EAAa16J,UAAU0/J,kBAAoB,SAAUp0B,EAAOvqI,GACxD,GAAIg6C,GAAOv2C,KAAKm+G,WACZm9C,EAAex0B,GAASvwF,EAAKh+C,OAASyH,KAAK2kG,cAAcmiC,EAAQ,GAAK9mI,KAAK2kG,cAAcpuD,EAAKh+C,OAAS,EAC3GyH,MAAKu4J,aAAa+C,EAAc/+J,IAGpC25J,EAAa16J,UAAU+/J,YAAc,WACjC91J,GAAaf,OAAO1E,KAAKy1H,aAAa/4G,UAAW,YAAa1c,KAAK45J,eACnEn0J,GAAaf,OAAO1E,KAAKy1H,aAAa/4G,UAAW,WAAY1c,KAAKm0F,UAClE1uF,GAAaf,OAAO1E,KAAKy1H,aAAa/4G,UAAW,QAAS1c,KAAK22H,SAC/D32H,KAAK85J,qBAKT5D,EAAa16J,UAAUggK,iBAAmB,WACtC/1J,GAAaf,OAAO1E,KAAKu2C,KAAM,QAASv2C,KAAK+5J,cAC7Ct0J,GAAaf,OAAO1E,KAAKu2C,KAAM,YAAav2C,KAAKg6J,aACjDv0J,GAAaf,OAAO1E,KAAKu2C,KAAM,WAAYv2C,KAAKi6J,eAGpD/D,EAAa16J,UAAUigK,gBAAkB,SAAUr6J,GAC/C,GAAIyH,GAASzH,EAAEyH,MACf,KAAOpL,EAAkBuC,KAAKwlH,WAAaz/G,EAAQ8C,EAAQ,IAAM7I,KAAKwlH,SAAS3rH,QAAQ8J,KAClF3D,KAAKy1H,aAAa/4G,UAAUjkB,SAAS2I,EAAEyH,QAYnCA,IAAW7I,KAAKyuB,cAAkBzuB,KAAKq4J,gBAAkBxvJ,IAAW7I,KAAK01J,aAChD,aAAzB11J,KAAKkH,kBACLlH,KAAKq4J,gBAAkBjsJ,GAAQuc,UAAY9f,IAAW7I,KAAKy1H,aAAarR,QAAQ,KACrFpkH,KAAK+2J,eAAiB3qJ,GAAQ0d,MAA8B,SAAtB1d,GAAQwc,KAAKqK,QAAqBl4B,SAASm1G,gBAAkBlwG,KAAKw5G,iBACpGz+G,SAASm1G,gBAAkBlwG,KAAK01J,aACpCt0J,EAAEomB,sBAhBF,IAAIxnB,KAAKy1H,aAAa/4G,UAAUlkB,UAAUC,SAAS48J,GAAoBC,aAAet1J,KAAK2zJ,YAAa,CACpG3zJ,KAAKo2J,iBAAkB,CACvB,IAAI75C,GAAWv8G,KAAKq8G,WACpBr8G,MAAKywG,cAAe,EACpBzwG,KAAK44J,YACAr8C,IACDv8G,KAAKw5J,aACLx5J,KAAKy1H,aAAa/4G,UAAUlkB,UAAUkM,OAAO2wJ,GAAoBC,eAYjFY,EAAa16J,UAAUkgK,kBAAoB,WACnC17J,KAAKo2J,kBACLp2J,KAAK44J,YACL54J,KAAKw5J,aACLx5J,KAAKy1H,aAAa/4G,UAAUlkB,UAAUkM,OAAO2wJ,GAAoBC,cAGzEY,EAAa16J,UAAU4/J,cAAgB,SAAUh6J,IACxCpB,KAAK+xH,SAAW/xH,KAAKs5J,kBACtBt5J,KAAK22H,WAGbu/B,EAAa16J,UAAUo+J,cAAgB,SAAUx4J,GAC7C,GAAgB,IAAZA,EAAE2pD,OAA4B,IAAb3pD,EAAEywH,SAGnB7xH,KAAKw5G,gBAAgBhhH,UAAUC,SAAS48J,GAAoBpsD,UAAYjpG,KAAKy1H,aAAanuG,cAAgBlmB,EAAEyH,OAAhH,CAGA,GAAIA,GAASzH,EAAEyH,MAIf,IAHIA,IAAW7I,KAAKyuB,cAAkBzuB,KAAKq4J,gBAAkBxvJ,IAAW7I,KAAK01J,aAAyC,aAAzB11J,KAAKkH,iBAC9F9F,EAAEomB,iBAEDxnB,KAAK2xH,SAoBN3xH,KAAK22H,cApBW,CACZ32H,KAAK2zJ,aACL3zJ,KAAK44J,YACD54J,KAAKs5J,kBACLt5J,KAAKo7J,cAAch6J,KAIvBpB,KAAK22H,UACL32H,KAAK+3J,mBACL/3J,KAAKlI,YAAiD,KAAnCkI,KAAKyuB,aAAazxB,MAAMyU,OAAgB,KAAOzR,KAAKyuB,aAAazxB,MACpFgD,KAAKq3J,iBAAkB,EACvBr3J,KAAKm7J,YAET,IAAIQ,GAAU37J,IACTA,MAAKw3J,eACNv/J,WAAW,WAAc0jK,EAAQC,iBAAoB,QAOjE1F,EAAa16J,UAAUogK,cAAgB,WACnC,GAAI57J,KAAKu2C,KAAM,CACX,GAAIwvD,GAAY/lG,KAAKu2C,KAAKzzC,cAAc,KACpCijG,KACAA,EAAYA,EAAU/jG,UAAY+jG,EAAU/jG,WAAU,GAAQ+jG,EAC9D/lG,KAAKi3J,mBAAmBlxD,UAAYA,EACpC/lG,KAAKw3J,eAAgB,KAIjCtB,EAAa16J,UAAUqgK,mBAAqB,SAAUh6D,EAAIzgG,EAAG06J,GACzD97J,KAAKm4J,kBACLt2D,EAAGrpG,UAAU+L,IAAIo1G,GAAoB1f,UACrCj6F,KAAKkuG,aACL,IAAIlxG,GAAQgD,KAAKk7G,kBAAkBrZ,EAAGp7F,aAAa,cAGnD,IAFAzG,KAAKnH,KAAOgpG,EACZ7hG,KAAK3G,SAAW2G,KAAKo/G,eAAepiH,IAC/BgD,KAAK+xH,UAAY+pC,EAAe,CACjC,GAAInkK,GAAQqI,KAAK+7J,eACjB/7J,MAAKk3G,YAAa,CAClB,IAAI7oG,IACAjN,EAAGA,EACHvI,KAAMmH,KAAKnH,KACXQ,SAAU1B,EACV84G,eAAcrvG,EACd+uB,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,SAAUpa,GACnBA,EAAU8hB,OACV,OAAO,EAGf,GAAI6rI,GAAch8J,KAAKu2C,KAAKzzC,cAAc,IAAM62G,GAAoBt3G,MAMpE,OALI25J,IACAx3J,GAAaw3J,GAAcriD,GAAoBt3G,OAEnDw/F,EAAGh+F,aAAa,gBAAiB,QACjC7D,KAAK02G,YAAc12G,KAAKk+G,gBAAgBlhH,IACjC,GAEXk5J,EAAa16J,UAAUygK,WAAa,SAAUp6D,GACtC7hG,KAAK2sG,UAAU9K,KAAQA,EAAGrpG,UAAUC,SAASkhH,GAAoB1f,YACjEj6F,KAAKm4J,kBACLt2D,EAAGrpG,UAAU+L,IAAIo1G,GAAoB1f,UACrCj6F,KAAKkuG,cACLrM,EAAGh+F,aAAa,gBAAiB,UAGzCqyJ,EAAa16J,UAAU4B,SAAW,SAAUgE,GACxC,GAAI8T,GAAWlV,KAAK4tG,aAcpB,OAbuB,QAAnB14F,EAASlY,MACT2wB,GAAMvwB,SAAS,KAAM4C,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBAGlEuG,GAAMvwB,SAAS8X,EAASzb,KAAMuG,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBAE3EpnB,KAAKk8J,eAAmC,OAAlBl8J,KAAK3G,SAC3B2G,KAAKm8J,mBAEAn8J,KAAKyuB,aAAa+oF,kBAAoBx3G,KAAKs4J,mBAChD/yJ,EAAOvF,KAAKs4J,kBACZt4J,KAAKyuB,aAAa7pB,MAAM6hD,QAAU,SAElCzmD,KAAKs3H,gBAAkBpiH,EAASlY,OAChCgD,KAAKk3G,YAAa,GACX,IAGPl3G,KAAKk3G,YAAcl3G,KAAK+xH,QACxB/xH,KAAKo3J,gBAAiB,EACO,iBAAzBp3J,KAAKkH,iBACLlH,KAAK4xH,mBAEF,IAGfskC,EAAa16J,UAAU+8J,aAAe,SAAU12D,EAAIzgG,GAC5CpB,KAAK2sG,UAAU9K,KAAQA,EAAGrpG,UAAUC,SAASkhH,GAAoB1f,YACjEj6F,KAAKo8J,iBAAqB3+J,EAAkBuC,KAAK3G,UAA6B,KAAhB2G,KAAK3G,SAClD2G,KAAK67J,mBAAmBh6D,EAAIzgG,GAAG,MAKhDpB,KAAKu2C,MACLv2C,KAAKkuG,cAETluG,KAAKq8J,mBAAuB5+J,EAAkBuC,KAAK0wG,YAAiC,KAAlB1wG,KAAK0wG,WACvE1wG,KAAK0wG,WAAa7O,EACd7hG,KAAK5C,SAASgE,KAGdpB,KAAK2zJ,cACL5vJ,EAAW/D,KAAKw5G,iBAAmBs+B,wBAAyB93I,KAAK0wG,WAAa1wG,KAAK0wG,WAAW/sG,GAAK,OAC/F3D,KAAKs5J,kBACLv1J,EAAW/D,KAAK01J,aAAe5d,wBAAyB93I,KAAK0wG,WAAa1wG,KAAK0wG,WAAW/sG,GAAK,UAGjG3D,KAAK2zJ,cAAgBl2J,EAAkBokG,IAAS7hG,KAAK2zJ,cAAgBl2J,EAAkB2D,KAC7E,YAAXA,EAAErH,MAAiC,YAAXqH,EAAErH,MAAmC,UAAbqH,EAAEkqD,WACnDtrD,KAAKo3J,gBAAiB,EACtBp3J,KAAKi4J,cAAc72J,KAEnBpB,KAAK2zJ,aAAgBl2J,EAAkBuC,KAAK0wG,aAAiC,OAAlB1wG,KAAK3G,UAAuB+H,GAAgB,UAAXA,EAAErH,MAC9FiG,KAAKs6J,kBAAkBl5J,MAG/B80J,EAAa16J,UAAU2gK,iBAAmB,WACtC,GAAIn2D,EACChmG,MAAKs4J,mBACNt4J,KAAKs4J,iBAAmBt4J,KAAKyB,cAAc,QAAUiC,UAAW2xJ,GAAoBr4J,QACpFgD,KAAKyuB,aAAazY,cAAc5Q,aAAapF,KAAKs4J,iBAAkBt4J,KAAKyuB,cACzEzuB,KAAKyuB,aAAa7pB,MAAM6hD,QAAU,QAEtCzmD,KAAKs4J,iBAAiB99J,UAAY,EAElC,KAAK,GAAI6D,GAAK,EAAG2E,GADjBgjG,EAAiBz1F,GAAQvQ,KAAKk8J,gBACOl8J,KAAK3G,UAAWgF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CACvE,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKs4J,iBAAiBv2J,YAAYlJ,KAG1Cq9J,EAAa16J,UAAU28J,gBAAkB,WACrC,GAAIrqD,GAAgB9tG,KAAKu2C,KAAK37C,iBAAiB,IAAM++G,GAAoB1f,SACrE6T,GAAcv1G,SACdiM,EAAYspG,EAAe6L,GAAoB1f,UAC/C6T,EAAc,GAAGxhG,gBAAgB,mBAIzC4pJ,EAAa16J,UAAUoyG,YAAc,WACjC,GAGI0uD,GACAC,EAJApnJ,EAASnV,KAAKmV,OACdD,EAAW,IAYf,OARKzX,GAHLyX,EAAWlV,KAAK3G,YAIZijK,EAAYz/J,EAASsY,EAAOnY,MAAOkY,GACnCqnJ,EAAW1/J,EAASsY,EAAO1b,KAAMyb,KAM5BlY,MAJKS,EAAkByX,IAC3B/X,EAAYm/J,GAAyBpnJ,EAAZonJ,EAGP7iK,KAFVgE,EAAkByX,IAC1B/X,EAAYm/J,GAAwBpnJ,EAAXqnJ,IAMlCrG,EAAa16J,UAAUy8J,cAAgB,SAAUuE,GAC7C,GAAItnJ,GAAWlV,KAAK4tG,cAChB11G,EAAQ8H,KAAKo3J,eAAiB,KAAOp3J,KAAK02G,WAC9C12G,MAAK2H,eAAgB3K,MAASkY,EAASlY,MAAO9E,MAASA,EAAOuB,KAAQyb,EAASzb,OAAQ,GACvFuG,KAAKy8J,kBAAkBD,IAG3BtG,EAAa16J,UAAUugK,cAAgB,WAmBnC,MAjB6B,gBAAlB/7J,MAAK3G,UACa,iBAAlB2G,MAAK3G,UACa,gBAAlB2G,MAAK3G,SACJkF,OAAOm+J,qBACX1/J,OACIA,MAAOgD,KAAK3G,SACZ4P,YAAY,GAEhBxP,MACIuD,MAAOgD,KAAK3G,SACZ4P,YAAY,KAKZjJ,KAAK3G,UAIrB68J,EAAa16J,UAAUihK,kBAAoB,SAAUD,GAKjD,GAJAx8J,KAAKk3G,YAAa,EAClBl3G,KAAKs3H,cAAgBt3H,KAAKhD,MAC1BgD,KAAK02G,YAAc12G,KAAK9H,MACxB8H,KAAK62J,YAAep5J,EAAkBuC,KAAKvG,MAAoB,GAAZuG,KAAKvG,MACnDuG,KAAK+xH,QAAS,CACf,GAAIp6H,GAAQqI,KAAK+7J,gBACbY,MAAW,EAIXA,GAHiC,gBAA1B38J,MAAKo8J,kBACqB,iBAA1Bp8J,MAAKo8J,kBACqB,gBAA1Bp8J,MAAKo8J,iBACD79J,OAAOm+J,qBACd1/J,OACIA,MAAOgD,KAAKo8J,iBACZnzJ,YAAY,GAEhBxP,MACIuD,MAAOgD,KAAKo8J,iBACZnzJ,YAAY,KAKTjJ,KAAKo8J,iBAEpBp8J,KAAKo5J,gBACL,IAAI/qJ,IACAjN,EAAGo7J,EACH3jK,KAAMmH,KAAKnH,KACXQ,SAAU1B,EACV2jK,aAAct7J,KAAKq8J,mBACnBD,iBAAkBO,EAClBlsD,eAAc+rD,EACdx/J,MAAOgD,KAAKhD,MACZnD,QAASmG,KAAKnG,QAElBmG,MAAKyoB,QAAQ,SAAUpa,KAG/B6nJ,EAAa16J,UAAU49J,eAAiB,WAC/B37J,EAAkBuC,KAAKhD,OAMxBgD,KAAKi2J,cAAcz7J,UAAY,IAL/BwF,KAAKi2J,cAAcz7J,UAAY,oBAAsBwF,KAAKvG,KAAO,YAC3CuG,KAAKi2J,cAAcnzJ,cAAc,UACvCe,aAAa,QAAS7D,KAAKhD,MAAM2D,cASzDu1J,EAAa16J,UAAUohK,WAAa,SAAUx7J,GAE1C,GADApB,KAAK42J,WAA2B,KAAdx1J,EAAE1J,SAAgC,KAAd0J,EAAE1J,SAAkBsI,KAAK42J,WAC3D52J,KAAK42J,WAEL,OADA52J,KAAK42J,YAAa,EACVx1J,EAAE1J,SACN,IAAK,IACL,IAAK,IAC4B,iBAAzBsI,KAAKkH,iBAAuClH,KAAK2zJ,aAAgB3zJ,KAAKs3J,cAAiBt3J,KAAKq8G,YAK5Fr8G,KAAK22J,iBAAkB,GAJvB32J,KAAK22J,iBAAkB,EACvB32J,KAAK68J,YAAYz7J,IAKrBpB,KAAKs3J,cAAe,EACpBl2J,EAAEomB,gBACF,MACJ,KAAK,IACL,IAAK,GACDxnB,KAAK62J,YAAc72J,KAAK01J,YAAY14J,OAC/BgD,KAAK2zJ,aAAoC,KAArB3zJ,KAAK62J,aAAsB72J,KAAK2zJ,aAAe3zJ,KAAKlI,YAAYS,OAAS,GAC9FyH,KAAK22J,iBAAkB,EACvB32J,KAAK68J,YAAYz7J,IAES,KAArBpB,KAAK62J,cACV72J,KAAKk4J,oBACLl4J,KAAK02G,YAAc,KACU,iBAAzB12G,KAAKkH,iBACLlH,KAAK44J,aAGbx3J,EAAEomB,gBACF,MACJ,SACIxnB,KAAK62J,YAAc72J,KAAK01J,YAAY14J,MACpCgD,KAAK22J,iBAAkB,EACvB32J,KAAK68J,YAAYz7J,KAKjC80J,EAAa16J,UAAUshK,aAAe,SAAU17J,GAC5C,OAAQA,EAAE1J,SACN,IAAK,IACD,KACJ,KAAK,IACL,IAAK,IACDsI,KAAKlI,YAAckI,KAAK01J,YAAY14J,MACpCoE,EAAEomB,gBACF,MACJ,KAAK,GACGxnB,KAAK2zJ,aACLvyJ,EAAEomB,gBAEN,MACJ,SACIxnB,KAAKm3J,iBAAmBn3J,KAAK+8J,qBAC7B/8J,KAAKlI,YAAckI,KAAK01J,YAAY14J,QAIhDk5J,EAAa16J,UAAUwhK,oBAAsB,WACzC,GAAIh9J,KAAKywG,aAAc,CACnB,GAAIwsD,GAAYj9J,KAAK+8J,oBACrB/8J,MAAKyuB,aAAazG,kBAAkBi1I,EAAUj9I,IAAKi9I,EAAUj9I,OAGrEk2I,EAAa16J,UAAUuhK,mBAAqB,WACxC,GAAI1pJ,GAAQrT,KAAKyuB,YACjB,QAASlxB,MAAO6P,KAAKE,IAAI+F,EAAMuU,gBAAiB5H,IAAK5S,KAAKE,IAAI+F,EAAMyU,gBAExEouI,EAAa16J,UAAUqhK,YAAc,SAAUz7J,GAC3C,GAAIrB,GAAQC,IAQZ,IAPAA,KAAKy2J,SAAU,EACfz2J,KAAK02G,YAAc,KACf12G,KAAK01J,YAAY1/I,cAAclT,cAAc,IAAMuyJ,GAAoB5R,aACpDzjJ,KAAK01J,YAAY1/I,cAAclT,cAAc,IAAMuyJ,GAAoB5R,WAC7E7+I,MAAMC,WAAwC,KAA3B7E,KAAK01J,YAAY14J,MAAe,SAAW,WAE/EgD,KAAKs8G,eAAgB,EACjBt8G,KAAKk9J,cAAe,CACpB,GAAI/f,IACAggB,sBAAsB,EACtB1jK,KAAMuG,KAAK01J,YAAY14J,MACvBwhH,WAAY,SAAUrrB,EAAYr5F,EAAOqb,GACjCgoI,EAAYhtH,SAGhBpwB,EAAMw3J,gBAAiB,EACvBx3J,EAAMq9J,gBAAgBjqE,EAAYr5F,EAAOqb,KAE7CkoJ,cAAej8J,EACf+uB,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,YAAa00H,GACtBA,EAAYhtH,OACZ,MAEJ,KAAKnwB,KAAKu3J,iBAAmBpa,EAAYggB,qBAAsB,CAC3D,GAAIG,GAAct9J,KAAKlG,MAAQkG,KAAKlG,MAAMuF,QAAU,GAAIozD,IACpD5gC,EAAW7xB,KAAKy6G,WAAWz6G,KAAKmzF,YAAYyP,MAChD,KAAM5iG,KAAKmzF,qBAAsB93B,KAA6B,WAAbxpC,IAAsC,WAAbA,EAGrE,CACD,GAAI1c,GAASnV,KAAKmV,MAClBmoJ,GAAY/oG,MAAO92D,EAAkB0X,EAAO1b,MAAsB,GAAd0b,EAAO1b,KAAW,aAAcuG,KAAK01J,YAAY14J,OAAO,EAAMgD,KAAK00D,kBAJvH4oG,GAAY/oG,MAAM,GAAI,aAAcv0D,KAAK01J,YAAY14J,OAAO,EAAMgD,KAAK00D,aAM3E10D,MAAKo9J,gBAAgBp9J,KAAKmzF,WAAYmqE,EAAat9J,KAAKmV,WAIpE+gJ,EAAa16J,UAAU4hK,gBAAkB,SAAUjqE,EAAYr5F,EAAOqb,GAC7D1X,EAAkBuC,KAAK01J,eACxB11J,KAAKs2J,iBAAkB,EACe,KAAlCt2J,KAAK01J,YAAY14J,MAAMyU,QACvBzR,KAAKi3J,mBAAmBC,WAAY,EACpCl3J,KAAKy2J,SAAU,EACVh5J,EAAkBuC,KAAKi3J,mBAAmBlxD,YAAetoG,EAAkBuC,KAAKi3J,mBAAmB1gH,OACpGv2C,KAAK08G,iBAAiB18G,KAAKi3J,mBAAmBlxD,UAAW/lG,KAAKi3J,mBAAmB1gH,MAErFv2C,KAAKy2J,SAAU,EACVh5J,EAAkBuC,KAAK3G,WAAsC,iBAAzB2G,KAAKkH,kBAC1ClH,KAAKu9J,iBACLv9J,KAAKs6J,qBAETt6J,KAAKw2J,iBAAkB,IAGvBx2J,KAAKw2J,iBAAkB,EACvBx2J,KAAK87G,UAAU3oB,EAAYh+E,EAAQrb,MAI/Co8J,EAAa16J,UAAUgiK,aAAe,SAAUhX,GAC5C,GAAIxmJ,KAAKk9J,cAAe,CACpB,GAAIlnJ,GAAgBhW,KAAKyB,cAAc,QACnCiC,UAAW2xJ,GAAoBM,cAEnC31J,MAAK01J,YAAc11J,KAAKyB,cAAc,SAClCqC,OAAS/J,KAAM,QACf2J,UAAW2xJ,GAAoBK,cAEnC11J,KAAKnG,QAAQiB,WAAWsK,aAAapF,KAAK01J,YAAa11J,KAAKnG,QAC5D,IAAIqvG,IAAW,CAsCf,OArCI98F,IAAQuc,WACRugF,GAAW,GAEflpG,KAAKw6J,eAAiB7sI,GAAM+iG,aACxB72H,QAASmG,KAAK01J,YACdtxC,QAASlb,GACJmsD,GAAoBnsD,SAAUmsD,GAAoBI,qBAAuBJ,GAAoBI,oBAClGlyJ,YAAcwlB,YAAa/oB,KAAKy9J,uBACjCz9J,KAAKyB,eACR6D,GAAQtF,KAAKw6J,eAAe99I,WAAY1G,GACxCjR,GAASiR,GAAgBwwI,GACzBziJ,EAAW/D,KAAK01J,aACZ/iC,gBAAiB,QACjB41B,YAAavoJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,UACR0kI,wBAAyB93I,KAAK0wG,WAAa1wG,KAAK0wG,WAAW/sG,GAAK,KAChEohB,aAAgB,MAChBC,YAAe,MACfC,eAAkB,MAClBC,WAAc,UAElBllB,KAAK09J,iBAAmB19J,KAAK01J,YAAY1/I,cAAclT,cAAc,IAAMuyJ,GAAoB5R,YAC1Fr3I,GAAQuc,UAAY3oB,KAAK09J,mBAC1Bj4J,GAAalB,IAAIvE,KAAK09J,iBAAkB,QAAS19J,KAAK23I,UAAW33I,MACjEA,KAAK09J,iBAAiB94J,MAAMC,WAAa,UAExCuH,GAAQuc,WACT3oB,KAAK29J,gBAAkB,GAAInzG,IAAexqD,KAAK01J,aAC3CnqG,UAAWvrD,KAAK8vG,iBAAiBr0G,KAAKuE,MACtCgrD,WAAYhrD,KAAKy3J,aACjB9kI,UAAW,aAGnBltB,GAAalB,IAAIvE,KAAK01J,YAAa,QAAS11J,KAAK49J,QAAS59J,MAC1DyF,GAAalB,IAAIvE,KAAK01J,YAAa,QAAS11J,KAAK48J,WAAY58J,MAC7DyF,GAAalB,IAAIvE,KAAK01J,YAAa,UAAW11J,KAAK88J,aAAc98J,MACjEyF,GAAalB,IAAIvE,KAAK01J,YAAa,OAAQ11J,KAAKq5J,OAAQr5J,MACjDA,KAAKw6J,eAGZ,MAAO7pC,KAIfulC,EAAa16J,UAAUoiK,QAAU,WAC7B59J,KAAK42J,YAAa,GAEtBV,EAAa16J,UAAUmhH,gBAAkB,SAAUv7G,GAC/C23B,EAAOv9B,UAAUmhH,gBAAgB/7G,KAAKZ,KAAMoB,GACxCpB,KAAKs2J,iBACLt2J,KAAKwqH,eAGb0rC,EAAa16J,UAAUkhH,iBAAmB,SAAU3W,EAAWxvD,EAAMn1C,EAAG81J,GACpE,GAAIl3J,KAAKw2J,gBAEL,YADAx2J,KAAKw2J,iBAAkB,EAG3B,IAAIx2J,KAAKu8G,SAAU,CACf,GAAIQ,GAAe/8G,KAAK0wG,WAAa1wG,KAAK0wG,WAAW1uG,WAAU,GAAQ,IACvE+2B,GAAOv9B,UAAUkhH,iBAAiB97G,KAAKZ,KAAM+lG,EAAWxvD,EAAMn1C,GAC1DpB,KAAKq8G,cAAgB5+G,EAAkBuC,KAAKm6J,iBAAgD,YAA7Bn6J,KAAKm6J,eAAepgK,OACnFiG,KAAKq8G,aAAc,EACnBr8G,KAAK8vG,iBAAiB9vG,KAAKm6J,gBAC3Bn6J,KAAKm6J,eAAiB,MAEtBn6J,KAAKq8G,cAAgB5+G,EAAkBuC,KAAKm6J,kBAC5Cn6J,KAAKvI,kBAAkBuI,KAAKm6J,gBAC5Bn6J,KAAKm6J,eAAiB,MAE1Bn6J,KAAKu2C,KAAKrpC,UAAY,EACjBzP,EAAkBsoG,IACnBhiG,EAAWgiG,GAAapiG,GAAM3D,KAAKnG,QAAQ8J,GAAK,WAAYyP,KAAQ,UAAW86G,cAAe,UAE9FluH,KAAKu2J,mBACLv2J,KAAK+xH,SAAU,EACf/xH,KAAK02G,YAAc12G,KAAK9H,MACxB8H,KAAKm5J,eACLn5J,KAAKu2J,kBAAmB,EACxBv2J,KAAK+xH,SAAU,GAEU,iBAAzB/xH,KAAKkH,iBAAsClH,KAAKk9J,gBAAkBl9J,KAAKy2J,UAClEz2J,KAAKi3J,mBAAmBC,YAAgBl3J,KAAKu3J,gBAC1Cv3J,KAAKq2J,iBACJr2J,KAAKmzF,qBAAsB93B,MACvB59D,EAAkBuC,KAAKmzF,WAAW56F,SAAsC,IAA3ByH,KAAKmzF,WAAW56F,WACtEyH,KAAKi3J,oBAAuBlxD,UAAWA,EAAU/jG,WAAU,GAAOu0C,KAAMA,EAAM2gH,WAAW,IAE7Fl3J,KAAK69J,WAAWtnH,EAAMwmE,GACjBt/G,EAAkBuC,KAAK3G,WACxB2G,KAAKu9J,kBAGTv9J,KAAKs2J,iBACLt2J,KAAKwqH,gBAIjB0rC,EAAa16J,UAAUqiK,WAAa,SAAUvjD,EAAUwjD,GACpD,GAAI/9J,GAAQC,IACZ,KAAKvC,EAAkBuC,KAAK3G,YAAcoE,EAAkBqgK,GAAa,CACrE,GAAIj0I,GAAU7pB,KAAK4tG,cAAc5wG,KACnBs9G,GAASpnF,KAAK,SAAUz2B,GAClC,OAA0B,gBAATA,IAAqC,gBAATA,KAAsBA,IAASotB,GACvEhtB,EAASkD,EAAMoV,OAAOnY,MAAOP,KAAUotB,KAG5C7pB,KAAKwzG,QAAQxzG,KAAK3G,YAI9B68J,EAAa16J,UAAUwjH,yBAA2B,SAAUnd,EAAIhpG,GAC/B,iBAAzBmH,KAAKkH,iBAAsClH,KAAKi3J,mBAAmBlxD,YACnE/lG,KAAKi3J,mBAAmBlxD,UAAUhkG,YAAY8/F,EAAG7/F,WAAU,IACvDhC,KAAKk9J,eACLl9J,KAAKi3J,mBAAmB1gH,KAAKv9C,KAAKH,KAI9Cq9J,EAAa16J,UAAU+hK,eAAiB,WACpC,GAAIvgK,GAAQgD,KAAK4tG,cAAc5wG,KAC/BgD,MAAK02G,YAAc12G,KAAKk+G,gBAAgBlhH,EACxC,IAAInD,GAAUmG,KAAKu2C,KAAKzzC,cAAc,gBAAkB9F,EAAQ,KAChEgD,MAAK0wG,WAAa72G,EAClBmG,KAAKi8J,WAAWpiK,GAChBmG,KAAKguG,eAETkoD,EAAa16J,UAAU6iH,gBAAkB,WACrC,GAAItB,GAAe/8G,KAAKu2C,KAAKzzC,cAAc,IAAM62G,GAAoB1f,SACjE8iB,IACA/8G,KAAK2H,eAAgBzP,MAAS8H,KAAKk+G,gBAAgBnB,EAAat2G,aAAa,iBAC7EzG,KAAK02G,YAAc12G,KAAK9H,QAGxB8H,KAAKguG,cACLhuG,KAAKu2C,KAAKzzC,cAAc,IAAM62G,GAAoB9X,IAAIrpG,UAAU+L,IAAI8wJ,GAAoBhzJ,SAGhG6zJ,EAAa16J,UAAUwyG,YAAc,WACjC,GAAI+vD,GAAkB/9J,KAAKu2C,KAAK37C,iBAAiB,IAAMy6J,GAAoBhzJ,MACvE07J,IAAmBA,EAAgBxlK,QACnCiM,EAAYu5J,EAAiB1I,GAAoBhzJ,QAIzD6zJ,EAAa16J,UAAUgvH,YAAc,WACjC,GAAIxqH,KAAKwlH,UAAYzqH,SAAS+R,KAAKrU,SAASuH,KAAKwlH,SAAS3rH,SAEtD,WADAmG,MAAKg+J,cAGT,IAAI/9J,IAASkwB,QAAQ,EAErB,IADAnwB,KAAKyoB,QAAQ,aAAcxoB,IACvBA,EAAKkwB,OAAT,CAGA,GAAIm2H,GAAWtmJ,KAAKyB,cAAc,OAC9BkC,GAAI3D,KAAKnG,QAAQ8J,GAAK,SAAUD,UAAW,kBAAqC,MAAjB1D,KAAKuU,SAAmBvU,KAAKuU,SAAW,MAEvG0pJ,EAAYj+J,KAAKw9J,aAAalX,EAWlC,IAVAtmJ,KAAKk+J,WAAax7J,EAAW1C,KAAKm+J,aAC9Bn+J,KAAK4nG,gBACL5nG,KAAKo+J,kBAAkB9X,GAE3BhhJ,GAAQtF,KAAKu2C,MAAO+vG,GAChBtmJ,KAAKglH,gBACLhlH,KAAKklH,kBAAkBohC,GAE3BvrJ,SAAS+R,KAAK/K,YAAYukJ,GAC1BA,EAAS1hJ,MAAMC,WAAa,SACH,SAArB7E,KAAKm+J,YAAwB,CAM7B,GALAn+J,KAAKq+J,gBAAkB,EAClB5gK,EAAkBwgK,EAAUvhJ,aAC7B1c,KAAKq+J,gBAAmBJ,EAAUvhJ,wBAAyB/P,wBAAwB8K,OACnFzX,KAAKk+J,YAAclkI,SAASh6B,KAAKk+J,WAAY,IAAOl+J,KAAqB,iBAAEW,WAAa,MAExFX,KAAK4nG,eAAgB,CACjBnwF,EAASrK,KAAKgoG,MAAMp1G,KAAKqyB,OAAO1lB,wBAAwB8K,OAC5DzX,MAAKk+J,YAAclkI,SAASh6B,KAAKk+J,WAAY,KAAOzmJ,EAASzX,KAAKq+J,kBAAkB19J,WAAa,KAErG,GAAIX,KAAKglH,eAAgB,CACrB,GAAIvtG,GAASrK,KAAKgoG,MAAMp1G,KAAK61J,OAAOlpJ,wBAAwB8K,OAC5DzX,MAAKk+J,YAAclkI,SAASh6B,KAAKk+J,WAAY,KAAOzmJ,EAASzX,KAAKq+J,kBAAkB19J,WAAa,KAErGX,KAAKu2C,KAAK3xC,MAAMiiH,WAAa7sF,SAASh6B,KAAKk+J,WAAY,IAAM,GAAGv9J,WAAa,KAC7E2lJ,EAAS1hJ,MAAMiiH,UAAYnkH,EAAW1C,KAAKm+J,iBAG3C7X,GAAS1hJ,MAAM6S,OAAS,MAE5B,IACIlK,GADA+wJ,EAAc,CAQlB,KANK7gK,EAAkBuC,KAAK0wG,cAAiBjzG,EAAkBuC,KAAK02G,cAAgB12G,KAAK02G,aAAe,EACpG12G,KAAKs6J,oBAGLt6J,KAAKu2C,KAAKrpC,UAAY,EAEtBd,GAAQuc,WAAc3oB,KAAKq4J,iBAA4C,iBAAzBr4J,KAAKkH,iBAClDlH,KAAKq3J,iBAA4C,aAAzBr3J,KAAKkH,iBAAmC,CACjEo3J,EAAct+J,KAAKu+J,eAAejY,EAClC,IAAIkY,GAAYx+J,KAAKy+J,cAAgBz+J,KAAKu2C,KAAOv2C,KAAK2kG,cAAc,EACpEp3F,KAASysB,SAAS/rB,iBAAiBuwJ,GAAWE,WAAY,IACtD1kI,SAAS/rB,iBAAiBjO,KAAKyuB,cAAckwI,YAAa,IAC1D3kI,SAAS/rB,iBAAiBjO,KAAKyuB,aAAazY,eAAe4oJ,gBAAiB,KAEpF5+J,KAAK6+J,kBACL7+J,KAAK2lJ,YAAYW,EAAUgY,EAAa/wJ,GACxCvN,KAAKyhH,eAAe6kC,GAChBl6I,GAAQuc,WACR3oB,KAAKwlH,SAAS3rH,QAAQrB,UAAU+L,IAAI8wJ,GAAoBG,SAC3B,iBAAzBx1J,KAAKkH,iBAAgE,aAAzBlH,KAAKkH,kBAC7ClH,KAAKq4J,gBAAkBr4J,KAAKq3J,mBAChCr3J,KAAKwlH,SAASjE,WAAczpG,EAAG,MAAOC,EAAG,QAEzC/X,KAAKs5J,mBACLt5J,KAAKwlH,SAAS3rH,QAAQrB,UAAU+L,IAAI8wJ,GAAoBO,cACxD51J,KAAKwlH,SAAS3vG,UAAaiC,EAAG,EAAGC,EAAG,GACpC/X,KAAKwlH,SAASxwF,WACdjxB,EAAW/D,KAAKwlH,SAAS3rH,SAAW+K,MAAO,2CAC3CZ,GAAUjJ,SAAS+R,KAAM9M,KAAKwlH,SAAS3rH,SAAUw7J,GAAoBU,iBACrE/1J,KAAK8+J,uBACL9+J,KAAK++J,gBAAkBd,EAAUvhJ,UAAU5Z,cAAc,gBACzD9C,KAAK09J,iBAAmBO,EAAUvhJ,UAAU5Z,cAAc,IAAMuyJ,GAAoB5R,WACpFh+I,GAAalB,IAAIvE,KAAK++J,gBAAiB,QAAS/+J,KAAKg/J,gBAAiBh/J,MACtEyF,GAAalB,IAAIvE,KAAK09J,iBAAkB,QAAS19J,KAAK23I,UAAW33I,QAGzEsmJ,EAAS1hJ,MAAMC,WAAa,UAC5Bb,GAAUsiJ,GAAW,gBAErB,KAAK,GAAIjoJ,GAAK,EAAG4gK,EADUj/J,KAAKwlH,SAAStqG,oBAAoBlb,KAAKy1H,aAAa/4G,WACfre,EAAK4gK,EAAuB1mK,OAAQ8F,IAAM,CACtG,GAAIxE,GAAUolK,EAAuB5gK,EACrCoH,IAAalB,IAAI1K,EAAS,SAAUmG,KAAKuvH,cAAevvH,MAExDoM,GAAQuc,UAAY3oB,KAAKs5J,kBACzB7zJ,GAAalB,IAAIvE,KAAKu2C,KAAM,SAAUv2C,KAAKk/J,WAAYl/J,MAE3D+D,EAAW/D,KAAKw5G,iBAAmB6uC,gBAAiB,SAEpDrkJ,GADkBhE,KAAKk9J,cAAgBl9J,KAAK01J,YAAY1/I,cAAgBhW,KAAKy1H,aAAa/4G,YACjE24I,GAAoBC,YAC7C,IAAI6J,IAAclsI,KAAM,SAAUxmB,SAAU,IAC5CzM,MAAKs2J,iBAAkB,CACvB,IAAIjoJ,IAAc+wJ,MAAOp/J,KAAKwlH,SAAUr1F,QAAQ,EAAO0J,UAAWslI,EAClEn/J,MAAKyoB,QAAQ,OAAQpa,GACjBA,EAAU8hB,SAGdnsB,GAAUhE,KAAKy1H,aAAa/4G,YAAa24I,GAAoBE,gBAC7Dv1J,KAAKwlH,SAASpD,KAAK,GAAItpF,IAAUzqB,EAAUwrB,WAA6B,MAAhB75B,KAAKw9G,OAAmBx9G,KAAKnG,QAAU,SAEnGq8J,EAAa16J,UAAUimH,eAAiB,SAAU6kC,KACzCl6I,GAAQuc,UAAavc,GAAQuc,UAAuC,iBAAzB3oB,KAAKkH,kBAAsClH,KAAKq3J,kBAC5Ej+I,GAAUktI,GACZ/tJ,OAAS,IACnB+tJ,EAAS1hJ,MAAM49C,WAAaxoB,SAAS/rB,iBAAiBq4I,GAAU9jG,UAAW,IAAM,OAI7F0zG,EAAa16J,UAAU+iK,eAAiB,SAAUjY,GAC9C,GAAI+Y,GAAcpxJ,iBAAiBq4I,GAC/BgZ,EAAYtlI,SAASqlI,EAAYC,UAAW,IAC5CC,EAAevlI,SAASqlI,EAAYE,aAAc,GACtD,OAAOv/J,MAAKkmH,iBAAiBo5C,EAAYC,IAE7CrJ,EAAa16J,UAAUmqJ,YAAc,SAAU9rJ,EAASykK,EAAa/wJ,GACjE,GAAIxN,GAAQC,IACZA,MAAKwlH,SAAW,GAAI9F,IAAM7lH,GACtB6d,MAAO1X,KAAKg7H,WAAYlZ,WAAY,WACpCzB,SAAUrgH,KAAKy1H,aAAa/4G,UAAW6kG,WAAazpG,EAAG,OAAQC,EAAG,QAAU/K,QAASsxJ,EACrF/uJ,UAAWvP,KAAKuP,UAAW3C,QAASW,EAAMsI,UAAYiC,EAAG,OAAQC,EAAG,UACpEylG,OAAQx9G,KAAKw9G,OACbp7G,MAAO,WACErC,EAAMq2J,iBACPr2J,EAAMq7J,gBAEVr7J,EAAMq2J,iBAAkB,EACxBr2J,EAAMy/J,gBAEV19J,KAAM,WACF2D,GAAalB,IAAIxJ,SAAU,YAAagF,EAAM07J,gBAAiB17J,GAC/DA,EAAM4zJ,aAAc,EAChB5zJ,EAAMu5J,mBACN90J,GAAazE,EAAM01H,aAAa/4G,YAAa24I,GAAoBC,aACjEv1J,EAAMs2J,eAAgB,EACtBt2J,EAAM21J,YAAYrzJ,QACdtC,EAAM01H,aAAanuG,aACnBtjB,GAAUjE,EAAM01H,aAAanuG,aAAc+tI,GAAoBS,gBAGvE/1J,EAAM27J,wBAIlBxF,EAAa16J,UAAUijK,YAAc,WACjC,OAAQhhK,EAAkBuC,KAAK2kG,gBAAgD,IAA9B3kG,KAAK2kG,cAAcpsG,QAExE29J,EAAa16J,UAAUqjK,gBAAkB,aAGzC3I,EAAa16J,UAAU89J,eAAiB,WACpC,MAAgC,iBAAzBt5J,KAAKkH,iBAAsClH,KAAKq4J,gBAE3DnC,EAAa16J,UAAU+zH,cAAgB,WAC/BnjH,GAAQuc,WAAuC,iBAAzB3oB,KAAKkH,kBAC1BlH,KAAKs5J,kBAA+C,aAAzBt5J,KAAKkH,kBAAmClH,KAAKq4J,gBAAkBr4J,KAAKq3J,kBAChGr3J,KAAK44J,YAEL54J,KAAKmV,OAAO6vF,UAAYvnG,EAAkBuC,KAAKs9G,sBAC/Ct9G,KAAKs9G,mBAAmB14G,MAAM44G,OAAS,IACvCx9G,KAAKs9G,mBAAmB14G,MAAM6hD,QAAU,SAGhDyvG,EAAa16J,UAAUsjK,qBAAuB,WAC1C,GAAIT,GAAkBr+J,KAAK01J,YAAY1/I,cAAcrJ,wBAAwB8K,MAC7EzX,MAAKwlH,SAAS3rH,QAAQ+K,MAAMiiH,UAAY,OACxC7mH,KAAKwlH,SAAS3rH,QAAQ+K,MAAM8S,MAAQ,OACpC1X,KAAKu2C,KAAK3xC,MAAMiiH,UAAa7qH,OAAOgf,YAAcqjJ,EAAmB,KACrEr+J,KAAKu2C,KAAK3xC,MAAM6S,OAAUzb,OAAOgf,YAAcqjJ,EAAmB,IAClE,IAAIoB,GAAez/J,KAAK01J,YAAY1/I,cAAclT,cAAc,IAAMuyJ,GAAoB5R,UAC1Fl+I,GAAOvF,KAAK01J,aACZ+J,EAAazpJ,cAAc5Q,aAAapF,KAAK01J,YAAa+J,IAE9DvJ,EAAa16J,UAAU0qH,iBAAmB,SAAUw5C,GAChD,GAAIpB,GACAqB,EAAcD,EACdhvD,EAAa1wG,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBhzJ,QAAUrC,KAAK0wG,WAC9E8tD,EAAYx+J,KAAKy+J,cAAgBz+J,KAAKu2C,KAAOv2C,KAAK2kG,cAAc,GAChEi7D,EAAW5/J,KAAKy+J,cAAgBz+J,KAAKu2C,KAAOv2C,KAAK2kG,cAAc3kG,KAAKm+G,WAAW5lH,OAAS,GACxFmlH,EAAW8gD,EAAU7xJ,wBAAwB8K,OAC7CymJ,EAAal+J,KAAKu2C,KAAK0N,aAAe,EACtCxsC,EAASha,EAAkBizG,GAAc8tD,EAAUzoJ,UAAY26F,EAAW36F,SAE9E,IAD0B6pJ,EAAS7pJ,UACTmoJ,EAAazmJ,IAAWha,EAAkBuC,KAAK2kG,gBACrE3kG,KAAK2kG,cAAcpsG,OAAS,IAAMkF,EAAkBizG,GAAa,CACjE,GAAIzwF,GAAQjgB,KAAKu2C,KAAK0N,aAAey5D,EACjCmiD,EAAgB7lI,SAAS/rB,iBAAiBjO,KAAKu2C,MAAMspH,cAAe,GACxEvB,IAAer+I,GAASjgB,KAAK2kG,cAAcpsG,OAASyH,KAAK02G,cAAgBgH,EAAWiiD,EAAcE,EAClG7/J,KAAKu2C,KAAKrpC,UAAYwjG,EAAW36F,cAE5B0B,GAASymJ,GACdI,EAAcJ,EAAaxgD,EAAW,EACtC19G,KAAKu2C,KAAKrpC,UAAYuK,EAASymJ,EAAaxgD,EAAW,GAGvD4gD,EAAc7mJ,CAIlB,SADA6mJ,EAAcA,EAAc5gD,EAAWiiD,GAAgBjiD,EADrC19G,KAAKy1H,aAAa/4G,UAAUunC,cACmC,IAGrFiyG,EAAa16J,UAAUw/H,SAAW,WAC9B,GAAItjH,GAAQhV,EAAW1C,KAAK8/J,WAK5B,IAJIpoJ,EAAMlZ,QAAQ,MAAQ,IAEtBkZ,GADiB1X,KAAKy1H,aAAa/4G,UAAU5X,YAAcqb,WAAWzI,GAAS,KAC5D/W,WAAa,MAEhCyL,GAAQuc,WAAc3oB,KAAKq4J,iBAA4C,iBAAzBr4J,KAAKkH,iBAClDlH,KAAKq3J,iBAA4C,aAAzBr3J,KAAKkH,iBAAmC,CACjE,GAAIs3J,GAAYx+J,KAAKy+J,cAAgBz+J,KAAKu2C,KAAOv2C,KAAK2kG,cAAc,EACpEjtF,GAASsiB,SAAStiB,EAAO,IAE8D,GAFvDsiB,SAAS/rB,iBAAiBuwJ,GAAWE,WAAY,IAC7E1kI,SAAS/rB,iBAAiBjO,KAAKyuB,cAAckwI,YAAa,IAC1D3kI,SAAS/rB,iBAAiBjO,KAAKyuB,aAAazY,eAAe4oJ,gBAAiB,KAAY,KAEhG,MAAOlnJ,IAEXw+I,EAAa16J,UAAUukK,aAAe,SAAUv0I,GAC5C,GAAIw0I,GAAgBhgK,KAAKu2C,KAAK0N,aAC1Bg8G,EAAajgK,KAAK0wG,WAAW36F,UAAY/V,KAAK0wG,WAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,UAClFgzJ,EAAalgK,KAAKu2C,KAAKrpC,UAAY+yJ,EAAaD,CACpDE,GAAa10I,EAAY00I,EAAoE,EAAvDlmI,SAAS/rB,iBAAiBjO,KAAKu2C,MAAM4pH,WAAY,IAAUD,CACjG,IAAIE,GAAWpgK,KAAK0wG,WAAW36F,UAAY/V,KAAK0wG,WAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,SACpFkzJ,GAAWpgK,KAAKmV,OAAO6vF,UAAYvnG,EAAkBuC,KAAKs9G,oBACtD8iD,EAAWpgK,KAAKs9G,mBAAmBr5D,aAAem8G,EAC7B,IAArBpgK,KAAK02G,YACL12G,KAAKu2C,KAAKrpC,UAAY,GAEjB+yJ,EAAaD,KAAmBI,EAAW,GAAKpgK,KAAKu2C,KAAK0N,aAAem8G,MAC9EpgK,KAAKu2C,KAAKrpC,UAAYgzJ,IAG9BhK,EAAa16J,UAAU0R,UAAY,WAC/B,GAAIgzJ,GAAalgK,KAAK0wG,WAAW36F,UAAY/V,KAAKu2C,KAAKrpC,SACtClN,MAAK0wG,WAAW36F,UAAY/V,KAAK0wG,WAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,SACtFgzJ,GAAalgK,KAAKmV,OAAO6vF,UAAYvnG,EAAkBuC,KAAKs9G,oBACxD4iD,EAAalgK,KAAKs9G,mBAAmBr5D,aAAei8G,CACxD,IAAIE,GAAYpgK,KAAK0wG,WAAW36F,UAAY/V,KAAK0wG,WAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,SAC5D,KAArBlN,KAAK02G,YACL12G,KAAKu2C,KAAKrpC,UAAY,EAEjBgzJ,EAAa,EAClBlgK,KAAKu2C,KAAKrpC,UAAYlN,KAAKu2C,KAAKrpC,UAAYgzJ,EAErCE,EAAW,GAAKpgK,KAAKu2C,KAAK0N,aAAem8G,IAChDpgK,KAAKu2C,KAAKrpC,UAAYlN,KAAK0wG,WAAW36F,WAAa/V,KAAKmV,OAAO6vF,UAAYvnG,EAAkBuC,KAAKs9G,oBAC9Ft9G,KAAKs9G,mBAAmBr5D,aAAe,KAGnDiyG,EAAa16J,UAAUo/J,cAAgB,WACnC,OAAO,GAEX1E,EAAa16J,UAAU0hK,YAAc,WACjC,MAAOl9J,MAAKq4J,gBAEhBnC,EAAa16J,UAAU6kK,cAAgB,WACnC,OAAO,GAEXnK,EAAa16J,UAAU8+J,kBAAoB,SAAUl5J,GACjD,GAAK3D,EAAkB2D,GAanBpB,KAAK+/J,cAAa,OAZlB,QAAQ3+J,EAAEkqD,QACN,IAAK,WACL,IAAK,OACL,IAAK,MACDtrD,KAAK+/J,cACL,MACJ,SACI//J,KAAKkN,cAQrBgpJ,EAAa16J,UAAUm8I,UAAY,WAC/B33I,KAAK01J,YAAY14J,MAAQ,GACzBgD,KAAK68J,YAAY,OAErB3G,EAAa16J,UAAU0jK,WAAa,WAChCl/J,KAAK01J,YAAYz6B,QAErBi7B,EAAa16J,UAAUkqJ,WAAa,SAAU7lJ,GAE1C,GADAG,KAAKy2J,SAAU,EACTz2J,KAAKwlH,UAAYzqH,SAAS+R,KAAKrU,SAASuH,KAAKwlH,SAAS3rH,UAAYmG,KAAKs2J,gBAA7E,CAGA7wJ,GAAaf,OAAO3J,SAAU,YAAaiF,KAAKy7J,iBAChDz7J,KAAKu8G,UAAW,EAChBv8G,KAAKw6J,eAAiB,KACtBx6J,KAAKq3J,iBAAkB,EACvBr3J,KAAK22J,iBAAkB,CAEvB,KAAK,GAAIt4J,GAAK,EAAGiiK,EADctgK,KAAKwlH,SAAStqG,oBAAoBlb,KAAKy1H,aAAa/4G,WACXre,EAAKiiK,EAA2B/nK,OAAQ8F,IAAM,CAClH,GAAIxE,GAAUymK,EAA2BjiK,EACzCoH,IAAaf,OAAO7K,EAAS,SAAUmG,KAAKuvH,eAE5CnjH,GAAQuc,UAAY3oB,KAAKs5J,mBACzB90J,GAAazJ,SAAS+R,KAAM9M,KAAKwlH,SAAS3rH,SAAUw7J,GAAoBU,iBACxEtwJ,GAAaf,OAAO1E,KAAKu2C,KAAM,SAAUv2C,KAAKk/J,aAE9Cl/J,KAAKs5J,mBACAltJ,GAAQuc,WACT3oB,KAAK29J,gBAAgB9pJ,UACjB7T,KAAK09J,kBACLj4J,GAAaf,OAAO1E,KAAK09J,iBAAkB,QAAS19J,KAAK23I,YAG7D33I,KAAK++J,kBACLt5J,GAAaf,OAAO1E,KAAK++J,gBAAiB,QAAS/+J,KAAKg/J,iBACxDv5J,GAAaf,OAAO1E,KAAK09J,iBAAkB,QAAS19J,KAAK23I,YAE7DlyI,GAAaf,OAAO1E,KAAK01J,YAAa,QAAS11J,KAAK49J,SACpDn4J,GAAaf,OAAO1E,KAAK01J,YAAa,QAAS11J,KAAK48J,YACpDn3J,GAAaf,OAAO1E,KAAK01J,YAAa,UAAW11J,KAAK88J,cACtDr3J,GAAaf,OAAO1E,KAAK01J,YAAa,OAAQ11J,KAAKq5J,QACnDr5J,KAAK01J,YAAc,MAEvB3xJ,EAAW/D,KAAKw5G,iBAAmB6uC,gBAAiB,QAASvQ,wBAAyB,OACtF93I,KAAKy1H,aAAa/4G,UAAUlkB,UAAUkM,OAAO2wJ,GAAoBE,eAC7Dv1J,KAAKk9J,gBACLl9J,KAAKi3J,mBAAmBC,WAAY,GAExCl3J,KAAKs2J,iBAAkB,CACvB,IAAI6I,IACAlsI,KAAM,UACNxmB,SAAU,IACV5M,MAAOA,GAAgB,GAEvBwO,GAAc+wJ,MAAOp/J,KAAKwlH,SAAUr1F,QAAQ,EAAO0J,UAAWslI,EAClEn/J,MAAKyoB,QAAQ,QAASpa,GAClBA,EAAU8hB,SAGe,iBAAzBnwB,KAAKkH,iBACLlH,KAAK2+G,YAEL3+G,KAAK2zJ,YACL3zJ,KAAKwlH,SAASlF,KAAK,GAAIxnF,IAAUzqB,EAAUwrB,YAG3C75B,KAAKw/J,kBAGbtJ,EAAa16J,UAAUgkK,aAAe,WAClCx/J,KAAK2zJ,aAAc,EACnB3zJ,KAAKq2J,eAAgB,EACrBr2J,KAAKwlH,SAAS3xG,UACdtO,EAAOvF,KAAKwlH,SAAS3rH,UAEzBq8J,EAAa16J,UAAUwjK,gBAAkB,WACrCh/J,KAAK44J,YACL54J,KAAK22H,WAMTu/B,EAAa16J,UAAUojD,OAAS,WACC,UAAzB5+C,KAAKnG,QAAQyJ,QACbtD,KAAKyuB,aAAezuB,KAAKnG,SAGzBmG,KAAKyuB,aAAezuB,KAAKyB,cAAc,SACnCzB,KAAKnG,QAAQyJ,UAAYtD,KAAK84J,mBAC9B94J,KAAKnG,QAAQ+K,MAAM6hD,QAAU,QAEjCzmD,KAAKnG,QAAQmc,cAAc5Q,aAAapF,KAAKyuB,aAAczuB,KAAKnG,SAChEmG,KAAK64J,gBAAgB74J,KAAKyuB,eAE9BzuB,KAAKy1H,aAAe9nG,GAAM+iG,aACtB72H,QAASmG,KAAKyuB,aACd21F,QAASpkH,KAAKqgK,iBAAmBhL,GAAoBtzD,MAAQ,KAC7D/4E,eAAgBhpB,KAAKgpB,eACrBzlB,YACIouH,SAAmC,iBAAzB3xH,KAAKkH,iBAA4ClH,KAAK2xH,SAChE5oG,YAAa/oB,KAAK+oB,YAClBxU,SAAUvU,KAAKuU,SACf0S,QAASjnB,KAAKinB,QACd1X,UAAWvP,KAAKuP,UAChB6X,gBAAiBpnB,KAAKonB,kBAE3BpnB,KAAKyB,eACJzB,KAAKnG,QAAQyJ,UAAYtD,KAAK84J,iBAC9B94J,KAAKnG,QAAQkI,YAAY/B,KAAKy1H,aAAa/4G,WAG3C1c,KAAKyuB,aAAazY,cAAc5Q,aAAapF,KAAKnG,QAASmG,KAAKyuB,cAEpEzuB,KAAKi2J,cAAgBj2J,KAAKyB,cAAc,UACpCqC,OAASoqH,cAAe,OAAQlc,SAAY,KAAMv+F,MAAS4hJ,GAAoBY,iBAEnFlxJ,GAAS/E,KAAKi2J,eAAgBj2J,KAAKy1H,aAAa/4G,WAChD1c,KAAKk/G,oBAAoBl/G,KAAKnG,QAASmG,KAAKi2J,eAC5Cj2J,KAAKo+G,YACLp+G,KAAKy1H,aAAa/4G,UAAU9X,MAAM8S,MAAQhV,EAAW1C,KAAK0X,OAC1D1X,KAAKy1H,aAAa/4G,UAAUlkB,UAAU+L,IAAI,SAC1CvE,KAAK25J,YACL35J,KAAKunH,SAAWvnH,KAAKnG,QAAQmqH,aAAa,YAAchkH,KAAKnG,QAAQ4M,aAAa,YAAc,IAChGzG,KAAKnG,QAAQyS,gBAAgB,WAC7B,IAAI3I,GAAK3D,KAAKnG,QAAQ4M,aAAa,MAAQzG,KAAKnG,QAAQ4M,aAAa,MAAQjH,EAAY,mBAMzF,IALAQ,KAAKnG,QAAQ8J,GAAKA,EAClB3D,KAAKi2J,cAActyJ,GAAKA,EAAK,UAC7B3D,KAAKw5G,gBAAgB31G,aAAa,WAAY7D,KAAKunH,UACnDxjH,EAAW/D,KAAKw5G,gBAAiBx5G,KAAK24J,qBACtC34J,KAAKw4J,oBACc,OAAfx4J,KAAKhD,OAAuC,OAArBgD,KAAK02G,aAAsC,OAAd12G,KAAKvG,KACzDuG,KAAKk5J,gBAEJ,IAA6B,WAAzBl5J,KAAKnG,QAAQyJ,SAAwBtD,KAAKnG,QAAQya,QAAQ,GAAI,CACnE,GAAIisJ,GAAgBvgK,KAAKnG,OACzBmG,MAAKhD,MAAQujK,EAAcjsJ,QAAQisJ,EAAc3oK,eAAeoF,MAChEgD,KAAKvG,KAAOgE,EAAkBuC,KAAKhD,OAAS,KAAOujK,EAAcjsJ,QAAQisJ,EAAc3oK,eAAe8B,YACtGsG,KAAKk5J,YAETl5J,KAAK64J,gBAAgB74J,KAAKnG,SACrBmG,KAAKinB,UACNjnB,KAAKw5G,gBAAgB+N,UAAY,GAErCvnH,KAAK+xH,SAAU,EACf/xH,KAAKnG,QAAQ+K,MAAM2J,QAAU,GAC7BvO,KAAKyuB,aAAa+xI,SAAW,SAAUp/J,GAAKA,EAAEq/J,4BAC9CzgK,KAAKyuB,aAAaiyI,SAAW,SAAUt/J,GAAKA,EAAEq/J,4BAC1CzgK,KAAKnG,QAAQmqH,aAAa,cAC1BhkH,KAAK22H,WAIbu/B,EAAa16J,UAAU0pH,kBAAoB,SAAUohC,GACjD,GAAItgD,EACAhmG,MAAK61J,OACL71J,KAAK61J,OAAOr7J,UAAY,IAGxBwF,KAAK61J,OAAS71J,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAK61J,QAASR,GAAoBQ,QAGhD,KAAK,GAAIx3J,GAAK,EAAG2E,GADjBgjG,EAAiBz1F,GAAQvQ,KAAKglH,qBACY3mH,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAK61J,OAAO9zJ,YAAYlJ,GAE5ByM,GAAQtF,KAAK61J,QAASvP,IAE1B4P,EAAa16J,UAAU4iK,kBAAoB,SAAU9X,GACjD,GAAItgD,EACAhmG,MAAKqyB,OACLryB,KAAKqyB,OAAO73B,UAAY,IAGxBwF,KAAKqyB,OAASryB,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAKqyB,QAASgjI,GAAoBhjI,QAGhD,KAAK,GAAIh0B,GAAK,EAAG2E,GADjBgjG,EAAiBz1F,GAAQvQ,KAAK4nG,qBACYvpG,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKqyB,OAAOtwB,YAAYlJ,GAE5B,GAAI4tH,GAAa6/B,EAASxjJ,cAAc,gBACxCwjJ,GAASlhJ,aAAapF,KAAKqyB,OAAQo0F,IAEvCyvC,EAAa16J,UAAUmlK,WAAa,SAAUlnK,GAC1CuG,KAAKvG,KAAOA,GAEhBy8J,EAAa16J,UAAUolK,YAAc,SAAU5jK,GAC3CgD,KAAKhD,MAAQA,GAEjBk5J,EAAa16J,UAAUwiK,aAAe,WAC7BvgK,EAAkBuC,KAAKwlH,YAAazqH,SAAS+R,KAAKrU,SAASuH,KAAKwlH,SAAS3rH,YACxEmG,KAAKq4J,gBAAoBjsJ,GAAQuc,UAAY3oB,KAAKs5J,mBAA+C,iBAAzBt5J,KAAKkH,iBAC/ElH,KAAKwlH,SAAS7F,gBAAgB3/G,KAAKy1H,aAAa/4G,YAGxDw5I,EAAa16J,UAAU8iH,iBAAmB,SAAUn0G,GAGhD,GAFAnK,KAAKynB,MAAM,KAAMtd,GACjBnK,KAAK87G,UAAU97G,KAAKmzF,aACfnzF,KAAKu3J,iBAAmBv3J,KAAKq2J,eAAiBt7J,SAASm1G,gBAAkBlwG,KAAK01J,YAAa,CAC5F11J,KAAK3G,SAAW2G,KAAKo/G,eAAep/G,KAAKhD,MACzC,IAAIkY,GAAWlV,KAAK4tG,aACpB5tG,MAAK2H,eAAgB3K,MAASkY,EAASlY,MAAOvD,KAAQyb,EAASzb,SAOvEy8J,EAAa16J,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC7B,iBAAzBh7B,KAAKkH,iBACLlH,KAAKu+G,kBAAkB,SAAU,QAAS,cAAexjF,EAE7D,KAAK,GAAI18B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,QACL,IAAK,aACD,KACJ,KAAK,iBACDlL,KAAKw4J,mBACL,MACJ,KAAK,QACD9xJ,EAAkB1G,KAAKy1H,aAAa/4G,WAAahF,MAAShV,EAAWq4B,EAAQrjB,QAC7E,MACJ,KAAK,cACDiW,GAAM8jG,eAAe12F,EAAQhS,YAAa/oB,KAAKyuB,aAC/C,MACJ,KAAK,uBACGzuB,KAAK01J,aACL/nI,GAAM8jG,eAAe12F,EAAQ0iI,qBAAsBz9J,KAAK01J,YAE5D,MACJ,KAAK,WAC4B,iBAAzB11J,KAAKkH,iBACLymB,GAAM+jG,YAAY32F,EAAQ42F,SAAU3xH,KAAKyuB,aAE7C,MACJ,KAAK,WACDzuB,KAAKwxH,YAAYz2F,EAASC,EAC1B,MACJ,KAAK,YACDh7B,KAAK07G,cACL,MACJ,KAAK,UACD17G,KAAK+pG,WACL,MACJ,KAAK,OACD,GAAqB,OAAjBhvE,EAAQthC,KAAe,CACvBuG,KAAKynB,OACL,OAQJ,GANKznB,KAAKu2C,OACFv2C,KAAKmzF,qBAAsB93B,MAC3Br7D,KAAKu2J,kBAAmB,GAE5Bv2J,KAAK0xG,eAEJ1xG,KAAKu2J,iBAAkB,CACxB,GAAI10D,GAAK7hG,KAAK+4J,iBAAiBh+H,EAAQthC,KACnCuG,MAAK2sG,UAAU9K,GACf7hG,KAAKu4J,aAAa12D,EAAI,MAGtB7hG,KAAK2gK,WAAW3lI,EAAQvhC,MAGhC,KACJ,KAAK,QACD,GAAsB,OAAlBshC,EAAQ/9B,MAAgB,CACxBgD,KAAKynB,OACL,OASJ,GAPAznB,KAAK+O,OAAO,qBAAuBgsB,QAASA,IACvC/6B,KAAKu2C,OACFv2C,KAAKmzF,qBAAsB93B,MAC3Br7D,KAAKu2J,kBAAmB,GAE5Bv2J,KAAK0xG,eAEJ1xG,KAAKu2J,iBAAkB,CACxB,GAAI19J,GAAOmH,KAAKg5J,kBAAkBj+H,EAAQ/9B,MACtCgD,MAAK2sG,UAAU9zG,GACfmH,KAAKu4J,aAAa1/J,EAAM,MAGxBmH,KAAK4gK,YAAY5lI,EAAQh+B,OAGjC,KACJ,KAAK,QACD,GAAsB,OAAlB+9B,EAAQ7iC,MAAgB,CACxB8H,KAAKynB,OACL,OAQJ,GANKznB,KAAKu2C,OACFv2C,KAAKmzF,qBAAsB93B,MAC3Br7D,KAAKu2J,kBAAmB,GAE5Bv2J,KAAK0xG,eAEJ1xG,KAAKu2J,iBAAkB,CACxB,GAAI18J,GAAUmG,KAAK2kG,cAAc5pE,EAAQ7iC,MACrC8H,MAAK2sG,UAAU9yG,GACfmG,KAAKu4J,aAAa1+J,EAAS,MAG3BmG,KAAK9H,MAAQ8iC,EAAQ9iC,MAG7B,KACJ,KAAK,iBACG8H,KAAKwlH,UACLxlH,KAAKklH,kBAAkBllH,KAAKwlH,SAAS3rH,QAEzC,MACJ,KAAK,iBACGmG,KAAKwlH,UACLxlH,KAAKo+J,kBAAkBp+J,KAAKwlH,SAAS3rH,QAEzC,MACJ,KAAK,gBACI4D,EAAkBuC,KAAK3G,WAAmC,MAAtB2G,KAAKk8J,eAC1Cl8J,KAAKm8J,kBAET,MACJ,KAAK,iBACDxuI,GAAMuB,eAAelvB,KAAKy1H,cAC1B9nG,GAAMqlG,YAAYhzH,KAAKyuB,aAAcsM,EAAQ/R,eAAgBhpB,KAAK+oB,YAAa/oB,KAAKyB,cACpF,MACJ,KAAK,kBACDksB,GAAMojG,eAAeh2F,EAAQ3T,gBAAiBpnB,KAAKyuB,aAAczuB,KAAKy1H,aAAc,KAAMz1H,KAAKyB,eAC/FzB,KAAKknB,gBACL,MACJ,SACI,GAAI25I,OAAW,EACfA,GAAW7gK,KAAKk6G,cAAchvG,EAAM6vB,EAASC,GAC7CjC,EAAOv9B,UAAU+5B,kBAAkB30B,KAAKZ,KAAM6gK,EAAS1mD,YAAa0mD,EAASzmD,gBAK7F87C,EAAa16J,UAAUg2H,YAAc,SAAUz2F,EAASC,GACpDh7B,KAAKy1H,aAAa/4G,UAAUlkB,UAAUkM,OAAOs2B,EAAQzmB,UACrDoZ,GAAM6jG,YAAYz2F,EAAQxmB,UAAWvU,KAAKy1H,aAAa/4G,YACnD1c,KAAKwlH,WACLxlH,KAAKwlH,SAAS3rH,QAAQrB,UAAUkM,OAAOs2B,EAAQzmB,UAC/CvU,KAAKwlH,SAAS3rH,QAAQrB,UAAU+L,IAAIw2B,EAAQxmB,YAOpD2hJ,EAAa16J,UAAU0L,cAAgB,WACnC,MAAO,gBAMXgvJ,EAAa16J,UAAU2/J,UAAY,WAC/B,GAAKn7J,KAAKinB,QAAV,CAGA,GAAIjnB,KAAKs2J,gBAEL,WADAt2J,MAAKg+J,cAWT,IARAh+J,KAAKs2J,iBAAkB,EACnBt2J,KAAKk9J,gBAAkBl9J,KAAKu8G,UAAYv8G,KAAKi3J,mBAAmB1gH,MAAQv2C,KAAKi3J,mBAAmB1gH,KAAK,IACrGv2C,KAAKu8G,UAAW,EAChBv8G,KAAK08G,iBAAiB18G,KAAKi3J,mBAAmBlxD,UAAW/lG,KAAKi3J,mBAAmB1gH,KAAM,MAAM,KAExF94C,EAAkBuC,KAAKu2C,QAAUp5C,EAAY6C,KAAKu2C,OAASv2C,KAAKu2C,KAAK/9C,UAAUC,SAASkhH,GAAoBE,UACjH75G,KAAK0xG,aAELtlG,GAAQuc,UAAY3oB,KAAKs5J,iBAAkB,CAC3C,GAAIwH,GAAU9gK,IACdhE,QAAO+kK,WAAa,WAChBD,EAAQlI,aAEZj5G,QAAQqhH,aAAc,IAErBvjK,EAAkBuC,KAAKu2C,KAAKz6B,SAAS,MAAO9b,KAAKu2C,KAAK/9C,UAAUC,SAASkhH,GAAoBE,SAC9F75G,KAAKwqH,cAETzmH,EAAW/D,KAAKw5G,iBAAmBs+B,wBAAyB93I,KAAK0wG,WAAa1wG,KAAK0wG,WAAW/sG,GAAK,SAMvGuyJ,EAAa16J,UAAUo9J,UAAY,WAC3B54J,KAAK82J,aAAwC,iBAAzB92J,KAAKkH,kBACzBymB,GAAMvwB,SAAS4C,KAAKvG,KAAMuG,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBACvEpnB,KAAK82J,aAAc,EACdr5J,EAAkBuC,KAAK9H,OAQxB8H,KAAKo4J,kBAPLp4J,KAAK0wG,WAAa1wG,KAAK2kG,cAAc3kG,KAAK9H,OAC1C8H,KAAK67J,mBAAmB77J,KAAK0wG,WAAY,MAAM,GAC3C1wG,KAAKk8J,eAAmC,OAAlBl8J,KAAK3G,UAC3B2G,KAAKm8J,qBAOjBn8J,KAAK0lJ,YACL,IAAIxwI,GAAWlV,KAAK4tG,aACmB,MAAnC5tG,KAAKyuB,aAAazxB,MAAMyU,QAAkBzR,KAAKywG,eAAiBzwG,KAAKo3J,iBACpE35J,EAAkBuC,KAAK0wG,aAAe1wG,KAAKyuB,aAAazxB,QAAUkY,EAASzb,QAC5EuG,KAAKo3J,gBAAiB,EACtBp3J,KAAKynB,UAObyuI,EAAa16J,UAAUm7H,QAAU,WAC7B,GAAK32H,KAAKinB,UAGNjnB,KAAKw5G,gBAAgBhhH,UAAUC,SAAS48J,GAAoBpsD,SAAhE,CAGA,GAAIstB,IAAY,CACZv2H,MAAK02J,cAAgBtqJ,GAAQuc,WAC7B3oB,KAAKy1H,aAAa/4G,UAAU6qG,SAAW,EACvCvnH,KAAKy1H,aAAa/4G,UAAUra,QAC5BrC,KAAK02J,cAAe,EACpBngC,GAAY,GAEXA,GACDv2H,KAAKw5G,gBAAgBn3G,QAEzB2B,GAAUhE,KAAKy1H,aAAa/4G,YAAa24I,GAAoBC,aAC7Dt1J,KAAKy5J,YAMTvD,EAAa16J,UAAUo7H,SAAW,WACzB52H,KAAKinB,UAGVjnB,KAAKy2J,SAAU,EACfz2J,KAAK44J,YACL54J,KAAKw5G,gBAAgByhB,OACrBz2H,GAAaxE,KAAKy1H,aAAa/4G,YAAa24I,GAAoBC,eAOpEY,EAAa16J,UAAUqY,QAAU,WAC7B,GAAI9T,GAAQC,IACZA,MAAKu8G,UAAW,EAChBv8G,KAAK44J,YACL54J,KAAKu7J,cACDv7J,KAAKu2C,MACLv2C,KAAKw7J,mBAELx7J,KAAKnG,UAAYmG,KAAKnG,QAAQrB,UAAUC,SAAS,KAAOuH,KAAKkH,oBAGhD,WAAY,gBAAiB,mBAC1C,cAAe,YAAa,kBAAmB,gBAAiB,gBAChE,wBAAyB,eAAgB,gBAAiB,cAC1D,iBAAkB,aAAc,qBAC1B9H,QAAQ,SAAUpC,GACxB+C,EAAM0uB,aAAaniB,gBAAgBtP,KAEvCgD,KAAKyuB,aAAa5qB,aAAa,WAAY7D,KAAKunH,UAChDvnH,KAAKyuB,aAAaj2B,UAAUkM,OAAO,WACnCipB,GAAMvwB,SAAS,GAAI4C,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBAChEpnB,KAAKnG,QAAQ+K,MAAM6hD,QAAU,QACzBzmD,KAAKy1H,aAAa/4G,UAAU1G,cAAc1S,UAAYtD,KAAK84J,iBAC3DvzJ,EAAOvF,KAAKy1H,aAAa/4G,YAGzB1c,KAAKy1H,aAAa/4G,UAAU1G,cAAc5Q,aAAapF,KAAKnG,QAASmG,KAAKy1H,aAAa/4G,WACvFnX,EAAOvF,KAAKy1H,aAAa/4G,YAE7Bqc,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,QAOlCk2J,EAAa16J,UAAU2iH,SAAW,WAO9B,MANKn+G,MAAKu2C,OACFv2C,KAAKmzF,qBAAsB93B,MAC3Br7D,KAAKu2J,kBAAmB,GAE5Bv2J,KAAK0xG,cAEF1xG,KAAK+lG,UAAYhtE,EAAOv9B,UAAU2iH,SAASv9G,KAAKZ,MAAQ,MAEnEs4B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,eAAY,IACvC88B,IACI1vB,GAAS,SACVstJ,EAAa16J,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,UACVstJ,EAAa16J,UAAW,kBAAe,IAC1C88B,IACI1vB,GAAS,SACVstJ,EAAa16J,UAAW,iBAAc,IACzC88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,kBAAe,IAC1C88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,2BAAwB,IACnD88B,IACI1vB,QACDstJ,EAAa16J,UAAW,qBAAkB,IAC7C88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,oBAAiB,IAC5C88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,qBAAkB,IAC7C88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,qBAAkB,IAC7C88B,IACI1vB,IAAS,IACVstJ,EAAa16J,UAAW,qBAAkB,IAC7C88B,IACI1vB,IAAS,IACVstJ,EAAa16J,UAAW,eAAY,IACvC88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,WAAQ,IACnC88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,OACVstJ,EAAa16J,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,UACVstJ,EAAa16J,UAAW,qBAAkB,IAC7C88B,IACI1vB,IAAS,IACVstJ,EAAa16J,UAAW,sBAAmB,IAC9C88B,IACI7uB,MACDysJ,EAAa16J,UAAW,gBAAa,IACxC88B,IACI7uB,MACDysJ,EAAa16J,UAAW,aAAU,IACrC88B,IACI7uB,MACDysJ,EAAa16J,UAAW,iBAAc,IACzC88B,IACI7uB,MACDysJ,EAAa16J,UAAW,WAAQ,IACnC88B,IACI7uB,MACDysJ,EAAa16J,UAAW,YAAS,IACpC88B,IACI7uB,MACDysJ,EAAa16J,UAAW,WAAQ,IACnC88B,IACI7uB,MACDysJ,EAAa16J,UAAW,YAAS,IACpC06J,EAAe59H,IACXvuB,IACDmsJ,IAELj8C,ICrnEEniF,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,EAYhE28H,IAAoB/sD,KAAO,YAC3B,IAAIqoB,KACAj0G,UAAW,KACX0nG,YAkBA68C,GAA0B,SAAUloI,GAKpC,QAASkoI,GAAS3sJ,EAASza,GACvB,MAAOk/B,GAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,KA2lBlD,MAhmBA83B,IAAUmpI,EAAUloI,GAYpBkoI,EAASzlK,UAAUyY,UAAY,WAC3B8kB,EAAOv9B,UAAUyY,UAAUrT,KAAKZ,OAEpCihK,EAASzlK,UAAUm+J,UAAY,WACE,aAAzB35J,KAAKkH,kBACLzB,GAAalB,IAAIvE,KAAKy1H,aAAarR,QAAQ,GAAI,YAAapkH,KAAKkhK,YAAalhK,MAC9EyF,GAAalB,IAAIvE,KAAKy1H,aAAa/4G,UAAW,OAAQ1c,KAAKq5J,OAAQr5J,OAElEvC,EAAkBuC,KAAKy1H,aAAarR,QAAQ,KAC7C3+G,GAAalB,IAAIvE,KAAKy1H,aAAarR,QAAQ,GAAI,YAAapkH,KAAK45J,cAAe55J,MAEpFyF,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAKmhK,YAAanhK,MAC1DA,KAAK2xH,WACNlsH,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAK49J,QAAS59J,MAC3DyF,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAK48J,WAAY58J,MAC9DyF,GAAalB,IAAIvE,KAAKyuB,aAAc,UAAWzuB,KAAK88J,aAAc98J,OAEtEA,KAAK65J,mBAEToH,EAASzlK,UAAU0lK,YAAc,SAAU9/J,IACjCpB,KAAKq4J,gBAAkBt9J,SAASm1G,gBAAkBlwG,KAAKyuB,cACxD1zB,SAASm1G,cAAc13G,UAAUC,SAAS48J,GAAoBhiJ,SAAUjH,GAAQuc,WAAavc,GAAQuc,UACtGvnB,EAAEomB,kBAGVy5I,EAASzlK,UAAUg+G,cAAgB,WAC/B,MAAOx5G,MAAKyuB,cAEhBwyI,EAASzlK,UAAUmlK,WAAa,SAAUlnK,GACtCk0B,GAAMvwB,SAAS4C,KAAKvG,KAAMuG,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBACvEpnB,KAAKohK,cACLphK,KAAKm4J,mBAET8I,EAASzlK,UAAUolK,YAAc,SAAU5jK,GACnCgD,KAAKqhK,YACLrhK,KAAKshK,gBAAgBthK,KAAKhD,OAG1BgD,KAAKshK,gBAAgB,MAEzBthK,KAAKm4J,kBACLn4J,KAAKo5J,kBAET6H,EAASzlK,UAAU8lK,gBAAkB,SAAUtkK,GAC3C,GAAIukK,GAAa9jK,EAAkBT,GAAS,KAAOA,EAAM2D,UACzDgtB,IAAMvwB,SAASmkK,EAAYvhK,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBACxEpnB,KAAK2H,eAAgB3K,MAAOA,EAAOvD,KAAMuD,EAAO9E,MAAO,OAAQ,GAC/D8H,KAAK02G,YAAc12G,KAAK9H,KACxB,IAAIid,GAASnV,KAAKmV,OACdD,IACJA,GAASC,EAAO1b,MAAQgE,EAAkBT,GAAS,KAAOA,EAAM2D,WAChEuU,EAASC,EAAOnY,OAASS,EAAkBT,GAAS,KAAOA,EAAM2D,WACjEX,KAAK3G,SAAW6b,EAChBlV,KAAKnH,KAAO,KACRmH,KAAKs3H,gBAAkBt3H,KAAKhD,OAC5BgD,KAAKy8J,kBAAkB,OAG/BwE,EAASzlK,UAAU29J,aAAe,WAC9B,GAAK17J,EAAkBuC,KAAKhD,OAYvB,GAAIgD,KAAKvG,MAAQgE,EAAkBuC,KAAKhD,OAAQ,CACjD,GAAI6kG,GAAK7hG,KAAK+4J,iBAAiB/4J,KAAKvG,KAChCooG,GACA7hG,KAAKu4J,aAAa12D,EAAI,OAGtBl0E,GAAMvwB,SAAS4C,KAAKvG,KAAMuG,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBACvEpnB,KAAKohK,mBAITphK,MAAKu4J,aAAav4J,KAAK2kG,cAAc3kG,KAAK02G,aAAc,WAtBpD7U,EAAK7hG,KAAKg5J,kBAAkBh5J,KAAKhD,QAEjCgD,KAAKu4J,aAAa12D,EAAI,MAEjB7hG,KAAKqhK,YACVrhK,KAAKshK,gBAAgBthK,KAAKhD,OAG1BgD,KAAKshK,gBAAgB,KAgB7BthK,MAAKo5J,iBACLzrI,GAAMvwB,SAAS4C,KAAKvG,KAAMuG,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,kBAE3E65I,EAASzlK,UAAUo2H,gBAAkB,WAC7B5xH,KAAKonB,kBAC2B,KAA5BpnB,KAAKyuB,aAAazxB,OAAiBgD,KAAK2xH,SAIxC3tH,GAAUhE,KAAKy1H,aAAanuG,aAAc+tI,GAAoBS,eAH9DtxJ,GAAaxE,KAAKy1H,aAAanuG,aAAc+tI,GAAoBS,iBAO7EmL,EAASzlK,UAAUm9J,kBAAoB,WAcnC,OAZIpQ,YAAavoJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,WACRouJ,oBAAqB,OACrB1yI,kBAAmB9uB,KAAKi2J,cAActyJ,GACtC89J,gBAAiB,OACjBpZ,gBAAiB,QACjB3yB,gBAAiB11H,KAAK2xH,SAAShxH,WAC/BokB,aAAgB,MAChBC,YAAe,MACfC,eAAkB,MAClBC,WAAc,UAItB+7I,EAASzlK,UAAUqhK,YAAc,SAAUz7J,GACvCpB,KAAKy2J,SAAU,EACXz2J,KAAKk9J,eACLnkI,EAAOv9B,UAAUqhK,YAAYj8J,KAAKZ,KAAMoB,GACF,KAAlCpB,KAAK01J,YAAY14J,MAAMyU,QACvBzR,KAAK0hK,aAAa1hK,KAAK+lG,UAAUjjG,cAAc,IAAMuyJ,GAAoBxzD,OAIzE7hG,KAAK+lG,WAAyC,KAA5B/lG,KAAKyuB,aAAazxB,OAAgBgD,KAAK22J,iBACzD32J,KAAK0hK,aAAa1hK,KAAK+lG,UAAUjjG,cAAc,IAAMuyJ,GAAoBxzD,KAE7E7hG,KAAKvI,kBAAkB2J,KAG/B6/J,EAASzlK,UAAUs9J,eAAiB,WAChC,MAAO,gBAEXmI,EAASzlK,UAAUgiK,aAAe,WAE9B,MADAx9J,MAAK01J,YAAc11J,KAAKyuB,aAChBzuB,KAAKk9J,cAAgBl9J,KAAKy1H,aAAe9E,IAErDswC,EAASzlK,UAAUkhH,iBAAmB,SAAU3W,EAAWxvD,EAAMn1C,EAAG81J,GAChEn+H,EAAOv9B,UAAUkhH,iBAAiB97G,KAAKZ,KAAM+lG,EAAWxvD,EAAMn1C,GAC1DpB,KAAKo3J,gBACLp3J,KAAKm4J,mBAEJn4J,KAAK22J,iBAA4C,aAAzB32J,KAAKkH,iBAAkClH,KAAKy2J,SACrEz2J,KAAK2hK,gBAGbV,EAASzlK,UAAUqjK,gBAAkB,WACjC,GAAI3pJ,GAAWlV,KAAKo3J,gBAAmB39J,KAAM,IAAOuG,KAAK4tG,cACrD3T,EAAWj6F,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBp7D,SAEjE,IADiB/kF,EAASzb,OAASuG,KAAKyuB,aAAazxB,QAAUS,EAAkBw8F,GAE7E,MAAOA,EAEX,KAAK7tF,GAAQuc,WAAa3oB,KAAKq3J,kBAAoBjrJ,GAAQuc,YACtDlrB,EAAkBuC,KAAK2kG,gBAAkB3kG,KAAK2kG,cAAcpsG,OAAS,EAAG,CACzE,GAEI23G,GADaj3G,EADA+G,KAAKyuB,aAAazxB,MACCgD,KAAK2kG,cAAe,cAAc,GACvC9rG,IAC/B,IAAK4E,EAAkByyG,GAWflwG,KAAKo3J,gBAAqD,KAAnCp3J,KAAKyuB,aAAazxB,MAAMyU,SAC/CzR,KAAKguG,cACLhuG,KAAKu2C,KAAKrpC,UAAY,OAbS,CACnC,GAAI+S,GAAQjgB,KAAKk+G,gBAAgBhO,EAAczpG,aAAa,eAAiB,EACzEgR,EAASuiB,SAAS/rB,iBAAiBjO,KAAK2kG,cAAc,GAAI,MAAMz2F,iBAAiB,UAAW,GAChG,KAAKo7B,MAAM7xB,IAAoC,iBAAzBzX,KAAKkH,gBAAoC,CAC3DlH,KAAKguG,aACL,IAAI8L,GAAY95G,KAAKmV,OAAO6vF,QAAUhlG,KAAK2kG,cAAc,GAAG1gD,aAAe,CAC3EjkD,MAAKu2C,KAAKrpC,UAAY+S,EAAQxI,EAASqiG,EACvC91G,GAAUksG,GAAgBmlD,GAAoBhzJ,QAStD,MAAO6tG,GAGP,MAAO,OAGf+wD,EAASzlK,UAAU4B,SAAW,SAAUgE,GAIpC,MAHIA,IAAgB,YAAXA,EAAErH,MAAmC,UAAbqH,EAAEkqD,QAC/BtrD,KAAKg9J,sBAELh9J,KAAK4hK,UAAqC,aAAzB5hK,KAAKkH,iBAAkC9F,GAAgB,YAAXA,EAAErH,MAAmC,UAAbqH,EAAEkqD,QACvFtrD,KAAK22J,iBAAkB,EACvB32J,KAAK2hK,aAAavgK,IACX,GAGA23B,EAAOv9B,UAAU4B,SAASwD,KAAKZ,KAAMoB,IAOpD6/J,EAASzlK,UAAUyoB,YAAc,WACzBxmB,EAAkBuC,KAAKu6J,kBACvBv6J,KAAKu6J,eAA2C,iBAAzBv6J,KAAKkH,gBAAuClH,KAAKy1H,aAAarR,QAAQ,IACzFpkH,KAAKy1H,aAAanuG,aAClBqG,GAAMqjG,WAAW,wCAAuChxH,KAAKy1H,aAAa/4G,UAAW1c,KAAKyB,eACzFzB,KAAKy1H,aAAarR,QAAQ,IAAMpkH,KAAKy1H,aAAanuG,YACvDtjB,GAAUhE,KAAKu6J,gBAAiBlF,GAAoBW,aACpDz5I,IACI1T,OAAQ7I,KAAKu6J,eACb7iJ,MAAOtL,GAAQuc,SAAW,OAAS,QACpC3oB,KAAKyB,eACRwiB,GAAYjkB,KAAKu6J,kBAOzB0G,EAASzlK,UAAUgpB,YAAc,WACxB/mB,EAAkBuC,KAAKu6J,kBACxB/1I,GAAYxkB,KAAKu6J,gBACjB/1J,GAAaxE,KAAKu6J,gBAAiBlF,GAAoBW,aACnDh2J,KAAKu6J,eAAe/hK,UAAUC,SA5P1B,sBA6PJ8M,EAAOvF,KAAKu6J,gBAGZv6J,KAAKu6J,eAAe//J,UAAY,GAEpCwF,KAAKu6J,eAAiB,OAG9B0G,EAASzlK,UAAUqmK,YAAc,SAAU3xD,EAAe4xD,GAItD,GAHKA,GACD9hK,KAAK0hK,aAAaxxD,GAElBlwG,KAAK4hK,WAAa5hK,KAAK22J,gBAAiB,CACxC,GAAIrtB,GAAetpI,KAAKy7G,eAAevL,EAAczpG,aAAa,eAAe9F,WAC7EohK,EAAmB/hK,KAAKk7G,kBAAkBhL,EAAczpG,aAAa,cAC5C,cAAzBzG,KAAKkH,kBACAlH,KAAKk3G,YAAcl3G,KAAKs3H,gBAAkByqC,EAM3C/hK,KAAK67J,mBAAmB3rD,EAAe,MAAM,IAL7ClwG,KAAK67J,mBAAmB3rD,EAAe,MACvClwG,KAAKk3G,YAAa,EAClBl3G,KAAKs3H,cAAgBt3H,KAAKk7G,kBAAkBhL,EAAczpG,aAAa,iBAM1EzG,KAAKgiK,kBAAkB14B,IACxBtpI,KAAKiiK,qBAAqB34B,KAItC23B,EAASzlK,UAAUwmK,kBAAoB,SAAUhlK,GAC7C,GAAIoP,GAAQ2f,UAAW,CACnB,GAAIm2I,GAAgBliK,KAAK+8J,qBACrBoF,EAAUniK,KAAKm3J,iBAAiBn3I,IAChCoiJ,EAASF,EAAcliJ,IACvBqiJ,EAAYriK,KAAKm3J,iBAAiB55J,MAClC+kK,EAAWJ,EAAc3kK,KAC7B,OAAgB,KAAZ4kK,IAAmBA,IAAYnlK,EAAMzE,QAAU8pK,IAAcrlK,EAAMzE,QAClE8pK,EAAYC,GAAYH,EAAUC,GAAYD,IAAYC,GAAUC,IAAcC,GAQvF,OAAO,GAGfrB,EAASzlK,UAAUisB,MAAQ,SAAUrmB,EAAGmF,IAChC9I,EAAkB8I,KAAe9I,EAAkB8I,IAAa9I,EAAkB8I,EAAS4sF,cAC3Fp6D,EAAOv9B,UAAUisB,MAAM7mB,KAAKZ,KAAMoB,IAG1C6/J,EAASzlK,UAAUs/J,kBAAoB,SAAUjhK,GAC7C,OAAQ4D,EAAkB5D,IAE9BonK,EAASzlK,UAAUmmK,aAAe,SAAUvgK,GACxC,GAAImhK,GAAiBnhK,IAAmB,SAAbA,EAAEkqD,QAAkC,OAAblqD,EAAEkqD,QACnC,SAAblqD,EAAEkqD,QAAkC,QAAblqD,EAAEkqD,QAAiC,WAAblqD,EAAEkqD,QAAoC,aAAblqD,EAAEkqD,QACxE4kD,EAAgBqyD,EAAgBviK,KAAK2kG,cAAc3kG,KAAK02G,aAAe12G,KAAK6+J,iBAChF,IAAKphK,EAAkByyG,GASlB,GAAgC,KAA5BlwG,KAAKyuB,aAAazxB,MAAc,CACrCgD,KAAK02G,YAAc,KACnB12G,KAAKu2C,KAAKrpC,UAAY,CACtB,IAAI4vG,GAAY98G,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBxzD,GAClE7hG,MAAK0hK,aAAa5kD,OAGlB98G,MAAK02G,YAAc,KACnB12G,KAAKm4J,kBACLn4J,KAAKguG,kBAlB8B,CACnC,IAAKu0D,EAAe,CAChB,GAAIvlK,GAAQgD,KAAKk7G,kBAAkBhL,EAAczpG,aAAa,cAC9DzG,MAAK02G,YAAc12G,KAAKk+G,gBAAgBlhH,GACxCgD,KAAK02G,YAAej5G,EAAkBuC,KAAK02G,aAAkC,KAAnB12G,KAAK02G,YAEnE12G,KAAK22J,gBAA8C,KAA5B32J,KAAKyuB,aAAazxB,OAAuBgD,KAAK22J,gBACrE32J,KAAK6hK,YAAY3xD,EAAeqyD,KAcxCtB,EAASzlK,UAAU/D,kBAAoB,SAAU2J,GAC7CpB,KAAKm7J,YACA19J,EAAkBuC,KAAKs6G,YACxBt6G,KAAK2hK,aAAavgK,GAClBA,EAAEomB,mBAIVy5I,EAASzlK,UAAUymK,qBAAuB,SAAU34B,GAChD,GAAI2zB,GAAYj9J,KAAK+8J,qBACjB//J,EAAQgD,KAAKyuB,aAAazxB,MAAMjE,OAAO,EAAGkkK,EAAU1/J,MACxD,IAAIP,GAAUA,EAAM7E,gBAAkBmxI,EAAavwI,OAAO,EAAGkkK,EAAU1/J,OAAOpF,cAAgB,CAC1F,GAAIopK,GAAavkK,EAAQssI,EAAavwI,OAAOiE,EAAMzE,OAAQ+wI,EAAa/wI,OACxEo1B,IAAMvwB,SAASmkK,EAAYvhK,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBACxEpnB,KAAKyuB,aAAazG,kBAAkBi1I,EAAU1/J,MAAOyC,KAAKyuB,aAAazxB,MAAMzE,YAG7Eo1B,IAAMvwB,SAASksI,EAActpI,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBAC1EpnB,KAAKyuB,aAAazG,kBAAkB,EAAGhoB,KAAKyuB,aAAazxB,MAAMzE,SAIvE0oK,EAASzlK,UAAU6+G,eAAiB,SAAU5gH,GAC1C,MAAOs/B,GAAOv9B,UAAU6+G,eAAez5G,KAAKZ,KAAMvG,GAAM,EAAMuG,KAAK00D,eAEvEusG,EAASzlK,UAAU+/J,YAAc,WACA,aAAzBv7J,KAAKkH,kBACLzB,GAAaf,OAAO1E,KAAKy1H,aAAarR,QAAQ,GAAI,YAAapkH,KAAKkhK,aACpEz7J,GAAaf,OAAO1E,KAAKy1H,aAAa/4G,UAAW,OAAQ1c,KAAKq5J,SAE7D57J,EAAkBuC,KAAKy1H,aAAarR,QAAQ,KAC7C3+G,GAAaf,OAAO1E,KAAKy1H,aAAarR,QAAQ,GAAI,YAAapkH,KAAK45J,eAExEn0J,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAKmhK,aAChDnhK,KAAK2xH,WACNlsH,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAK49J,SACrDn4J,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAK48J,YACrDn3J,GAAaf,OAAO1E,KAAKyuB,aAAc,UAAWzuB,KAAK88J,eAE3D98J,KAAK85J,qBAETmH,EAASzlK,UAAU+8J,aAAe,SAAU12D,EAAIzgG,GAC5C23B,EAAOv9B,UAAU+8J,aAAa33J,KAAKZ,KAAM6hG,EAAIzgG,GACxC3D,EAAkBokG,IAAQ7hG,KAAK4hK,UAAa5hK,KAAKq3J,iBAClDr3J,KAAKguG,eAGbizD,EAASzlK,UAAU6/J,kBAAoB,SAAUj6J,GAC7C,GAAIygG,EACA7hG,MAAK2zJ,eACL9xD,EAAK7hG,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBhzJ,UAEnDrC,KAAKu4J,aAAa12D,EAAIzgG,GACtBpB,KAAKy2J,SAAU,GAEfz2J,KAAKk3G,aACLl3G,KAAKo3J,gBAAiB,EACtBp3J,KAAKi4J,cAAc72J,KAGV,UAAbA,EAAEkqD,QAAyD,KAAnCtrD,KAAKyuB,aAAazxB,MAAMyU,OAChDzR,KAAKynB,MAAMrmB,GAENpB,KAAKy2J,UAAYz2J,KAAKk3G,YAAcz5G,EAAkBokG,IAC3D7hG,KAAKohK,cAETphK,KAAK44J,aAETqI,EAASzlK,UAAUkmK,aAAe,SAAU7/D,GACxC7hG,KAAKm4J,kBACDn4J,KAAK2sG,UAAU9K,KAAQA,EAAGrpG,UAAUC,SAAS48J,GAAoBp7D,YACjEj6F,KAAKguG,cACLnM,EAAGrpG,UAAU+L,IAAI8wJ,GAAoBhzJ,SAI7C4+J,EAASzlK,UAAU2lK,YAAc,SAAU//J,GACnCgL,GAAQuc,WAAa3oB,KAAKq4J,iBAC1Br4J,KAAK02J,cAAe,GAExB12J,KAAKy5J,WAETwH,EAASzlK,UAAUo+J,cAAgB,SAAUx4J,GACzCA,EAAEomB,iBACEpb,GAAQuc,WAAa3oB,KAAKq4J,iBAC1Br4J,KAAK02J,cAAe,GAExB39H,EAAOv9B,UAAUo+J,cAAch5J,KAAKZ,KAAMoB,IAE9C6/J,EAASzlK,UAAU4lK,YAAc,WAC7B,GAAIpkK,GAAQgD,KAAKq6G,eAAer6G,KAAKyuB,aAAazxB,MAClD,IAAKgD,KAAKqhK,aAA2C,KAA5BrhK,KAAKyuB,aAAazxB,MAMtC,GAAuC,KAAnCgD,KAAKyuB,aAAazxB,MAAMyU,OAAe,CAC5C,GAAI6lH,GAAgBt3H,KAAKhD,KACzB,IAAIS,EAAkBT,GAAQ,CAC1B,GAAI6sB,GAAsC,KAA5B7pB,KAAKyuB,aAAazxB,MAAe,KAAOgD,KAAKyuB,aAAazxB,MACpEmY,EAASnV,KAAKmV,OACd9G,MAAY,EAChBA,IAAc5U,KAAMowB,EAAShxB,SACxBmH,KAAK+xH,SACN/xH,KAAKyoB,QAAQ,uBAAwBpa,EAEzC,IAAIxV,GAAOwV,EAAUxV,KACjBqc,IACArc,IAAQgE,EAASsY,EAAO1b,KAAMZ,IAASgE,EAASsY,EAAOnY,MAAOnE,GAC9Dqc,EAAWrc,GAGXuE,EAAS+X,EAAO1b,KAAMowB,EAAS3U,GAC/B9X,EAAS+X,EAAOnY,MAAO6sB,EAAS3U,IAEpClV,KAAK3G,SAAW6b,CAChB,IAAIstJ,IACA/oK,KAAMoD,EAASsY,EAAO1b,KAAMuG,KAAK3G,UACjC2D,MAAOH,EAASsY,EAAOnY,MAAOgD,KAAK3G,UACnCnB,MAAO,KAEX8H,MAAK2H,cAAc66J,GAAY,GAC/BxiK,KAAKu4J,aAAa,KAAM,MACxBv4J,KAAKo3J,gBAAiB,MAGtBp3J,MAAKo3J,gBAAiB,EACtBp3J,KAAK2H,eAAgB3K,MAAOA,GAE5Bs6H,KAAkBt3H,KAAKhD,OACvBgD,KAAKi4J,cAAc,UAGlBj4J,MAAKqhK,cACVrhK,KAAKo3J,gBAAiB,OA3CtBp3J,MAAK2H,eAAgB3K,MAAOA,IACxBS,EAAkBuC,KAAKhD,QACvB2wB,GAAMvwB,SAAS,GAAI4C,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,kBAgD5E65I,EAASzlK,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACzB,aAAzBh7B,KAAKkH,iBACLlH,KAAKu+G,kBAAkB,SAAU,QAAS,cAAexjF,EAE7D,KAAK,GAAI18B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,WACDyiB,GAAM+jG,YAAY1xH,KAAK2xH,SAAU3xH,KAAKyuB,cAClCzuB,KAAK2xH,UACLlsH,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAK48J,YACrDn3J,GAAaf,OAAO1E,KAAKyuB,aAAc,UAAWzuB,KAAK88J,gBAGvDr3J,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAK48J,WAAY58J,MAC9DyF,GAAalB,IAAIvE,KAAKyuB,aAAc,UAAWzuB,KAAK88J,aAAc98J,MAEtE,MACJ,KAAK,iBACDA,KAAKw9J,eACDx9J,KAAKk9J,eAA0C,aAAzBl9J,KAAKkH,iBAAkCzJ,EAAkBuC,KAAKu2C,OACpFxd,EAAOv9B,UAAUk2G,WAAW9wG,KAAKZ,KAErC,MACJ,KAAK,cACD,KACJ,SACI,GAAIyiK,OAAa,EACjBA,GAAaziK,KAAKk6G,cAAchvG,EAAM6vB,EAASC,GAC/CjC,EAAOv9B,UAAU+5B,kBAAkB30B,KAAKZ,KAAMyiK,EAAWtoD,YAAasoD,EAAWroD,gBASjG6mD,EAASzlK,UAAUojD,OAAS,WACxB7lB,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,MAC7BA,KAAKw9J,eACDx9J,KAAKk9J,eAA0C,aAAzBl9J,KAAKkH,iBAAkCzJ,EAAkBuC,KAAKu2C,OACpFxd,EAAOv9B,UAAUk2G,WAAW9wG,KAAKZ,OAQzCihK,EAASzlK,UAAU0L,cAAgB,WAC/B,MAAO,YAMX+5J,EAASzlK,UAAUo9J,UAAY,WAC3B,GAAI2I,GAAyC,KAA5BvhK,KAAKyuB,aAAazxB,MAAe,KAAOgD,KAAKyuB,aAAazxB,KAC3E,KAAKS,EAAkBuC,KAAKs6G,UAAW,CACnC,GAAIooD,GAAW1iK,KAAK82J,WAChB92J,MAAK82J,cACLnpI,GAAMvwB,SAAS4C,KAAK62J,YAAa72J,KAAKyuB,aAAczuB,KAAKgpB,eAAgBhpB,KAAKonB,iBAC9EpnB,KAAK82J,aAAc,GAEnB92J,KAAK4hK,UACL5hK,KAAKg9J,qBAET,IAAI9nJ,GAAWlV,KAAKo3J,gBAAmB39J,KAAM,IAAOuG,KAAK4tG,cACrD3T,EAAWj6F,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBp7D,SACjE,IAAI/kF,EAASzb,OAASuG,KAAKyuB,aAAazxB,QAAUS,EAAkBw8F,GAMhE,MALIj6F,MAAKk3G,aACLl3G,KAAKi4J,cAAc,MACnBj4J,KAAKo3J,gBAAiB,OAE1Br+H,GAAOv9B,UAAUo9J,UAAUh4J,KAAKZ,KAGpC,IAA6B,aAAzBA,KAAKkH,iBAAqE,KAAnClH,KAAKyuB,aAAazxB,MAAMyU,OAAe,CAC9E,GAAIkxJ,GAAa1pK,EAAO+G,KAAKyuB,aAAazxB,MAAOgD,KAAK2kG,cAAe,SAAS,EAC9E3kG,MAAK0wG,WAAaiyD,EAAW9pK,KACzB4E,EAAkBklK,EAAWzqK,SAC7ByqK,EAAWzqK,MAAQe,EAAO+G,KAAKyuB,aAAazxB,MAAOgD,KAAK2kG,cAAe,cAAc,GAAMzsG,OAE/F8H,KAAK02G,YAAcisD,EAAWzqK,MACzBuF,EAAkBuC,KAAK0wG,YAGnBgyD,IACL1iK,KAAKo3J,gBAAiB,EACtBp3J,KAAKm4J,mBAJLn4J,KAAK67J,mBAAmB77J,KAAK0wG,WAAY,MAAM,GAOlD1wG,KAAK82J,cAAe92J,KAAKy2J,SAAYz2J,KAAKywG,cAC3CzwG,KAAKohK,cAGT3jK,EAAkBuC,KAAKs6G,WAAat6G,KAAKqhK,cAAgB5jK,EAAkB8jK,IAAeA,IAAevhK,KAAKhD,OAC9GgD,KAAKohK,cAETroI,EAAOv9B,UAAUo9J,UAAUh4J,KAAKZ,OAMpCihK,EAASzlK,UAAUm7H,QAAU,WACpB32H,KAAKinB,UAGN7a,GAAQuc,WAAa3oB,KAAKq4J,iBAC1Br4J,KAAK02J,cAAe,GAExB39H,EAAOv9B,UAAUm7H,QAAQ/1H,KAAKZ,QAElCs4B,IACI1vB,IAAS,IACVq4J,EAASzlK,UAAW,eAAY,IACnC88B,IACI1vB,IAAS,IACVq4J,EAASzlK,UAAW,kBAAe,IACtC88B,IACI1vB,QACDq4J,EAASzlK,UAAW,qBAAkB,IACzC88B,IACI1vB,IAAS,IACVq4J,EAASzlK,UAAW,qBAAkB,IACzC88B,IACI1vB,GAAS,OACVq4J,EAASzlK,UAAW,YAAS,IAChC88B,IACI1vB,GAAS,OACVq4J,EAASzlK,UAAW,YAAS,IAChC88B,IACI1vB,IAAS,IACVq4J,EAASzlK,UAAW,sBAAmB,IAC1C88B,IACI7uB,MACDw3J,EAASzlK,UAAW,2BAAwB,IAC/C88B,IACI7uB,MACDw3J,EAASzlK,UAAW,gBAAa,IACpC88B,IACI1vB,GAAS,OACVq4J,EAASzlK,UAAW,oBAAiB,IACxC88B,IACI1vB,GAAS,UACVq4J,EAASzlK,UAAW,qBAAkB,IACzC88B,IACI1vB,GAAS,OACVq4J,EAASzlK,UAAW,2BAAwB,IAC/CylK,EAAW3oI,IACPvuB,IACDk3J,IAEL/K,ICjpBEp+H,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,EAehE28H,IAAoB/sD,KAAO,iBAC3B+sD,GAAoBtzD,KAAO,6CAY3B,IAAI6gE,IAA8B,SAAU7pI,GAKxC,QAAS6pI,GAAatuJ,EAASza,GAC3B,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAMsU,EAASza,IAAYmG,IAEnD,OADAD,GAAM8iK,YAAa,EACZ9iK,EAmSX,MA1SA+3B,IAAU8qI,EAAc7pI,GAcxB6pI,EAAapnK,UAAUyY,UAAY,WAC/B8kB,EAAOv9B,UAAUyY,UAAUrT,KAAKZ,OAEpC4iK,EAAapnK,UAAUs9J,eAAiB,WACpC,MAAO,oBAEX8J,EAAapnK,UAAU41G,SAAW,SAAUt3G,GACxC,GAAIwjK,GAAcxjK,EAAQA,EAAMuF,QAAUW,KAAKlG,MAAQkG,KAAKlG,MAAMuF,QAAU,GAAIozD,IAC5EqwG,EAAmC,KAArB9iK,KAAKlI,aAAuB2F,EAAkBuC,KAAKhD,OAAoBgD,KAAK8iK,WAAf,QAC3EhrK,EAAoC,KAArBkI,KAAKlI,aAAuB2F,EAAkBuC,KAAKhD,OAAuBgD,KAAKlI,YAAlBkI,KAAKhD,KACrF,IAAIgD,KAAK6iK,WACL,MAAOvF,EAEX,IAAyB,OAArBt9J,KAAKlI,YAAsB,CAC3B,GAAI+5B,GAAW7xB,KAAKy6G,WAAWz6G,KAAKmzF,YAAYyP,MAChD,KAAM5iG,KAAKmzF,qBAAsB93B,KAA6B,WAAbxpC,IAAsC,WAAbA,EAGrE,CACD,GAAIkxI,GAAWtlK,EAAkBuC,KAAKmV,OAAOnY,OAA6B,GAApBgD,KAAKmV,OAAOnY,KAClEsgK,GAAY/oG,MAAMwuG,EAASD,EAAYhrK,EAAakI,KAAKnI,WAAYmI,KAAK00D,kBAJ1E4oG,GAAY/oG,MAAM,GAAIuuG,EAAYhrK,EAAakI,KAAKnI,WAAYmI,KAAK00D,cAU7E,MAHKj3D,GAAkBuC,KAAKgjK,kBACxB1F,EAAYxnG,KAAK91D,KAAKgjK,iBAEnB1F,GAEXsF,EAAapnK,UAAUqhK,YAAc,SAAUz7J,GAC3C,GAAIrB,GAAQC,IACZA,MAAKy2J,SAAU,EACfz2J,KAAKo3J,gBAAiB,EACtBp3J,KAAKs8G,eAAgB,EACjB7+G,EAAkBuC,KAAKu2C,OACvBxd,EAAOv9B,UAAUk2G,WAAW9wG,KAAKZ,MAAM,EAE3C,IAAIijK,GAA4B,KAAd7hK,EAAE1J,SAAgC,KAAd0J,EAAE1J,OAExC,IADAsI,KAAKlI,YAAckI,KAAK01J,YAAY14J,MAChCimK,EAIA,MAHAjjK,MAAKlI,YAAmC,KAArBkI,KAAKlI,YAAqB,KAAOkI,KAAKlI,YACzDkI,KAAKs2J,iBAAkB,MACvBt2J,MAAK87G,UAAU97G,KAAKmzF,WAAYnzF,KAAKmV,OAGzCnV,MAAKk3G,YAAa,EAClBl3G,KAAK02G,YAAc,IACnB,IAAIroG,IACA8uJ,sBAAsB,EACtB1jK,KAAMuG,KAAK01J,YAAY14J,MACvBwhH,WAAY,SAAUrrB,EAAYr5F,EAAOqb,GACjC9G,EAAU8hB,SAGdpwB,EAAM8iK,YAAa,EACnB9iK,EAAMmjK,aAAa/vE,EAAYr5F,EAAOqb,KAE1Cgb,QAAQ,EAEZnwB,MAAKyoB,QAAQ,YAAapa,GACtBA,EAAU8hB,QAGTnwB,KAAK6iK,YAAex0J,EAAU8uJ,sBAC/Bn9J,KAAKkjK,aAAaljK,KAAKmzF,WAAY,KAAMnzF,KAAKmV,SAGtDytJ,EAAapnK,UAAU0nK,aAAe,SAAU/vE,EAAYr5F,EAAOqb,GAC/DnV,KAAKs2J,iBAAkB,EACE,KAArBt2J,KAAKlI,cAAuBkI,KAAKlI,YAAYS,QAAUyH,KAAKquI,WAAaruI,KAAK6iK,YAC9E7iK,KAAK87G,UAAU3oB,EAAYh+E,EAAQrb,GAGnCkG,KAAK44J,aAGbgK,EAAapnK,UAAUisB,MAAQ,SAAUrmB,EAAGmF,IACpC9I,EAAkB8I,KAAe9I,EAAkB8I,IAAa9I,EAAkB8I,EAAS4sF,cAC3Fp6D,EAAOv9B,UAAUisB,MAAM7mB,KAAKZ,KAAMoB,GAElCpB,KAAKs2J,iBACLt2J,KAAK44J,aAGbgK,EAAapnK,UAAUkhH,iBAAmB,SAAU3W,EAAWxvD,EAAMn1C,EAAG81J,GACpEl3J,KAAKs9G,mBAAqB,KAC1BvkF,EAAOv9B,UAAUkhH,iBAAiB97G,KAAKZ,KAAM+lG,EAAWxvD,EAAMn1C,EAC9D,IAAIvI,GAAOmH,KAAKu2C,KAAKzzC,cAAc,IAAMuyJ,GAAoBxzD,GACxDpkG,GAAkB5E,IACnB2L,GAAa3L,GAAOw8J,GAAoBhzJ,OAE5CrC,KAAKmjK,kBAETP,EAAapnK,UAAU2nK,eAAiB,WACpC,GAAInjK,KAAK4hK,WAAankK,EAAkBuC,KAAK2kG,cAAc,IAAK,CAC5D,GAAIhtG,IAASqI,KAAK2kG,cAAc,GAE3BlnG,GADYxE,EAAO+G,KAAKyuB,aAAazxB,MAAOrF,EAAO,aAAcqI,KAAKnI,YACzCgB,OAC9BkgC,EAAOv9B,UAAUqmK,YAAYjhK,KAAKZ,KAAMA,KAAK2kG,cAAc,IAAI,KAI3Ei+D,EAAapnK,UAAU+8J,aAAe,SAAU12D,EAAIzgG,GAChD,GAAKpB,KAAK2sG,UAAU9K,GAGpB,IAAKpkG,EAAkB2D,IAAiB,YAAXA,EAAErH,MAAmC,UAAbqH,EAAEkqD,QAAsBtrD,KAAK2sG,UAAU9K,GAAK,CAC7F,GAAI7kG,GAAQgD,KAAKk7G,kBAAkBrZ,EAAGp7F,aAAa,cACnDzG,MAAK02G,YAAc12G,KAAKk+G,gBAAgBlhH,GACxCgD,KAAK0hK,aAAa7/D,GAClB7hG,KAAK0wG,WAAa7O,EAClB7hG,KAAKs6J,kBAAkBl5J,GACnBpB,KAAK4hK,WACL5hK,KAAK22J,iBAAkB,EACvB59H,EAAOv9B,UAAUqmK,YAAYjhK,KAAKZ,KAAM6hG,IAE5C99F,EAAW/D,KAAKyuB,cAAgBqpH,wBAAyB93I,KAAK0wG,WAAa1wG,KAAK0wG,WAAW/sG,GAAK,WAGhGo1B,GAAOv9B,UAAU+8J,aAAa33J,KAAKZ,KAAM6hG,EAAIzgG,IAGrDwhK,EAAapnK,UAAU2hH,WAAa,SAAUhqB,EAAYiwE,GACtD,GAAIrjK,GAAQC,KACRmV,EAAS4jB,EAAOv9B,UAAU2hH,WAAWv8G,KAAKZ,KAAMmzF,EAAYiwE,EAChE,IAAI3lK,EAAkB0X,EAAOouF,aACzBpuF,EAAOouF,YAAc,SAAUniG,GACvBrB,EAAMsjK,WACNzpK,EAAgBwH,EAAEvI,KAAMkH,EAAMjI,YAAaiI,EAAMlI,WAAYkI,EAAM+iK,iBAI1E,CACD,GAAIQ,GAAgBnuJ,EAAOouF,WAC3BpuF,GAAOouF,YAAc,SAAUniG,GACvBrB,EAAMsjK,WACNzpK,EAAgBwH,EAAEvI,KAAMkH,EAAMjI,YAAaiI,EAAMlI,WAAYkI,EAAM+iK,YAEvEQ,EAAc5nK,MAAMqE,GAAQqB,KAGpC,MAAO+T,IAGXytJ,EAAapnK,UAAU0hK,YAAc,WACjC,OAAO,GAEX0F,EAAapnK,UAAUgvH,YAAc,WACjCxqH,KAAKu2C,KAAKrpC,UAAY,EACtB6rB,EAAOv9B,UAAUgvH,YAAY5pH,KAAKZ,OAEtC4iK,EAAapnK,UAAUo/J,cAAgB,WACnC,MAAkD,KAAnC56J,KAAKyuB,aAAazxB,MAAMyU,QAE3CmxJ,EAAapnK,UAAU6kK,cAAgB,WACnC,MAAOrgK,MAAKujK,iBAEhBX,EAAapnK,UAAUs/J,kBAAoB,SAAUjhK,GACjD,OAAO,GAMX+oK,EAAapnK,UAAU2/J,UAAY,WAC/B,GAAKn7J,KAAKinB,QAAV,CAGA,GAAIjnB,KAAKs2J,gBAEL,WADAt2J,MAAKg+J,cAGTh+J,MAAKs2J,iBAAkB,EACvBt2J,KAAK22J,iBAAkB,EACnBl5J,EAAkBuC,KAAKu2C,MACvBv2C,KAAK0xG,aAGL1xG,KAAK87G,UAAU97G,KAAKmzF,WAAYnzF,KAAKmV,UAO7CytJ,EAAapnK,UAAUo9J,UAAY,WAC/B7/H,EAAOv9B,UAAUo9J,UAAUh4J,KAAKZ,MAChCA,KAAK02G,aAAe,GAMxBksD,EAAapnK,UAAU+5B,kBAAoB,SAAUwF,EAASC,GAC7B,iBAAzBh7B,KAAKkH,iBACLlH,KAAKu+G,kBAAkB,SAAU,QAAS,cAAexjF,EAE7D,KAAK,GAAI18B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,kBACD,GAAIlL,KAAKujK,gBAAiB,CACtB,GAAI1xC,GAASlkG,GAAMqjG,WAAWqkC,GAAoBtzD,KAAM/hG,KAAKy1H,aAAa/4G,UAAW1c,KAAKyB,cAC1FzB,MAAKy1H,aAAarR,QAAQ,GAAKyN,EAC/BpsH,GAAalB,IAAIvE,KAAKy1H,aAAarR,QAAQ,GAAI,QAASpkH,KAAK45J,cAAe55J,UAG5EuF,GAAOvF,KAAKy1H,aAAarR,QAAQ,IACjCpkH,KAAKy1H,aAAarR,QAAQ,GAAK,IAEnC,MACJ,SACI,GAAIo/C,OAAW,EACfA,GAAWxjK,KAAKk6G,cAAchvG,EAAM6vB,EAASC,GAC7CjC,EAAOv9B,UAAU+5B,kBAAkB30B,KAAKZ,KAAMwjK,EAASrpD,YAAaqpD,EAASppD,gBAS7FwoD,EAAapnK,UAAU0L,cAAgB,WACnC,MAAO,gBAMX07J,EAAapnK,UAAUojD,OAAS,WAC5B7lB,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,OAGjCs4B,IACIjvB,IAAUrM,MAAO,KAAM4hG,QAAS,KAAMoG,QAAS,MAAQ2E,KACxDi5D,EAAapnK,UAAW,aAAU,IACrC88B,IACI1vB,IAAS,IACVg6J,EAAapnK,UAAW,iBAAc,IACzC88B,IACI1vB,IAAS,IACVg6J,EAAapnK,UAAW,sBAAmB,IAC9C88B,IACI1vB,IAAS,IACVg6J,EAAapnK,UAAW,gBAAa,IACxC88B,IACI1vB,GAAS,KACVg6J,EAAapnK,UAAW,sBAAmB,IAC9C88B,IACI1vB,QACDg6J,EAAapnK,UAAW,qBAAkB,IAC7C88B,IACI1vB,GAAS,OACVg6J,EAAapnK,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,IACVg6J,EAAapnK,UAAW,gBAAa,IACxC88B,IACI1vB,GAAS,aACVg6J,EAAapnK,UAAW,iBAAc,IACzC88B,IACI7uB,MACDm5J,EAAapnK,UAAW,gBAAa,IACxC88B,IACI1vB,GAAS,OACVg6J,EAAapnK,UAAW,YAAS,IACpC88B,IACI1vB,GAAS,UACVg6J,EAAapnK,UAAW,qBAAkB,IAC7C88B,IACI1vB,GAAS,OACVg6J,EAAapnK,UAAW,oBAAiB,IAC5C88B,IACI1vB,GAAS,OACVg6J,EAAapnK,UAAW,2BAAwB,IACnD88B,IACI1vB,IAAS,IACVg6J,EAAapnK,UAAW,qBAAkB,IAC7C88B,IACI1vB,GAAS,OACVg6J,EAAapnK,UAAW,WAAQ,IACnConK,EAAetqI,IACXvuB,IACD64J,IAEL3B,I/ChVEryI,GAAY,eACZC,GAAY,eACZI,GAAW,cACXD,GAAc,iBgDTd8I,GAAwC,WACxC,GAAIC,GAAgBx5B,OAAOy5B,iBACpBC,uBAA2Bx5B,QAAS,SAAUy5B,EAAGC,GAAKD,EAAED,UAAYE,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIC,KAAKD,GAAOA,EAAE7wB,eAAe8wB,KAAIF,EAAEE,GAAKD,EAAEC,IACzE,OAAO,UAAUF,EAAGC,GAEhB,QAASE,KAAOr4B,KAAKnC,YAAcq6B,EADnCH,EAAcG,EAAGC,GAEjBD,EAAE18B,UAAkB,OAAN28B,EAAa55B,OAAOgN,OAAO4sB,IAAME,EAAG78B,UAAY28B,EAAE38B,UAAW,GAAI68B,QAGnFC,GAA0C,SAAUC,EAAY1vB,EAAQxL,EAAKm7B,GAC7E,GAA2HN,GAAvHO,EAAIx5B,UAAU1G,OAAQmgC,EAAID,EAAI,EAAI5vB,EAAkB,OAAT2vB,EAAgBA,EAAOj6B,OAAOo6B,yBAAyB9vB,EAAQxL,GAAOm7B,CACrH,IAAuB,gBAAZI,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASN,EAAY1vB,EAAQxL,EAAKm7B,OACpH,KAAK,GAAIngC,GAAIkgC,EAAWhgC,OAAS,EAAGF,GAAK,EAAGA,KAAS6/B,EAAIK,EAAWlgC,MAAIqgC,GAAKD,EAAI,EAAIP,EAAEQ,GAAKD,EAAI,EAAIP,EAAErvB,EAAQxL,EAAKq7B,GAAKR,EAAErvB,EAAQxL,KAASq7B,EAChJ,OAAOD,GAAI,GAAKC,GAAKn6B,OAAO4K,eAAeN,EAAQxL,EAAKq7B,GAAIA,GAgB5DwsH,GAAQ,gBAKRue,GAAY,kBAGZC,GAAO,UAyCPC,GAA6B,SAAU5qI,GAKvC,QAAS4qI,GAAYh9H,EAAQ9sC,GACzB,GAAIkG,GAAQg5B,EAAOn4B,KAAKZ,KAAM2mC,EAAQ9sC,IAAYmG,IAMlD,OALAD,GAAM62J,YAAa,EACnB72J,EAAM6jK,sBACN7jK,EAAM8jK,qBACN9jK,EAAM+jK,mBAAoB,EAC1B/jK,EAAMgkK,eAAgB,EACfhkK,EAusFX,MAltFA+3B,IAAU6rI,EAAa5qI,GAcvB4qI,EAAYnoK,UAAUwoK,UAAY,SAAU1kE,GACpCA,EACAt/F,KAAKuuB,eAAe/1B,UAAU+L,IA9C1B,SAiDJvE,KAAKuuB,eAAe/1B,UAAUkM,OAjD1B,SAmDJ1E,KAAKwlH,WACLxlH,KAAKwlH,SAASj2G,UAAY+vF,EAC1Bt/F,KAAKwlH,SAASxwF,aAGtB2uI,EAAYnoK,UAAU8lC,gBAAkB,WACpC,GAAIgB,KAWJ,OAVkB,aAAdtiC,KAAK+vB,OACL/vB,KAAKikK,kBAAmB,EACxBjkK,KAAKkkK,kBAAmB,EACxBlkK,KAAKmkK,oBAAqB,EAC1BnkK,KAAKq4J,gBAAiB,EACtB/1H,EAAQtpC,MACJ+oC,OAAQ,oBACR9hC,MAAOD,SAGRsiC,GAEXqhI,EAAYnoK,UAAU4oK,oBAAsB,WACxC,GAAI7lK,OAAOjB,KAAK0C,KAAKgkG,gBAAgBzrG,OACjC,IAAK,GAAI8F,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAK0C,KAAKgkG,gBAAiB3lG,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC1E,GAAIo6J,GAAWz1J,EAAG3E,EAClB,QAAQo6J,GACJ,IAAK,QACDz4J,KAAKuuB,eAAe/1B,UAAU+L,IAAIvE,KAAKgkG,eAAey0D,IACtDz4J,KAAKy0J,aAAaj8J,UAAU+L,IAAIvE,KAAKgkG,eAAey0D,GACpD,MACJ,KAAK,WACDz4J,KAAKkrG,QAAO,EACZ,MACJ,KAAK,cACDlrG,KAAKyuB,aAAa5qB,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,GAC7D,MACJ,SACI,GACI4L,IAAgB,OAAQ,WAAY,gBAAiB,QACrDC,GAAiB,QAAS,OAAQ,QAAS,UAF5B,MAGH9lK,QAAQi6J,IAAa,EACjCz4J,KAAKnG,QAAQgK,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,IAEnD4L,EAAa7lK,QAAQi6J,IAAa,EACvCz4J,KAAKi2J,cAAcpyJ,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,IAEzD6L,EAAc9lK,QAAQi6J,IAAa,EACxCz4J,KAAKuuB,eAAe1qB,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,IAG/Dz4J,KAAKyuB,aAAa5qB,aAAa40J,EAAUz4J,KAAKgkG,eAAey0D,OAOrFkL,EAAYnoK,UAAU+oK,eAAiB,SAAUjlE,GACzCA,GAAuB,aAAdt/F,KAAK+vB,KACd/vB,KAAKyuB,aAAa5qB,aAAa,WAAY,QAG3C7D,KAAKyuB,aAAaniB,gBAAgB,aAG1Cq3J,EAAYnoK,UAAUgpK,kBAAoB,SAAUllE,GAC5CA,GACIt/F,KAAKykK,aAAa3pK,WAClBkF,KAAKykK,aAAa7/J,MAAM6hD,QAAU,GAGlCzmD,KAAKmvB,iBAAiBptB,YAAY/B,KAAKykK,cAE3CzkK,KAAKmvB,iBAAiB32B,UAAUkM,OAzHtB,uBA4HV1E,KAAKykK,aAAa7/J,MAAM6hD,QAAU,OAClCzmD,KAAKmvB,iBAAiB32B,UAAU+L,IA7HtB,uBAgIlBo/J,EAAYnoK,UAAUkpK,eAAiB,WAC/B1kK,KAAKuU,WACLvU,KAAKy0J,aAAaj8J,UAAU+L,IAAIvE,KAAKuU,UACrCvU,KAAKuuB,eAAe/1B,UAAU+L,IAAIvE,KAAKuU,YAG/CovJ,EAAYnoK,UAAUmpK,aAAe,WACjC,GAAIv4J,GAAQuc,UAA2B,aAAd3oB,KAAK+vB,MAAuB/vB,KAAKq4J,eAAiB,CACvE,GAAIsD,GAAU37J,IACdhE,QAAO+kK,WAAa,WAChBpF,EAAQ/C,aAEZj5G,QAAQqhH,aAAc,IAE1B,GAAI7B,IAAclsI,KAAM,SAAUxmB,SAAU,KACxC4B,GAAc+wJ,MAAOp/J,KAAKwlH,SAAUr1F,QAAQ,EAAO0J,UAAWslI,EAElE,IADAn/J,KAAKyoB,QAAQ,OAAQpa,IACjBA,EAAU8hB,OAAd,CAUA,GAPAnwB,KAAK4kK,uBACL7pK,SAAS+R,KAAK/K,YAAY/B,KAAKwlH,SAAS3rH,SACtB,aAAdmG,KAAK+vB,MACL/rB,GAAUhE,KAAKuuB,iBA9IP,gBAgJZvuB,KAAKwlH,SAASpD,KAAK/zG,EAAUwrB,UAA4B,MAAhB75B,KAAKw9G,OAAmBx9G,KAAKnG,QAAU,MAChFkK,EAAW/D,KAAKyuB,cAAgB45H,gBAAiB,UAC5CroJ,KAAK6kK,aAAc,CACpB,GAAI9+D,GAAY/lG,KAAKu2C,KAAKzzC,cAAc,KACpCijG,KACA/lG,KAAK8kK,SAAW/+D,EAAU/jG,UAAY+jG,EAAU/jG,WAAU,GAAQ+jG,GAEtE/lG,KAAK6kK,cAAe,EAExB7kK,KAAK+kK,iBAAiB,MACJ,aAAd/kK,KAAK+vB,MACL/vB,KAAKguG,cAEThuG,KAAK+O,OAAO,WAAa8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB3uB,EAAGpB,SAE/F2jK,EAAYnoK,UAAUopK,qBAAuB,WACzC,GAAI5kK,KAAK+lG,WAAa/lG,KAAK+lG,UAAUjjG,cAAc,MAC7C62G,GAAoB9X,IAAK,CAC3B,GAAIhoG,OAAU,EACd,IAAkB,aAAdmG,KAAK+vB,KAEL,WADA/vB,MAAKguG,aAQO,SAJZn0G,EAAUmG,KAAK+lG,UAAUjjG,cAAc,MACjC62G,GAAoB9X,GAAK,SACzB4hE,GAAY,QAGlBzjK,KAAKguG,cACLhuG,KAAKglK,aAAanrK,MAI9B8pK,EAAYnoK,UAAUypK,oBAAsB,SAAUxoK,GAClD,GAAIyzG,EACAzzG,GACAyzG,EAAgBj3G,EAAOwD,EAAMuD,KAAK2kG,cAAe,aAAc3kG,KAAKnI,YAGhEmI,KAAKhD,OAASgD,KAAKhD,MAAMzE,OACzBU,EAAO+G,KAAKhD,MAAMgD,KAAKhD,MAAMzE,OAAS,GAAIyH,KAAK2kG,cAAe,aAAc3kG,KAAKnI,YAGjFq4G,EAAgB,KAGpBA,GAAwC,OAAvBA,EAAcr3G,OAC/BmH,KAAKglK,aAAa90D,EAAcr3G,MAChCmH,KAAK+/J,aAAa7vD,EAAcr3G,KAAMq3G,EAAch4G,SAG5DyrK,EAAYnoK,UAAUm9J,kBAAoB,WAUtC,OARIhmC,gBAAiB,QACjB41B,YAAavoJ,KAAKnG,QAAQ8J,GAAK,WAC/ByP,KAAQ,UACR8xJ,uBAAwB,OACxBptB,wBAAyB,OACzBwQ,gBAAiB,OACjBD,gBAAiB,UAIzBsb,EAAYnoK,UAAU2pK,eAAiB,WACnCphK,EAAW/D,KAAK+lG,WAAapiG,GAAM3D,KAAKnG,QAAQ8J,GAAK,WAAYyP,KAAQ,UAAW86G,cAAe,SACnG,IAAIk3C,KAAiBplK,KAAKyuB,qBAC1B1qB,GAAW/D,KAAKyuB,aAAczuB,KAAK24J,qBAC/ByM,GACArhK,EAAW/D,KAAKyuB,cAAgBkkG,gBAAiB,UAGzDgxC,EAAYnoK,UAAU6pK,oBAAsB,SAAUjkK,GAClD,GAAI6C,GAEAjH,GADJiH,EAAWjE,KAAKslK,sBAAsB1qK,iBAAiB,QAAU8oK,KAC5Cz/J,EAAS1L,OAAS,GAAGkO,aAAa,aAQvD,IAPKhJ,EAAkBuC,KAAKhD,SACxBgD,KAAKulK,WAAavlK,KAAKhD,MAAM2E,SAEjC3B,KAAKwlK,YAAYxoK,EAAOoE,GACxBpB,KAAKylK,sBACLzlK,KAAK0lK,gBAAgB1lK,KAAK2lK,eAC1B3lK,KAAK4lK,mBACD5lK,KAAK8kK,UAAY9kK,KAAKs6G,SAAU,CAChC,GAAI/jE,GAAOv2C,KAAK8kK,SAAS9iK,UAAYhC,KAAK8kK,SAAS9iK,WAAU,GAAQhC,KAAK8kK,QAC1E9kK,MAAK08G,iBAAiBnmE,EAAMv2C,KAAK6lK,UACjC7lK,KAAK8lK,qBAGbnC,EAAYnoK,UAAUmhH,gBAAkB,SAAUv7G,GAC9C23B,EAAOv9B,UAAUmhH,gBAAgB/7G,KAAKZ,KAAMoB,GAC5CpB,KAAKwqH,cACLxqH,KAAK2kK,gBAEThB,EAAYnoK,UAAUg+G,cAAgB,WAKlC,MAJAx5G,MAAK+lK,mBAAqB/lK,KAAKyuB,aACb,aAAdzuB,KAAK+vB,MACL/vB,KAAK+O,OAAO,iBAAmB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,OAEtE/vB,KAAK+lK,mBAAmB/oK,OAEnC2mK,EAAYnoK,UAAUwqK,YAAc,SAAUC,GAG1C,IAAK,GAFDtxG,GACArB,EAAQ71D,EAAkBuC,KAAKmV,OAAOnY,OAASgD,KAAKmV,OAAO1b,KAAOuG,KAAKmV,OAAOnY,MACzE3E,EAAI,EAAGA,EAAI4tK,EAAW1tK,OAAQF,IAE/Bs8D,EADM,IAANt8D,EACY,GAAIu8D,IAAUtB,EAAO,QAAS2yG,EAAW5tK,IAGzCs8D,EAAUqC,GAAG1D,EAAO,QAAS2yG,EAAW5tK,GAG5D,QAAO,GAAIo6D,KAAQ8B,MAAMI,IAE7BgvG,EAAYnoK,UAAUkhH,iBAAmB,SAAU3W,EAAWxvD,EAAMn1C,EAAG81J,GACnEn+H,EAAOv9B,UAAUkhH,iBAAiB97G,KAAKZ,KAAM+lG,EAAWxvD,EAAMn1C,EAC9D,IAAI8S,GAAQlU,KACRimK,IACJ,KAAKxoK,EAAkBuC,KAAKhD,SAAWgD,KAAKikK,iBACxC,IAAK,GAAI5rK,GAAI,EAAGA,EAAI2H,KAAKhD,MAAMzE,OAAQF,IACpB0tG,EAAUjjG,cAAc,kBAAoBoR,EAAMlX,MAAM3E,GAAK,OAExE4tK,EAAWjtK,KAAKkb,EAAMlX,MAAM3E,GAIpC4tK,GAAW1tK,OAAS,GAAKyH,KAAKmzF,qBAAsB93B,MAAgB59D,EAAkBuC,KAAKhD,OAC3FgD,KAAKmzF,WAAWx/B,aAAa3zD,KAAKgmK,YAAYC,IAAa/pE,KAAK,SAAU96F,GACtE8S,EAAMs/F,QAAQpyG,EAAEpC,OAAQu3C,EAAKh+C,QAC7B2b,EAAMgyJ,iBAAiBngE,EAAWxvD,EAAMn1C,KAI5CpB,KAAKkmK,iBAAiBngE,EAAWxvD,EAAMn1C,IAG/CuiK,EAAYnoK,UAAU0qK,iBAAmB,SAAUngE,EAAWxvD,EAAMn1C,EAAG81J,GAYnE,GAXkB,aAAdl3J,KAAK+vB,MAAuB/vB,KAAKmmK,eACjCnmK,KAAK+O,OAAO,aAAe8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,OAEpE/vB,KAAK8kK,UAAa9kK,KAAK6lK,SAKlBpoK,EAAkBuC,KAAK6lK,WAAsC,IAAzB7lK,KAAK6lK,SAASttK,SACxDyH,KAAK6lK,SAAWtvH,IALhBv2C,KAAK8kK,SAAW/+D,EAAU/jG,UAAY+jG,EAAU/jG,WAAU,GAAQ+jG,EAClE/lG,KAAK6lK,SAAWtvH,EAChBv2C,KAAKomK,mBAAqBpmK,KAAK2kG,gBAK9B3kG,KAAKqmK,mBAAqB9vH,EAAKh+C,QAAU,IAAMyH,KAAKikK,kBAAoBjkK,KAAKs1J,YAAct1J,KAAKq4J,eAEjG,WADAr4J,MAAKsmK,oBAAoBtmK,KAAKumK,UAAWvmK,KAAKmV,OAG9CnV,MAAKhD,OAASgD,KAAKhD,MAAMzE,SAA0B,aAAdyH,KAAK+vB,MAAmD,KAA5B/vB,KAAKyuB,aAAazxB,OACrE,aAAdgD,KAAK+vB,OACL/vB,KAAK8lK,mBAET9lK,KAAKmlK,iBACLnlK,KAAKwmK,mBACLxmK,KAAK83J,iBACAr6J,EAAkBuC,KAAKymK,kBACxBzmK,KAAKymK,kBAEJhpK,EAAkBuC,KAAK0mK,kBACxB1mK,KAAK0mK,kBAEL1mK,KAAK2mK,cACL3mK,KAAK4mK,qBACL5mK,KAAK6mK,gBACL7mK,KAAK8mK,qBACL9mK,KAAK+mK,iBAAiB,KAAM/mK,KAAKhD,MAAO,OAE5CgD,KAAKwqH,cACDxqH,KAAKs2J,kBACLt2J,KAAKs2J,iBAAkB,EACvBt2J,KAAK2kK,iBAGbhB,EAAYnoK,UAAUsqK,iBAAmB,WACrC,GAAI9oK,GACAnD,EACA6J,EAAY1D,KAAKkkK,iBACjBT,GACA9pD,GAAoB1f,QACxB,KAAKx8F,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAGvD,GAFA8E,EAAQgD,KAAKhD,MAAM9E,GACnB2B,EAAUmG,KAAKu2C,KAAKzzC,cAAc,kBAAoB9F,EAAQ,MACjD,CAWT,GAVAgH,GAAUnK,GAAU6J,GAChB1D,KAAKkkK,kBAAoBrqK,EAAQ29G,iBAC9B39G,EAAQ+5G,uBAAuBp7G,UAAUC,SAASkhH,GAAoBj2E,UACpE7pC,EAAQ+mG,oBACT/mG,EAAQ+mG,mBAAmBpoG,UAAUC,SAASkhH,GAAoBj2E,SACtE1/B,GAAUnK,EAAQ+5G,wBAAyBlwG,GAE3C1D,KAAKkkK,kBAAoBlkK,KAAKmV,OAAO6vF,UAAYnrG,EAAQ+5G,uBAAuBp7G,UAAUC,SAASgrK,KACnGzjK,KAAKgnK,cAAchqK,GAEnBgD,KAAKkkK,kBAAoBrqK,EAAQrB,UAAUC,SAASkhH,GAAoBt3G,OAAQ,CAChFmC,GAAa3K,GAAU8/G,GAAoBt3G,MAC3C,IAAI26G,GAAUnjH,EAAQmc,cAAcpb,iBAAiB,IACjD++G,GAAoB9X,GAAK,SAAW4hE,GAAY,IAChDzmD,GAAQzkH,OAAS,EACjByL,GAAUg5G,EAAQ,IAAKrD,GAAoBt3G,QAG3CrC,KAAK+lG,UAAY/lG,KAAK+lG,UAAU/jG,UAAYhC,KAAK+lG,UAAU/jG,WAAU,GAAQhC,KAAK+lG,UAClF/lG,KAAKm7G,aACLn3G,GAAUhE,KAAKu2C,MAAOojE,GAAoBE,SAIlD,GADAhgH,EAAQgK,aAAa,gBAAiB,QACpB,aAAd7D,KAAK+vB,MAAuBl2B,EAAQrB,UAAUC,SAAS,YAAa,CACpE,GAAIwuK,GAAYptK,EAAQwL,kBAAkBoB,aAAa,eACvD,IAAIhJ,EAAkBwpK,IAA4B,UAAdA,EAAuB,CACvD,GAAIhnK,IACA4hC,OAAQ,oBACRqpE,OAAsB,aAAdlrG,KAAK+vB,KACb8xE,GAAIhoG,EACJuH,EAAG,KAEPpB,MAAK+O,OAAO,aAAc9O,KAM9CD,KAAKknK,iBACLlnK,KAAKmnK,qBAETxD,EAAYnoK,UAAUwrK,cAAgB,SAAUhqK,GAC5C,GAAInD,GACAutK,EACA1jK,EAAY1D,KAAKkkK,iBACjBT,GACA9pD,GAAoB1f,QACxBmtE,GAAWvtK,EAAUmG,KAAK+lG,UAAUjjG,cAAc,kBAAoB9F,EAAQ,KAC9E,IAAI3E,GAAI,EACJmtB,EAAI,EACJha,GAAO,EACP67J,GAAQ,CACZ,IACQxtK,GAAWA,EAAQ+5G,yBACd/5G,EAAQ+5G,uBAAuBp7G,UAAUC,SAASgrK,KACnD5pK,EAAQ+5G,uBAAuBp7G,UAAUC,SAASkhH,GAAoB9X,MAC1Er2F,GAAO,IAENA,IAAS3R,GAAYA,EAAQ+5G,wBAC3B/5G,EAAQ+5G,uBAAuBp7G,UAAUC,SAASkhH,GAAoBj2E,OACzErrC,EAAI,GAGJwB,EAAUA,EAAQ+5G,uBAElBwzD,GAAYA,EAASxmE,qBAChBwmE,EAASxmE,mBAAmBpoG,UAAUC,SAASgrK,KAChD2D,EAASxmE,mBAAmBpoG,UAAUC,SAASkhH,GAAoB9X,MACvEwlE,GAAQ,IAEPA,IAAUD,GAAaA,EAASxmE,oBAC9BwmE,EAASxmE,mBAAmBpoG,UAAUC,SAASkhH,GAAoBj2E,OACtEle,EAAI,GAGJ4hJ,EAAWA,EAASxmE,yBAEnBvoG,EAAI,IAAMmtB,EAAI,GACnBha,IAAQ67J,IAAUxtK,EAAQ+5G,uBAAuBp7G,UAAUC,SAASgrK,IACpEz/J,GAAUnK,EAAQ+5G,wBAAyBlwG,GAEtC8H,GAAQ67J,GAASxtK,EAAQ+5G,uBAAuBp7G,UAAUC,SAASgrK,KACxEj/J,GAAa3K,EAAQ+5G,wBAAyBlwG,IAGtDigK,EAAYnoK,UAAU0rK,eAAiB,WACnC,GAAII,GAActnK,KAAKu2C,KAAK37C,iBAAiB,MAAQ++G,GAAoB9X,IAAItpG,OACzEgvK,EAAoBvnK,KAAKu2C,KAAK37C,iBAAiB,MAAQ++G,GAAoB1f,UAAU1hG,MACpF+uK,KAAgBC,GAAqC,aAAdvnK,KAAK+vB,MAAuB/vB,KAAKmmK,eACzEnmK,KAAK+O,OAAO,kBAAoB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB/yB,MAAO,UAErGsqK,IAAgBC,GAAqC,aAAdvnK,KAAK+vB,MAAuB/vB,KAAKmmK,eACzEnmK,KAAK+O,OAAO,kBAAoB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB/yB,MAAO,aAG9G2mK,EAAYnoK,UAAUgsK,UAAY,SAAUpmK,GACnCpB,KAAKynK,aAA6B,aAAdznK,KAAK+vB,KAQpB/vB,KAAKynK,aAA6B,aAAdznK,KAAK+vB,MAAwB/vB,KAAK2zJ,eAC5D3zJ,KAAKm7J,YARwB,KAAzBn7J,KAAKw5G,gBACLx5G,KAAKm7J,YAGLn7J,KAAK44J,aAOjB+K,EAAYnoK,UAAUksK,MAAQ,SAAUtmK,GACpC,GAAIrB,GAAQC,IASZ,IARkB,aAAdA,KAAK+vB,MAAwB/vB,KAAKynK,aAG7BhqK,EAFM1F,OAAOC,aAAaoJ,EAAE1J,SACNwZ,MAAM,SAE7BlR,KAAK42J,YAAa,GAG1B52J,KAAK42J,WAAc52J,KAAK2zJ,eAA+B,IAAdvyJ,EAAE1J,SAAkBsI,KAAK42J,WAC9D52J,KAAK42J,WAIL,OAHA52J,KAAK42J,YAAa,EAClB52J,KAAK2nK,gBACL3nK,KAAK4nK,mBACGxmK,EAAE1J,SACN,QAKI,IAJKsI,KAAK2zJ,eAAiB3zJ,KAAKynK,aAC5BznK,KAAKm7J,YAETn7J,KAAKwnK,UAAUpmK,GACXpB,KAAK6nK,oBAAsB7nK,KAAKq4J,gBAAiC,IAAdj3J,EAAE1J,QACrDsI,KAAK4kK,2BAEJ,CACD,GAAInrK,GAAOuG,KAAKw5G,eAEhB,IADAx5G,KAAKtI,QAAU0J,EAAE1J,QACbsI,KAAKq4J,eAAgB,CACrB,GAAIlb,IACAggB,sBAAsB,EACtB1jK,KAAMuG,KAAKw5G,gBACXgF,WAAY,SAAUrrB,EAAYr5F,EAAOqb,GACjCgoI,EAAYhtH,SAGhBpwB,EAAM8iK,YAAa,EACnB9iK,EAAM+nK,oBAAqB,EAC3B/nK,EAAMgoK,YAAY50E,EAAYr5F,EAAOqb,KAEzC5Y,MAAO6E,EACP+uB,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,YAAa00H,GACtBA,EAAYhtH,OACZ,MAECnwB,MAAK6iK,YAAe1lB,EAAYggB,uBACjCn9J,KAAKkjK,cAAe,EACpBljK,KAAK+nK,YAAY/nK,KAAKmzF,WAAY,KAAMnzF,KAAKmV,aAGhD,CAAA,GAAInV,KAAKikK,iBAAkB,CAC5B,GAAInqK,GAAQ,GAAI24D,GAChB34D,GAAkB,KAATL,EAAeK,EAAMy6D,MAAMv0D,KAAKmV,OAAO1b,KAAM,aAAcA,EAAMuG,KAAKnI,WAAYmI,KAAK00D,cAAgB56D,EAChHkG,KAAK+nK,YAAY/nK,KAAK6lK,SAAU/rK,EAAOkG,KAAKmV,OAC5C,OAGA,GAAIwvF,OAAgB,EACpBA,GAAgB3kG,KAAKu2C,KAAK37C,iBAAiB,MAAQ++G,GAAoB9X,GAAK,yBAC5E,IAAIqO,GAAgBj3G,EAAO+G,KAAKw5G,gBAAiB7U,EAAe,aAAc3kG,KAAKnI,WAC/Eq4G,IAAwC,OAAvBA,EAAcr3G,MAC/BmH,KAAKglK,aAAa90D,EAAcr3G,MAChCmH,KAAKu2C,KAAKrpC,UACNgjG,EAAcr3G,KAAKorD,aAAeisD,EAAch4G,OAEtB,KAAzB8H,KAAKw5G,gBACVx5G,KAAKguG,cAGLhuG,KAAK4kK,2BAOjCjB,EAAYnoK,UAAU41G,SAAW,SAAUt3G,GACvC,GAAIwjK,GAAcxjK,EAAQA,EAAMuF,QAAUW,KAAKlG,MAAQkG,KAAKlG,MAAMuF,QAAU,GAAIozD,GAChF,IAAIzyD,KAAKkjK,aAAc,CACnB,GAA6B,OAAzBljK,KAAKw5G,gBAA0B,CAC/B,GAAI3nF,GAAW7xB,KAAKy6G,WAAWz6G,KAAKmzF,YAAYyP,MAChD,KAAM5iG,KAAKmzF,qBAAsB93B,KAA6B,WAAbxpC,IAAsC,WAAbA,EAGrE,CACD,GAAI1c,GAASnV,KAAKmV,MAClBmoJ,GAAY/oG,MAAO92D,EAAkB0X,EAAO1b,MAAsB,GAAd0b,EAAO1b,KAAW,aAAcuG,KAAKw5G,gBAAiBx5G,KAAKnI,WAAYmI,KAAK00D,kBAJhI4oG,GAAY/oG,MAAM,GAAI,aAAcv0D,KAAKw5G,gBAAiBx5G,KAAKnI,WAAYmI,KAAK00D,cAOxF,MAAO4oG,GAGP,MAAOxjK,KAAgBkG,KAAKlG,MAAQkG,KAAKlG,MAAQ,GAAI24D,MAG7DkxG,EAAYnoK,UAAUusK,YAAc,SAAU50E,EAAYr5F,EAAOqb,GAE7D,GADAnV,KAAKs8G,eAAgB,EACe,KAAhCt8G,KAAKw5G,gBAAgB/nG,OAAe,CACpC,GAAI8kC,GAAOv2C,KAAK8kK,SAAS9iK,UAAYhC,KAAK8kK,SAAS9iK,WAAU,GAAQhC,KAAK8kK,QACtE9kK,MAAKgoK,cACLhoK,KAAKqmK,mBAAoB,EACzBrmK,KAAK08G,iBAAiBnmE,EAAMv2C,KAAK6lK,UAC7B7lK,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAK8lK,mBAEY,IAAjB9lK,KAAKtI,SACLsI,KAAK4kK,uBAET5kK,KAAK+O,OAAO,WAAa8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB3uB,EAAGpB,YAI/FA,MAAK87G,UAAU3oB,EAAYh+E,EAAQrb,GAC/BkG,KAAKikK,mBACC9wE,YAAsB93B,KAIxBr7D,KAAKqmK,mBAAoB,EACzBrmK,KAAKumK,UAAYzsK,GAJjBkG,KAAKsmK,oBAAoBxsK,EAAOqb,GAQ5CnV,MAAKg+J,eACa,aAAdh+J,KAAK+vB,MACL/vB,KAAKguG,eAGb21D,EAAYnoK,UAAU8qK,oBAAsB,SAAUxsK,EAAOqb,GACzD,GAAI8yJ,IAAcjoK,KAAKq6G,eAAer6G,KAAKyuB,aAAazxB,MAAOgD,KAAKnI,WACpE,IAAImI,KAAKikK,kBAAoBgE,EAAY,CACrC,GAAIjrK,GAAQgD,KAAKyuB,aAAazxB,KAG9B,IAA4B,kBAFTS,EAAkBuC,KAAK6lK,WAAa7lK,KAAK6lK,SAASttK,OAAS,EAC1EyH,KAAK6lK,SAAS,GAAK7lK,KAAK6lK,UACU,CAClC,GAAI3wJ,KACJ9X,GAAS+X,EAAO1b,KAAMuD,EAAOkY,GAC7B9X,EAAS+X,EAAOnY,MAAOA,EAAOkY,IAC1B69F,EAAWjhF,KAAKC,MAAMD,KAAKouB,UAAUlgD,KAAKs6G,YACrC/vF,OAAO,EAAG,EAAGrV,GACtBlV,KAAK87G,UAAU/I,EAAU59F,GAAkBnV,KAAKmV,OAAQrb,OAEvD,CACD,GAAIi5G,IAAY/yG,KAAKyuB,aAAazxB,MAClCgD,MAAK87G,UAAU/I,EAAU59F,GAAkBnV,KAAKmV,SAGpDnV,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAK8lK,oBAGbnC,EAAYnoK,UAAUs9J,eAAiB,WACnC,MAAO,mBAEX6K,EAAYnoK,UAAU0sK,aAAe,SAAU9mK,GAE3C,GADApB,KAAK2mK,aAAc,GACf3mK,KAAK2xH,UAAa3xH,KAAKinB,QAA3B,CAGA,GAAI7lB,EAAEyH,SAAW7I,KAAKykK,aAElB,WADArjK,GAAEomB,gBASN,IANKxnB,KAAKs1J,YAA4B,aAAdt1J,KAAK+vB,MACzB/vB,KAAKgV,cAAchV,KAAKyuB,aAAc,SAErCzuB,KAAKs1J,YAA4B,aAAdt1J,KAAK+vB,MACzB/vB,KAAK22H,UAELv1H,EAAEyH,SAAiE,IAAvDzH,EAAEyH,OAAOrQ,UAAUmI,WAAWnC,QAtnBrC,iBA0nBL,YAHIwB,KAAK2zJ,eACL3zJ,KAAKg+J,iBAIRh+J,KAAK2zJ,eAAiB3zJ,KAAKynK,YAC5BznK,KAAKm7J,aAGLn7J,KAAK44J,YACa,aAAd54J,KAAK+vB,OACL/vB,KAAK4nK,mBACL5nK,KAAKs1J,YAAa,EACbt1J,KAAKuuB,eAAe/1B,UAAUC,SAASysJ,KACxCllJ,KAAKuuB,eAAe/1B,UAAU+L,IAAI2gJ,MAI9C9jJ,EAAEomB,mBAENm8I,EAAYnoK,UAAU0vG,OAAS,SAAU5L,GACjCA,GACAt/F,KAAKuuB,eAAe/1B,UAAUkM,OAtpB3B,cAupBH1E,KAAKyuB,aAAaniB,gBAAgB,YAClCvI,EAAW/D,KAAKyuB,cAAgBkkG,gBAAiB,YAGjD3yH,KAAKuuB,eAAe/1B,UAAU+L,IA3pB3B,cA4pBHvE,KAAKyuB,aAAa5qB,aAAa,WAAY,QAC3CE,EAAW/D,KAAKyuB,cAAgBkkG,gBAAiB,UAEjD3yH,KAAKinB,UAAYq4E,IACjBt/F,KAAKinB,QAAUq4E,GAEnBt/F,KAAK44J,aAET+K,EAAYnoK,UAAU69J,OAAS,SAAUmD,GACrC,GAAI3zJ,EAIJ,OAHKpL,GAAkB++J,KACnB3zJ,EAAS2zJ,EAAIlwB,eAEbtsI,KAAKwlH,UAAYzqH,SAAS+R,KAAKrU,SAASuH,KAAKwlH,SAAS3rH,UAAYmG,KAAKwlH,SAAS3rH,QAAQpB,SAASoQ,QAC/E,aAAd7I,KAAK+vB,MACL/vB,KAAKyuB,aAAapsB,SAIR,aAAdrC,KAAK+vB,MAAuB3jB,GAAQ0d,OAASrsB,EAAkB++J,IAC/Dx8J,KAAKs1J,YAAa,MAClBt1J,MAAKuuB,eAAe/1B,UAAUkM,OAAOwgJ,KAGrCllJ,KAAK8jK,mBACLtH,EAAIh1I,iBACJxnB,KAAKyuB,aAAapsB,aAClBrC,KAAK8jK,mBAAoB,KAG7B9jK,KAAKs1J,YAAa,EAClBt1J,KAAKuuB,eAAe/1B,UAAUkM,OAAOwgJ,IACnB,QAAdllJ,KAAK+vB,MAAgC,aAAd/vB,KAAK+vB,OAC5B/vB,KAAK+kK,iBAAiB,MACtB/kK,KAAKmoK,mBAETnoK,KAAK+mK,iBAAiBvK,EAAKx8J,KAAKhD,MAAOgD,KAAKulK,YAC5CvlK,KAAKgV,cAAchV,KAAKi2J,cAAe,UACvCj2J,KAAKykK,aAAa7/J,MAAM6hD,QAAU,OAC9BzmD,KAAK2zJ,eACL3zJ,KAAK44J,YAET54J,KAAK4lK,mBACL5lK,KAAKyoB,QAAQ,QACbzoB,KAAKwoG,SAAU,EACXp8F,GAAQuc,UAA0B,cAAd3oB,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,MACtD/vB,KAAKooK,kBAETpoK,KAAKylK,sBACLzlK,KAAKqoK,oBACL54I,GAAezvB,KAAKuuB,eAAgBvuB,KAAKmvB,iBAAkBnvB,KAAKhD,MAAOgD,KAAKgpB,eAAgBhpB,KAAK+oB,iBACjG/oB,MAAK8mK,uBAETnD,EAAYnoK,UAAU6sK,kBAAoB,WACjCroK,KAAKhD,OAAUgD,KAAKhD,MAAMzE,OAI3ByH,KAAKwuB,cAAch2B,UAAU+L,IAzsBzB,eAssBJvE,KAAKwuB,cAAch2B,UAAUkM,OAtsBzB,gBA4sBZi/J,EAAYnoK,UAAU8sK,eAAiB,SAAUxgK,EAAU6B,GACvD,MAAOmoB,MAAKouB,UAAUp4C,EAASnG,QAAQ23D,UAAYxnC,KAAKouB,UAAUv2C,EAAShI,QAAQ23D,SAEvFqqG,EAAYnoK,UAAUurK,iBAAmB,SAAUxqK,EAAOkxB,EAAQ1lB,GAC9D,GAAID,GAAW2lB,MACX9jB,EAAW5B,KACf,IAAI/H,KAAKuoK,YAAcvoK,KAAKsoK,eAAexgK,EAAU6B,GAAW,CAC5D,GAAI0E,IACAjN,EAAG7E,EACHoN,SAAU5B,EACV/K,MAAOywB,EACPgjF,eAAcl0G,EACd1C,QAASmG,KAAKnG,QAElBmG,MAAKyoB,QAAQ,SAAUpa,KAG/Bs1J,EAAYnoK,UAAUgtK,eAAiB,WACnC,GAAI/wJ,GAASzX,KAAKu2C,KAAK/9C,UAAUC,SAASkhH,GAAoBE,QAAU,KACpE5rG,iBAAiBjO,KAAKm+G,WAAW,GAAI,MAAMjwG,iBAAiB,SAChE,OAAOd,MAAKgoG,MAAMp1G,KAAKu2C,KAAK0N,aAAejqB,SAASviB,EAAQ,MAEhEksJ,EAAYnoK,UAAUw/J,gBAAkB,SAAUl0B,GAC9C,GAEIw0B,GAFAmN,EAAazoK,KAAKu2C,KAAK37C,iBAAiB,MACtC++G,GAAoB9X,GAAK,SAAW4hE,GAAY,yBAEtDnI,GAAex0B,GAAS,EAAI2hC,EAAW3hC,EAAQ,GAAK2hC,EAAW,GAC/DzoK,KAAKglK,aAAa1J,GAClBt7J,KAAK+/J,aAAazE,EAAct7J,KAAKk+G,gBAAgBo9C,EAAa70J,aAAa,iBAGnFk9J,EAAYnoK,UAAU0/J,kBAAoB,SAAUp0B,GACrC9mI,KAAKm+G,UAAhB,IAGIm9C,GAFAmN,EAAazoK,KAAKu2C,KAAK37C,iBAAiB,MACtC++G,GAAoB9X,GAAK,SAAW4hE,GAAY,yBAEtDnI,GAAex0B,GAAS2hC,EAAWlwK,OAASkwK,EAAW3hC,EAAQ,GAAK2hC,EAAWA,EAAWlwK,OAAS,GACnGyH,KAAKglK,aAAa1J,GAClBt7J,KAAK+/J,aAAazE,EAAct7J,KAAKk+G,gBAAgBo9C,EAAa70J,aAAa,iBAEnFk9J,EAAYnoK,UAAU2iH,SAAW,WAI7B,MAHKn+G,MAAKu2C,MACNxd,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,MAE1BA,KAAK+lG,UAAY/lG,KAAK+lG,UAAUnrG,iBAAiB,IAAM++G,GAAoB9X,GAC5E,SAAW4hE,GAAY,KAAO,MAExCE,EAAYnoK,UAAUm7H,QAAU,WAC5B,SAAI32H,KAAKinB,SAAYjnB,KAAK2xH,YACtB3xH,KAAK4nK,mBACL5nK,KAAKs1J,YAAa,EACbt1J,KAAKhD,MAINgD,KAAKulK,WAAavlK,KAAKhD,MAAM2E,QAH7B3B,KAAKulK,WAAavlK,KAAKhD,MAKvBgD,KAAKhD,OAASgD,KAAKhD,MAAMzE,SACP,cAAdyH,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,KAClC/vB,KAAKslK,sBAAsB1gK,MAAM6hD,QAAU,GAG3CzmD,KAAK0oK,mBAES,aAAd1oK,KAAK+vB,OACL/vB,KAAK2oK,YAAY/jK,MAAM6hD,QAAU,SAGvB,aAAdzmD,KAAK+vB,MACL/vB,KAAKwuB,cAAch2B,UAAUkM,OAjxB7B,eAmxBA1E,KAAKwoG,UACLxoG,KAAKyuB,aAAapsB,QAClBrC,KAAKyoB,QAAQ,SACbzoB,KAAKwoG,SAAU,GAEdxoG,KAAKuuB,eAAe/1B,UAAUC,SAASysJ,KACxCllJ,KAAKuuB,eAAe/1B,UAAU+L,IAAI2gJ,IAEtC11H,GAAgBxvB,KAAKuuB,eAAgBvuB,KAAKmvB,kBACtCnvB,KAAK2zJ,eACL3zJ,KAAKg+J,gBAEF,IAMf2F,EAAYnoK,UAAUktK,iBAAmB,WACnB,aAAd1oK,KAAK+vB,KACL/vB,KAAK2oK,YAAY/jK,MAAM6hD,QAAU,GAGjCzmD,KAAK4oK,iBAAiBhkK,MAAM6hD,QAAU,GAE1CzmD,KAAKmvB,iBAAiB32B,UAAU+L,IA7yBX,gBA+yBzBo/J,EAAYnoK,UAAUqtK,iBAAmB,WACrC7oK,KAAK4oK,iBAAiBhkK,MAAM6hD,QAAU,OACtCzmD,KAAKmvB,iBAAiB32B,UAAUkM,OAjzBX,gBAmzBzBi/J,EAAYnoK,UAAUmsK,cAAgB,WAClC,GAAIhsI,GAAO,CACP37B,MAAK+oB,cACL4S,EAAOA,EAAO37B,KAAKyuB,aAAa1F,YAAYxwB,OAASojC,EAAO37B,KAAKyuB,aAAa1F,YAAYxwB,QAE1FyH,KAAKyuB,aAAazxB,MAAMzE,OAASojC,EACjC37B,KAAKyuB,aAAakN,KAAO37B,KAAKyuB,aAAazxB,MAAMzE,OAGjDyH,KAAKyuB,aAAakN,KAAOA,GAGjCgoI,EAAYnoK,UAAUm4J,YAAc,WAChC,MAA+B,QAAtB3zJ,KAAKy0J,cAA+D,OAApCz0J,KAAKy0J,aAAaz+I,eAE/D2tJ,EAAYnoK,UAAUwiK,aAAe,WAC7Bh+J,KAAKwlH,UAAYxlH,KAAK8oK,YACtB9oK,KAAKwlH,SAAS79G,eAAgB+P,MAAO1X,KAAK+oK,mBAC1C/oK,KAAKwlH,SAAS7F,gBAAgB3/G,KAAKuuB,kBAG3Co1I,EAAYnoK,UAAUqsK,gBAAkB,WACpC,MAAO7nK,MAAKw5G,gBAAgBjhH,OAAS,GAEzCorK,EAAYnoK,UAAUwtK,gBAAkB,SAAUtxK,GAC9C,OAAQA,GACJ,IAAK,IACDsI,KAAK44J,YACa,aAAd54J,KAAK+vB,MACL/vB,KAAKyuB,aAAapsB,OAEtB,MACJ,KAAK,IACIrC,KAAK2zJ,eACN3zJ,KAAKm7J,cAKrBwI,EAAYnoK,UAAUytK,oBAAsB,WACxC,GAAIjN,GAAch8J,KAAKu2C,KAAKzzC,cAAc,IAAM62G,GAAoBt3G,MAC/D5E,GAAkBu+J,IACnBh8J,KAAKyuB,aAAa5qB,aAAa,wBAAyBm4J,EAAYr4J,KAG5EggK,EAAYnoK,UAAU0tK,UAAY,SAAU9nK,GACxC,IAAIpB,KAAK2xH,WAAa3xH,KAAKinB,SAAyB,aAAdjnB,KAAK+vB,QAG3C/vB,KAAK+jK,eAAgB,IACjB3iK,EAAE1J,QAAU,KAAO0J,EAAE1J,QAAU,MAAnC,CAGA,GAAI0J,EAAEupD,OAGF,MAFA3qD,MAAKgpK,gBAAgB5nK,EAAE1J,aACvB0J,GAAEomB,gBAGD,IAAIxnB,KAAK2zJ,cAAe,CACzB,GAAIqI,GAAch8J,KAAKu2C,KAAKzzC,cAAc,IAAM62G,GAAoBt3G,MAEpE,QAAQjB,EAAE1J,SACN,IAAK,IACL,IAAK,IAAI,KACT,KAAK,IAOD,MANA0J,GAAEomB,sBACEw0I,IACAh8J,KAAKk+G,gBAAgB89C,EAAYv1J,aAAa,eAC9CzG,KAAKg7J,oBARC,GAQ6Bh7J,KAAKwoK,kBACxCxoK,KAAKipK,uBAGb,KAAK,IAOD,MANA7nK,GAAEomB,sBACEw0I,IACAh8J,KAAKk+G,gBAAgB89C,EAAYv1J,aAAa,eAC9CzG,KAAKk7J,sBAhBC,GAgB+Bl7J,KAAKwoK,kBAC1CxoK,KAAKipK,uBAGb,KAAK,IACDjpK,KAAKmpK,QAAQ/nK,EACb,MACJ,KAAK,IACDpB,KAAKopK,UAAUhoK,EACf,MACJ,KAAK,IAMD,MALAA,GAAEomB,iBACFxnB,KAAK44J,iBACa,aAAd54J,KAAK+vB,MACL/vB,KAAKyuB,aAAapsB,QAG1B,KAAK,IAKD,MAJAjB,GAAEomB,sBACgB,aAAdxnB,KAAK+vB,MACL/vB,KAAKqpK,YAAYjoK,GAGzB,KAAK,IAED,WADApB,MAAKspK,kBAAkBloK,EAE3B,KAAK,GACDA,EAAEomB,iBACFxnB,KAAK44J,YACL54J,KAAKyuB,aAAapsB,QAClBrC,KAAKuuB,eAAe/1B,UAAU+L,IAAI2gJ,SAI1C,QAAQ9jJ,EAAE1J,SACN,IAAK,IACL,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACD,MACJ,KAAK,IACGsI,KAAKynK,aACLznK,KAAKm7J,WAET,MACJ,KAAK,IAGD,MAFA/5J,GAAEomB,qBACFxnB,MAAKupK,eAIbvpK,KAAK6nK,mBACL7nK,KAAKwpK,cAAcpoK,GAEL,aAAdpB,KAAK+vB,MAAuB/vB,KAAKypK,sBACjCzpK,KAAK0pK,iBAAiBtoK,GAE1BpB,KAAK2nK,gBACL3nK,KAAKg+J,iBAET2F,EAAYnoK,UAAU4tK,UAAY,SAAUhoK,GACxCA,EAAEomB,iBACFxnB,KAAK2pK,WAAW,GAChB3pK,KAAKurD,WAAY,EACbxwD,SAASm1G,cAAc13G,UAAUC,SAAS,oBAC1CuH,KAAKu2C,KAAKl0C,QACVoD,GAAalB,IAAIvE,KAAKu2C,KAAM,UAAWv2C,KAAKkpK,UAAWlpK,OAE3DA,KAAKipK,uBAETtF,EAAYnoK,UAAU2tK,QAAU,SAAU/nK,GACtCA,EAAEomB,iBACFxnB,KAAKurD,WAAY,CACjB,IAAIhV,GAAOv2C,KAAKu2C,KAAK37C,iBAAiB,MAChC++G,GAAoB9X,GACpB,SAAW4hE,GAAY,0BACzBmG,EAAa5pK,KAAKu2C,KAAKzzC,cAAc,MAAQ62G,GAAoBt3G,MACzD5D,OAAMjD,UAAUmG,MAAMf,KAAK21C,GAAM/3C,QAAQorK,IACxC,GACT5pK,KAAKurD,WAAY,EACjBvrD,KAAK+O,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB/yB,MAAO,WAGlGgD,KAAKu2C,KAAKl0C,QAEdrC,KAAK2pK,YAAY,GACjB3pK,KAAKipK,uBAETtF,EAAYnoK,UAAU8tK,kBAAoB,SAAUloK,GAC9B,aAAdpB,KAAK+vB,OACAh1B,SAASm1G,cAAc13G,UAAUC,SAAS,oBAC3C2I,EAAEomB,iBACFxnB,KAAKurD,WAAY,EACjBvrD,KAAKu2C,KAAKl0C,SAEdrC,KAAKqpK,YAAYjoK,KAGzBuiK,EAAYnoK,UAAUkuK,iBAAmB,SAAUtoK,GAC7B,IAAdA,EAAE1J,SAA0C,KAAzBsI,KAAKw5G,gBACxBx5G,KAAKgoK,aAAc,EAGnBhoK,KAAKgoK,aAAc,GAG3BrE,EAAYnoK,UAAUguK,cAAgB,SAAUpoK,GAC5C,GAAmB,cAAdpB,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,MAAwB/vB,KAAKhD,OAASgD,KAAKhD,MAAMzE,OACpF,OAAQ6I,EAAE1J,SACN,IAAK,IACD0J,EAAEomB,iBACFxnB,KAAK6pK,QAAQ,EAAGzoK,EAChB,MACJ,KAAK,IACDA,EAAEomB,iBACFxnB,KAAK6pK,OAAO,EAAGzoK,EACf,MACJ,KAAK,GACDpB,KAAKqlK,oBAAoBjkK,EACzB,MACJ,KAAK,IACDpB,KAAK8pK,mBAAmB1oK,OAI/B,IAAkB,IAAdA,EAAE1J,SAA+B,cAAdsI,KAAK+vB,MACzB/vB,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAAQ,CACjC6I,EAAEomB,gBACF,IAAIhc,GAAOxL,KAAKhD,MAAMgD,KAAKhD,MAAMzE,OAAS,EAC1CyH,MAAKwlK,YAAYh6J,EAAMpK,GACvBpB,KAAK0lK,gBAAgB1lK,KAAK2lK,eAC1B3lK,KAAKilK,oBAAoBz5J,KAIrCm4J,EAAYnoK,UAAU6tK,YAAc,SAAUjoK,GAC1CpB,KAAKylK,sBACLzlK,KAAK+pK,gBAAgB3oK,GACjBpB,KAAKkkK,kBACLlkK,KAAK4kK,wBAGbjB,EAAYnoK,UAAU+tK,aAAe,WACjC,GAAI/9J,GAAOxL,KAAKulK,WAAavlK,KAAKulK,WAAW5jK,UACzC3B,MAAKhD,OAASgD,KAAKsoK,eAAetoK,KAAKhD,MAAOwO,KAC9CxL,KAAKhD,MAAQwO,EACbxL,KAAK4mK,qBACa,cAAd5mK,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,KAClC/vB,KAAKslK,sBAAsB1gK,MAAM6hD,QAAU,GAG3CzmD,KAAK0oK,mBAET1oK,KAAK8mK,qBACD9mK,KAAKhD,MAAMzE,OACXyH,KAAK4nK,mBAGL5nK,KAAKgqK,oBAGbhqK,KAAK4lK,oBAETjC,EAAYnoK,UAAUukK,aAAe,SAAUrvD,EAAYgG,GACvD,GAAIspD,GAAgBhgK,KAAKu2C,KAAK0N,aAC1Bg8G,EAAavvD,EAAW36F,UAAY26F,EAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,UACxEgzJ,EAAalgK,KAAKu2C,KAAKrpC,UAAY+yJ,EAAaD,EAChDI,EAAY1vD,EAAW36F,UAAY26F,EAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,SAC3EkzJ,GAAWpgK,KAAKmV,OAAO6vF,UAAY7nG,EAAY6C,KAAKs9G,oBAChD8iD,EAAWpgK,KAAKs9G,mBAAmBr5D,aAAem8G,EAClC,IAAhB1pD,EACA12G,KAAKu2C,KAAKrpC,UAAY,EAEjB+yJ,EAAaD,EAClBhgK,KAAKu2C,KAAKrpC,UAAYgzJ,EAEfE,EAAW,GAAKpgK,KAAKu2C,KAAK0N,aAAem8G,IAChDpgK,KAAKu2C,KAAKrpC,UAAYgzJ,IAG9ByD,EAAYnoK,UAAU0R,UAAY,SAAUwjG,EAAYgG,GACpD,GAAIwpD,GAAaxvD,EAAW36F,UAAY/V,KAAKu2C,KAAKrpC,SACjCwjG,GAAW36F,UAAY26F,EAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,SAC5EgzJ,GAAalgK,KAAKmV,OAAO6vF,UAAY7nG,EAAY6C,KAAKs9G,oBAClD4iD,EAAalgK,KAAKs9G,mBAAmBr5D,aAAei8G,CACxD,IAAIE,GAAY1vD,EAAW36F,UAAY26F,EAAWzsD,aAAejkD,KAAKu2C,KAAKrpC,SACvD,KAAhBwpG,EACA12G,KAAKu2C,KAAKrpC,UAAY,EAEjBgzJ,EAAa,EAClBlgK,KAAKu2C,KAAKrpC,UAAYlN,KAAKu2C,KAAKrpC,UAAYgzJ,EAErCE,EAAW,GAAKpgK,KAAKu2C,KAAK0N,aAAem8G,IAChDpgK,KAAKu2C,KAAKrpC,UAAYwjG,EAAW36F,WAAa/V,KAAKmV,OAAO6vF,UAAY7nG,EAAY6C,KAAKs9G,oBACnFt9G,KAAKs9G,mBAAmBr5D,aAAe,KAGnD0/G,EAAYnoK,UAAUuuK,gBAAkB,SAAU3oK,GAC9C,GAAIygG,GAAK7hG,KAAKu2C,KAAKzzC,cAAc,MAAQ62G,GAAoBt3G,OACzD4nK,EAAQjqK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,CACvD,QAAPspG,IACIA,EAAGrpG,UAAUC,SAAS,cACtBwxK,GAAgB,GAEhBjqK,KAAK2sG,UAAU9K,IAAOooE,EAAQjqK,KAAKkqK,yBACnClqK,KAAKmqK,oBAAoBtoE,EAAIzgG,GAC7BpB,KAAKglK,aAAanjE,GACA,aAAd7hG,KAAK+vB,MACL/vB,KAAKmoK,kBACLnoK,KAAKqoK,oBACLroK,KAAK0lK,gBAAgB1lK,KAAK2lK,gBAG1B3lK,KAAK0lK,gBAAgB1lK,KAAK2lK,eAE9B3lK,KAAK4lK,mBACa,aAAd5lK,KAAK+vB,MACL/vB,KAAK+kK,iBAAiBljE,EAAGnoG,aAE7BsG,KAAKg+J,gBAELh+J,KAAKmkK,oBACLnkK,KAAK44J,aAGb54J,KAAK8mK,sBAETnD,EAAYnoK,UAAUupK,iBAAmB,SAAUtoK,GAC/C,IAAKuD,KAAKq4J,gBAAkBr4J,KAAKikK,mBAAqBjkK,KAAK8kK,UAAY9kK,KAAKs6G,SAAU,CAClF,GAAI/jE,OAAO,EAEPA,GADmB,eAAnBv2C,KAAK6kG,WAAiD,cAAnB7kG,KAAK6kG,UACjC7kG,KAAK+lG,UAAU/jG,UAAYhC,KAAK+lG,UAAU/jG,WAAU,GAAQhC,KAAK+lG,UAGjE/lG,KAAK8kK,SAAS9iK,UAAYhC,KAAK8kK,SAAS9iK,WAAU,GAAQhC,KAAK8kK,SAE1E9kK,KAAK08G,iBAAiBnmE,EAAMv2C,KAAK6lK,UACjC7lK,KAAKilK,oBAAoBxoK,GACrBuD,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAK8lK,qBAIjBnC,EAAYnoK,UAAUsuK,mBAAqB,SAAU1oK,GACjD,GACIoK,GADA4+J,EAAepqK,KAAKslK,sBAAsBxiK,cAAc,uBAEvC,QAAjBsnK,IACK3sK,EAAkBuC,KAAKhD,SACxBgD,KAAKulK,WAAavlK,KAAKhD,MAAM2E,SAGpB,QADb6J,EAAO4+J,EAAaxpE,sBAEhB5gG,KAAKylK,sBACLzlK,KAAKqqK,iBAAiB7+J,EAAMpK,IAEhCpB,KAAKwlK,YAAY4E,EAAa3jK,aAAa,cAAerF,GAC1DpB,KAAK4lK,oBAEL5lK,KAAKmkK,oBACLnkK,KAAK44J,aAGb+K,EAAYnoK,UAAU8uK,UAAY,SAAUhrE,GACxC,GACIpnG,GADA+L,EAAWjE,KAAKu2C,KAAK37C,iBAAiB,MAAQ++G,GAAoB9X,GAElE59F,GAAS1L,OAAS,IAClByH,KAAKguG,cACL91G,EAAQonG,EAAQ,EAAKr7F,EAAS1L,OAAS,EACvCyH,KAAKglK,aAAa/gK,EAAS/L,IAC3B8H,KAAK+/J,aAAa97J,EAAS/L,GAAQA,IAEvC8H,KAAKipK,uBAETtF,EAAYnoK,UAAUmuK,WAAa,SAAU9zJ,GACzC,GAAI7V,KAAKu2C,KAAM,CACX,GAAItyC,GAAWjE,KAAKu2C,KAAK37C,iBAAiB,MACpC++G,GAAoB9X,GACpB,SAAW4hE,GAAY,0BACzB2G,EAAepqK,KAAKu2C,KAAKzzC,cAAc,MAAQ62G,GAAoBt3G,OACnEmJ,GAAQ,CACZ,IAAIvH,EAAS1L,OAAQ,CACjB,IAAK,GAAIL,GAAQ,EAAGA,EAAQ+L,EAAS1L,OAAQL,IACzC,GAAI+L,EAAS/L,KAAWkyK,EAAc,CAClC5+J,EAAOtT,CACP,OAGJ2d,EAAW,EACPrK,EAAQvH,EAAS1L,OAAS,IAC1ByH,KAAKguG,cACLhuG,KAAKglK,aAAa/gK,IAAWuH,IAC7BxL,KAAK+/J,aAAa97J,EAASuH,GAAOA,IAIlCA,EAAO,IACPxL,KAAKguG,cACLhuG,KAAKglK,aAAa/gK,IAAWuH,IAC7BxL,KAAKkN,UAAUjJ,EAASuH,GAAOA,OAMnDm4J,EAAYnoK,UAAUquK,OAAS,SAAUh0J,EAAUzU,GAC/C,GAAI6C,GACAmmK,EACA5+J,CACJvH,GAAWjE,KAAKslK,sBAAsB1qK,iBAAiB,QAAU8oK,IAE5C,QADrB0G,EAAepqK,KAAKslK,sBAAsBxiK,cAAc,yBAEhD+S,EAAW,GACX7V,KAAKqqK,iBAAiBpmK,EAASA,EAAS1L,OAAS,GAAI6I,GAIrDyU,EAAW,EAEE,QADbrK,EAAO4+J,EAAax2D,0BAEhB5zG,KAAKylK,sBACLzlK,KAAKqqK,iBAAiB7+J,EAAMpK,KAIhCoK,EAAO4+J,EAAaxpE,mBACpB5gG,KAAKylK,sBACQ,OAATj6J,GACAxL,KAAKqqK,iBAAiB7+J,EAAMpK,KAK5CuiK,EAAYnoK,UAAU+uK,UAAY,SAAUnpK,GACxC,GAAIpB,KAAKinB,QAAS,CACd,GAAIpkB,GAAOkD,EAAQ3E,EAAEyH,OAAQ,IAAM66J,GACnC1jK,MAAKylK,sBACLzlK,KAAKqqK,iBAAiBxnK,EAAMzB,KAGpCuiK,EAAYnoK,UAAUiqK,oBAAsB,WACpCzlK,KAAKslK,uBACLtlK,KAAKooK,mBAGbzE,EAAYnoK,UAAU6uK,iBAAmB,SAAUxwK,EAASuH,GACxD4C,GAAUnK,GA3tCE,mBA4tCZmG,KAAKyoB,QAAQ,gBAAiBrnB,IAElCuiK,EAAYnoK,UAAUgvK,aAAe,SAAUppK,GAC3C,GAAgB,IAAZA,EAAE2pD,OAA4B,IAAb3pD,EAAEywH,QAGnB7xH,KAAKinB,UAAYjnB,KAAK2xH,SAAU,CAChC,GAAI93H,GAAUuH,EAAEyH,OAAOmN,cACnBhZ,EAAQgD,KAAKk7G,kBAAkBrhH,EAAQ4M,aAAa,cAQxD,IAPIzG,KAAK2zJ,eAA+B,aAAd3zJ,KAAK+vB,MAC3B/vB,KAAK44J,YAEJ54J,KAAKs1J,YACNt1J,KAAKyuB,aAAapsB,QAEtBrC,KAAKwlK,YAAYxoK,EAAOoE,GACpB3D,EAAkBuC,KAAKu2C,KAAKzzC,cAAc,kBAAoB9F,EAAQ,QAAUgD,KAAK8kK,UAAY9kK,KAAKs6G,SAAU,CAChH,GAAI/jE,GAAOv2C,KAAK8kK,SAAS9iK,UAAYhC,KAAK8kK,SAAS9iK,WAAU,GAAQhC,KAAK8kK,QAC1E9kK,MAAK08G,iBAAiBnmE,EAAMv2C,KAAK6lK,UAErC7lK,KAAK0lK,gBAAgB1lK,KAAK2lK,eAC1B3lK,KAAK4lK,mBACLxkK,EAAEomB,mBAGVm8I,EAAYnoK,UAAUoqK,iBAAmB,WACrC5lK,KAAKyuB,aAAazxB,MAAQ,GAC1BgD,KAAK8mK,sBAETnD,EAAYnoK,UAAUsrK,mBAAqB,WACnC9mK,KAAK+oB,aAAuC,UAAxB/oB,KAAKgpB,eACrBhpB,KAAKhD,OAASgD,KAAKhD,MAAMzE,OACzByH,KAAKyuB,aAAa1F,YAAc,GAGhC/oB,KAAKyuB,aAAa1F,YAAc/oB,KAAK+oB,YAIzC/oB,KAAKyqK,oBAETzqK,KAAK2nK,iBAEThE,EAAYnoK,UAAUgqK,YAAc,SAAUxoK,EAAOw/J,EAAKjkK,GACtD,GAAIL,GAAQ8H,KAAKhD,MAAMwB,QAAQwB,KAAKk7G,kBAAkBl+G,IAClD0G,EAAY1D,KAAKkkK,iBACjBT,GACA9pD,GAAoB1f,QACxB,KAAe,IAAX/hG,EAAc,CACd,GAAI2B,GAAUmG,KAAKu2C,KAAKzzC,cAAc,kBAAoB9F,EAAQ,MAC9DmtB,EAAMnqB,KAAKo/G,eAAepiH,GAC1BqR,GACAjN,EAAGo7J,EACH3jK,KAAMgB,EACNR,SAAU8wB,EACVsmF,eAAc+rD,EACdrsI,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,WAAYpa,GACrBA,EAAU8hB,OACV,MAIJ,IAFAnwB,KAAKhD,MAAMutB,OAAOryB,EAAO,GACzB8H,KAAK2H,eAAgB3K,SAAUkf,UAAWlc,KAAKhD,SAAU,GACzC,OAAZnD,EAAkB,CAClB,GAAI6wK,GAAc1qK,KAAK8kK,SAAShiK,cAAc,kBAAoB9F,EAAQ,KAC1EnD,GAAQgK,aAAa,gBAAiB,SACtC6mK,EAAY7mK,aAAa,gBAAiB,SAC1CW,GAAa3K,EAAS6wK,GAAchnK,GACpC1D,KAAK+O,OAAO,cACR8yB,OAAQ,oBACRqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB8xE,GAAIhoG,EACtCuH,EAAGpB,KAAM9H,MAAOA,IAEpB8H,KAAK+O,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB8xE,GAAIhoG,EAASuH,EAAGo7J,IAC3Gz4J,EAAW/D,KAAKyuB,cAAgBqpH,wBAAyBj+I,EAAQ8J,KAC5D3D,KAAKhD,MAAMzE,SAAWyH,KAAK6lK,SAASttK,QAA0B,aAAdyH,KAAK+vB,MAAuB/vB,KAAKmmK,eAClFnmK,KAAK+O,OAAO,kBAAoB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB/yB,MAAO,YAoB9G,GAjBIgD,KAAKkkK,kBAAoBlkK,KAAKmV,OAAO6vF,SACrChlG,KAAKgnK,cAAchqK,GAEvBgD,KAAK2qK,gBAAe,EAAM3tK,GAC1BgD,KAAK4qK,WAAW5tK,GAChBgD,KAAK6qK,oBACO7qK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,GACtDyH,KAAKkqK,wBAGb1lK,EAFiBxE,KAAKu2C,KAAK37C,iBAAiB,MACtC++G,GAAoB9X,GAAK,mBACP,aAE5B7hG,KAAKyoB,QAAQ,UAAWpa,GACpB9V,IACAyH,KAAK4jK,mBAAmB5qK,KAAKmxB,GAC7BnqB,KAAK6jK,kBAAkB7qK,KAAKa,IAEjB,IAAXtB,EAAc,CACd,GAAI0H,IACA1D,MAAOigK,EACP7kK,MAAOqI,KAAK6jK,kBACZxqK,SAAU2G,KAAK4jK,mBACfnzD,eAAc+rD,EACd70D,WAAW,EAEf3nG,MAAKyoB,QAAQ,cAAexoB,GAC5BD,KAAK4jK,sBACL5jK,KAAK6jK,wBAIjBF,EAAYnoK,UAAUmvK,eAAiB,SAAUrrE,EAAOtiG,GACpD,GAAIgD,KAAKq4J,eAAgB,CACrB,GAAIyS,GAAW9qK,KAAK8kK,SAAShiK,cAAc,kBAAoB9F,EAAQ,KACnE8tK,KACIxrE,GACAwrE,EAASjnK,aAAa,gBAAiB,SACvCW,GAAasmK,GAAW9qK,KAAKkkK,iBACzBT,GACA9pD,GAAoB1f,UACN,aAAdj6F,KAAK+vB,OACL+6I,EAASzlK,kBAAkBxB,aAAa,eAAgB,SACxDW,GAAasmK,EAASzlK,kBAAkBkyG,kBAAmB,cAI/DuzD,EAASjnK,aAAa,gBAAiB,QACvCG,GAAU8mK,GAAW9qK,KAAKkkK,iBACtBT,GACA9pD,GAAoB1f,UACN,aAAdj6F,KAAK+vB,OACL+6I,EAASzlK,kBAAkBxB,aAAa,eAAgB,QACxDG,GAAU8mK,EAASzlK,kBAAkBkyG,kBAAmB,gBAM5EosD,EAAYnoK,UAAUovK,WAAa,SAAU5tK,GACzC,GAAIgD,KAAKslK,sBAAuB,CAC5B,GAAIzrK,GAAUmG,KAAKslK,sBAAsBxiK,cAAc,oBAAsB9F,EAAQ,KACjFnD,IACA6K,EAAO7K,KAInB8pK,EAAYnoK,UAAUqvK,iBAAmB,WACjC7qK,KAAKhD,MAAMzE,QACNkF,EAAkBuC,KAAKslK,yBACvBtlK,KAAKslK,sBAAsB1gK,MAAM6hD,QAAU,IAE9B,cAAdzmD,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,MAClC/vB,KAAK0oK,mBAET1oK,KAAK4nK,qBAGAnqK,EAAkBuC,KAAKslK,yBACxBtlK,KAAKslK,sBAAsB1gK,MAAM6hD,QAAU,QAE1ChpD,EAAkBuC,KAAK4oK,oBACvB5oK,KAAK4oK,iBAAiBhkK,MAAM6hD,QAAU,QAE3CzmD,KAAKgqK,qBAGbrG,EAAYnoK,UAAUuvK,SAAW,SAAU/tK,EAAOvD,EAAM+iK,GAC/Cx8J,KAAKhD,QACNgD,KAAKhD,UAETgD,KAAK2H,eAAgB3K,SAAUkf,UAAWlc,KAAKhD,OAAQA,MAAW,EAClE,IAAInD,GAAUmG,KAAKu2C,KAAKzzC,cAAc,kBAAoB9F,EAAQ,KAClEgD,MAAKguG,cACDn0G,IACAmG,KAAKglK,aAAanrK,GAClBmG,KAAKgrK,iBAAiBnxK,IAER,cAAdmG,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,MAClC/vB,KAAKirK,QAAQxxK,EAAMuD,EAAOw/J,GAE1Bx8J,KAAKkkK,kBAAoBlkK,KAAKmV,OAAO6vF,SACrChlG,KAAKgnK,cAAchqK,GAEvBgD,KAAK6qK,mBACL7qK,KAAKmnK,qBAETxD,EAAYnoK,UAAU2rK,kBAAoB,YAC1BnnK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,KACpDyH,KAAKkqK,wBAGflmK,EAFiBhE,KAAKu2C,KAAK37C,iBAAiB,MACtC++G,GAAoB9X,GAAK,mBACV,cAG7B8hE,EAAYnoK,UAAU0vK,eAAiB,SAAUluK,EAAOw/J,EAAK3iK,EAASsxK,EAAc5yK,GAChF,GAAIyH,KAAKuoK,aAAe4C,EAAc,CAClC,GAAIhhJ,GAAMnqB,KAAKo/G,eAAepiH,GAC1BqR,GACAjN,EAAGo7J,EACH3jK,KAAMgB,EACNR,SAAU8wB,EACVsmF,eAAc+rD,EACdrsI,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,SAAUpa,GACnBA,EAAU8hB,OACV,OAAO,CAMX,IAJI53B,IACAyH,KAAK4jK,mBAAmB5qK,KAAKmxB,GAC7BnqB,KAAK6jK,kBAAkB7qK,KAAKa,IAEjB,IAAXtB,EAAc,CACd,GAAI0H,IACA1D,MAAOigK,EACP7kK,MAAOqI,KAAK6jK,kBACZxqK,SAAU2G,KAAK4jK,mBACfnzD,eAAc+rD,EACd70D,WAAW,EAEf3nG,MAAKyoB,QAAQ,cAAexoB,GAC5BD,KAAK4jK,uBAGb,OAAO,GAEXD,EAAYnoK,UAAUyvK,QAAU,SAAUxxK,EAAMuD,EAAOoE,GACnD,GAAIpB,KAAKslK,sBAAuB,CAC5B,GAAIzsK,GAAOmH,KAAKorK,QAAQ3xK,EAAMuD,EAAOoE,EACrC,IAAIvI,EAAKs3B,OACL,MAEJnwB,MAAKslK,sBAAsBvjK,YAAYlJ,EAAKgB,WAGpD8pK,EAAYnoK,UAAU4sK,gBAAkB,WACpC,GAAInkK,GACAonK,CAIJ,IAHApnK,EAAWjE,KAAKslK,sBAAsB1qK,iBAAiB,QAAU8oK,IACjE2H,EAAgBrrK,KAAKslK,sBAAsB1qK,iBAAiB,QA58CnD,gBA48CwEsC,MAAM,KAAK,IAC5FsH,EAAYP,EA58CA,mBA68CRmI,GAAQuc,SACR,IAAK,GAAIzwB,GAAQ,EAAGA,EAAQmzK,EAAc9yK,OAAQL,IAC9CmzK,EAAcnzK,GAAO0M,MAAM6hD,QAAU,QAIjDk9G,EAAYnoK,UAAU8vK,wBAA0B,SAAUlqK,GACtD,GAAImqK,GAAWxlK,EAAQ3E,EAAEyH,OAAQ,IAAM66J,IACnC8H,EAAYD,EAASzoK,cAAc,QAt9C9B,gBAs9CmD5F,MAAM,KAAK,GACnE8C,MAAKinB,UAAYjnB,KAAK2xH,WACjB45C,EAAS/yK,UAAUC,SAv9ChB,qBAw9CJuH,KAAKooK,kBACLoD,EAAU5mK,MAAM6hD,QAAU,GAC1B8kH,EAAS/yK,UAAU+L,IA19Cf,oBA49CRvE,KAAKg+J,eACL58J,EAAEomB,mBAGVm8I,EAAYnoK,UAAU4vK,QAAU,SAAU3uK,EAAMO,EAAOoE,GACnD,GAAI/H,IAAaI,KAAMuD,EAAOA,MAAOA,GACjCyuK,EAAOzrK,KAAKyB,cAAc,QAC1BiC,UAAWggK,GACX5/J,OAAS4nK,aAAc1uK,EAAO0wD,MAASjxD,KAEvCkvK,EAAc3rK,KAAKyB,cAAc,QAAUiC,UAx+CpC,kBAy+CP8nK,EAAYxrK,KAAKyB,cAAc,QAAUiC,UAx+CpC,iBA4+CT,IAHI1D,KAAK6lK,WACLxsK,EAAW2G,KAAKo/G,eAAepiH,IAE/BgD,KAAKk8J,gBAAkBz+J,EAAkBpE,GAEzC,IAAK,GAAIgF,GAAK,EAAG2E,EADIuN,GAAQvQ,KAAKk8J,eACG7iK,GAAWgF,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAClE,GAAIxF,GAAOmK,EAAG3E,EACdstK,GAAY5pK,YAAYlJ,OAI5B8yK,GAAYnxK,UAAYiC,CAE5BgvK,GAAK1pK,YAAY4pK,EACjB,IAAIt9J,IACAoiG,eAAcrvG,EACd/H,SAAUA,EACV+H,EAAGA,EACHwqK,SAAU,SAAU1nK,GAChBF,GAAUynK,GAAOvnK,IAErBisB,QAAQ,EAGZ,OADAnwB,MAAKyoB,QAAQ,UAAWpa,GACpBA,EAAU8hB,QACDA,QAAQ,EAAMt2B,QAAS4xK,IAEhCr/J,GAAQuc,UACR8iJ,EAAKjzK,UAAU+L,IAz/CT,cA0/CNe,GAAQkmK,GAAYC,GACpBD,EAAU5mK,MAAM6hD,QAAU,OAC1BhhD,GAAalB,IAAIknK,EAAM,QAASzrK,KAAKsrK,wBAAyBtrK,QAG9DyF,GAAalB,IAAIknK,EAAM,YAAazrK,KAAKuqK,UAAWvqK,MAChDA,KAAKonB,iBACLqkJ,EAAK1pK,YAAYypK,IAGzB/lK,GAAalB,IAAIinK,EAAW,YAAaxrK,KAAKwqK,aAAcxqK,OACnDmwB,QAAQ,EAAOt2B,QAAS4xK,KAErC9H,EAAYnoK,UAAUutK,eAAiB,WACnC,GAAIrxJ,GAAQhV,EAAW1C,KAAK8/J,WAK5B,OAJIpoJ,GAAMlZ,QAAQ,MAAQ,IAEtBkZ,GADkB1X,KAAKmvB,6BAAgChP,WAAWzI,GAAS,KACxD/W,WAAa,MAE7B+W,GAEXisJ,EAAYnoK,UAAUqwK,QAAU,WACxB7rK,KAAKinB,UAAYjnB,KAAK2xH,UACtB3xH,KAAK4nK,oBAGbjE,EAAYnoK,UAAUswK,SAAW,WACxB9rK,KAAKs1J,aACNt1J,KAAKykK,aAAa7/J,MAAM6hD,QAAU,SAG1Ck9G,EAAYnoK,UAAU2hH,WAAa,SAAUhqB,EAAYh+E,GACrD,GAAIypF,IAAUnhG,EAAkB0X,EAAOypF,SACnCmtE,EAAgB52J,EAAO5R,UAQ3B,OAPAvD,MAAKgsK,mBAAsC,OAAhB72J,EAAO1b,MAAkC,OAAjB0b,EAAOnY,OACtDmY,OAAQ42J,EAAeloE,SAAUjF,EAAS6D,gBAAkBwE,cAAe,kBACzE9xF,QAAUnY,MAAO,SACvB2B,EAAOqB,KAAKgsK,mBAAoBhsK,KAAKgsK,mBAAoB72J,GAAQ,GAC/C,aAAdnV,KAAK+vB,MACL/vB,KAAK+O,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqBojE,WAAYA,EAAY44E,cAAeA,IAE/H/rK,KAAKgsK,oBAEhBrI,EAAYnoK,UAAUgvH,YAAc,WAChC,GAAIzqH,GAAQC,IAIZ,IAHKA,KAAKu2C,MACNxd,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,OAE5BA,KAAKwlH,SAAU,CAChB,GAAIvlH,IAASkwB,QAAQ,EAErB,IADAnwB,KAAKyoB,QAAQ,aAAcxoB,GACvBA,EAAKkwB,OACL,MAEJp1B,UAAS+R,KAAK/K,YAAY/B,KAAKy0J,aAC/B,IAAIwX,GAAgBjyI,SAASh6B,KAAKm+J,YAAa,GA6B/C,IA5BAn+J,KAAKy0J,aAAa7vJ,MAAMC,WAAa,SACjC7E,KAAK4nG,iBACL5nG,KAAKo+J,oBACL6N,GAAiBjsK,KAAKqyB,OAAO4xB,cAEjC3+C,GAAQtF,KAAKu2C,MAAOv2C,KAAKy0J,cACrBz0J,KAAKglH,iBACLhlH,KAAKklH,oBACL+mD,GAAiBjsK,KAAK61J,OAAO5xG,cAEf,aAAdjkD,KAAK+vB,MAAuB/vB,KAAKmmK,eACjCnmK,KAAK+O,OAAO,aAAe8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,OACrEk8I,GAAiBjsK,KAAKksK,iBAEH,aAAdlsK,KAAK+vB,MAAwB/vB,KAAKmmK,eAAmBnmK,KAAK4nG,gBAAmB5nG,KAAKglH,eAIpE,aAAdhlH,KAAK+vB,MAAwB/vB,KAAKmmK,gBACvCnmK,KAAK+O,OAAO,aAAe8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,OACrEk8I,EAAgBjyI,SAASh6B,KAAKm+J,YAAa,IACvCn+J,KAAK4nG,gBAAkB5nG,KAAKqyB,SAC5B45I,GAAiBjsK,KAAKqyB,OAAO4xB,cAE7BjkD,KAAKglH,gBAAkBhlH,KAAK61J,SAC5BoW,GAAiBjsK,KAAK61J,OAAO5xG,gBAVjCjkD,KAAK+O,OAAO,aAAe8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,OACrEk8I,EAAgBjyI,SAASh6B,KAAKm+J,YAAa,KAY7B,aAAdn+J,KAAK+vB,KAAqB,CAC1B,GAAI49E,IACA9rE,OAAQ,oBACRqpE,OAAsB,aAAdlrG,KAAK+vB,KACby2H,aAAcxmJ,KAAKy0J,aAEvBz0J,MAAK+O,OAAO,YAAa4+F,GACzBs+D,GAAiBjsK,KAAKq+J,gBACtBr6J,GAAUhE,KAAKy0J,cAAe,cAET,SAArBz0J,KAAKm+J,aACLn+J,KAAKu2C,KAAK3xC,MAAMiiH,UAAYnkH,EAAWupK,GACvCjsK,KAAKy0J,aAAa7vJ,MAAMiiH,UAAYnkH,EAAW1C,KAAKm+J,cAGpDn+J,KAAKu2C,KAAK3xC,MAAMiiH,UAAYnkH,EAAW1C,KAAKm+J,aAEhDn+J,KAAKwlH,SAAW,GAAI9F,IAAM1/G,KAAKy0J,cAC3B/8I,MAAO1X,KAAK+oK,iBAAkBjnD,WAAY,WAAYjsG,UAAYiC,EAAG,OAAQC,EAAG,UAChFsoG,SAAUrgH,KAAKuuB,eAAgBgzF,WAAazpG,EAAG,OAAQC,EAAG,QAAU/K,QAAS,EAC7EuC,UAAWvP,KAAKuP,UAChBiuG,OAAQx9G,KAAKw9G,OACbp7G,MAAO,WACCrC,EAAMylH,SAAS3rH,QAAQmc,eACvBzQ,EAAOxF,EAAMylH,SAAS3rH,UAG9BiI,KAAM,WACF/B,EAAMgP,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAuB,aAAfnrG,EAAMgwB,KAAqB/yB,MAAO,aAG5GgD,KAAKwlH,SAASpjH,QACdpC,KAAKy0J,aAAa7vJ,MAAMC,WAAa,GACnB,aAAd7E,KAAK+vB,MAAuB3jB,GAAQuc,UACpC3oB,KAAK+O,OAAO,mBAAqB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,SAIvF4zI,EAAYnoK,UAAU4iK,kBAAoB,WACtC,GAAIp4D,EACAhmG,MAAKqyB,QACLryB,KAAKqyB,OAAO3tB,SAEhB1E,KAAKqyB,OAASryB,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAKqyB,QAxnDV,eA2nDL,KAAK,GADDpuB,IADJ+hG,EAAiBz1F,GAAQvQ,KAAK4nG,qBAErBp8F,EAAO,EAAGA,EAAOvH,EAAS1L,OAAQiT,IACvCxL,KAAKqyB,OAAOtwB,YAAYkC,EAASuH,GAEnB,cAAdxL,KAAK+vB,MAAuB/vB,KAAKmmK,cACjCphK,GAAS/E,KAAKqyB,QAASryB,KAAKy0J,cAG5BnvJ,GAAQtF,KAAKqyB,QAASryB,KAAKy0J,cAE/BhvJ,GAAalB,IAAIvE,KAAKqyB,OAAQ,YAAaryB,KAAKmsK,gBAAiBnsK,OAErE2jK,EAAYnoK,UAAU0pH,kBAAoB,WACtC,GAAIlf,EACAhmG,MAAK61J,QACL71J,KAAK61J,OAAOnxJ,SAEhB1E,KAAK61J,OAAS71J,KAAKyB,cAAc,OACjCuC,GAAUhE,KAAK61J,QA7oDV,eAgpDL,KAAK,GADD5xJ,IADJ+hG,EAAiBz1F,GAAQvQ,KAAKglH,qBAErBx5G,EAAO,EAAGA,EAAOvH,EAAS1L,OAAQiT,IACvCxL,KAAK61J,OAAO9zJ,YAAYkC,EAASuH,GAErClG,IAAQtF,KAAK61J,QAAS71J,KAAKy0J,cAC3BhvJ,GAAalB,IAAIvE,KAAK61J,OAAQ,YAAa71J,KAAKmsK,gBAAiBnsK,OAErE2jK,EAAYnoK,UAAU4wK,SAAW,SAAUhrK,GACvC,GAAIpB,KAAKinB,UAAYjnB,KAAK2xH,SAAU,CAChC,GAAInmH,OAAO,GACP+5J,EAAavlK,KAAKhD,MAAQgD,KAAKhD,MAAM2E,UACzC,IAAI3B,KAAKhD,MACL,IAAKwO,EAAOxL,KAAKhD,MAAM,GAA0B,IAAtBgD,KAAKhD,MAAMzE,OAAciT,EAAOxL,KAAKhD,MAAM,GAClEgD,KAAKwlK,YAAYh6J,EAAMpK,EAG/B,IAAIpB,KAAK8kK,UAAY9kK,KAAKs6G,UAAYt6G,KAAKq4J,eAAgB,CACvD,GAAI9hH,GAAOv2C,KAAK8kK,SAAS9iK,UAAYhC,KAAK8kK,SAAS9iK,WAAU,GAAQhC,KAAK8kK,QAC1E9kK,MAAK08G,iBAAiBnmE,EAAMv2C,KAAK6lK,UAErC7lK,KAAK4kK,uBACL5kK,KAAK0lK,gBAAgB1lK,KAAK2lK,eACR,QAAd3lK,KAAK+vB,MACL/vB,KAAKmoK,kBAETnoK,KAAK4lK,mBACD5lK,KAAK2zJ,eACL3zJ,KAAKg+J,eAEJh+J,KAAKs1J,aACNt1J,KAAK+mK,iBAAiB3lK,EAAGpB,KAAKhD,MAAOuoK,GACnB,aAAdvlK,KAAK+vB,MACL/vB,KAAKyuB,aAAapsB,SAGR,aAAdrC,KAAK+vB,OACL/vB,KAAK8mK,qBACL9mK,KAAKqoK,qBAETjnK,EAAEomB,mBAGVm8I,EAAYnoK,UAAU6wK,aAAe,WACjCrsK,KAAKg+J,gBACAh+J,KAAKs1J,YAAct1J,KAAK2oK,aAAe3oK,KAAK2oK,YAAY3yJ,eACzDhW,KAAKmoK,mBAGbxE,EAAYnoK,UAAUk+J,kBAAoB,SAAUt4J,GAChD,GAAIuwI,GAAc5rI,EAAQ/F,KAAKyuB,aAAc,OACzCkjH,IAAevwI,EAAEyH,SAAW8oI,IAC5B3xI,KAAKhD,MAAQ,OAGrB2mK,EAAYnoK,UAAUm+J,UAAY,WAC9Bl0J,GAAalB,IAAIvE,KAAKmvB,iBAAkB,YAAanvB,KAAKkoK,aAAcloK,MACxEyF,GAAalB,IAAIvI,OAAQ,SAAUgE,KAAKqsK,aAAcrsK,MACtDyF,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAK22H,QAAS32H,MAC3DyF,GAAalB,IAAIvE,KAAKyuB,aAAc,UAAWzuB,KAAKkpK,UAAWlpK,MAC/DyF,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAK0nK,MAAO1nK,MACvC,aAAdA,KAAK+vB,MACLtqB,GAAalB,IAAIvE,KAAKyuB,aAAc,QAASzuB,KAAK49J,QAAS59J,MAE/DyF,GAAalB,IAAIvE,KAAKyuB,aAAc,OAAQzuB,KAAKq5J,OAAQr5J,MACzDyF,GAAalB,IAAIvE,KAAKmvB,iBAAkB,YAAanvB,KAAK6rK,QAAS7rK,KACnE,IAAI2xI,GAAc5rI,EAAQ/F,KAAKyuB,aAAc,OACzCkjH,IACAlsI,GAAalB,IAAIotI,EAAa,QAAS3xI,KAAK05J,kBAAmB15J,MAEnEyF,GAAalB,IAAIvE,KAAKmvB,iBAAkB,WAAYnvB,KAAK8rK,SAAU9rK,MACnEyF,GAAalB,IAAIvE,KAAKykK,aAAc,UAAWzkK,KAAKosK,SAAUpsK,OAElE2jK,EAAYnoK,UAAUoiK,QAAU,WACxB59J,KAAK+jK,cACL/jK,KAAK42J,YAAa,EAGlB52J,KAAK42J,YAAa,EAEtB52J,KAAK+jK,eAAgB,GAEzBJ,EAAYnoK,UAAUyY,UAAY,WAC9BjU,KAAKm2J,iBACLp9H,EAAOv9B,UAAUyY,UAAUrT,KAAKZ,OAEpC2jK,EAAYnoK,UAAU26J,eAAiB,WACnCn2J,KAAKomK,sBACLpmK,KAAKs2J,iBAAkB,EACvBt2J,KAAKkjK,cAAe,EACpBljK,KAAK8nK,oBAAqB,EAC1B9nK,KAAK6kK,cAAe,EACpB7kK,KAAK8oK,WAAY,EACjB9oK,KAAK6iK,YAAa,EAClB7iK,KAAKwoG,SAAU,EACfxoG,KAAK+xH,SAAU,EACf/xH,KAAKgoK,aAAc,GAEvBrE,EAAYnoK,UAAUgjH,WAAa,SAAUmnD,GACzC,GAGIn6J,GAHA/O,EAAO,GACP6vK,EAAsB,cAAdtsK,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,KAC1Ct2B,KAEAs5G,EAAW/yG,KAAKs6G,QAGpB,IAFAt6G,KAAKs6G,SAAWt6G,KAAK6lK,SACrB7lK,KAAKi2J,cAAcz7J,UAAY,IAC1BiD,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAOvDuE,IALI+O,EADAxL,KAAKs6G,SACEt6G,KAAKy7G,eAAez7G,KAAKhD,MAAM9E,IAG/B8H,KAAKhD,MAAM9E,IAEPytK,EAAgB,IAC/BlsK,EAAKT,KAAKwS,GACVxL,KAAKi2J,cAAcz7J,WAAa,4BAA8BwF,KAAKhD,MAAM9E,GAAS,KAAOA,EAAQ,WAGzG8H,MAAKvG,KAAOA,EAAKkH,WACb2rK,IACAtsK,KAAK4oK,iBAAiBpuK,UAAYiC,GAEtCuD,KAAKs6G,SAAWvH,GAEpB4wD,EAAYnoK,UAAUorK,mBAAqB,WACvC,GAAI5mK,KAAKu2C,KAAM,CACX,GAAI98C,OAAO,GAGPI,MAAU,GACVmD,MAAQ,EAKZ,IAJIgD,KAAKslK,wBACLtlK,KAAKslK,sBAAsB9qK,UAAY,IAE3CwF,KAAKusK,uBACA9uK,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAKvD,GAJA8E,EAAQgD,KAAKhD,MAAM9E,GACnB2B,EAAUmG,KAAKkkK,iBAAmBlkK,KAAK+lG,UAAUjjG,cAAc,kBAAoB9F,EAAQ,MACrFgD,KAAKu2C,KAAKzzC,cAAc,kBAAoB9F,EAAQ,MAC1DvD,EAAOuG,KAAKy7G,eAAez+G,GACtBnD,GAAsD,SAA1CA,EAAQ4M,aAAa,kBACjC5M,GAAsD,SAA1CA,EAAQ4M,aAAa,kBAA+BzG,KAAKkkK,mBACnD,QAAdlkK,KAAK+vB,MAAgC,YAAd/vB,KAAK+vB,MACjC/vB,KAAKirK,QAAQxxK,EAAMuD,GACnBgD,KAAKgrK,iBAAiBnxK,OAErB,IAAImD,GAASgD,KAAKikK,iBAAkB,CACrC,GAAIuI,GAAYxsK,KAAKs6G,SAAS/hH,OAC1BuP,IACJ1K,GAAS4C,KAAKmV,OAAO1b,KAAMuD,EAAO8K,GAClC1K,EAAS4C,KAAKmV,OAAOnY,MAAOA,EAAO8K,GACnC9H,KAAKwzG,QAAQ1rG,EAAU0kK,GACvBxsK,KAAKirK,QAAQxxK,EAAMuD,GACnBgD,KAAKgrK,iBAAiBnxK,GAIhB,aAAdmG,KAAK+vB,MACL/vB,KAAKmoK,kBACLnoK,KAAK+mK,iBAAiB,KAAM/mK,KAAKhD,MAAOgD,KAAKulK,YAC7CvlK,KAAKqoK,oBACLroK,KAAK0lK,gBAAgB1lK,KAAK2lK,gBAG1B3lK,KAAK0lK,gBAAgB1lK,KAAK2lK,eAEZ,aAAd3lK,KAAK+vB,MAAuB/vB,KAAKmmK,eAAiB1oK,EAAkBuC,KAAKhD,QACzEgD,KAAK+O,OAAO,kBAAoB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB/yB,MAAO,YAErGgD,KAAKs1J,aACY,QAAdt1J,KAAK+vB,KACL/vB,KAAKslK,sBAAsB1gK,MAAM6hD,QAAU,GAExB,cAAdzmD,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,MACvC/vB,KAAK0oK,sBAKrB/E,EAAYnoK,UAAUmxG,UAAY,SAAU9K,GACxC,MAAQA,KAAOA,EAAGrpG,UAAUC,SAASkhH,GAAoBlb,YAAcoD,EAAGrpG,UAAUC,SAASkhH,GAAoBj2E,QAC7Gm+D,EAAGrpG,UAAUC,SAASkhH,GAAoB9X,KAGlD8hE,EAAYnoK,UAAU2uK,oBAAsB,SAAUtoE,EAAIzgG,EAAG7I,GACzD,GAAIyE,GAAQgD,KAAKk7G,kBAAkBrZ,EAAGp7F,aAAa,eAC/ChN,EAAOuG,KAAKy7G,eAAez+G,EAE/B,IADAgD,KAAKkuG,cACAluG,KAAKhD,QAAwC,IAA/BgD,KAAKhD,MAAMwB,QAAQxB,GAuBlCgD,KAAKwlK,YAAYxoK,EAAOoE,EAAG7I,OAvBsB,CAEjD,GADiByH,KAAKkrK,eAAeluK,EAAOoE,EAAGygG,EAA0C,SAArCA,EAAGp7F,aAAa,iBAA8BlO,GAE9F,MAEJ,KAAKyH,KAAKikK,kBAAoBjkK,KAAKq4J,kBAAoBr4J,KAAK8kK,SAAShiK,cAAc,kBAAoB9F,EAAQ,MAAO,CAClH,GAAIwO,GAAOq2F,EAAG7/F,WAAU,GACpBvF,EAAOuD,KAAKo/G,eAAepiH,EAC/BsI,IAAQkG,GAAOxL,KAAK8kK,UACpB9kK,KAAK6lK,SAAS7sK,KAAKyD,EACnB,IAAI4R,IACA6pD,QAASz7D,EACT0zB,QAAQ,EAGZ,IADAnwB,KAAKyoB,QAAQ,uBAAwBpa,GACjCA,EAAU8hB,OACV,OAGRnwB,KAAKqmK,mBAAoB,EACzBrmK,KAAK+qK,SAAS/tK,EAAOvD,EAAM2H,KAMnCuiK,EAAYnoK,UAAU+wK,oBAAsB,WACxC,GAAI7oK,GAAY1D,KAAKkkK,iBACjBT,GACA9pD,GAAoB1f,SACpB6T,EAAgB9tG,KAAKu2C,KAAK37C,iBAAiB,IAAM8I,GACjD8H,EAAOsiG,EAAcv1G,MACzB,IAAIu1G,GAAiBA,EAAcv1G,OAE/B,IADAiM,EAAYspG,EAAepqG,GACpB8H,EAAO,GACVsiG,EAActiG,EAAO,GAAG3H,aAAa,gBAAiB,SACtD2H,GAGR,KAAK/N,EAAkBuC,KAAK8kK,UAAW,CACnC,GAAI2H,GAAczsK,KAAK8kK,SAASlqK,iBAAiB,IAAM8I,GACnD2jK,EAAQoF,EAAYl0K,MACxB,IAAIk0K,GAAeA,EAAYl0K,OAE3B,IADAiM,EAAYioK,EAAa/oK,GAClB2jK,EAAQ,GACXoF,EAAYpF,EAAQ,GAAGxjK,aAAa,gBAAiB,SACnC,aAAd7D,KAAK+vB,OACL08I,EAAYpF,EAAQ,GAAGhiK,kBAAkBxB,aAAa,eAAgB,SACtEW,GAAaioK,EAAYpF,EAAQ,GAAGhiK,kBAAkBkyG,kBAAmB,YAE7E8vD,MAMhB1D,EAAYnoK,UAAU0yG,YAAc,WAChC,GAAImsD,GAAcr6J,KAAKu2C,KAAK37C,iBAAiB,IAAM++G,GAAoBpR,MACnE8xD,IAAeA,EAAY9hK,QAC3BiM,EAAY61J,EAAa1gD,GAAoBpR,QAIrDo7D,EAAYnoK,UAAUwyG,YAAc,WAChC,GAAIhuG,KAAKu2C,KAAM,CACX,GAAI8jH,GAAcr6J,KAAKu2C,KAAK37C,iBAAiB,IAAM++G,GAAoBt3G,OACnEqqK,EAAW1sK,KAAK8kK,SAASlqK,iBAAiB,IAAM++G,GAAoBt3G,MACpEg4J,IAAeA,EAAY9hK,SAC3BiM,EAAY61J,EAAa1gD,GAAoBt3G,OAC7CmC,EAAYkoK,EAAU/yD,GAAoBt3G,UAKtDshK,EAAYnoK,UAAUmxK,aAAe,SAAU9qE,GACvC7hG,KAAKinB,SAAWjnB,KAAK2sG,UAAU9K,KAC/B7hG,KAAKkuG,cACLlqG,GAAU69F,GAAK8X,GAAoBpR,SAI3Co7D,EAAYnoK,UAAUwpK,aAAe,SAAUnrK,GACvCmG,KAAKinB,SAAWjnB,KAAK2sG,UAAU9yG,KAC/BmG,KAAKguG,cACLhqG,GAAUnK,GAAU8/G,GAAoBt3G,SAGhDshK,EAAYnoK,UAAUwvK,iBAAmB,SAAUnxK,GAC/C,GAAI6J,GAAY1D,KAAKkkK,iBACjBT,GACA9pD,GAAoB1f,QACxB,IAAIj6F,KAAK2sG,UAAU9yG,KAAaA,EAAQrB,UAAUC,SAASkhH,GAAoBpR,OAAQ,CAInF,GAHAvkG,GAAUnK,GAAU6J,GACpB1D,KAAK2qK,gBAAe,EAAO9wK,EAAQ4M,aAAa,eAChD5M,EAAQgK,aAAa,gBAAiB,QACpB,aAAd7D,KAAK+vB,KAAqB,CAC1B,GAAI68I,GAAY/yK,EAAQwL,kBAAkBoB,aAAa,iBACrC,UAAdmmK,GAAyBnvK,EAAkBmvK,KAC3C5sK,KAAK+O,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB8xE,GAAIhoG,EAASuH,EAAGpB,OAGnHA,KAAK+O,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB8xE,GAAIhoG,EAASuH,EAAGpB,OACxE,OAA/BA,KAAKslK,uBACLtlK,KAAKylK,sBAET1hK,EAAW/D,KAAKyuB,cAAgBqpH,wBAAyBj+I,EAAQ8J,OAGzEggK,EAAYnoK,UAAUkqK,gBAAkB,SAAUmH,GAC9C7sK,KAAKw+G,WAAWquD,IAEpBlJ,EAAYnoK,UAAUu+J,aAAe,SAAU34J,GAC3CpB,KAAK8jK,mBAAoB,CACzB,IACIjiE,GAAK97F,EADI3E,EAAEyH,OACU,IAAM8wG,GAAoB9X,GACnD,IAAI7hG,KAAK2sG,UAAU9K,GAAK,CACpB,GAAIooE,GAAQjqK,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAASyH,KAAKhD,MAAMzE,OAAS,CAC9DspG,GAAGrpG,UAAUC,SAAS,cACtBwxK,GAAgB,GAEhBA,EAAQjqK,KAAKkqK,yBACblqK,KAAKmqK,oBAAoBtoE,EAAIzgG,GAC7BpB,KAAKglK,aAAanjE,IACb7hG,KAAKikK,kBAAoBjkK,KAAKq4J,iBAAmBr4J,KAAK8kK,UAAY9kK,KAAKs6G,UACtD,aAAdt6G,KAAK+vB,MACL/vB,KAAKilK,oBAAoBpjE,EAAGp7F,aAAa,eAE7CzG,KAAK8lK,oBAGL9lK,KAAK4lK,oBAGK,aAAd5lK,KAAK+vB,MACL/vB,KAAKmoK,kBACLnoK,KAAKqoK,oBACLroK,KAAK0lK,gBAAgB1lK,KAAK2lK,gBAG1B3lK,KAAK0lK,gBAAgB1lK,KAAK2lK,eAE9B3lK,KAAKknK,iBACLlnK,KAAKg+J,eACDh+J,KAAKkkK,kBACLlkK,KAAK4kK,uBAEL5kK,KAAKmkK,mBACLnkK,KAAK44J,YAGLx3J,EAAEomB,iBAENxnB,KAAK4lK,uBAGLxkK,GAAEomB,gBAEY,cAAdxnB,KAAK+vB,MACL/vB,KAAK+kK,iBAAiBtnK,EAAkBokG,GAAM,KAAOA,EAAGnoG,aAE5DsG,KAAK8mK,sBAETnD,EAAYnoK,UAAUw+J,YAAc,SAAU54J,GAC1C,GAAIw8G,GAAY73G,EAAQ3E,EAAEyH,OAAQ,IAAM8wG,GAAoB9X,GAC5D7hG,MAAK2sK,aAAa/uD,IAEtB+lD,EAAYnoK,UAAUy+J,aAAe,SAAU74J,GAC3CpB,KAAKkuG,eAETy1D,EAAYnoK,UAAU2wK,gBAAkB,SAAU/qK,GAC9CA,EAAEomB,iBACFxnB,KAAK8jK,mBAAoB,GAE7BH,EAAYnoK,UAAUigK,gBAAkB,SAAUr6J,GAC9C,GAAkB,aAAdpB,KAAK+vB,KAAqB,CAC1B,GAAIlnB,GAASzH,EAAEyH,QACRpL,EAAkBuC,KAAKwlH,WAAaz/G,EAAQ8C,EAAQ,IAAM7I,KAAKwlH,SAAS3rH,QAAQ8J,KAClF3D,KAAKuuB,eAAe91B,SAAS2I,EAAEyH,QAIhC7I,KAAK8jK,mBAAqB13J,GAAQ0d,MAA8B,SAAtB1d,GAAQwc,KAAKqK,OAAqBl4B,SAASm1G,gBAAkBlwG,KAAKyuB,aAH5GzuB,KAAK8jK,mBAAoB,IAOrCH,EAAYnoK,UAAUs8J,eAAiB,WACnCryJ,GAAalB,IAAIxJ,SAAU,YAAaiF,KAAKy7J,gBAAiBz7J,MAC9DyF,GAAalB,IAAIvE,KAAKu2C,KAAM,YAAav2C,KAAKmsK,gBAAiBnsK,MAC/DyF,GAAalB,IAAIvE,KAAKu2C,KAAM,UAAWv2C,KAAK+5J,aAAc/5J,MAC1DyF,GAAalB,IAAIvE,KAAKu2C,KAAM,YAAav2C,KAAKg6J,YAAah6J,MAC3DyF,GAAalB,IAAIvE,KAAKu2C,KAAM,WAAYv2C,KAAKi6J,aAAcj6J,OAG/D2jK,EAAYnoK,UAAUgrK,iBAAmB,WACrC/gK,GAAaf,OAAO3J,SAAU,YAAaiF,KAAKy7J,iBAC5Cz7J,KAAKu2C,OACL9wC,GAAaf,OAAO1E,KAAKu2C,KAAM,YAAav2C,KAAKmsK,iBACjD1mK,GAAaf,OAAO1E,KAAKu2C,KAAM,UAAWv2C,KAAK+5J,cAC/Ct0J,GAAaf,OAAO1E,KAAKu2C,KAAM,YAAav2C,KAAKg6J,aACjDv0J,GAAaf,OAAO1E,KAAKu2C,KAAM,WAAYv2C,KAAKi6J,gBAIxD0J,EAAYnoK,UAAUwuK,iBAAmB,WAChChqK,KAAKhD,OAAUgD,KAAKhD,MAAMzE,QAAsC,KAA5ByH,KAAKyuB,aAAazxB,QACvDgD,KAAKykK,aAAa7/J,MAAM6hD,QAAU,SAG1Ck9G,EAAYnoK,UAAUosK,iBAAmB,YAC/B5nK,KAAKhD,OAASgD,KAAKhD,MAAMzE,QAAuC,KAA5ByH,KAAKyuB,aAAazxB,QAAiBgD,KAAKonB,gBAC9EpnB,KAAKykK,aAAa7/J,MAAM6hD,QAAU,GAGlCzmD,KAAKykK,aAAa7/J,MAAM6hD,QAAU,QAO1Ck9G,EAAYnoK,UAAUyoB,YAAc,WAC5BxmB,EAAkBuC,KAAKu6J,kBACiB,SAApCv6J,KAAKykK,aAAa7/J,MAAM6hD,QACxBzmD,KAAKu6J,eAAiBv6J,KAAKykK,cAG3BzkK,KAAKu6J,eAAiBv6J,KAAKyB,cAAc,QAAUiC,UAAWopK,mDAC9D9sK,KAAKmvB,iBAAiBptB,YAAY/B,KAAKu6J,iBAE3Ch+I,IAAgB1T,OAAQ7I,KAAKu6J,eAAgB7iJ,MAAOtL,GAAQuc,SAAW,OAAS,QAAU3oB,KAAKyB,eAC/FuC,GAAUhE,KAAKu6J,gBAhjER,sBAijEPt2I,GAAYjkB,KAAKu6J,kBAOzBoJ,EAAYnoK,UAAUgpB,YAAc,WAC3B/mB,EAAkBuC,KAAKu6J,kBACxB/1I,GAAYxkB,KAAKu6J,gBACjB/1J,GAAaxE,KAAKu6J,gBA3jEX,sBA4jEHv6J,KAAKu6J,eAAe/hK,UAAUC,SA3jE1B,qBA4jEJ8M,EAAOvF,KAAKu6J,gBAGZv6J,KAAKu6J,eAAe//J,UAAY,GAEpCwF,KAAKu6J,eAAiB,OAG9BoJ,EAAYnoK,UAAU2sK,gBAAkB,WAQpC,GAPInoK,KAAK4oK,kBACL5oK,KAAK6oK,mBAEL7oK,KAAKslK,wBACLtlK,KAAKslK,sBAAsB1gK,MAAM6hD,QAAU,QAE/CzmD,KAAK2oK,YAAY/jK,MAAM6hD,QAAU,GAC7BzmD,KAAKhD,OAASgD,KAAKhD,MAAMzE,OAAQ,CACjC,GAAIkE,GAAO,GACP+O,MAAO,GACPunG,MAAW,GACXg6D,EAAY,EACZC,MAAc,GACdC,MAAY,EAChBjtK,MAAK2oK,YAAYnuK,UAAY,EAC7B,IAMI0yK,GADO,GAAIphH,IAAK,aAJhBuvD,kBAAmB,mBACnBC,sBAAuB,qBACvB6xD,sBAAuB,oBAEkBntK,KAAKgP,QACzBu9C,YAAY,yBACjC6gH,EAAeptK,KAAKyB,cAAc,QAClCiC,UAvmEK,aAymELsiG,EAAiBz1F,GAAQ28J,EAC7BE,GAAarrK,YAAYikG,GAAiB/lF,MAASjgB,KAAKhD,MAAMzE,SAAU,IACxEyH,KAAK2oK,YAAY5mK,YAAYqrK,EAC7B,IAAIC,GAAaD,EAAatoK,WAC9BJ,GAAO0oK,GACPptK,KAAK2oK,YAAYnuK,UAAY,EACbwF,MAAKwuB,cAAc1pB,WAAnC,IACIwoK,GAAmBtzI,SAASh+B,OAAOiS,iBAAiBjO,KAAKmvB,kBAAkBzX,MAAO,IAClFsiB,SAASh+B,OAAOiS,iBAAiBjO,KAAKmvB,kBAAkBwvI,YAAa,IACrE3kI,SAASh+B,OAAOiS,iBAAiBjO,KAAKmvB,kBAAkBo+I,aAAc,IACtEC,MAAc,EAClB,KAAK/vK,EAAkBuC,KAAKhD,OACxB,IAAK,GAAI9E,GAAQ,GAAIuF,EAAkBuC,KAAKhD,MAAM9E,IAASA,IAAS,CAEhE,GADAuE,GAAmB,IAAVvE,EAAe,GAAK8H,KAAK2lK,cAAgB,IAC9C3lK,KAAK6lK,UAAY7lK,KAAK6lK,SAASttK,OAC/B,GAAkB,aAAdyH,KAAK+vB,KAAqB,CAC1By9I,EAAc,GACd,IAAIC,GAAUztK,KAAKs6G,QACnBt6G,MAAKs6G,SAAWt6G,KAAK6lK,SACrBr6J,EAAOxL,KAAKy7G,eAAez7G,KAAKhD,MAAM9E,IACtC8H,KAAKs6G,SAAWmzD,MAGhBD,GAAc,EACdhiK,EAAOxL,KAAKy7G,eAAez7G,KAAKhD,MAAM9E,QAI1CsT,GAAOxL,KAAKhD,MAAM9E,EAMtB,IAJAuE,GAAQ+O,EACRA,EAAOxL,KAAK2oK,YAAYnuK,UACxBwF,KAAK2oK,YAAYnuK,UAAYiC,GAC7BuwK,EAAchtK,KAAK2oK,YAAY7jK,aACXwoK,EAAmBE,EAAa,KAC/Bp0K,KAAb25G,IACAvnG,EAAOunG,EACP76G,EAAQ60K,EAAY,GAExB/sK,KAAK2oK,YAAYnuK,UAAYgR,EAC7ByhK,EAAYjtK,KAAKhD,MAAMzE,OAASL,CAChC,OAEM80K,EAAcK,GAAeC,GACnCv6D,EAAWt2G,EACXswK,EAAY70K,GAEG,IAAVA,IACL66G,EAAW,GACXg6D,GAAa,GAIrBE,EAAY,IACZG,EAAa5yK,UAAY,GACzB4yK,EAAarrK,YAAYikG,GAAiB/lF,MAASgtJ,IAAa,IAChEjtK,KAAK2oK,YAAY5mK,YAAYqrK,QAIjCptK,MAAK2oK,YAAYnuK,UAAY,GAC7BwF,KAAK2oK,YAAY/jK,MAAM6hD,QAAU,QAGzCk9G,EAAYnoK,UAAU+/J,YAAc,WAChC91J,GAAaf,OAAO1E,KAAKmvB,iBAAkB,YAAanvB,KAAKkoK,cAC7DziK,GAAaf,OAAO1I,OAAQ,SAAUgE,KAAKqsK,cAC3C5mK,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAK22H,SACrDlxH,GAAaf,OAAO1E,KAAKyuB,aAAc,UAAWzuB,KAAKkpK,WACrC,aAAdlpK,KAAK+vB,MACLtqB,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAK49J,SAEzDn4J,GAAaf,OAAO1E,KAAKyuB,aAAc,QAASzuB,KAAK0nK,MACrD,IAAI/1B,GAAc5rI,EAAQ/F,KAAKyuB,aAAc,OACzCkjH,IACAlsI,GAAaf,OAAOitI,EAAa,QAAS3xI,KAAK05J,mBAEnDj0J,GAAaf,OAAO1E,KAAKyuB,aAAc,OAAQzuB,KAAKq5J,QACpD5zJ,GAAaf,OAAO1E,KAAKmvB,iBAAkB,YAAanvB,KAAK6rK,SAC7DpmK,GAAaf,OAAO1E,KAAKmvB,iBAAkB,WAAYnvB,KAAK8rK,UAC5DrmK,GAAaf,OAAO1E,KAAKykK,aAAc,YAAazkK,KAAKosK,WAE7DzI,EAAYnoK,UAAUkyK,cAAgB,SAAUpuE,GAC5C,GAAIuC,GAIAtpG,GAHJspG,EAAK7hG,KAAKu2C,KAAK37C,iBAAiB0kG,EAC5B,kEACA,kDACY/mG,MAChB,IAAIspG,GAAMA,EAAGtpG,OACT,KAAOA,EAAS,GACZyH,KAAKmqK,oBAAoBtoE,EAAGtpG,EAAS,GAAI,KAAMA,GAC/CA,GAGU,SAAdyH,KAAK+vB,MAAmB/vB,KAAK2zJ,cAI7B3zJ,KAAKwuB,cAAch2B,UAAUkM,OA5sEzB,eAysEJ1E,KAAKmoK,kBAKS,aAAdnoK,KAAK+vB,MACL/vB,KAAKmoK,kBACLnoK,KAAKqoK,oBACLroK,KAAK0lK,gBAAgB1lK,KAAK2lK,gBAG1B3lK,KAAK0lK,gBAAgB1lK,KAAK2lK,eAE9B3lK,KAAK8mK,sBAETnD,EAAYnoK,UAAUijH,UAAY,WAC1Bz+G,KAAKwlH,UACLxlH,KAAKwlH,SAAS79G,eAAgB61G,OAAUx9G,KAAKw9G,UAGrDmmD,EAAYnoK,UAAU8iH,iBAAmB,SAAUpzG,GAC3CzN,EAAkBuC,KAAKu2C,MACvBv2C,KAAKwqH,cAGLxqH,KAAK87G,UAAU97G,KAAKmzF,YAEpBnzF,KAAKhD,OAASgD,KAAKhD,MAAMzE,SACzByH,KAAK2H,eAAgB3K,MAASgD,KAAKhD,QACnCgD,KAAK8lK,qBAGbnC,EAAYnoK,UAAUmyK,aAAe,WACjC3tK,KAAK2mK,aAAc,EACnB3mK,KAAKwqH,eAKTm5C,EAAYnoK,UAAU6jD,eAAiB,WACnC,MAAOr/C,MAAK8/C,cAAc,WAO9B6jH,EAAYnoK,UAAU+5B,kBAAoB,SAAUwF,EAASC,GACrDD,EAAQo4D,aAAe11F,EAAkBc,OAAOjB,KAAKy9B,EAAQo4D,eAC7DnzF,KAAK8kK,SAAW,KAChB9kK,KAAK6lK,SAAW,MAES,gBAAzB7lK,KAAKkH,iBACLlH,KAAKu+G,kBAAkB,SAAU,QAAS,cAAexjF,EAE7D,KAAK,GAAI18B,GAAK,EAAG2E,EAAKzE,OAAOjB,KAAKy9B,GAAU18B,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC9D,GAAI6M,GAAOlI,EAAG3E,EACd,QAAQ6M,GACJ,IAAK,QACL,IAAK,aACiB,aAAdlL,KAAK+vB,MAAuB/vB,KAAKmmK,gBAC5B1oK,EAAkBuC,KAAKwlH,YACxBxlH,KAAKwlH,SAAS3xG,UACd7T,KAAKwlH,SAAW,MAEpBxlH,KAAKwqH,cAET,MACJ,KAAK,iBACDxqH,KAAKokK,qBACL,MACJ,KAAK,kBACDpkK,KAAKwkK,kBAAkBzpI,EAAQ3T,gBAC/B,MACJ,KAAK,QACIpnB,KAAKu2C,KAGAv2C,KAAKs1J,aACXt1J,KAAK4mK,qBACa,QAAd5mK,KAAK+vB,MACL/vB,KAAKmoK,kBAETnoK,KAAKqoK,oBACLroK,KAAK8mK,qBACL9mK,KAAK+mK,iBAAiB,KAAM/mK,KAAKhD,MAAOg+B,EAAQh+B,QAThDgD,KAAK2tK,cAWT,MACJ,KAAK,QACDjnK,EAAkB1G,KAAKuuB,gBAAkB7W,MAAShV,EAAWq4B,EAAQrjB,SACrE1X,KAAKwlH,SAAS79G,eAAgB+P,MAAO1X,KAAK+oK,kBAC1C,MACJ,KAAK,cACD/oK,KAAK8mK,oBACL,MACJ,KAAK,uBACD9mK,KAAK+O,OAAO,wBAA0B0uJ,qBAAsB1iI,EAAQ0iI,sBACpE,MACJ,KAAK,gBACiB,QAAdz9J,KAAK+vB,MACL/vB,KAAKmoK,kBAETnoK,KAAKw+G,WAAWzjF,EAAQ4qI,cACxB,MACJ,KAAK,WACD3lK,KAAKy0J,aAAaj8J,UAAUkM,OAAOs2B,EAAQzmB,UAC3CvU,KAAKuuB,eAAe/1B,UAAUkM,OAAOs2B,EAAQzmB,UAC7CvU,KAAK0kK,gBACL,MACJ,KAAK,YACD1kK,KAAKgkK,UAAUjpI,EAAQxrB,WACvBwpB,EAAOv9B,UAAU+5B,kBAAkB30B,KAAKZ,KAAM+6B,EAASC,EACvD,MACJ,KAAK,WACDh7B,KAAKukK,eAAexpI,EAAQ42F,UAC5B3xH,KAAK44J,WACL,MACJ,KAAK,UACD54J,KAAK44J,YACL54J,KAAKkrG,OAAOnwE,EAAQ9T,QACpB,MACJ,KAAK,gBACGjnB,KAAKwlH,WACLxlH,KAAKwlH,SAAS3xG,UACd7T,KAAKwlH,SAAW,MAEpBxlH,KAAKwqH,aACL,MACJ,KAAK,mBACDxqH,KAAK4tK,cACL,MACJ,KAAK,iBACD5tK,KAAKyqK,mBACL,MACJ,KAAK,uBACD,KACJ,KAAK,gBACDzqK,KAAK+O,OAAO,iBAAiB,EAC7B,MACJ,KAAK,cACL,IAAK,iBACL,IAAK,iBACG/O,KAAKwlH,WACLxlH,KAAKwlH,SAAS3xG,UACd7T,KAAKwlH,SAAW,MAEpBxlH,KAAKwqH,aACL,MACJ,SACI,GAAIqjD,OAAU,EACdA,GAAU7tK,KAAKk6G,cAAchvG,EAAM6vB,EAASC,GAC5CjC,EAAOv9B,UAAU+5B,kBAAkB30B,KAAKZ,KAAM6tK,EAAQ1zD,YAAa0zD,EAAQzzD,gBAS3FupD,EAAYnoK,UAAUo9J,UAAY,WAE9B,GAAI54J,KAAK2zJ,cAAe,CACpB,GAAIwL,IACAlsI,KAAM,UACNxmB,SAAU,IACV5M,MALI,KAOJwO,GAAc+wJ,MAAOp/J,KAAKwlH,SAAUr1F,QAAQ,EAAO0J,UAAWslI,EAElE,IADAn/J,KAAKyoB,QAAQ,QAASpa,GAClBA,EAAU8hB,OACV,MAEJnwB,MAAKs2J,iBAAkB,EACvBt2J,KAAKuuB,eAAe/1B,UAAUkM,OAv2EtB,eAw2ER1E,KAAKwlH,SAASlF,KAAK,GAAIxnF,IAAUzqB,EAAUwrB,YAC3C91B,EAAW/D,KAAKyuB,cAAgB45H,gBAAiB,UACjDroJ,KAAK+O,OAAO,cAAgB8yB,OAAQ,oBAAqBqpE,OAAsB,aAAdlrG,KAAK+vB,KAAqB/yB,MAAO,UAClGgD,KAAKwlH,SAASlF,OACd97G,GAAazJ,SAAS+R,KAAM9M,KAAKwlH,SAAS3rH,SAAU,qBACpD4L,GAAaf,OAAO1E,KAAKu2C,KAAM,UAAWv2C,KAAKkpK,aAOvDvF,EAAYnoK,UAAU2/J,UAAY,WAC9B,GAAKn7J,KAAKinB,QAAV,CAGA,IAAKjnB,KAAK+lG,UAGN,MAFA/lG,MAAKs2J,iBAAkB,MACvBv9H,GAAOv9B,UAAUojD,OAAOh+C,KAAKZ,KAGjC,IAAI8tK,GAAe9tK,KAAK+lG,UAAUnrG,iBAAiB,kBAAuBrC,OACtEw1K,EAAW/tK,KAAK+lG,UAAUnrG,iBAAiB,MACzC++G,GAAoB9X,GAAK,IAAM4hE,IAAWlrK,MAChD,IAAIu1K,EAAe,GAAMA,IAAiBC,GAAcA,IAAa/tK,KAAK6lK,SAASttK,OAE/E,YADAyH,KAAKs2J,iBAAkB,EAG3Bt2J,MAAK2kK,iBASThB,EAAYnoK,UAAUsK,UAAY,SAAUw5F,GACxC,GAAIv/F,GAAQC,IACZ,IAAIvC,EAAkBuC,KAAKu2C,MACvBv2C,KAAK0mK,gBAAkB,WACnB,GAAmB,aAAf3mK,EAAMgwB,MAAuBhwB,EAAMomK,cAAe,CAClD,GAAIlmK,IACA4hC,OAAQ,oBACRqpE,OAAuB,aAAfnrG,EAAMgwB,KACd/yB,MAAOsiG,EAAQ,QAAU,UAE7Bv/F,GAAMgP,OAAO,iBAAkB9O,GAEnCF,EAAM2tK,cAAcpuE,GACpBv/F,EAAM2mK,gBAAkB,MAE5B3tI,EAAOv9B,UAAUojD,OAAOh+C,KAAKZ,UAE5B,CAED,GADAA,KAAK0mK,gBAAkB,KACL,aAAd1mK,KAAK+vB,MAAuB/vB,KAAKmmK,cAAe,CAChD,GAAIlmK,IACA4hC,OAAQ,oBACRqpE,OAAsB,aAAdlrG,KAAK+vB,KACb/yB,MAAOsiG,EAAQ,QAAU,UAE7Bt/F,MAAK+O,OAAO,iBAAkB9O,GAElCD,KAAK0tK,cAAcpuE,KAG3BqkE,EAAYnoK,UAAU0L,cAAgB,WAClC,MAAO,eAOXy8J,EAAYnoK,UAAUojD,OAAS,WAC3B,GAAI7+C,GAAQC,IACZA,MAAKuoK,YAAa,EAClBvoK,KAAK2mK,aAAc,EACnB3mK,KAAKwuB,cAAgBxuB,KAAKyB,cAAc,QAAUiC,UAz8ElC,eA08EhB1D,KAAK2oK,YAAc3oK,KAAKyB,cAAc,QAAUiC,UAAWsqK,8BAA0CpqK,OAAQ,kBAC7G5D,KACKykK,aAAezkK,KAAKyB,cAAc,QACnCiC,UAz8EU,+BAy8EkBE,OAAQ,kBAExC5D,KAAKmvB,iBAAmBnvB,KAAKyB,cAAc,OAASiC,UAx9EtC,2BAy9Ed1D,KAAKuuB,eAAiBvuB,KAAKyB,cAAc,OAASiC,UA19EnC,gCA29EG,aAAd1D,KAAK+vB,MACL/rB,GAAUhE,KAAKuuB,gBAAiB,cAEhCniB,GAAQuc,UACR3oB,KAAKmvB,iBAAiB32B,UAAU+L,IA79Ef,iBA+9ErBvE,KAAKuuB,eAAe3pB,MAAM8S,MAAQhV,EAAW1C,KAAK0X,OAClD1X,KAAKuuB,eAAexsB,YAAY/B,KAAKmvB,kBACrCnvB,KAAKy0J,aAAez0J,KAAKyB,cAAc,OAASkC,GAAI3D,KAAKnG,QAAQ8J,GAAK,SAAUD,UAn9EpE,8CAo9EM,cAAd1D,KAAK+vB,MAAsC,aAAd/vB,KAAK+vB,MAClC/vB,KAAK4oK,iBAAmB5oK,KAAKyB,cAAc,QAAUiC,UAt9EzC,iBAs9EuEE,OAAQ,iBAC3F5D,KAAKmvB,iBAAiBptB,YAAY/B,KAAK4oK,oBAGvC5oK,KAAKslK,sBAAwBtlK,KAAKyB,cAAc,QAC5CiC,UAr+EG,qBAs+EHE,OAAQ,iBAEZ5D,KAAKmvB,iBAAiBptB,YAAY/B,KAAKslK,wBAEzB,QAAdtlK,KAAK+vB,MACL/vB,KAAKmvB,iBAAiBptB,YAAY/B,KAAK2oK,aAE3C3oK,KAAKmvB,iBAAiBptB,YAAY/B,KAAKwuB,eACnCxuB,KAAKonB,kBAAoBhb,GAAQuc,SACjC3oB,KAAKmvB,iBAAiBptB,YAAY/B,KAAKykK,cAGvCzkK,KAAKmvB,iBAAiB32B,UAAU+L,IAp+EtB,qBAs+EdvE,KAAK4tK,eACL5tK,KAAKyuB,aAAezuB,KAAKyB,cAAc,SACnCiC,UA1+EQ,iBA2+ERI,OACIohB,WAAY,QACZnrB,KAAM,OACNgrB,aAAc,MACditF,SAAU,OAGdhyG,KAAKnG,QAAQyJ,UAAYtD,KAAK84J,mBAC9B94J,KAAKnG,QAAQ+K,MAAM6hD,QAAU,QAE7BzmD,KAAKnG,QAAQyJ,UAAYtD,KAAK84J,kBAC9B94J,KAAKnG,QAAQkI,YAAY/B,KAAKuuB,gBAC9BvuB,KAAKwuB,cAAczsB,YAAY/B,KAAKyuB,gBAGpCzuB,KAAKnG,QAAQmc,cAAc5Q,aAAapF,KAAKuuB,eAAgBvuB,KAAKnG,SAClEmG,KAAKwuB,cAAczsB,YAAY/B,KAAKyuB,cACpCzuB,KAAKwuB,cAAczsB,YAAY/B,KAAKnG,SACpCmG,KAAKnG,QAAQyS,gBAAgB,aAEL,UAAxBtM,KAAKgpB,eACLsF,GAAiBtuB,KAAKuuB,eAAgBvuB,KAAKwuB,cAAexuB,KAAKnG,QAASmG,KAAKyuB,aAAczuB,KAAKhD,MAAOgD,KAAKgpB,eAAgBhpB,KAAK+oB,aAEpG,UAAxB/oB,KAAKgpB,gBACVhpB,KAAK8mK,qBAET9mK,KAAKnG,QAAQ+K,MAAM2J,QAAU,EAC7B,IAAI5K,GAAK3D,KAAKnG,QAAQ4M,aAAa,MAAQzG,KAAKnG,QAAQ4M,aAAa,MAAQjH,EAAY,mBACzFQ,MAAKnG,QAAQ8J,GAAKA,EAClB3D,KAAKi2J,cAAgBj2J,KAAKyB,cAAc,UACpCqC,OAASoqH,cAAe,OAAQz6G,MAjgFvB,iBAigFgDu+F,SAAY,KAAMyhC,SAAY,UAE3FzzI,KAAKmvB,iBAAiBptB,YAAY/B,KAAKi2J,eACvCj2J,KAAKk/G,oBAAoBl/G,KAAKnG,QAASmG,KAAKi2J,eAC1B,aAAdj2J,KAAK+vB,MACL/vB,KAAKgqK,mBAEThqK,KAAK25J,YACL35J,KAAKkrG,OAAOlrG,KAAKinB,SACjBjnB,KAAKgkK,UAAUhkK,KAAKuP,WAChBvP,KAAKhD,OAASgD,KAAKhD,MAAMzE,QACzByH,KAAKwqH,cACCxqH,KAAKmzF,qBAAsB93B,IAK7Br7D,KAAKymK,gBAAkB,WACnB1mK,EAAMwoK,YAAa,EACnBxoK,EAAM6mK,qBACN7mK,EAAM8mK,gBACN9mK,EAAM0mK,gBAAkB,KACxB1mK,EAAMwoK,YAAa,IATvBvoK,KAAK4mK,qBACL5mK,KAAK6mK,kBAaT7mK,KAAK6mK,gBAET7mK,KAAKuoK,YAAa,EAClBvoK,KAAKiuK,kBAETtK,EAAYnoK,UAAUyyK,eAAiB,WAC/BjuK,KAAKnG,QAAQmqH,aAAa,cAC1BhkH,KAAK22H,WAGbgtC,EAAYnoK,UAAUivK,kBAAoB,WACtCv7I,GAAelvB,KAAKuuB,eAAgBvuB,KAAKmvB,iBAAkBnvB,KAAKwuB,cAAexuB,KAAKyuB,aAAczuB,KAAKhD,MAAOgD,KAAKgpB,eAAgBhpB,KAAK+oB,aAC5G,UAAxB/oB,KAAKgpB,gBACLsF,GAAiBtuB,KAAKuuB,eAAgBvuB,KAAKwuB,cAAexuB,KAAKnG,QAASmG,KAAKyuB,aAAczuB,KAAKhD,MAAOgD,KAAKgpB,eAAgBhpB,KAAK+oB,cAGzI46I,EAAYnoK,UAAUoyK,aAAe,WACf,aAAd5tK,KAAK+vB,MAAuB/vB,KAAKkuK,kBACjCluK,KAAKmuK,SAAWnuK,KAAKyB,cAAc,QAAUiC,UA5iFtC,kCA6iFP1D,KAAKmvB,iBAAiBptB,YAAY/B,KAAKmuK,UACvCnqK,GAAUhE,KAAKmvB,mBAAoB,iBAG9B1xB,EAAkBuC,KAAKmuK,YACxBnuK,KAAKmuK,SAASn4J,cAAcxQ,YAAYxF,KAAKmuK,UAC7C3pK,GAAaxE,KAAKmvB,mBAAoB,kBAIlDw0I,EAAYnoK,UAAUqrK,cAAgB,WAChB,QAAd7mK,KAAK+vB,MACL/vB,KAAKmoK,kBAETnoK,KAAK0kK,iBACL1kK,KAAKokK,sBACLpkK,KAAKukK,eAAevkK,KAAK2xH,UACzB3xH,KAAKqoK,qBAOT1E,EAAYnoK,UAAUqY,QAAU,WACxB7T,KAAKwlH,UACLxlH,KAAKwlH,SAASlF,OAElBtgH,KAAK+O,OA1kFC,cA2kFN/O,KAAKwmK,mBACLxmK,KAAKu7J,cACLv7J,KAAKu2C,KAAO,KACZv2C,KAAKwlH,SAAW,KAChBxlH,KAAK8kK,SAAW,KAChB9kK,KAAK6lK,SAAW,KAChB9sI,EAAOv9B,UAAUqY,QAAQjT,KAAKZ,KAG9B,KAFA,GAAIwL,IAAQ,WAAY,gBAAiB,mBAAoB,eACzDjT,EAASiT,EAAKjT,OACXA,EAAS,GACZyH,KAAKyuB,aAAaniB,gBAAgBd,EAAKjT,EAAS,IAChDA,GAEJyH,MAAKnG,QAAQ+K,MAAM6hD,QAAU,QACzBzmD,KAAKuuB,eAAevY,gBAChBhW,KAAKuuB,eAAevY,cAAc1S,UAAYtD,KAAK84J,iBACnDp0J,EAAO1E,KAAKuuB,iBAGZvuB,KAAKuuB,eAAevY,cAAc5Q,aAAapF,KAAKnG,QAASmG,KAAKuuB,gBAClE7pB,EAAO1E,KAAKuuB,mBAKxB+J,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,eAAY,IACtC88B,IACI1vB,GAAS,SACV+6J,EAAYnoK,UAAW,YAAS,IACnC88B,IACI1vB,GAAS,UACV+6J,EAAYnoK,UAAW,kBAAe,IACzC88B,IACI1vB,GAAS,SACV+6J,EAAYnoK,UAAW,iBAAc,IACxC88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,kBAAe,IACzC88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,2BAAwB,IAClD88B,IACI1vB,QACD+6J,EAAYnoK,UAAW,qBAAkB,IAC5C88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,oBAAiB,IAC3C88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,qBAAkB,IAC5C88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,qBAAkB,IAC5C88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,mBAAgB,IAC1C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,qBAAkB,IAC5C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,uBAAoB,IAC9C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,sBAAmB,IAC7C88B,IACI1vB,GAAS,MACV+6J,EAAYnoK,UAAW,6BAA0B,IACpD88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,eAAY,IACtC88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,WAAQ,IAClC88B,IACI1vB,GAAS,OACV+6J,EAAYnoK,UAAW,YAAS,IACnC88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,uBAAoB,IAC9C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,yBAAsB,IAChD88B,IACI1vB,GAAS,YACV+6J,EAAYnoK,UAAW,WAAQ,IAClC88B,IACI1vB,GAAS,MACV+6J,EAAYnoK,UAAW,oBAAiB,IAC3C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,iBAAc,IACxC88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,uBAAoB,IAC9C88B,IACI1vB,GAAS,UACV+6J,EAAYnoK,UAAW,qBAAkB,IAC5C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,oBAAiB,IAC3C88B,IACI1vB,GAAS,eACV+6J,EAAYnoK,UAAW,oBAAiB,IAC3C88B,IACI1vB,GAAS,iBACV+6J,EAAYnoK,UAAW,sBAAmB,IAC7C88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,2BAAwB,IAClD88B,IACI1vB,IAAS,IACV+6J,EAAYnoK,UAAW,kBAAe,IACzC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,aAAU,IACpC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,eAAY,IACtC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,cAAW,IACrC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,kBAAe,IACzC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,iBAAc,IACxC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,WAAQ,IAClC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,YAAS,IACnC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,WAAQ,IAClC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,YAAS,IACnC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,oBAAiB,IAC3C88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,gBAAa,IACvC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,cAAW,IACrC88B,IACI7uB,MACDk6J,EAAYnoK,UAAW,2BAAwB,IAClDmoK,EAAcrrI,IACVvuB,IACD45J,IAEL1pD,IC3wFEm0D,GAAmC,WACnC,QAASA,GAAkBrtK,GACvBf,KAAKquK,YACLruK,KAAKsuK,aACLtuK,KAAKe,OAASA,EACdf,KAAKtD,mBAgaT,MA9ZA0xK,GAAkB5yK,UAAU0L,cAAgB,WACxC,MAAO,qBAEXknK,EAAkB5yK,UAAUkB,iBAAmB,WACvCsD,KAAKe,OAAO8zB,cAGhB70B,KAAKe,OAAO2yB,GAAG,aAAc1zB,KAAKuuK,cAAevuK,MACjDA,KAAKe,OAAO2yB,GAAG,aAAc1zB,KAAKm9G,WAAYn9G,MAC9CA,KAAKe,OAAO2yB,GAAG,YAAa1zB,KAAKwuK,aAAcxuK,MAC/CA,KAAKe,OAAO2yB,GAAG,iBAAkB1zB,KAAKknK,eAAgBlnK,MACtDA,KAAKe,OAAO2yB,GAAG,YAAa1zB,KAAKw9J,aAAcx9J,MAC/CA,KAAKe,OAAO2yB,GAAG,OAAQ1zB,KAAKq5J,OAAQr5J,MACpCA,KAAKe,OAAO2yB,GAAG,gBAAiB1zB,KAAKw5G,cAAex5G,MACpDA,KAAKe,OAAO2yB,GAAG,kBAAmB1zB,KAAKyuK,mBAAoBzuK,MAC3DA,KAAKe,OAAO2yB,GAAG,aAAc1zB,KAAK0uK,SAAU1uK,MAC5CA,KAAKe,OAAO2yB,GAAG,UAAW1zB,KAAK2uK,WAAY3uK,MAC3CA,KAAKe,OAAO2yB,GAAG,aAAc1zB,KAAK4uK,cAAe5uK,MACjDA,KAAKe,OAAO2yB,GAAG,gBAAiB1zB,KAAKisD,UAAWjsD,MAChDA,KAAKe,OAAO2yB,GAAG,uBAAwB1zB,KAAKyxH,eAAgBzxH,MAC5DyF,GAAalB,IAAIxJ,SAAU,YAAaiF,KAAKy7J,gBAAiBz7J,MAC9DA,KAAKe,OAAO2yB,GAAG,UAAW1zB,KAAK6uK,cAAe7uK,QAElDouK,EAAkB5yK,UAAUoB,oBAAsB,WAC1CoD,KAAKe,OAAO8zB,cAGhB70B,KAAKe,OAAO+yB,IAAI,aAAc9zB,KAAKuuK,eACnCvuK,KAAKe,OAAO+yB,IAAI,aAAc9zB,KAAKm9G,YACnCn9G,KAAKe,OAAO+yB,IAAI,YAAa9zB,KAAKwuK,cAClCxuK,KAAKe,OAAO+yB,IAAI,iBAAkB9zB,KAAKknK,gBACvClnK,KAAKe,OAAO+yB,IAAI,YAAa9zB,KAAKw9J,cAClCx9J,KAAKe,OAAO+yB,IAAI,OAAQ9zB,KAAKq5J,QAC7Br5J,KAAKe,OAAO+yB,IAAI,gBAAiB9zB,KAAKw5G,eACtCx5G,KAAKe,OAAO+yB,IAAI,kBAAmB9zB,KAAKyuK,oBACxCzuK,KAAKe,OAAO+yB,IAAI,aAAc9zB,KAAK0uK,UACnC1uK,KAAKe,OAAO+yB,IAAI,UAAW9zB,KAAK2uK,YAChC3uK,KAAKe,OAAO+yB,IAAI,aAAc9zB,KAAK4uK,eACnC5uK,KAAKe,OAAO+yB,IAAI,gBAAiB9zB,KAAKisD,WACtCjsD,KAAKe,OAAO+yB,IAAI,uBAAwB9zB,KAAKyxH,gBAC7CzxH,KAAKe,OAAO+yB,IAAI,UAAW9zB,KAAK6uK,eAChCppK,GAAaf,OAAO3J,SAAU,YAAaiF,KAAKy7J,mBAEpD2S,EAAkB5yK,UAAU2hH,WAAa,SAAUl9G,GAC/C,GAAIF,GAAQC,IACZ,IAAIvC,EAAkBuC,KAAKe,OAAOirK,mBAAmBzoE,aACjDvjG,KAAKe,OAAOirK,mBAAmBzoE,YAAc,SAAUniG,GACnDrB,EAAM8uK,cAAcztK,QAGvB,CACD,GAAIkiK,GAAgBtjK,KAAKe,OAAOirK,mBAAmBzoE,WACnDvjG,MAAKe,OAAOirK,mBAAmBzoE,YAAc,SAAUniG,GACnDrB,EAAM8uK,cAAcztK,GACpBkiK,EAAc5nK,MAAMqE,GAAQqB,OAKxCgtK,EAAkB5yK,UAAUi2H,eAAiB,SAAUtnH,GACnDwjB,GAAM8jG,eAAetnH,EAAMszJ,qBAAsBz9J,KAAK01J,cAE1D0Y,EAAkB5yK,UAAUqzK,cAAgB,SAAUztK,GAClD,GAAIvI,EAOJ,IAAuB,wBAFnBA,EAJC4E,EAAkB2D,EAAEvI,MAIduI,EAHAA,EAAEvI,MAKJ6K,WAAyD,sBAAnB7K,EAAK6K,UAAmC,CACnF,GAAIorK,GAAcz6J,GAAerU,KAAKe,OAAOU,eAAe,GACxDsgG,EAAOp8F,EAAO,cAAe9M,EACxBA,GAAK4N,aAAa,WAC3B5N,GAAKuM,aAAa0pK,EAAaj2K,EAAKyB,WAAWmD,EAAkBskG,GAAQ,EAAI,IAC7Ep8F,EAAO,WAAqBmpK,EAChBnpK,GAAO,WAAqBmpK,EACxC,OAAOj2K,GAGP,MAAOA,IAGfu1K,EAAkB5yK,UAAUgzK,aAAe,WACnCxuK,KAAKe,OAAOolK,eACR1oK,EAAkBuC,KAAK+uK,kBACvB/uK,KAAK+uK,eAAiB/uK,KAAKe,OAAOU,cAAc,OAC5CiC,UA3GC,uBA6GL1D,KAAKgvK,cAAgBhvK,KAAKe,OAAOU,cAAc,QAC3CiC,UAAW,eAEf1D,KAAKgvK,cAAct1K,YAAc,GACjCsG,KAAK+uK,eAAehtK,YAAY/B,KAAKgvK,eACrChvK,KAAKisD,YACLjsD,KAAK6uK,cAAc7uK,KAAK+uK,gBACpB/uK,KAAKe,OAAO6mG,iBACPnqG,EAAkBuC,KAAK21J,cAIxBrwJ,GAAQtF,KAAK+uK,gBAAiB/uK,KAAKe,OAAO0zJ,cAH1CnvJ,GAAQtF,KAAK+uK,gBAAiB/uK,KAAK21J,eAMtC31J,KAAKe,OAAO6mG,iBACRnqG,EAAkBuC,KAAK21J,cAIxB5wJ,GAAS/E,KAAK+uK,gBAAiB/uK,KAAKe,OAAO0zJ,cAH3Cz0J,KAAK21J,aAAa76J,WAAWsK,aAAapF,KAAK+uK,eAAgB/uK,KAAK21J,aAAax/C,cAMzF1wG,GAAalB,IAAIvE,KAAK+uK,eAAgB,YAAa/uK,KAAK0/F,aAAc1/F,OAEtEA,KAAKe,OAAOw1C,KAAK/9C,UAAUC,SAAS,YACpCuH,KAAK+uK,eAAenqK,MAAM6hD,QAAU,OAGpCzmD,KAAK+uK,eAAenqK,MAAM6hD,QAAU,QAExCzmD,KAAKe,OAAOmrK,gBAAkBlsK,KAAK+uK,eAAepiK,wBAAwB8K,QAEpEha,EAAkBuC,KAAK+uK,kBAC7B/uK,KAAK+uK,eAAe/4J,cAAcxQ,YAAYxF,KAAK+uK,gBACnD/uK,KAAK+uK,eAAiB,OAG9BX,EAAkB5yK,UAAUqY,QAAU,WAClC7T,KAAKpD,uBAETwxK,EAAkB5yK,UAAU+yK,cAAgB,SAAUtuK,GAClD,GAAI4I,EAcJ,IANIA,EAPCpL,EAAkBwC,EAAKmB,GAOfnB,EAAK4hG,GAAG0V,iBAAiBj9G,WAAW,GANnCmD,EAAkBwC,EAAKmB,EAAEyH,QAG7B5I,EAAK4hG,GAAG/+F,cAAc,uBAAuBxI,WAAW,GAF1D2F,EAAKmB,EAAEyH,OAAOrQ,UAAUC,SAAS,WAC7BwH,EAAKmB,EAAEyH,OAAS5I,EAAK4hG,GAAG/+F,cAAc,uBAAuBxI,WAAW,GAMhF0F,KAAKe,OAAO88G,eACZh1G,EAAS5I,EAAK4hG,GAAGx8F,kBAAkB/K,WAAW,IAElD0F,KAAKivK,aAAelpK,EAAQ8C,EAAQ,wBAC/BpL,EAAkBuC,KAAKivK,cAAe,CACvC,GAAIC,GAAevpK,EAAO,WAAqB3F,KAAKivK,aAEpDjvK,MAAKmvK,kBAAkBnvK,KAAKivK,aAAcC,EAAa12K,UAAUC,SA5KjE,WA4KkFwH,EAAK4hG,GAAI5hG,EAAKmB,GADhF,KAIxBgtK,EAAkB5yK,UAAU2zK,kBAAoB,SAAUC,EAAWC,EAASxtE,EAAIzgG,EAAG0E,GACjF9F,KAAKq/F,YAAY+vE,EAAWC,EAAU,UAAY,QAASjuK,GAAG,EAAM0E,IAExEsoK,EAAkB5yK,UAAUkkG,aAAe,SAAUt+F,GACjD,GAAIyH,EAEAA,GADAzH,EAAEqgD,cAAcjpD,UAAUC,SAASuH,KAAK+uK,eAAerrK,WAC9CtC,EAAEqgD,cAAcp8C,kBAAkBkyG,iBAGlCn2G,EAAEqgD,cAEfzhD,KAAKivK,aAAelpK,EAAQ8C,EAAQ,sBAEpC,KAAKpL,EAAkBuC,KAAKivK,cAAe,CACvC,GAAIC,GAAevpK,EAAO,WAAqB3F,KAAKivK,aACpDjvK,MAAKmvK,kBAAkBnvK,KAAKivK,aAAcC,EAAa12K,UAAUC,SA9LjE,WA8LkF,KAAM2I,GAH5E,GAKhBA,EAAEomB,kBAEN4mJ,EAAkB5yK,UAAU6jG,YAAc,SAAUtrF,EAASurF,EAAOl+F,EAAGkuK,EAAWxpK,GAC9E,GAAIy5F,GACA9qF,EAAYV,EAAQvF,uBArMZ,WAqMkD,EAChD,WAAV8wF,GAAsB7qF,EAAUjc,UAAUC,SArM1C,WA8Me,YAAV6mG,IAAwB7qF,EAAUjc,UAAUC,SA9MjD,YA8MoEgc,EAAUjc,UAAUC,SA3MhF,aA4MR+L,GAAaiQ,IA/Mb,UAGQ,WA6MR8qF,EAAY,QACRz5F,IACA9F,KAAKe,OAAO+E,WAAU,GACtB9F,KAAKisD,eAbTx3C,EAAUjc,UAAUkM,OAnMZ,UAoMR+P,EAAUjc,UAAU+L,IAvMpB,WAwMAg7F,EAAY,OACRz5F,IACA9F,KAAKe,OAAO+E,WAAU,GACtB9F,KAAKisD,WAAU,KAYlBxuD,EADL8hG,EAAsB,UAAVD,EAAoB,OAAmB,YAAVA,EAAsB,QAAUC,IAErExrF,EAAQlQ,aAAa,eAAgB07F,IAG7C6uE,EAAkB5yK,UAAUgiK,aAAe,SAAUv9J,GACjD,GAAIxC,EAAkBuC,KAAK21J,cAAe,CACtC31J,KAAK21J,aAAe31J,KAAKe,OAAOU,cAAc,QAC1CiC,UAtNG,oBAwNP1D,KAAK01J,YAAc11J,KAAKe,OAAOU,cAAc,SACzCqC,OAAS/J,KAAM,QACf2J,UA3NE,mBA6NN1D,KAAKe,OAAOlH,QAAQiB,WAAWsK,aAAapF,KAAK01J,YAAa11J,KAAKe,OAAOlH,QAC1E,IAAIqvG,IAAW,CAgCf,OA/BI98F,IAAQuc,WACRugF,GAAW,EACXlpG,KAAKe,OAAO+nK,WAAY,GAE5B9oK,KAAKw6J,eAAiB7sI,GAAM+iG,aACxB72H,QAASmG,KAAK01J,YACdtxC,QAASlb,GAvOJ,yCACI,4CAAA,2CAuOT3lG,YAAcwlB,YAAa/oB,KAAKe,OAAO08J,uBACxCz9J,KAAKe,OAAOU,eACf6D,GAAQtF,KAAKw6J,eAAe99I,WAAY1c,KAAK21J,cAC7C5wJ,GAAS/E,KAAK21J,cAAe11J,EAAKumJ,cAClCziJ,EAAW/D,KAAK01J,aACZ/iC,gBAAiB,QACjB41B,YAAavoJ,KAAKe,OAAOlH,QAAQ8J,GAAK,WACtCyP,KAAQ,UACR0kI,wBAAyB,KACzB/yH,aAAgB,MAChBC,YAAe,MACfC,eAAkB,MAClBC,WAAc,UAElBllB,KAAK09J,iBAAmB19J,KAAK01J,YAAY1/I,cAAclT,cAAc,kBAChEsJ,GAAQuc,UAAY3oB,KAAK09J,mBAC1Bj4J,GAAalB,IAAIvE,KAAK09J,iBAAkB,YAAa19J,KAAK23I,UAAW33I,MACrEA,KAAK09J,iBAAiB94J,MAAMC,WAAa,UAE7CY,GAAalB,IAAIvE,KAAK01J,YAAa,QAAS11J,KAAKe,OAAO68J,QAAS59J,KAAKe,QACtE0E,GAAalB,IAAIvE,KAAK01J,YAAa,QAAS11J,KAAKe,OAAO2mK,MAAO1nK,KAAKe,QACpE0E,GAAalB,IAAIvE,KAAK01J,YAAa,UAAW11J,KAAKe,OAAOmoK,UAAWlpK,KAAKe,QAC1E0E,GAAalB,IAAIvE,KAAK01J,YAAa,OAAQ11J,KAAKq5J,OAAQr5J,MACxDA,KAAKe,OAAOs9J,gBAAmBr+J,KAAKw6J,eAAe99I,wBAAyB/P,wBAAwB8K,OAC7FzX,KAAKw6J,iBAIpB4T,EAAkB5yK,UAAUwjK,gBAAkB,SAAU59J,GACpDpB,KAAKe,OAAO63J,YACZp0J,GAAazJ,SAAS+R,KAAM9M,KAAKe,OAAOykH,SAAS3rH,SAhQnC,sBAkQlBu0K,EAAkB5yK,UAAUm8I,UAAY,SAAUv2I,GAC9CpB,KAAKe,OAAOglK,mBAAmB/oK,MAAQ,GACvCgD,KAAKe,OAAOi9J,eACZh+J,KAAKe,OAAOgkK,iBAAiB,MAC7B/kK,KAAK09J,iBAAiB94J,MAAMC,WAAa,SACzC7E,KAAK01J,YAAYrzJ,QACjBrC,KAAK2uK,WAAWvtK,GAChBA,EAAEomB,kBAEN4mJ,EAAkB5yK,UAAUizK,mBAAqB,WAC7CzuK,KAAKe,OAAOykH,SAAS3rH,QAAQrB,UAAU+L,IA3QlC,gBA4QLvE,KAAKe,OAAOykH,SAAS3rH,QAAQrB,UAAU+L,IA/Q5B,uBAgRXvE,KAAKe,OAAOykH,SAAS3vG,UAAaiC,EAAG,EAAGC,EAAG,GAC3C/X,KAAKe,OAAOykH,SAASxwF,WACrBjxB,EAAW/D,KAAKe,OAAOykH,SAAS3rH,SAAW+K,MAAO,2CAClDZ,GAAUjJ,SAAS+R,KAAM9M,KAAKe,OAAOykH,SAAS3rH,SAjRhC,qBAkRdmG,KAAK8+J,uBACL9+J,KAAK++J,gBAAkB/+J,KAAKw6J,eAAe99I,UAAU5Z,cAAc,gBACnE9C,KAAK09J,iBAAmB19J,KAAKw6J,eAAe99I,UAAU5Z,cAAc,iBACpE9C,KAAK09J,iBAAiB94J,MAAMC,WAAa,SACzCY,GAAalB,IAAIvE,KAAK++J,gBAAiB,QAAS/+J,KAAKg/J,gBAAiBh/J,MACtEyF,GAAalB,IAAIvE,KAAK09J,iBAAkB,QAAS19J,KAAK23I,UAAW33I,OAErEouK,EAAkB5yK,UAAUsjK,qBAAuB,WAC/C,GAAIT,GAAkBr+J,KAAK01J,YAAY1/I,cAAcrJ,wBAAwB8K,MAC7EzX,MAAKe,OAAOykH,SAAS3rH,QAAQ+K,MAAMiiH,UAAY,OAC/C7mH,KAAKe,OAAOykH,SAAS3rH,QAAQ+K,MAAM8S,MAAQ,OAC3C1X,KAAKe,OAAOw1C,KAAK3xC,MAAMiiH,UAAa7qH,OAAOgf,YAAcqjJ,EAAmB,KAC5Er+J,KAAKe,OAAOw1C,KAAK3xC,MAAM6S,OAAUzb,OAAOgf,YAAcqjJ,EAAmB,IACzE,IAAIoB,GAAez/J,KAAK01J,YAAY1/I,cAAclT,cAAc,gBAChEyC,GAAOvF,KAAK01J,aACZ+J,EAAazpJ,cAAc5Q,aAAapF,KAAK01J,YAAa+J,IAE9D2O,EAAkB5yK,UAAUg+G,cAAgB,WAGxC,MAFAx5G,MAAKe,OAAOglK,mBAAqB/lK,KAAK01J,YACtC11J,KAAK09J,iBAAiB94J,MAAMC,WAAsD,KAAzC7E,KAAKe,OAAOglK,mBAAmB/oK,MAAe,SAAW,UAC3FgD,KAAKe,OAAOglK,mBAAmB/oK,OAE1CoxK,EAAkB5yK,UAAU69J,OAAS,SAAUj4J,GAC3C,GAAIyH,EACJ,KAAI7I,KAAKe,OAAOwqD,UAAhB,CASA,GANIn/C,GAAQ0d,OACRjhB,GAAUpL,EAAkB2D,IAAMA,EAAEyH,QAEnCuD,GAAQ0d,OACTjhB,GAAUpL,EAAkB2D,IAAMA,EAAEkrI,eAEpCvxI,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAOykH,SAAS3rH,UAAYmG,KAAKe,OAAOykH,SAAS3rH,QAAQpB,SAASoQ,KAAYuD,GAAQ0d,KAElH,WADA9pB,MAAK01J,YAAYrzJ,OAGrB,IAAIrC,KAAKe,OAAO+iK,kBAIZ,MAHA1iK,GAAEomB,iBACFxnB,KAAK01J,YAAYrzJ,aACjBrC,KAAKe,OAAO+iK,mBAAoB,EAGhC/oK,UAAS+R,KAAKrU,SAASuH,KAAKe,OAAOykH,SAAS3rH,WAAamG,KAAKe,OAAOykH,SAAS3rH,QAAQrB,UAAUC,SAAS,mBACzGuH,KAAKe,OAAOu0J,YAAa,EACzBt1J,KAAKe,OAAOgmK,iBAAiB3lK,EAAGpB,KAAKe,OAAO/D,MAAOgD,KAAKe,OAAOwkK,YAC/DvlK,KAAKe,OAAOiU,cAAchV,KAAKe,OAAOk1J,cAAe,WAErDl7J,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAOykH,SAAS3rH,WAC3CmG,KAAKe,OAAOykH,SAAS3rH,QAAQrB,UAAUC,SAAS,mBACjDuH,KAAKe,OAAOu0J,YAAa,EACzBt1J,KAAKe,OAAOwtB,eAAe/1B,UAAUkM,OAnUrC,iBAoUA1E,KAAKe,OAAO0nB,QAAQ,QACpBzoB,KAAKe,OAAOynG,SAAU,IAEtBztG,SAAS+R,KAAKrU,SAASuH,KAAKe,OAAOykH,SAAS3rH,UAC3CmG,KAAKe,OAAOykH,SAAS3rH,QAAQrB,UAAUC,SAAS,kBAAqB2T,GAAQuc,UAC9E3oB,KAAKe,OAAO63J,cAGpBwV,EAAkB5yK,UAAUigK,gBAAkB,SAAUr6J,GACpD,GAAIyH,GAASzH,EAAEyH,QACVpL,EAAkBuC,KAAKe,OAAOykH,WAAaz/G,EAAQ8C,EAAQ,IAAM7I,KAAKe,OAAOykH,SAAS3rH,QAAQ8J,KAC/FvC,EAAEomB,kBAEC/pB,EAAkBuC,KAAKe,OAAOykH,WAAaz/G,EAAQ8C,EAAQ,IAAM7I,KAAKe,OAAOykH,SAAS3rH,QAAQ8J,KAChG3D,KAAKe,OAAOwtB,eAAe91B,SAAS2I,EAAEyH,QASvC7I,KAAKe,OAAO+iK,mBAAqB13J,GAAQ0d,MAA8B,SAAtB1d,GAAQwc,KAAKqK,OAAqBl4B,SAASm1G,gBAAkBlwG,KAAK01J,aAR/G11J,KAAKe,OAAOwtB,eAAe/1B,UAAUC,SAASkhH,GAAoBt3G,QAAUrC,KAAKe,OAAO4yJ,iBACxF3zJ,KAAKe,OAAOu0J,YAAa,EACzBt1J,KAAKe,OAAO63J,YACZ54J,KAAKe,OAAOs4J,SACZr5J,KAAKe,OAAOynG,SAAU,GAMzBxoG,KAAKe,OAAOwtB,eAAe91B,SAAS2I,EAAEyH,UAAW7I,KAAKe,OAAOwtB,eAAe/1B,UAAUC,SAAS,kBAC/FuH,KAAKe,OAAO4yJ,eACb3zJ,KAAKe,OAAOs4J,OAAOj4J,GAEnBpB,KAAK01J,cAAgB7sJ,GACrB7I,KAAK01J,YAAYrzJ,SAGzB+rK,EAAkB5yK,UAAUkzK,SAAW,SAAUttK,GAE7C,GADApB,KAAKe,OAAOwtB,eAAe/1B,UAAUkM,OAtWjC,iBAuWA1E,KAAKe,OAAOwqD,WAAyB,UAAZnqD,EAAEpE,MAE3B,YADAgD,KAAKe,OAAOwqD,WAAY,EAGZ,WAAZnqD,EAAEpE,QACFgD,KAAK01J,YAAYrzJ,QACjBrC,KAAKe,OAAOitG,cACZvoG,GAAaf,OAAO1E,KAAKe,OAAOw1C,KAAM,UAAWv2C,KAAKe,OAAOmoK,YAEjD,UAAZ9nK,EAAEpE,QACFgD,KAAK01J,YAAY14J,MAAQ,GACzBgD,KAAK09J,iBAAiB94J,MAAMC,WAAa,WAGjDupK,EAAkB5yK,UAAU0rK,eAAiB,SAAU9lK,GACnC,UAAZA,EAAEpE,OAA0E,SAArDgD,KAAK+uK,eAAetoK,aAAa,kBACxDzG,KAAKq/F,YAAYr/F,KAAK+uK,eAAgB3tK,EAAEpE,MAAO,KAAM,MAAM,GAC3DgD,KAAKisD,WAAU,IAEH,YAAZ7qD,EAAEpE,QACFgD,KAAKq/F,YAAYr/F,KAAK+uK,eAAgB3tK,EAAEpE,MAAO,KAAM,MAAM,GAC3DgD,KAAKisD,cAGbmiH,EAAkB5yK,UAAUywD,UAAY,SAAUsjH,GAC9C,GAAkC,eAA9BvvK,KAAKe,OAAOyuK,eAAkE,iBAAhCxvK,KAAKe,OAAO0uK,gBAAoC,CAC9F,GAAIj/J,GAAW++J,EAAWvvK,KAAKe,OAAO0uK,gBAAkBzvK,KAAKe,OAAOyuK,cAChExpE,MAAiB,EACrBhmG,MAAKgvK,cAAct1K,YAAc,EAEjC,KAAK,GAAI2E,GAAK,EAAG2E,GADjBgjG,EAAiBz1F,GAAQC,QACiBnS,EAAK2E,EAAGzK,OAAQ8F,IAAM,CAC5D,GAAIxF,GAAOmK,EAAG3E,EACd2B,MAAKgvK,cAAct1K,YAAcb,EAAKa,iBAGzC,CACD,GACI8hH,GAAO,GAAI1vD,IAAK,aADD0jH,cAAe,aAAcC,gBAAiB,gBACpBzvK,KAAKe,OAAOiO,OACzDhP,MAAKgvK,cAAct1K,YAAc61K,EAAW/zD,EAAKjvD,YAAY,mBAAqBivD,EAAKjvD,YAAY,mBAG3G6hH,EAAkB5yK,UAAUozK,cAAgB,SAAU3uK,GAC9CA,EAAK4hG,GAAGrpG,UAAUC,SAAS,YAC3BuH,KAAKquK,SAASr1K,KAAKiH,EAAK4hG,GAAG7/F,WAAU,IAGrChC,KAAKquK,SAAS9jJ,OAAOtqB,EAAK/H,MAAO,IAGzCk2K,EAAkB5yK,UAAUmzK,WAAa,SAAU1uK,GAC/C,GAAID,KAAKe,OAAO0oK,uBAAyBhsK,EAAkBuC,KAAKe,OAAO/D,OAAQ,CAC3E,GAAI0yK,GAAgB1vK,KAAKe,OAAOglG,UAAUnrG,iBAAiB,eAAerC,OAEtEo3K,EAAQ3vK,KAAKe,OAAOU,cAAc,MAClCiC,UAAW,gCAEC1D,MAAKe,OAAOU,cAAc,MACtCiuK,GAAgB,IAChBpqK,EAAOtF,KAAKe,OAAOglG,UAAUnrG,iBAAiB,eAAgB+0K,GAE9D3rK,EADQhE,KAAKe,OAAOglG,UAAUnrG,iBAAiB,eAC/B,kBAChBmK,GAAS4qK,GAAQ3vK,KAAKe,OAAOw1C,OAEjCv2C,KAAKe,OAAO6jK,yBAGbwJ"}