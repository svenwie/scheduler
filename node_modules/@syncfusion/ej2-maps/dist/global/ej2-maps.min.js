/*!
*  filename: ej2-maps.min.js
*  version : 16.3.24
*  Copyright Syncfusion Inc. 2001 - 2018. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.maps=function(e,t,i,o,n){"use strict";function r(e,t){return null!==e&&void 0!==e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function a(e){var t=e.element.clientWidth,i=e.element.clientHeight;e.availableSize=new Oe(r(e.width,t)||t||600,r(e.height,i)||i||(e.isDevice?Math.min(window.innerWidth,window.innerHeight):450))}function s(e){e.renderer=new t.SvgRenderer(e.element.id),a(e),e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}function l(e,t,i){var o=i.getBoundingClientRect(),n=i.ownerDocument.defaultView.pageXOffset,r=i.ownerDocument.defaultView.pageYOffset,a=i.ownerDocument.documentElement.clientTop,s=i.ownerDocument.documentElement.clientLeft,l=o.left+n-s,p=o.top+r-a;return new De(e-l,t-p)}function p(e){return e*(Math.PI/180)}function h(e){return e*(180/Math.PI)}function d(e,i,o,n,r){var a,s,l,d,c,f,v=new Oe(r.mapAreaRect.width,r.mapAreaRect.height),x=r.baseMapBounds.longitude,w=r.baseMapBounds.latitude,S=p(e),M=p(i),_=r.projectionType,P=r.isTileMap?256*Math.pow(2,1):t.isNullOrUndefined(o)?Math.min(v.width,v.height):Math.min(v.width,v.height)*o;if("Normal"===n.geometryType)a=t.isNullOrUndefined(o)?i:Math.abs((i-x.min)*o),s=t.isNullOrUndefined(o)?e:Math.abs((w.max-e)*o);else if("Geographic"===n.geometryType){switch(_){case"Mercator":var L=new Te(P/2,P/2);a=L.x+i*(P/360);var C=b(Math.sin(p(e)),-.9999,.9999);s=L.y+.5*Math.log((1+C)/(1-C))*(-P/(2*Math.PI));break;case"Winkel3":c=((l=g(M,S)).x+M/(Math.PI/2))/2,d=(l.y+S)/2;break;case"Miller":c=M,d=1.25*Math.log(Math.tan(Math.PI/4+.4*S));break;case"Eckert3":c=2/(f=Math.sqrt(Math.PI*(4+Math.PI)))*M*(1+Math.sqrt(1-4*S*S/(Math.PI*Math.PI))),d=4/f*S;break;case"AitOff":c=(l=g(M,S)).x,d=l.y;break;case"Eckert5":c=M*(1+Math.cos(S))/Math.sqrt(2+Math.PI),d=2*S/Math.sqrt(2+Math.PI);break;case"Equirectangular":c=M,d=S;break;case"Eckert6":f=(1+Math.PI/2)*Math.sin(S);for(var O=1/0,T=0;T<10&&Math.abs(O)>1e-6;T++)S-=O=(S+Math.sin(S)-f)/(1+Math.cos(S));f=Math.sqrt(2+Math.PI),c=M*(1+Math.cos(S))/f,d=2*S/f}a="Mercator"===_?a:y(u(r,h(c)),3),s="Mercator"===_?s:-y(m(r,h(d)),3)}return new Te(a,s)}function c(e,t,i,o){var n=256*Math.pow(2,t),r=(e.x+180)/360,a=Math.sin(e.y*Math.PI/180),s=.5-Math.log((1+a)/(1-a))/(4*Math.PI),l=e.x,p=e.y;return o&&(l=r*n+.5+i.x,p=s*n+.5+i.y),{x:l,y:p}}function u(e,i){var o=e.baseMapBounds.longitude,n=t.isNullOrUndefined(e.baseSize)?e.mapAreaRect.width:e.mapAreaRect.width+Math.abs(e.baseSize.width-e.mapAreaRect.width)/2;return Math.round(n*(i-o.min)/(o.max-o.min)*100)/100}function m(e,t){var i=e.baseMapBounds.latitude;return Math.round(e.mapAreaRect.height*(t-i.min)/(i.max-i.min)*100)/100}function g(e,t){var i=Math.cos(t),o=f(v(i*Math.cos(e/=2)));return new Te(2*i*Math.sin(e)*o,Math.sin(t)*o)}function y(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function f(e){return e/Math.sin(e)}function v(e){return Math.acos(e)}function b(e,i,o){return t.isNullOrUndefined(i)||(e=Math.max(e,i)),t.isNullOrUndefined(o)||(e=Math.min(e,o)),e}function x(e,i){var o=document.getElementById("mapsmeasuretext");return null===o&&(o=t.createElement("text",{id:"mapsmeasuretext"}),document.body.appendChild(o)),o.innerHTML=e,o.style.position="absolute",o.style.fontSize=i.size,o.style.fontWeight=i.fontWeight,o.style.fontStyle=i.fontStyle,o.style.fontFamily=i.fontFamily,o.style.visibility="hidden",o.style.top="-100",o.style.left="0",o.style.whiteSpace="nowrap",o.style.lineHeight="normal",new Oe(o.clientWidth,o.clientHeight)}function w(e,i,o,n,r){void 0===r&&(r=!1);var a,s,l={id:e.id,x:e.x,y:e.y,fill:o,"font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":e.anchor,transform:e.transform,opacity:i.opacity,"dominant-baseline":e.baseLine},p="string"==typeof e.text?e.text:r?e.text[e.text.length-1]:e.text[0],h=new t.SvgRenderer(""),d=h.createText(l,p);if(d.style["user-select"]="none",d.style["-moz-user-select"]="none",d.style["-webkit-touch-callout"]="none",d.style["-webkit-user-select"]="none",d.style["-khtml-user-select"]="none",d.style["-ms-user-select"]="none",d.style["-o-user-select"]="none","string"!=typeof e.text&&e.text.length>1)for(var c=1,u=e.text.length;c<u;c++)s=x(e.text[c],i).height,a=h.createTSpan({x:e.x,id:e.id,y:e.y+(r?-c*s:c*s)},r?e.text[e.text.length-(c+1)]:e.text[c]),d.appendChild(a);return n.appendChild(d),d}function S(e,i,o,n,r){for(var a=t.createElement("div",{id:i,styles:"position: absolute;pointer-events: auto;"});e.length>0;)a.appendChild(e[0]);for(var s=a.innerHTML,l=Object.keys(o),p=0;p<l.length;p++)"latitude"!==l[p].toLowerCase()&&"longitude"!==l[p].toLowerCase()&&(s=s.replace(new RegExp("{{:"+l[p]+"}}","g"),o[l[p].toString()]));return a.innerHTML=s,a}function M(e,i,o,n,r){for(var a=(t.isNullOrUndefined(e.childElementCount)?e[0]:e).outerHTML,s=Object.keys(o),l=0;l<s.length;l++)a=a.replace(new RegExp("{{:"+s[l]+"}}","g"),o[s[l].toString()]);return t.createElement("div",{id:i,innerHTML:a,styles:"position: absolute"})}function _(e,t){return t&&t.appendChild(e),e}function P(e,t,i){return _(e.renderer.drawCircle(t),i)}function L(e,t,i){return _(e.renderer.drawRectangle(t),i)}function C(e,t,i){return _(e.renderer.drawPath(t),i)}function O(e,t,i){return _(e.renderer.drawPolygon(t),i)}function T(e,t,i){return _(e.renderer.drawPolyline(t),i)}function R(e,t,i){return _(e.renderer.drawLine(t),i)}function E(e,t,i,o,n,r){var a;switch(t){case"Balloon":a=F(e,i,o,n,r);break;case"Cross":i.d="M "+n.x+" "+(n.y-o.height/2)+" L "+n.x+" "+(n.y+o.height/2)+" M "+(n.x-o.width/2)+" "+n.y+" L "+(n.x+o.width/2)+" "+n.y;break;case"Diamond":i.d="M "+n.x+" "+(n.y-o.height/2)+" L "+(n.x+o.width/2)+" "+n.y+" L "+n.x+" "+(n.y+o.height/2)+" L "+(n.x-o.width/2)+" "+n.y+" Z";break;case"Star":i.d="M "+(n.x+o.width/3)+" "+(n.y-o.height/2)+" L "+(n.x-o.width/2)+" "+(n.y+o.height/6)+" L "+(n.x+o.width/2)+" "+(n.y+o.height/6)+" L "+(n.x-o.width/3)+" "+(n.y-o.height/2)+" L "+n.x+" "+(n.y+o.height/2)+" L "+(n.x+o.width/3)+" "+(n.y-o.height/2)+" Z";break;case"Triangle":i.d="M "+n.x+" "+(n.y-o.height/2)+" L "+(n.x+o.width/2)+" "+(n.y+o.height/2)+" L "+(n.x-o.width/2)+" "+(n.y+o.height/2)+" Z";break;case"HorizontalLine":i.d=" M "+(n.x-o.width/2)+" "+n.y+" L "+(n.x+o.width/2)+" "+n.y;break;case"VerticalLine":i.d="M "+n.x+" "+(n.y-o.height/2)+" L "+n.x+" "+(n.y+o.height/2)}return"Balloon"===t?a:e.renderer.drawPath(i)}function I(e,t,i,o,n){return t.d="M "+o.x+" "+(o.y-i.height/2)+" L "+(o.x+i.width/2)+" "+o.y+" L "+o.x+" "+(o.y+i.height/2)+" L "+(o.x-i.width/2)+" "+o.y+" Z",_(e.renderer.drawPath(t),n)}function B(e,t,i,o,n){return t.d="M "+o.x+" "+(o.y-i.height/2)+" L "+(o.x+i.width/2)+" "+(o.y+i.height/2)+" L "+(o.x-i.width/2)+" "+(o.y+i.height/2)+" Z",_(e.renderer.drawPath(t),n)}function k(e,t,i,o,n){return t.d="M "+o.x+" "+(o.y-i.height/2)+" L "+o.x+" "+(o.y+i.height/2)+" M "+(o.x-i.width/2)+" "+o.y+" L "+(o.x+i.width/2)+" "+o.y,_(e.renderer.drawPath(t),n)}function N(e,t,i,o,n){return t.d=" M "+(o.x-i.width/2)+" "+o.y+" L "+(o.x+i.width/2)+" "+o.y,_(e.renderer.drawPath(t),n)}function A(e,t,i,o,n){return t.d="M "+o.x+" "+(o.y-i.height/2)+" L "+o.x+" "+(o.y+i.height/2),_(e.renderer.drawPath(t),n)}function z(e,t,i,o,n){return t.d="M "+(o.x+i.width/3)+" "+(o.y-i.height/2)+" L "+(o.x-i.width/2)+" "+(o.y+i.height/6)+" L "+(o.x+i.width/2)+" "+(o.y+i.height/6)+" L "+(o.x-i.width/3)+" "+(o.y-i.height/2)+" L "+o.x+" "+(o.y+i.height/2)+" L "+(o.x+i.width/3)+" "+(o.y-i.height/2)+" Z",_(e.renderer.drawPath(t),n)}function F(e,t,i,o,n){var r=i.width,a=i.height;o.x-=r/2,o.y-=a,t.d="M15,0C8.8,0,3.8,5,3.8,11.2C3.8,17.5,9.4,24.4,15,30c5.6-5.6,11.2-12.5,11.2-18.8C26.2,5,21.2,0,15,0z M15,16c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S17.8,16,15,16z";var s=e.renderer.drawPath(t),l=i.width/22.5,p=i.height/30;s.setAttribute("transform","translate("+o.x+", "+o.y+") scale("+l+", "+p+")");var h=e.renderer.createGroup({id:t.id});return _(s,h),_(h,n)}function j(e,t,i,o){for(var n=e.renderer.createPattern(t,"pattern"),r=0,a=i;r<a.length;r++)_(a[r],n);return _(n,o)}function D(e,t){for(var i,o=[],n=0,r=e;n<r.length;n++){var a=r[n];i={};for(var s=0,l=t;s<l.length;s++){var p=l[s];a[p]&&(i[p]=a[p])}o.push(i)}return o}function U(e,i,o,n){if(!t.isNullOrUndefined(i))for(var r=0;r<e.length;r++)if(e[r][o]===i[n])return r;return null}function H(e,t,i){for(var o=[],n=0;n<e.length;n++){var r=e[n];t<=r.y&&i>=r.y&&o.push(r)}return o}function Z(e){if(!e.length)return null;for(var t,i,o,n,r=e.length,a=0,s=0,l=0,p=0;p<=r-1;p++)t=e[p].x,i=e[p].y,p===r-1?(o=e[0].x,n=e[0].y):(o=e[p+1].x,n=e[p+1].y),a+=Math.abs(t*n-o*i),s+=Math.abs((t+o)*(t*n-o*i)),l+=Math.abs((i+n)*(t*n-o*i));s*=1/(4*(a*=.5)),l*=1/(4*a);for(var h={x:0,y:0},d={x:0,y:0},c={x:0,y:0},u={x:0,y:0},m={x:0,y:0},g={x:0,y:0},y={x:0,y:0},f={x:0,y:0},v=0,p=0;p<=r-1;p++){var b=e[p];b.y>l?b.x<s&&s-b.x<s-m.x?m={x:b.x,y:b.y}:b.x>s&&(0===g.x||b.x-s<g.x-s)&&(g={x:b.x,y:b.y}):b.x<s&&s-b.x<s-y.x?y={x:b.x,y:b.y}:b.x>s&&(0===f.x||b.x-s<f.x-s)&&(f={x:b.x,y:b.y}),v=g.y-f.y+(g.y-f.y)/4,b.x>s?b.y<l&&l-b.y<l-h.y?h={x:b.x,y:b.y}:b.y>l&&(0===d.y||b.y-l<d.y-l)&&(d={x:b.x,y:b.y}):b.y<l&&l-b.y<l-c.y?c={x:b.x,y:b.y}:b.y>l&&(0===u.y||b.y-l<u.y-l)&&(u={x:b.x,y:b.y})}return{x:s,y:l,rightMin:h,rightMax:d,leftMin:c,leftMax:u,points:e,topMax:f,topMin:y,bottomMax:g,bottomMin:m,height:v}}function G(e){var i=!1;return"[object Array]"===Object.prototype.toString.call(e)&&e.forEach(function(e,o){t.isNullOrUndefined(e.geometry)||"Path"!==e.geometry.type||(i=!0)}),i}function W(e,t,i){var o=t,n=x(t,i).width;if(n>e)for(var r=t.length-1;r>=0;--r)if(o=t.substring(0,r)+"...",(n=x(o,i).width)<=e||o.length<4)return o.length<4&&(o=" "),o;return o}function V(e,t,i,o){var n,r;switch(t){case"Near":n=e.x;break;case"Center":n="title"===o?e.width/2-i.width/2:e.x+e.width/2-i.width/2;break;case"Far":n="title"===o?e.width-e.y-i.width:e.x+e.width-i.width}return r="title"===o?e.y+i.height/2:e.y+e.height/2+i.height/2,new Te(n,r)}function q(e){var i=document.getElementById(e);return i?t.remove(i):null}function X(e,i,o){var n,r,a,s=o?1:e.zoomSettings.zoomFactor,l=e.baseMapRectBounds.min,p=e.baseMapRectBounds.max,h=e.mapAreaRect,c=(e.availableSize,Math.abs(p.x-l.x)),u=Math.abs(l.y-p.y),m=o?1:e.zoomSettings.zoomFactor,g=e.centerPosition;if(t.isNullOrUndefined(g.longitude)||t.isNullOrUndefined(g.latitude))c*=a=parseFloat(Math.min(h.width/c,h.height/u).toFixed(2)),u*=a,n=h.x+(-l.x+(h.width/2-c/2)),r=h.y+(-l.y+(h.height/2-u/2));else{var y=(c+Math.abs(e.mapAreaRect.width-c))/2/m,f=(u+Math.abs(e.mapAreaRect.height-u))/2/m,v=d(g.latitude,g.longitude,e.mapLayerPanel.calculateFactor(i),i,e);n=-v.x+y,r=-v.y+f,a=s}return{scale:a,location:new Te(n,r)}}function Y(e){return document.getElementById(e)}function J(e,t){return e.formatFunction=e.intl.getNumberFormat({format:e.format,useGrouping:e.useGroupingSeparator}),e.formatFunction(t)}function K(e){var i=null;try{document.querySelectorAll(e).length&&(i=t.compile(document.querySelector(e).innerHTML.trim()))}catch(o){i=t.compile(e)}return i}function Q(e){return document.getElementById(e)}function $(e,t){var i,o=parseInt(e.split("_LayerIndex_")[1].split("_")[0],10),n=parseInt(e.split("_ShapeIndex_")[1].split("_")[0],10),r=t.layers[o],a=r.layerData[n].property;return r.dataSource&&(i=r.dataSource[U(r.dataSource,a,r.shapeDataPath,r.shapePropertyPath)]),{shapeData:a,data:i}}function ee(e,t,i,o){var n=$(e,i),r={cancel:!1,name:o,fill:t.fill,opacity:t.opacity,border:t.border,shapeData:n.shapeData,data:n.data,target:e};return i.trigger(o,r),r}function te(e){return document.getElementsByClassName(e)}function ie(e,t){var i=null;return document.getElementById(t)&&(i=document.getElementById(t).querySelector("#"+e)),i}function oe(e,t,i,o){for(var n,r=o.layers[e].shapeData.features,a=0;a<r.length;a++)if(r[a].properties.name===t){n=o.element.id+"_LayerIndex_"+e+"_ShapeIndex_"+a+"_dataIndex_undefined";break}return Q(n)}function ne(e,i,o){return t.createElement("style",{id:e,innerHTML:"."+i+"{fill:"+o.fill+";opacity:"+o.opacity.toString()+";}"})}function re(e,t,i){Q(e).innerHTML="."+t+"{fill:"+i.fill+";opacity:"+i.opacity.toString()+";stroke-width:"+i.border.width.toString()+"stroke-color:"+i.border.color+"}"}function ae(e){e.removeAttribute("class")}function se(e,i,o,n,r,a,s){void 0===s&&(s=0);var l=n.x,p=n.y,h=0,d=e.getAttribute("transform")||"";new t.Animation({}).animate(e,{duration:o,delay:i,progress:function(t){t.timeStamp>t.delay&&(h=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate( "+(l-s*h)+" "+(p-s*h)+" ) scale("+h+")"))},end:function(t){if(e.setAttribute("transform",d),a){var i={cancel:!1,name:ft,element:a,maps:r};r.trigger(ft,i)}}})}function le(e){q(e)}function pe(e,i,o,n,r,a,s,l,p){for(var h=document.getElementById(s),d=x(e,{fontFamily:"Segoe UI",size:"8px",fontStyle:"Normal",fontWeight:"Regular"}).width,c=e.split(" "),u=c[0].length,m=1;m<c.length;m++)u<c[m].length&&(u=c[m].length);h||(h=t.createElement("div",{id:s,styles:'background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(0, 0, 0); padding-left:5px;font-size:12px; font-family: "Segoe UI"; text-align:center'})),o<r-d?o=o:o>r-d&&o<r-8*u?d=r-o:o>=r-8*u&&(o>d?o-=d:(d=o,o=0));var g=i.split("px");he(h,e,o,n,g,d,r,l),h.clientHeight+2*parseInt(g[0],10)>a&&(d=o,o=0),he(h,e,o,n,g,d,r,l),p&&setTimeout(le,5e3,s)}function he(e,t,i,o,n,r,a,s){e.innerHTML=t,e.style.top=(2*parseInt(n[0],10)).toString()+"px",e.style.left=i.toString()+"px",e.style.width=r.toString()+"px",e.style.maxWidth=a.toString()+"px",e.style.wordWrap="break-word",s.appendChild(e)}function de(e,i,o,n,r){var a=Q(e),s="top:"+o.toString()+"px;left:"+n.toString()+"px;color: #000000; background:#FFFFFF;position:absolute;border:1px solid #707070;font-size:"+r+";border-radius:2px;";a?(a.setAttribute("innerHTML","&nbsp;"+i+"&nbsp;"),a.setAttribute("styles",s)):(a=t.createElement("div",{id:e,innerHTML:"&nbsp;"+i+"&nbsp;",styles:s}),document.body.appendChild(a))}function ce(e,i,o,n,r){var a=new t.SvgRenderer(""),s=ue(e,o,i,r,n);return a["draw"+s.functionName](s.renderOption)}function ue(e,i,o,n,r){var a,s="Path",l=i.width,p=i.height,h=e.x,d=e.y,c=e.x+-l/2,u=e.y+-p/2;switch(o){case"Circle":case"Bubble":s="Ellipse",t.merge(n,{rx:l/2,ry:p/2,cx:h,cy:d});break;case"Star":a="M "+(e.x+i.width/3)+" "+(e.y-i.height/2)+" L "+(e.x-i.width/2)+" "+(e.y+i.height/6)+" L "+(e.x+i.width/2)+" "+(e.y+i.height/6)+" L "+(e.x-i.width/3)+" "+(e.y-i.height/2)+" L "+e.x+" "+(e.y+i.height/2)+" L "+(e.x+i.width/3)+" "+(e.y-i.height/2)+" Z",t.merge(n,{d:a});break;case"Cross":a="M "+c+" "+d+" L "+(h+l/2)+" "+d+" M "+h+" "+(d+p/2)+" L "+h+" "+(d+-p/2),t.merge(n,{d:a});break;case"HorizontalLine":a="M "+c+" "+d+" L "+(h+l/2)+" "+d,t.merge(n,{d:a});break;case"VerticalLine":a="M "+h+" "+(d+p/2)+" L "+h+" "+(d+-p/2),t.merge(n,{d:a});break;case"Diamond":a="M "+c+" "+d+" L "+h+" "+(d+-p/2)+" L "+(h+l/2)+" "+d+" L "+h+" "+(d+p/2)+" L "+c+" "+d+" z",t.merge(n,{d:a});break;case"Rectangle":a="M "+c+" "+(d+-p/2)+" L "+(h+l/2)+" "+(d+-p/2)+" L "+(h+l/2)+" "+(d+p/2)+" L "+c+" "+(d+p/2)+" L "+c+" "+(d+-p/2)+" z",t.merge(n,{d:a});break;case"Triangle":a="M "+c+" "+(d+p/2)+" L "+h+" "+(d+-p/2)+" L "+(h+l/2)+" "+(d+p/2)+" L "+c+" "+(d+p/2)+" z",t.merge(n,{d:a});break;case"InvertedTriangle":a="M "+(h+l/2)+" "+(d-p/2)+" L "+h+" "+(d+p/2)+" L "+(h-l/2)+" "+(d-p/2)+" L "+(h+l/2)+" "+(d-p/2)+" z",t.merge(n,{d:a});break;case"Pentagon":for(var m=void 0,g=void 0,y=0;y<=5;y++)m=l/2*Math.cos(Math.PI/180*(72*y)),g=p/2*Math.sin(Math.PI/180*(72*y)),a=0===y?"M "+(h+m)+" "+(d+g)+" ":a.concat("L "+(h+m)+" "+(d+g)+" ");a=a.concat("Z"),t.merge(n,{d:a});break;case"Image":s="Image",t.merge(n,{href:r,height:p,width:l,x:c,y:u})}return{renderOption:n,functionName:s}}function me(e,t){var i,o;return t.appendChild(e),i=e.offsetWidth,o=e.offsetHeight,t.removeChild(e),new Oe(i,o)}function ge(e,t,i,o){for(var n,r=0;r<e.childElementCount;r++)if((n=e.childNodes[r]).id.indexOf("_NavigationGroup")>-1)ye(n,t,i,o);else{var a=o.layersCollection[t].shapeSettings.border.width;n.setAttribute("stroke-width",(a/i).toString())}}function ye(e,t,i,o){for(var n,r=0;r<e.childElementCount;r++)if("path"===(n=e.childNodes[r]).tagName){var a=o.layersCollection[t].navigationLineSettings[parseFloat(n.id.split("_")[2])].width;n.setAttribute("stroke-width",(a/i).toString())}}function fe(e){for(var t=[],i=e.touches,o=0;o<i.length;o++)t.push({pageX:i[o].pageX,pageY:i[o].pageY});return t}function ve(e,t){var i=be(e[0],e[1]);return be(t[0],t[1])/i}function be(e,t){var i=e.pageX-t.pageX,o=e.pageY-t.pageY;return Math.sqrt(i*i+o*o)}function xe(e,t){var i=t.element.getBoundingClientRect(),o=i.top+document.defaultView.pageXOffset,n=i.left+document.defaultView.pageYOffset;return Array.prototype.slice.call(e).map(function(e){return{x:e.pageX-n,y:e.pageY-o}})}function we(e){return{x:e.map(function(e){return e.x}).reduce(Se)/e.length,y:e.map(function(e){return e.y}).reduce(Se)/e.length}}function Se(e,t){return e+t}function Me(e,t,i,o,n,r,a){var s=0,l=a.previousPoint,p=a.previousScale,h=n-p,d=new De(0,0),c=1;if(n===p)return void e.setAttribute("transform","scale( "+n+" ) translate( "+o.x+" "+o.y+" )");var u=function(e,t){return e.x===t.x?null:(t.y-e.y)/(t.x-e.x)}(l,o),m=function(e,t){return null===t?e.x:e.y-t*e.x}(l,u),g=o.x-l.x,y=o.y-l.y;_e(e,t,i,function(e){e.timeStamp>e.delay&&(s=(e.timeStamp-e.delay)/e.duration,c=p+s*h,d.x=l.x+s*g/(c/n),d.y=null==u?l.y+s*y:u*d.x+m,e.element.setAttribute("transform","scale( "+c+" ) translate( "+d.x+" "+d.y+" )"),a.translatePoint=d,a.scale=c,a.zoomModule.processTemplate(o.x,o.y,c,a))},function(){a.translatePoint=o,a.scale=n,e.setAttribute("transform","scale( "+n+" ) translate( "+o.x+" "+o.y+" )"),a.zoomModule.processTemplate(o.x,o.y,n,a)})}function _e(e,t,i,o,n){var r,a=this,s=null,l=function(t){s||(s=t);var p=t-s;p<i?(o.call(a,{element:e,delay:0,timeStamp:p,duration:i}),window.requestAnimationFrame(l)):(window.cancelAnimationFrame(r),n.call(a,{element:e}))};r=window.requestAnimationFrame(l)}function Pe(e,t,i,o){var n=0,r=e.getAttribute("transform").split(" ");2===r.length&&(r[2]=r[1].split(")")[0],r[1]=r[0].split("(")[1]);var a=new De(parseInt(r[1],10),parseInt(r[2],10)),s=o.x-a.x,l=o.y-a.y,p=new De(0,0);_e(e,t,i,function(e){e.timeStamp>e.delay&&(n=(e.timeStamp-e.delay)/e.duration,p.x=a.x+n*s,p.y=a.y+n*l,e.element.setAttribute("transform","translate( "+p.x+" "+p.y+" )"))},function(){e.setAttribute("transform","translate( "+o.x+" "+o.y+" )")})}var Le,Ce=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Oe=function(){function e(e,t){this.width=e,this.height=t}return e}(),Te=function(){function e(e,t){this.x=e,this.y=t}return e}(),Re=function(){function e(e,t){this.min=e,this.max=t}return e}(),Ee=function(){function e(e,t){this.latitude=new Re(e.min,e.max),this.longitude=new Re(t.min,t.max)}return e}(),Ie=function(){function e(e,t,i,o,n,r,a){void 0===r&&(r=""),this.transform="",this.baseLine="auto",this.id=e,this.x=t,this.y=i,this.anchor=o,this.text=n,this.transform=r,this.baseLine=a}return e}(),Be=function(){function e(e,t,i,o,n,r,a){this.id=e,this.opacity=n,this.fill=t,this.stroke=o,this["stroke-width"]=i,this["stroke-dasharray"]=r,this.d=a}return e}(),ke=function(e){function t(t,i,o,n,r,a,s,l,p){var h=e.call(this,t,i,o.width,o.color,n,p)||this;return h.y=r.y,h.x=r.x,h.height=r.height,h.width=r.width,h.rx=a||0,h.ry=s||0,h.transform=l||"",h["stroke-dasharray"]=p,h}return Ce(t,e),t}(Be),Ne=function(e){function t(t,i,o,n,r,a,s,l){var p=e.call(this,t,i,o.width,o.color,n)||this;return p.cy=a,p.cx=r,p.r=s,p["stroke-dasharray"]=l,p}return Ce(t,e),t}(Be),Ae=function(e){function t(t,i,o,n,r,a,s){void 0===a&&(a=1),void 0===s&&(s="");var l=e.call(this,t,o,n,r,a,s)||this;return l.points=i,l}return Ce(t,e),t}(Be),ze=function(e){function t(t,i,o,n,r,a,s){return void 0===a&&(a=1),void 0===s&&(s=""),e.call(this,t,i,o,n,r,a,s)||this}return Ce(t,e),t}(Ae),Fe=function(e){function t(t,i,o,n,r,a,s){void 0===a&&(a=1),void 0===s&&(s="");var l=e.call(this,t,o,n,r,a,s)||this;return l.x1=i.x1,l.y1=i.y1,l.x2=i.x2,l.y2=i.y2,l}return Ce(t,e),t}(Be),je=function(){function e(e,t,i,o){this.x1=e,this.y1=t,this.x2=i,this.y2=o}return e}(),De=function(){function e(e,t){this.x=e,this.y=t}return e}(),Ue=function(){function e(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o}return e}(),He=function(){function e(e,t,i,o,n,r,a,s,l){void 0===r&&(r="userSpaceOnUse"),void 0===a&&(a="userSpaceOnUse"),void 0===s&&(s=""),void 0===l&&(l=""),this.id=e,this.x=t,this.y=i,this.width=o,this.height=n,this.patternUnits=r,this.patternContentUnits=a,this.patternTransform=s,this.href=l}return e}(),Ze=function(){function e(e,t,i,o,n){this.dataOptions=e,this.type=t||"GET",this.async=i||!0,this.contentType=o,this.sendData=n}return e}();!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Medium",color:"#424242",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Medium",color:"#424242",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#757575",fontStyle:"Regular",fontFamily:"Roboto, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#757575",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"}}(Le||(Le={}));var Ge;!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Semibold",color:"#424242",fontStyle:"Semibold",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Regular",color:"#424242",fontStyle:"Regular",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#757575",fontStyle:"Regular",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#757575",fontStyle:"Medium",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"}}(Ge||(Ge={}));var We;!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Semibold",color:"#424242",fontStyle:"Semibold",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Regular",color:"#424242",fontStyle:"Regular",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#757575",fontStyle:"Regular",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#757575",fontStyle:"Medium",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"}}(We||(We={}));var Ve;!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Medium",color:"#FFFFFF",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Medium",color:"#FFFFFF",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#FFFFFF",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"}}(Ve||(Ve={}));var qe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Xe=function(e,t,i,o){var n,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Ye=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property("")],i.prototype,"content",void 0),Xe([t.Property("0px")],i.prototype,"x",void 0),Xe([t.Property("0px")],i.prototype,"y",void 0),Xe([t.Property("None")],i.prototype,"verticalAlignment",void 0),Xe([t.Property("None")],i.prototype,"horizontalAlignment",void 0),Xe([t.Property("-1")],i.prototype,"zIndex",void 0),i}(t.ChildProperty),Je=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property("Start")],i.prototype,"position",void 0),Xe([t.Property("false")],i.prototype,"showArrow",void 0),Xe([t.Property(2)],i.prototype,"size",void 0),Xe([t.Property("black")],i.prototype,"color",void 0),Xe([t.Property(0)],i.prototype,"offSet",void 0),i}(t.ChildProperty),Ke=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(null)],i.prototype,"size",void 0),Xe([t.Property(null)],i.prototype,"color",void 0),Xe([t.Property(null)],i.prototype,"fontFamily",void 0),Xe([t.Property(null)],i.prototype,"fontWeight",void 0),Xe([t.Property(null)],i.prototype,"fontStyle",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),i}(t.ChildProperty),Qe=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property("")],i.prototype,"color",void 0),Xe([t.Property(0)],i.prototype,"width",void 0),i}(t.ChildProperty),$e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(!1)],i.prototype,"visible",void 0),Xe([t.Property("")],i.prototype,"template",void 0),Xe([t.Property("#363F4C")],i.prototype,"fill",void 0),Xe([t.Complex({color:"transparent",width:1},Qe)],i.prototype,"border",void 0),Xe([t.Complex(Le.tooltipLabelFont,Ke)],i.prototype,"textStyle",void 0),Xe([t.Property(null)],i.prototype,"format",void 0),Xe([t.Property(null)],i.prototype,"valuePath",void 0),i}(t.ChildProperty),et=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(10)],i.prototype,"left",void 0),Xe([t.Property(10)],i.prototype,"right",void 0),Xe([t.Property(10)],i.prototype,"top",void 0),Xe([t.Property(10)],i.prototype,"bottom",void 0),i}(t.ChildProperty),tt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(null)],i.prototype,"from",void 0),Xe([t.Property(null)],i.prototype,"to",void 0),Xe([t.Property(null)],i.prototype,"value",void 0),Xe([t.Property(null)],i.prototype,"color",void 0),Xe([t.Property(null)],i.prototype,"label",void 0),i}(t.ChildProperty),it=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(!1)],i.prototype,"enable",void 0),Xe([t.Property("#D2691E")],i.prototype,"fill",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),Xe([t.Property(!1)],i.prototype,"enableMultiSelect",void 0),Xe([t.Complex({color:"transparent",width:0},Qe)],i.prototype,"border",void 0),i}(t.ChildProperty),ot=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property("#6B8E23")],i.prototype,"fill",void 0),Xe([t.Property(!1)],i.prototype,"enable",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),Xe([t.Complex({color:"transparent",width:0},Qe)],i.prototype,"border",void 0),i}(t.ChildProperty),nt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(!1)],i.prototype,"visible",void 0),Xe([t.Property(1)],i.prototype,"width",void 0),Xe([t.Property(null)],i.prototype,"longitude",void 0),Xe([t.Property(null)],i.prototype,"latitude",void 0),Xe([t.Property("")],i.prototype,"dashArray",void 0),Xe([t.Property("black")],i.prototype,"color",void 0),Xe([t.Property(0)],i.prototype,"angle",void 0),Xe([t.Complex({showArrow:!1,position:"Start",size:5,color:"black"},Je)],i.prototype,"arrowSettings",void 0),Xe([t.Complex({},it)],i.prototype,"selectionSettings",void 0),Xe([t.Complex({},ot)],i.prototype,"highlightSettings",void 0),i}(t.ChildProperty),rt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Complex({},Qe)],i.prototype,"border",void 0),Xe([t.Property(!1)],i.prototype,"visible",void 0),Xe([t.Property([])],i.prototype,"dataSource",void 0),Xe([t.Property(1e3)],i.prototype,"animationDuration",void 0),Xe([t.Property(0)],i.prototype,"animationDelay",void 0),Xe([t.Property("")],i.prototype,"fill",void 0),Xe([t.Property(10)],i.prototype,"minRadius",void 0),Xe([t.Property(20)],i.prototype,"maxRadius",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),Xe([t.Property(null)],i.prototype,"valuePath",void 0),Xe([t.Property("Circle")],i.prototype,"bubbleType",void 0),Xe([t.Property(null)],i.prototype,"colorValuePath",void 0),Xe([t.Collection([],tt)],i.prototype,"colorMapping",void 0),Xe([t.Complex({},$e)],i.prototype,"tooltipSettings",void 0),Xe([t.Complex({},it)],i.prototype,"selectionSettings",void 0),Xe([t.Complex({},ot)],i.prototype,"highlightSettings",void 0),i}(t.ChildProperty),at=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property("")],i.prototype,"text",void 0),Xe([t.Property("")],i.prototype,"description",void 0),i}(t.ChildProperty),st=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Complex({},Ke)],i.prototype,"textStyle",void 0),Xe([t.Property("Center")],i.prototype,"alignment",void 0),i}(at),lt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Complex({},Ke)],i.prototype,"textStyle",void 0),Xe([t.Property("Center")],i.prototype,"alignment",void 0),Xe([t.Complex({},st)],i.prototype,"subtitleSettings",void 0),i}(at),pt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(!1)],i.prototype,"enable",void 0),Xe([t.Property("Horizontal")],i.prototype,"toolBarOrientation",void 0),Xe([t.Property(null)],i.prototype,"color",void 0),Xe([t.Property("#e61576")],i.prototype,"highlightColor",void 0),Xe([t.Property("#e61576")],i.prototype,"selectionColor",void 0),Xe([t.Property("Far")],i.prototype,"horizontalAlignment",void 0),Xe([t.Property("Near")],i.prototype,"verticalAlignment",void 0),Xe([t.Property(["ZoomIn","ZoomOut","Reset"])],i.prototype,"toolbars",void 0),Xe([t.Property(!0)],i.prototype,"mouseWheelZoom",void 0),Xe([t.Property(!1)],i.prototype,"doubleClickZoom",void 0),Xe([t.Property(!1)],i.prototype,"pinchZooming",void 0),Xe([t.Property(!1)],i.prototype,"zoomOnClick",void 0),Xe([t.Property(1)],i.prototype,"zoomFactor",void 0),Xe([t.Property(10)],i.prototype,"maxZoom",void 0),Xe([t.Property(1)],i.prototype,"minZoom",void 0),i}(t.ChildProperty),ht=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(!1)],i.prototype,"toggleVisibility",void 0),Xe([t.Property(!1)],i.prototype,"visible",void 0),Xe([t.Property("transparent")],i.prototype,"background",void 0),Xe([t.Property("Layers")],i.prototype,"type",void 0),Xe([t.Property(!1)],i.prototype,"invertedPointer",void 0),Xe([t.Property("After")],i.prototype,"labelPosition",void 0),Xe([t.Property("None")],i.prototype,"labelDisplayMode",void 0),Xe([t.Property("Circle")],i.prototype,"shape",void 0),Xe([t.Property("")],i.prototype,"width",void 0),Xe([t.Property("")],i.prototype,"height",void 0),Xe([t.Complex({},Ke)],i.prototype,"textStyle",void 0),Xe([t.Property(15)],i.prototype,"shapeWidth",void 0),Xe([t.Property(15)],i.prototype,"shapeHeight",void 0),Xe([t.Property(10)],i.prototype,"shapePadding",void 0),Xe([t.Complex({color:"#000000",width:0},Qe)],i.prototype,"border",void 0),Xe([t.Complex({color:"#000000",width:0},Qe)],i.prototype,"shapeBorder",void 0),Xe([t.Complex({},at)],i.prototype,"title",void 0),Xe([t.Complex({},Ke)],i.prototype,"titleStyle",void 0),Xe([t.Property("Bottom")],i.prototype,"position",void 0),Xe([t.Property("Center")],i.prototype,"alignment",void 0),Xe([t.Property("None")],i.prototype,"orientation",void 0),Xe([t.Property({x:0,y:0})],i.prototype,"location",void 0),Xe([t.Property(null)],i.prototype,"fill",void 0),Xe([t.Property("Default")],i.prototype,"mode",void 0),i}(t.ChildProperty),dt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(!1)],i.prototype,"visible",void 0),Xe([t.Complex({width:0,color:"transparent"},Qe)],i.prototype,"border",void 0),Xe([t.Property("black")],i.prototype,"fill",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),Xe([t.Property(5)],i.prototype,"rx",void 0),Xe([t.Property(5)],i.prototype,"ry",void 0),Xe([t.Complex({},Ke)],i.prototype,"textStyle",void 0),Xe([t.Property("")],i.prototype,"labelPath",void 0),Xe([t.Property("None")],i.prototype,"smartLabelMode",void 0),Xe([t.Property("None")],i.prototype,"intersectionAction",void 0),Xe([t.Property("")],i.prototype,"template",void 0),i}(t.ChildProperty),ct=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property("#A6A6A6")],i.prototype,"fill",void 0),Xe([t.Property([])],i.prototype,"palette",void 0),Xe([t.Property(5)],i.prototype,"circleRadius",void 0),Xe([t.Complex({width:0,color:"#000000"},Qe)],i.prototype,"border",void 0),Xe([t.Property("")],i.prototype,"dashArray",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),Xe([t.Property(null)],i.prototype,"colorValuePath",void 0),Xe([t.Property(null)],i.prototype,"valuePath",void 0),Xe([t.Collection([],tt)],i.prototype,"colorMapping",void 0),Xe([t.Property(!1)],i.prototype,"autofill",void 0),i}(t.ChildProperty),ut=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Complex({color:"transparent",width:1},Qe)],i.prototype,"border",void 0),Xe([t.Property(null)],i.prototype,"dashArray",void 0),Xe([t.Property(!1)],i.prototype,"visible",void 0),Xe([t.Property("#FF471A")],i.prototype,"fill",void 0),Xe([t.Property(10)],i.prototype,"height",void 0),Xe([t.Property(10)],i.prototype,"width",void 0),Xe([t.Property(1)],i.prototype,"opacity",void 0),Xe([t.Property("Balloon")],i.prototype,"shape",void 0),Xe([t.Property("")],i.prototype,"legendText",void 0),Xe([t.Property(new Te(0,0))],i.prototype,"offset",void 0),Xe([t.Property("")],i.prototype,"imageUrl",void 0),Xe([t.Property(null)],i.prototype,"template",void 0),Xe([t.Property([])],i.prototype,"dataSource",void 0),Xe([t.Complex({},$e)],i.prototype,"tooltipSettings",void 0),Xe([t.Property(1e3)],i.prototype,"animationDuration",void 0),Xe([t.Property(0)],i.prototype,"animationDelay",void 0),Xe([t.Complex({},it)],i.prototype,"selectionSettings",void 0),Xe([t.Complex({},ot)],i.prototype,"highlightSettings",void 0),i}(t.ChildProperty),mt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.isBaseLayer=!1,t}return qe(i,e),Xe([t.Property(null)],i.prototype,"shapeData",void 0),Xe([t.Property()],i.prototype,"query",void 0),Xe([t.Complex({},ct)],i.prototype,"shapeSettings",void 0),Xe([t.Property([])],i.prototype,"dataSource",void 0),Xe([t.Property("Layer")],i.prototype,"type",void 0),Xe([t.Property("Geographic")],i.prototype,"geometryType",void 0),Xe([t.Property("Aerial")],i.prototype,"bingMapType",void 0),Xe([t.Property("")],i.prototype,"key",void 0),Xe([t.Property("Geometry")],i.prototype,"layerType",void 0),Xe([t.Property("http://a.tile.openstreetmap.org/level/tileX/tileY.png")],i.prototype,"urlTemplate",void 0),Xe([t.Property(!0)],i.prototype,"visible",void 0),Xe([t.Property("name")],i.prototype,"shapeDataPath",void 0),Xe([t.Property("name")],i.prototype,"shapePropertyPath",void 0),Xe([t.Property(0)],i.prototype,"animationDuration",void 0),Xe([t.Collection([],ut)],i.prototype,"markerSettings",void 0),Xe([t.Complex({},dt)],i.prototype,"dataLabelSettings",void 0),Xe([t.Collection([],rt)],i.prototype,"bubbleSettings",void 0),Xe([t.Collection([],nt)],i.prototype,"navigationLineSettings",void 0),Xe([t.Complex({},$e)],i.prototype,"tooltipSettings",void 0),Xe([t.Complex({},it)],i.prototype,"selectionSettings",void 0),Xe([t.Complex({},ot)],i.prototype,"highlightSettings",void 0),i}(t.ChildProperty),gt=function(){function e(e,t,i,o,n,r,a){void 0===i&&(i=256),void 0===o&&(o=256),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=null),this.x=e,this.y=t,this.top=n,this.left=r,this.height=i,this.width=o,this.src=a}return e}(),yt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return qe(i,e),Xe([t.Property(null)],i.prototype,"background",void 0),Xe([t.Complex({color:"transparent",width:1},Qe)],i.prototype,"border",void 0),i}(t.ChildProperty),ft="animationComplete",vt=function(){function e(e){this.maps=e}return e.prototype.getBingMap=function(e,t,i,o,n,r){for(var a,s="",l=Math.min(this.maps.tileZoomLevel,parseInt(this.maxZoom,10));l>0;l--){var p=0,h=1<<l-1;0!=(e.x&h)&&p++,0!=(e.y&h)&&(p+=2),s=s+""+p}return a=r[Math.min(parseInt(s.substr(s.length-1,1),10),r.length)],n=n.replace("{quadkey}",s).replace("{subdomain}",a),n+="&mkt="+o+"&ur=IN&Key="+t},e}(),bt=function(){function e(e){this.maps=e}return e.prototype.getShapeColorMapping=function(e,t,i){var o=t[e.colorValuePath?e.colorValuePath:e.valuePath],n=Number(o),r=this.getColorByValue(e.colorMapping,n,o);return r||i},e.prototype.getColorByValue=function(e,i,o){if(isNaN(i)&&t.isNullOrUndefined(o))return null;for(var n="",r=0,a=e;r<a.length;r++){var s=a[r];(s.from&&s.to&&i>=s.from&&i<=s.to||s.value===o)&&(n=s.color)}return n||(e.length?null:o)},e}(),xt=function(){function e(e){this.tileTranslatePoint=new De(0,0),this.isMapCoordinates=!0,this.ajaxProcessCount=0,this.mapObject=e,this.ajaxModule=new t.Ajax,this.ajaxResponse=[]}return e.prototype.measureLayerPanel=function(){var e=this,t=this.mapObject.layersCollection,i=this.mapObject.mapAreaRect,o=Y(this.mapObject.element.id+"_Secondary_Element");this.mapObject.isTileMap&&o&&(this.tileSvgObject=this.mapObject.renderer.createSvg({id:this.mapObject.element.id+"_Tile_SVG",width:i.width,height:i.height,style:"pointer-events:none"}),o.appendChild(this.tileSvgObject)),this.layerGroup=this.mapObject.renderer.createGroup({id:this.mapObject.element.id+"_Layer_Collections","clip-path":"url(#"+this.mapObject.element.id+"_MapArea_ClipRect)"}),this.clipRectElement=this.mapObject.renderer.drawClipPath(new ke(this.mapObject.element.id+"_MapArea_ClipRect","transparent",{width:1,color:"Gray"},1,{x:this.mapObject.isTileMap?0:i.x,y:this.mapObject.isTileMap?0:i.y,width:i.width,height:i.height})),this.layerGroup.appendChild(this.clipRectElement),this.mapObject.baseMapBounds=null,this.mapObject.baseMapRectBounds=null,this.mapObject.baseSize=null;t.length;t.forEach(function(t,i){e.currentLayer=t,e.processLayers(t,i)})},e.prototype.renderTileLayer=function(e,i,o,n){var r=new Te(e.mapObject.centerPosition.longitude,e.mapObject.centerPosition.latitude);e.currentFactor=e.calculateFactor(i),t.isNullOrUndefined(e.mapObject.tileZoomLevel)&&(e.mapObject.tileZoomLevel=e.mapObject.zoomSettings.zoomFactor),e.mapObject.tileTranslatePoint=e.panTileMap(e.mapObject.availableSize.width,e.mapObject.availableSize.height,r),e.generateTiles(e.mapObject.tileZoomLevel,e.mapObject.tileTranslatePoint,n),e.mapObject.markerModule&&e.mapObject.markerModule.markerRender(e.layerObject,o,e.mapObject.tileZoomLevel),e.mapObject.navigationLineModule&&e.layerObject.appendChild(e.mapObject.navigationLineModule.renderNavigation(e.currentLayer,e.mapObject.tileZoomLevel,o)),e.translateLayerElements(e.layerObject,o),e.layerGroup.appendChild(e.layerObject)},e.prototype.processLayers=function(e,i){this.layerObject=this.mapObject.renderer.createGroup({id:this.mapObject.element.id+"_LayerIndex_"+i});var o={cancel:!1,name:"layerRendering",index:i,layer:e,maps:this.mapObject};if(this.mapObject.trigger("layerRendering",o),!o.cancel)if("Geometry"!==e.layerType){if("Bing"!==e.layerType||this.bing)this.renderTileLayer(this,e,i);else if(e.key&&e.key.length>1){var n=this,r=new vt(this.mapObject),a="http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+e.bingMapType,s=new t.Ajax({url:a+"?output=json&include=ImageryProviders&key="+e.key});s.onSuccess=function(t){var o=JSON.parse(t).resourceSets[0].resources[0],a=o.imageUrl,s=o.imageUrlSubdomains,l=o.zoomMax;null!==a&&void 0!==a&&a!==r.imageUrl&&(r.imageUrl=a),null!==s&&void 0!==s&&s!==r.subDomains&&(r.subDomains=s),null!==l&&void 0!==l&&l!==r.maxZoom&&(r.maxZoom=l),n.mapObject.bingMap=r,n.renderTileLayer(n,e,i,r)},s.send()}}else if(!(t.isNullOrUndefined(e.shapeData)||t.isNullOrUndefined(e.shapeData.geometries)&&t.isNullOrUndefined(e.shapeData.features))){var l=!t.isNullOrUndefined(e.shapeData.geometries)&&e.shapeData.geometries.length>0?e.shapeData.geometries:e.shapeData.features;e.layerData=[];var p=e.shapeData.bbox;!t.isNullOrUndefined(p)&&e.isBaseLayer?this.mapObject.baseMapBounds=new Ee({min:p[0][1],max:p[1][1]},{min:p[0][0],max:p[1][0]}):t.isNullOrUndefined(this.mapObject.baseMapBounds)&&!G(l)&&this.calculateRectBounds(l),this.calculatePathCollection(i,l)}this.mapObject.isTileMap?this.tileSvgObject&&this.tileSvgObject.appendChild(this.layerGroup):this.mapObject.svgObject.appendChild(this.layerGroup)},e.prototype.bubbleCalculation=function(e,t){if(null!=e.dataSource&&null!=e){if(null==e.colorValuePath)return;for(var i=0;i<e.dataSource.length;i++){var o=parseFloat(e.dataSource[i][e.valuePath]);0!==i?o>t.max?t.max=o:o<t.min&&(t.min=o):t.max=t.min=o}}},e.prototype.calculatePathCollection=function(e,i){var o=this;this.groupElements=[],G(i)||(this.currentFactor=this.calculateFactor(this.currentLayer)),this.rectBounds=null;var n=this.currentLayer.shapeSettings;i.forEach(function(e,i){if(!t.isNullOrUndefined(e.geometry)||!t.isNullOrUndefined(e.coordinates)){var n=t.isNullOrUndefined(e.geometry)?e.type:e.geometry.type,r=t.isNullOrUndefined(e.geometry)?e.coordinates:e.geometry.coordinates,a=e.geometry,s=e.properties;o.generatePoints(n,r,a,s)}}),this.currentLayer.rectBounds=this.rectBounds,t.isNullOrUndefined(this.mapObject.baseMapRectBounds)&&this.currentLayer.isBaseLayer&&(this.mapObject.baseMapRectBounds=this.rectBounds);for(var r=n.palette.length>1?n.palette:(this.mapObject.theme,["#B5E485","#7BC1E8","#DF819C","#EC9B79","#78D0D3","#D6D572","#9178E3","#A1E5B4","#87A4B4","#E4C16C"]),a=t.createElement("div",{id:this.mapObject.element.id+"_LayerIndex_"+e+"_Label_Template_Group",className:"template",styles:"pointer-events: none; overflow: hidden; position: absolute;top:"+this.mapObject.mapAreaRect.y+"px;left:"+this.mapObject.mapAreaRect.x+"px;height:"+this.mapObject.mapAreaRect.height+"px;width:"+this.mapObject.mapAreaRect.width+"px;"}),s=this,l=0;l<this.currentLayer.layerData.length;l++)!function(i){var o=void 0,a=s.currentLayer.layerData[i],l=void 0,p=void 0,h=void 0,d=void 0,c="",u="",m=n.autofill?r[i%r.length]:n.fill;null===n.colorValuePath||t.isNullOrUndefined(a.property)||(null!==(o=U(s.currentLayer.dataSource,a.property,s.currentLayer.shapeDataPath,s.currentLayer.shapePropertyPath))&&0===n.colorMapping.length?m=s.currentLayer.dataSource[o][n.colorValuePath]:a.property[n.colorValuePath]&&0===s.currentLayer.dataSource.length&&0===n.colorMapping.length&&(m=a.property[n.colorValuePath]));var g=s.mapObject.element.id+"_LayerIndex_"+e+"_ShapeIndex_"+i+"_dataIndex_"+o;m=s.getShapeColorMapping(s.currentLayer,a.property,m);var y={cancel:!1,name:"shapeRendering",index:i,data:s.currentLayer.dataSource?s.currentLayer.dataSource[o]:null,maps:s.mapObject,shape:n,fill:m,border:{width:n.border.width,color:n.border.color}};s.mapObject.trigger("shapeRendering",y);var f=t.isNullOrUndefined(a._isMultiPolygon)?t.isNullOrUndefined(a.type)?a[0].type:a.type:"MultiPolygon";if(f="Polygon"===f||"MultiPolygon"===f?"Polygon":f,s.groupElements.length<1)d=s.mapObject.renderer.createGroup({id:s.mapObject.element.id+"_LayerIndex_"+e+"_"+f+"_Group",transform:""}),s.groupElements.push(d);else for(var v=0;v<s.groupElements.length;v++){var b=s.groupElements[v];if(b.id.indexOf(f)>-1){d=b;break}if(v>=s.groupElements.length-1){d=s.mapObject.renderer.createGroup({id:s.mapObject.element.id+"_LayerIndex_"+e+"_"+f+"_Group"}),s.groupElements.push(d);break}}var x=void 0;switch(f){case"Polygon":a._isMultiPolygon?c=s.generateMultiPolygonPath(a):(c+="M"+a[0].point.x+" "+a[0].point.y,a.map(function(e){c+=" L "+e.point.x+" "+e.point.y})),(c+=" z ").length>3&&(l=new Be(g,y.fill,y.border.width,y.border.color,n.opacity,n.dashArray,c),x=s.mapObject.renderer.drawPath(l));break;case"LineString":a.map(function(e){u+=e.point.x+" , "+e.point.y+" "}),p=new ze(g,u,y.fill,y.border.width,y.border.color,n.opacity,n.dashArray),x=s.mapObject.renderer.drawPolyline(p);break;case"Point":var w=a.point;h=new Ne(g,y.fill,y.border,n.opacity,w.x,w.y,n.circleRadius,null),x=s.mapObject.renderer.drawCircle(h);break;case"Path":c=a.point,l=new Be(g,y.fill,y.border.width,y.border.color,n.opacity,n.dashArray,c),x=s.mapObject.renderer.drawPath(l)}t.isNullOrUndefined(x)||(x.setAttribute("aria-label",t.isNullOrUndefined(a.property)?"":a.property[s.currentLayer.shapePropertyPath]),x.setAttribute("tabindex",(s.mapObject.tabIndex+i+2).toString()),d.appendChild(x))}(l);var p;if(this.currentLayer.bubbleSettings.length&&this.mapObject.bubbleModule)for(var h,d=this.currentLayer.bubbleSettings.length,c=this,u=0;u<d;u++)!function(t){h=c.currentLayer.bubbleSettings[t],p=c.mapObject.renderer.createGroup({id:c.mapObject.element.id+"_LayerIndex_"+e+"_bubble_Group_"+t});var i={min:0,max:0};c.bubbleCalculation(h,i),h.dataSource.map(function(n,a){o.renderBubble(o.currentLayer,n,r[a%r.length],i,t,a,p,e,h)}),c.groupElements.push(p)}(u);var m=this.mapObject.renderer.createGroup({id:this.mapObject.element.id+"_layerIndex_"+e+"_dataLableIndex_Group",style:"pointer-events: none;"});this.mapObject.dataLabelModule&&this.currentLayer.dataLabelSettings.visible&&(i.map(function(t,i){o.renderLabel(o.currentLayer,e,t,m,i,a)}),this.groupElements.push(m)),this.mapObject.navigationLineModule&&this.groupElements.push(this.mapObject.navigationLineModule.renderNavigation(this.currentLayer,this.currentFactor,e)),this.groupElements.map(function(e){o.layerObject.appendChild(e)}),this.mapObject.markerModule&&this.mapObject.markerModule.markerRender(this.layerObject,e,this.currentFactor),this.translateLayerElements(this.layerObject,e),this.layerGroup.appendChild(this.layerObject)},e.prototype.renderLabel=function(e,t,i,o,n,r){this.mapObject.dataLabelModule.renderLabel(e,t,i,e.layerData,o,r,n)},e.prototype.generateMultiPolygonPath=function(e){for(var t="",i=0;i<e.length;i++)t+="M"+e[i][0].point.x+" "+e[i][0].point.y,e[i].map(function(e){t+=" L "+e.point.x+" "+e.point.y});return t},e.prototype.renderBubble=function(e,i,o,n,r,a,s,l,p){if(t.isNullOrUndefined(this.mapObject.bubbleModule)||!p.visible)return null;o=p.fill?p.fill:o,this.mapObject.bubbleModule.id=this.mapObject.element.id+"_LayerIndex_"+l+"_BubbleIndex_"+r+"_dataIndex_"+a,this.mapObject.bubbleModule.renderBubble(p,i,o,n,r,a,l,e,s)},e.prototype.getShapeColorMapping=function(e,i,o){if(o=o||e.shapeSettings.fill,0===e.shapeSettings.colorMapping.length&&t.isNullOrUndefined(e.dataSource))return o;var n=U(e.dataSource,i,e.shapeDataPath,e.shapePropertyPath),r=new bt(this.mapObject);return t.isNullOrUndefined(e.dataSource[n])?o:r.getShapeColorMapping(e.shapeSettings,e.dataSource[n],o)},e.prototype.generatePoints=function(e,t,i,o){var n,r,a=this,s=[];switch(e.toLowerCase()){case"polygon":(s=this.calculatePolygonBox(t[0],i,o)).length>0&&(s.property=o,s.type=e,s._isMultiPolygon=!1,this.currentLayer.layerData.push(s));break;case"multipolygon":for(var l=[],p=0;p<t.length;p++)(s=this.calculatePolygonBox(t[p][0],i,o)).length>0&&l.push(s);l.property=o,l.type=e,l._isMultiPolygon=!0,this.currentLayer.layerData.push(l);break;case"linestring":t.map(function(e,t){n=e[1],r=e[0];var i=d(n,r,a.currentFactor,a.currentLayer,a.mapObject);s.push({point:i,lat:n,lng:r})}),s.property=o,s.type=e,this.currentLayer.layerData.push(s);break;case"point":n=t[1],r=t[0];var h=d(n,r,this.currentFactor,this.currentLayer,this.mapObject);this.currentLayer.layerData.push({point:h,type:e,lat:n,lng:r,property:o});break;case"path":this.currentLayer.layerData.push({point:i.d,type:e,property:o})}},e.prototype.calculateFactor=function(e){var t,i,o,n=1,r=this.mapObject.baseMapBounds,a=new Oe(this.mapObject.mapAreaRect.width,this.mapObject.mapAreaRect.height-5);if(r){var s=d(r.latitude.min,r.longitude.min,null,e,this.mapObject),l=d(r.latitude.max,r.longitude.max,null,e,this.mapObject);i=l.y-s.y,o=l.x-s.x}else i=o=500;return t=i<a.height?parseFloat(Math.abs(100*Number(a.height/Number(i.toString()+"e+1"))).toString().split(".")[0])/10:a.height/i,n=o<a.width?parseFloat(Math.abs(100*Number(a.width/Number(o.toString()+"e+1"))).toString().split(".")[0])/10:a.width/o,Math.min(n,t)},e.prototype.translateLayerElements=function(e,i){var o;if(t.isNullOrUndefined(this.mapObject.baseMapRectBounds)){if(this.mapObject.isTileMap)for(var n=0;n<e.childElementCount;n++)if(!((o=e.childNodes[n]).id.indexOf("_Markers_Group")>-1||o.id.indexOf("_bubble_Group")>-1||o.id.indexOf("_dataLableIndex_Group")>-1||o.id.indexOf("_line_Group")>-1)){d="scale( "+this.mapObject.scale+" ) translate( "+this.mapObject.translatePoint.x+" "+this.mapObject.translatePoint.y+" ) ";o.setAttribute("transform",d)}}else{var r=this.currentLayer.animationDuration,a=0!==r||t.isNullOrUndefined(this.mapObject.zoomModule),s=X(this.mapObject,this.currentLayer,a),l=this.mapObject.previousScale=s.scale,p=this.mapObject.previousPoint=s.location;this.mapObject.baseTranslatePoint=this.mapObject.translatePoint=p,this.mapObject.baseScale=this.mapObject.scale=l;for(var h=0;h<e.childElementCount;h++)if(!((o=e.childNodes[h]).id.indexOf("_Markers_Group")>-1||o.id.indexOf("_bubble_Group")>-1||o.id.indexOf("_dataLableIndex_Group")>-1)){var d="scale( "+l+" ) translate( "+p.x+" "+p.y+" ) ";o.setAttribute("transform",d),r>0&&!t.isNullOrUndefined(this.mapObject.zoomModule)&&(s=X(this.mapObject,this.currentLayer),this.mapObject.scale=s.scale,this.mapObject.translatePoint=s.location)}}},e.prototype.calculateRectBounds=function(e){var i=this;e.forEach(function(e,o){if(!t.isNullOrUndefined(e.geometry)||!t.isNullOrUndefined(e.coordinates)){var n=t.isNullOrUndefined(e.geometry)?e.type:e.geometry.type,r=t.isNullOrUndefined(e.geometry)?e.coordinates:e.geometry.coordinates;switch(n.toLowerCase()){case"polygon":i.calculateRectBox(r[0]);break;case"multipolygon":r.map(function(e,t){i.calculateRectBox(e[0])})}}})},e.prototype.calculatePolygonBox=function(e,i,o){var n=this,r=[],a=this.mapObject.baseMapBounds;return e.map(function(e,i){var o=e[1],s=e[0];if(s>=a.longitude.min&&s<=a.longitude.max&&o>=a.latitude.min&&o<=a.latitude.max){var l=d(o,s,n.currentFactor,n.currentLayer,n.mapObject);t.isNullOrUndefined(n.rectBounds)?n.rectBounds={min:{x:l.x,y:l.y},max:{x:l.x,y:l.y}}:(n.rectBounds.min.x=Math.min(n.rectBounds.min.x,l.x),n.rectBounds.min.y=Math.min(n.rectBounds.min.y,l.y),n.rectBounds.max.x=Math.max(n.rectBounds.max.x,l.x),n.rectBounds.max.y=Math.max(n.rectBounds.max.y,l.y)),r.push({point:l,lat:o,lng:s})}}),r},e.prototype.calculateRectBox=function(e){var i=this;e.forEach(function(e){t.isNullOrUndefined(i.mapObject.baseMapBounds)?i.mapObject.baseMapBounds=new Ee({min:e[1],max:e[1]},{min:e[0],max:e[0]}):(i.mapObject.baseMapBounds.latitude.min=Math.min(i.mapObject.baseMapBounds.latitude.min,e[1]),i.mapObject.baseMapBounds.latitude.max=Math.max(i.mapObject.baseMapBounds.latitude.max,e[1]),i.mapObject.baseMapBounds.longitude.min=Math.min(i.mapObject.baseMapBounds.longitude.min,e[0]),i.mapObject.baseMapBounds.longitude.max=Math.max(i.mapObject.baseMapBounds.longitude.max,e[0]))})},e.prototype.generateTiles=function(e,i,o){var n=this.mapObject.locale,r=this.mapObject.availableSize;this.tiles=[];var a,s;a=s=Math.pow(2,e);r.width,r.height;var l=this.mapObject.layers[this.mapObject.baseLayerIndex];this.urlTemplate=l.urlTemplate;var p=Math.min(s,(-i.y+r.height)/256+1),h=Math.min(a,(-i.x+r.width)/256+1),d=-(i.x+256)/256,c=-(i.y+256)/256;o=o||this.bing||this.mapObject.bingMap;for(var u=Math.round(d);u<Math.round(h);u++)for(var m=Math.round(c);m<Math.round(p);m++){var g=256*u+i.x,y=256*m+i.y;if(g>-256&&g<=r.width&&y>-256&&y<r.height&&u>=0&&m>=0){var f=new gt(u,m);if(f.left=g,f.top=y,"Bing"===l.layerType){var v=l.key;f.src=o.getBingMap(f,v,l.bingMapType,n,o.imageUrl,o.subDomains)}else f.src=this.urlTemplate.replace("level",e.toString()).replace("tileX",f.x.toString()).replace("tileY",f.y.toString());this.tiles.push(f)}}for(var b=t.extend([],this.tiles,[],!0),x=0,w=this.mapObject.layers;x<w.length;x++){var S=w[x];if("SubLayer"===S.type&&S.visible&&("OSM"===S.layerType||"Bing"===S.layerType))for(var M=0,_=b;M<_.length;M++){var P=_[M],L=t.extend(P,{},{},!0);"Bing"===S.layerType?L.src=o.getBingMap(L,S.key,S.bingMapType,n,o.imageUrl,o.subDomains):L.src=S.urlTemplate.replace("level",e.toString()).replace("tileX",P.x.toString()).replace("tileY",P.y.toString()),this.tiles.push(L)}}this.arrangeTiles()},e.prototype.arrangeTiles=function(){var e=this.templateCompiler(this.tiles);Y(this.mapObject.element.id+"_tile_parent")&&(document.getElementById(this.mapObject.element.id+"_tile_parent").innerHTML=e)},e.prototype.templateCompiler=function(e){for(var t="",i=0,o=e;i<o.length;i++){var n=o[i];t+='<div><div style="position:absolute;left: '+n.left+"px;top: "+n.top+"px;height: "+n.height+"px;width: "+n.width+'px;"><img src="'+n.src+'"></img></div></div>'}return t},e.prototype.panTileMap=function(e,t,i){var o,n,r=this.mapObject.tileZoomLevel,a=256*Math.pow(2,r),s=c(i,r,{x:o=e/2-a/2,y:n=t/2-a/2},this.isMapCoordinates);return o-=s.x-e/2,n=n-(s.y-t/2)+20,this.mapObject.scale=Math.pow(2,r-1),this.mapObject.translatePoint=new Te((o-.5*this.mapObject.scale)/this.mapObject.scale,(n-.5*this.mapObject.scale)/this.mapObject.scale),new Te(o,n)},e}(),wt=function(){function e(e){this.map=e}return e.prototype.renderAnnotationElements=function(){var e=this,i=this.map.element.id+"_Secondary_Element",o=t.createElement("div",{id:this.map.element.id+"_Annotations_Group"});o.style.position="absolute",o.style.top="0px",o.style.left="0px",this.map.annotations.map(function(t,i){null!==t.content&&e.createAnnotationTemplate(o,t,i)}),o.childElementCount>0&&!t.isNullOrUndefined(Y(i))&&Y(i).appendChild(o)},e.prototype.createAnnotationTemplate=function(e,i,o){var n,r,a,s,l=this.map,p=l.availableSize,h=(l.element.id,t.createElement("div",{id:l.element.id+"_Annotation_"+o,styles:"position: absolute; z-index:"+i.zIndex+";"})),d={cancel:!1,name:"annotationRendering",content:i.content,annotation:i};if(this.map.trigger("annotationRendering",d),(a=K(d.content))&&a(this.map).length)for(s=a(this.map);s.length>0;)h.appendChild(s[0]);else h.appendChild(t.createElement("div",{innerHTML:d.content}));var c=me(h.cloneNode(!0),l.element),u=l.element.getBoundingClientRect(),m=l.svgObject.getBoundingClientRect();n=Math.abs(m.left-u.left),r=Math.abs(m.top-u.top);var g=i.x.indexOf("%")>-1?p.width/100*parseFloat(i.x):parseFloat(i.x),y=i.y.indexOf("%")>-1?p.height/100*parseFloat(i.y):parseFloat(i.y);switch(n="None"===i.horizontalAlignment?n+g:n,r="None"===i.verticalAlignment?r+y:r,i.verticalAlignment){case"Near":r+=y;break;case"Center":r=r+y+(m.height/2-c.height/2);break;case"Far":r=r+m.height+y-c.height}switch(i.horizontalAlignment){case"Near":n+=g;break;case"Center":n=n+g+(m.width/2-c.width/2);break;case"Far":n=n+m.width+g-c.width}h.style.left=n+"px",h.style.top=r+"px",e.appendChild(h)},e.prototype.getModuleName=function(){return"Annotations"},e.prototype.destroy=function(e){},e}(),St=function(){function e(e){this.control=e}return e.prototype.print=function(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var i={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",i),i.cancel||t.print(i.htmlContent,this.printWindow)},e.prototype.getHTMLContent=function(e){var i=t.createElement("div");return e?e instanceof Array?e.forEach(function(e){i.appendChild(Q(e).cloneNode(!0))}):e instanceof Element?i.appendChild(e.cloneNode(!0)):i.appendChild(Q(e).cloneNode(!0)):i.appendChild(this.control.element.cloneNode(!0)),i},e.prototype.export=function(e,i,n){var r=this,a=t.createElement("canvas",{id:"ej2-canvas",attrs:{width:this.control.availableSize.width.toString(),height:this.control.availableSize.height.toString()}}),s=!(t.Browser.userAgent.toString().indexOf("HeadlessChrome")>-1);n=t.isNullOrUndefined(n)?o.PdfPageOrientation.Landscape:n;var l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+this.control.svgObject.outerHTML+"</svg>",p=window.URL.createObjectURL(new Blob("SVG"===e?[l]:[(new XMLSerializer).serializeToString(this.control.svgObject)],{type:"image/svg+xml"}));if("SVG"===e)this.triggerDownload(i,e,p,s);else{var h=new Image,d=a.getContext("2d");h.onload=function(){if(d.drawImage(h,0,0),window.URL.revokeObjectURL(p),"PDF"===e){var t=new o.PdfDocument,l=a.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");t.pageSettings.orientation=n,l=l.slice(l.indexOf(",")+1),t.pages.add().graphics.drawImage(new o.PdfBitmap(l),0,0,r.control.availableSize.width-60,r.control.availableSize.height),s&&(t.save(i+".pdf"),t.destroy())}else r.triggerDownload(i,e,a.toDataURL("image/png").replace("image/png","image/octet-stream"),s)},h.src=p}},e.prototype.triggerDownload=function(e,i,o,n){t.createElement("a",{attrs:{download:e+"."+i.toLocaleLowerCase(),href:o}}).dispatchEvent(new MouseEvent(n?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},e}(),Mt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),_t=function(e,t,i,o){var n,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Pt=function(e){function o(i,o){var n=e.call(this,i,o)||this;return n.isTileMap=!1,n.baseSize=new Oe(0,0),n.translatePoint=new Te(0,0),n.baseTranslatePoint=new Te(0,0),n.tileTranslatePoint=new Te(0,0),n.baseTileTranslatePoint=new Te(0,0),n.isDevice=t.Browser.isDevice,n}return Mt(o,e),o.prototype.getLocalizedLabel=function(e){return this.localeObject.getConstant(e)},o.prototype.preRender=function(){this.initPrivateVariable(),this.trigger("load",{maps:this}),this.themeEffect(),this.unWireEVents(),this.createSVG(),this.wireEVents(),this.setCulture()},o.prototype.setTextStyle=function(e,t){t.color=t.color||e.color,t.size=t.size||e.size,t.fontFamily=t.fontFamily||e.fontFamily,t.fontStyle=t.fontStyle||e.fontStyle,t.fontWeight=t.fontWeight||e.fontWeight},o.prototype.themeEffect=function(){switch(this.setBackgroundValue(this.theme),this.theme){case"Material":this.setTextStyle(Le.mapsTitleFont,this.titleSettings.textStyle),this.setTextStyle(Le.mapsSubTitleFont,this.titleSettings.subtitleSettings.textStyle),this.setTextStyle(Le.legendLabelFont,this.legendSettings.textStyle),this.setTextStyle(Le.legendTitleFont,this.legendSettings.textStyle),this.setLabelFont(this.layers,Le.dataLabelFont);break;case"Bootstrap":this.setTextStyle(We.mapsTitleFont,this.titleSettings.textStyle),this.setTextStyle(We.mapsSubTitleFont,this.titleSettings.subtitleSettings.textStyle),this.setTextStyle(We.legendLabelFont,this.legendSettings.textStyle),this.setTextStyle(We.legendTitleFont,this.legendSettings.textStyle),this.setLabelFont(this.layers,We.dataLabelFont);break;case"Fabric":this.setTextStyle(Ge.mapsTitleFont,this.titleSettings.textStyle),this.setTextStyle(Ge.mapsSubTitleFont,this.titleSettings.subtitleSettings.textStyle),this.setTextStyle(Ge.legendLabelFont,this.legendSettings.textStyle),this.setTextStyle(Ge.legendTitleFont,this.legendSettings.textStyle),this.setLabelFont(this.layers,Ge.dataLabelFont);break;case"Highcontrast":this.setTextStyle(Ve.mapsTitleFont,this.titleSettings.textStyle),this.setTextStyle(Ve.mapsSubTitleFont,this.titleSettings.subtitleSettings.textStyle),this.setTextStyle(Ve.legendLabelFont,this.legendSettings.textStyle),this.setTextStyle(Ve.legendTitleFont,this.legendSettings.textStyle),this.setLabelFont(this.layers,Ve.dataLabelFont)}},o.prototype.setBackgroundValue=function(e){var t="Highcontrast"===e?"#000000":"#FFFFFF";this.background=this.background?this.background:t,this.mapsArea.background=this.mapsArea.background?this.mapsArea.background:t,t="Highcontrast"!==e?"#737373":"#FFFFFF",this.zoomSettings.color=this.zoomSettings.color?this.zoomSettings.color:t},o.prototype.setLabelFont=function(e,t){for(var i=0,o=e;i<o.length;i++){var n=o[i];this.setTextStyle(t,n.dataLabelSettings.textStyle)}},o.prototype.render=function(){this.findBaseAndSubLayers(),this.createSecondaryElement(),this.addTabIndex(),this.renderBorder(),this.renderTitle(this.titleSettings,"title",null,null),this.renderArea(),this.processRequestJsonData()},o.prototype.processRequestJsonData=function(){var e=this,t=this.layersCollection.length-1;this.serverProcess={request:0,response:0};var o,n;this.layersCollection.forEach(function(r,a){r.shapeData instanceof i.DataManager?(e.serverProcess.request++,n=r.shapeData,o=r.query instanceof i.Query?r.query:new i.Query,n.executeQuery(o).then(function(t){e.processResponseJsonData("DataManager",t,r,"ShapeData")})):r.shapeData instanceof Ze&&e.processAjaxRequest(r,r.shapeData,"ShapeData"),r.dataSource instanceof Ze&&e.processAjaxRequest(r,r.dataSource,"DataSource"),e.serverProcess.request===e.serverProcess.response&&t===a&&e.processResponseJsonData(null)})},o.prototype.processAjaxRequest=function(e,i,o){var n,r=this;this.serverProcess.request++,(n=new t.Ajax(i.dataOptions,i.type,i.async,i.contentType)).onSuccess=function(t){r.processResponseJsonData("Ajax",t,e,o)},n.send(i.sendData)},o.prototype.processResponseJsonData=function(e,i,o,n){if(this.serverProcess.response++,e&&("ShapeData"===n?o.shapeData="DataManager"===e?t.isNullOrUndefined(i.result)?i.actual:i.result:JSON.parse(i):o.dataSource="DataManager"===e?t.isNullOrUndefined(i.result)?i.actual:i.result:JSON.parse("["+i+"]")[0]),t.isNullOrUndefined(e)||this.serverProcess.request!==this.serverProcess.response)t.isNullOrUndefined(e)&&this.renderMap();else{var r=this.layersCollection;this.layersCollection=[];for(var a=0;a<r.length;a++)r[a].isBaseLayer&&this.layersCollection.push(r[a]);for(var s=0;s<r.length;s++)r[s].isBaseLayer||this.layersCollection.push(r[s]);this.renderMap()}},o.prototype.renderMap=function(){this.legendModule&&this.legendSettings.visible&&this.legendModule.renderLegend(),this.createTile(),this.zoomSettings.enable&&this.zoomModule&&this.zoomModule.createZoomingToolbars(),this.mapLayerPanel.measureLayerPanel(),this.element.appendChild(this.svgObject),this.arrangeTemplate(),this.annotationsModule&&this.annotationsModule.renderAnnotationElements(),this.zoomingChange(),this.trigger("loaded",{maps:this})},o.prototype.renderArea=function(){var e=new ke(this.element.id+"_MapAreaBorder",this.mapsArea.background,this.mapsArea.border,1,this.mapAreaRect);this.svgObject.appendChild(this.renderer.drawRectangle(e))},o.prototype.addTabIndex=function(){this.element.setAttribute("aria-label",this.description||"Maps Element"),this.element.setAttribute("tabindex",this.tabIndex.toString())},o.prototype.zoomingChange=function(){var e,i;if(Y(this.element.id+"_Layer_Collections")&&this.zoomModule&&(this.zoomModule.layerCollectionEle=Y(this.element.id+"_Layer_Collections")),this.isTileMap&&Y(this.element.id+"_Tile_SVG")&&Y(this.element.id+"_tile_parent")){var o=Y(this.element.id+"_tile_parent").getBoundingClientRect(),n=Y(this.element.id+"_Tile_SVG").getBoundingClientRect();e=o.left-n.left,i=o.top-n.top,Y(this.element.id+"_Tile_SVG").setAttribute("transform","translate("+e+" "+i+")");var r=document.getElementsByClassName("template");if(!t.isNullOrUndefined(r)&&r.length>0)for(l=0;l<r.length;l++){var a=r[l];a.style.left=e+"px",a.style.top=i+"px"}}if(this.zoomSettings.zoomFactor>=1){this.zoomModule&&this.zoomModule.toolBarGroup&&this.zoomSettings.enable&&this.zoomModule.alignToolBar();var s=document.getElementById(this.element.id+"_Layer_Collections");if(!t.isNullOrUndefined(s)&&s.childElementCount>0)for(var l=0;l<s.childNodes.length;l++){var p=s.childNodes[l];if("g"===p.tagName)for(var h=parseFloat(p.id.split("_")[2]),d=0;d<p.childNodes.length;d++){var c=p.childNodes[d];c.id.indexOf("_Markers_Group")>-1||c.id.indexOf("_bubble_Group")>-1||c.id.indexOf("_dataLableIndex_Group")>-1||ge(c,h,this.scale,this)}}this.zoomModule&&this.previousScale!==this.scale&&this.zoomModule.applyTransform(!0)}},o.prototype.createSecondaryElement=function(){if(t.isNullOrUndefined(document.getElementById(this.element.id+"_Secondary_Element"))){var e=t.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: absolute;z-index:1;"});this.element.appendChild(e)}},o.prototype.arrangeTemplate=function(){Y(this.element.id+"_Secondary_Element");document.getElementById(this.element.id+"_Legend_Border")&&(document.getElementById(this.element.id+"_Legend_Border").style.pointerEvents="none");var e=document.getElementsByClassName("template");if(!t.isNullOrUndefined(e)&&e.length>0&&Y(this.element.id+"_Layer_Collections"))for(var i=0;i<e.length;i++){var o=e[i];if(!t.isNullOrUndefined(o)&&o.childElementCount>0)for(var n=Y(this.element.id+"_Layer_Collections").getBoundingClientRect(),r=Y(o.id).getBoundingClientRect(),a=0;a<o.childElementCount;a++){var s=o.childNodes[a],l=s.getBoundingClientRect();s.style.left=(this.isTileMap?parseFloat(s.style.left):n.left<r.left?parseFloat(s.style.left)-Math.abs(r.left-n.left):parseFloat(s.style.left)+Math.abs(r.left-n.left))-l.width/2+"px",s.style.top=(this.isTileMap?parseFloat(s.style.top):n.top<r.top?parseFloat(s.style.top)-Math.abs(r.top-n.top):parseFloat(s.style.top)+Math.abs(r.top-n.top))-l.height/2+"px"}}},o.prototype.createTile=function(){var e=this.layersCollection[0];if(e.isBaseLayer&&("OSM"===e.layerType||"Bing"===e.layerType)){q(this.element.id+"_tile_parent");var i=this.element.getBoundingClientRect(),o=this.element.parentElement.getBoundingClientRect(),n=Math.abs(i.left-o.left),r=Math.abs(i.top-o.top),a=t.createElement("div",{id:this.element.id+"_tile_parent",styles:"position: absolute; left: "+(this.mapAreaRect.x+n)+"px; top: "+(this.mapAreaRect.y+r+0)+"px; height: "+this.mapAreaRect.height+"px; width: "+this.mapAreaRect.width+"px; overflow: hidden;"});this.element.appendChild(a)}},o.prototype.initPrivateVariable=function(){this.renderer=new t.SvgRenderer(this.element.id),this.mapLayerPanel=new xt(this)},o.prototype.findBaseAndSubLayers=function(){var e=this,t=this.baseLayerIndex,i=[],o=[];this.layersCollection=[],this.layers.forEach(function(e){"Layer"===e.type?i.push(e):o.push(e)});for(var n=0;n<i.length;n++){var r=i[n];if(r.visible&&t===n){r.isBaseLayer=!0,this.isTileMap="Geometry"!==r.layerType,this.layersCollection.push(r);break}if(n===i.length-1){this.layersCollection.push(i[0]);break}}o.map(function(t,i){t.visible&&e.layersCollection.push(t)})},o.prototype.renderBorder=function(){var e=this.border.width,i=this.svgObject.querySelector("#"+this.element.id+"_MapBorder");if((e>0||this.background)&&t.isNullOrUndefined(i)){var o=new ke(this.element.id+"_MapBorder",this.background,this.border,1,new Ue(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e));this.svgObject.appendChild(this.renderer.drawRectangle(o))}else i.setAttribute("fill",this.background)},o.prototype.renderTitle=function(e,i,o,n){var r,a=e.textStyle,s=Math.abs(this.margin.left+this.margin.right-this.availableSize.width);if(e.text){t.isNullOrUndefined(n)&&(n=this.renderer.createGroup({id:this.element.id+"_Title_Group"}));var l=W(s,e.text,a),p=x(l,a),h=V(t.isNullOrUndefined(o)?new Ue(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height):o,e.alignment,p,i),d=new Ie(this.element.id+"_Map_"+i,h.x,h.y,"start",l),c=new Ue(h.x,h.y,p.width,p.height),u=w(d,a,a.color,n);u.setAttribute("aria-label",this.description||e.text),u.setAttribute("tabindex",(this.tabIndex+("title"===i?1:2)).toString()),("title"===i&&!e.subtitleSettings.text||"subtitle"===i)&&(r=Math.abs(c.y+this.margin.bottom-this.availableSize.height),this.mapAreaRect=new Ue(this.margin.left,c.y+10,s,r-10)),"subtitle"!==i&&e.subtitleSettings.text?this.renderTitle(e.subtitleSettings,"subtitle",c,n):this.svgObject.appendChild(n)}else r=Math.abs(this.margin.top+this.margin.bottom-this.availableSize.height),this.mapAreaRect=new Ue(this.margin.left,this.margin.top,s,r)},o.prototype.createSVG=function(){this.removeSvg(),s(this)},o.prototype.removeSvg=function(){if(q(this.element.id+"_Secondary_Element"),q(this.element.id+"_tile_parent"),document.getElementsByClassName("e-tooltip-wrap")[0]&&t.remove(document.getElementsByClassName("e-tooltip-wrap")[0]),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&t.remove(this.svgObject)}},o.prototype.wireEVents=function(){t.EventHandler.add(this.element,"click",this.mapsOnClick,this),t.EventHandler.add(this.element,"dblclick",this.mapsOnDoubleClick,this),t.EventHandler.add(this.element,t.Browser.touchStartEvent,this.mouseDownOnMap,this),t.EventHandler.add(this.element,t.Browser.touchMoveEvent,this.mouseMoveOnMap,this),t.EventHandler.add(this.element,t.Browser.touchEndEvent,this.mouseEndOnMap,this),window.addEventListener(t.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.mapsOnResize.bind(this))},o.prototype.unWireEVents=function(){t.EventHandler.remove(this.element,"click",this.mapsOnClick),t.EventHandler.remove(this.element,"dblclick",this.mapsOnDoubleClick),t.EventHandler.remove(this.element,t.Browser.touchStartEvent,this.mouseDownOnMap),t.EventHandler.remove(this.element,t.Browser.touchMoveEvent,this.mouseMoveOnMap),t.EventHandler.remove(this.element,t.Browser.touchEndEvent,this.mouseEndOnMap),window.removeEventListener(t.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.mapsOnResize)},o.prototype.mapsOnClick=function(e){var t=e.target,i=t.id,o={cancel:!1,name:"click",target:i,x:e.clientX,y:e.clientY};if(this.trigger("click",o),-1!==t.id.indexOf("ShapeIndex")){var n=parseInt(t.id.split("_LayerIndex_")[1].split("_")[0],10);ee(i,this.layers[n].selectionSettings,this,"shapeSelected")}this.markerModule&&this.markerModule.markerClick(e),this.bubbleModule&&this.bubbleModule.bubbleClick(e),o.cancel||this.notify("click",t)},o.prototype.mouseEndOnMap=function(e){var i,o,n;this.element.getBoundingClientRect(),e.target;return-1!==e.type.indexOf("touch")?(this.isTouch=!0,i=(n=e).changedTouches[0].pageX,o=n.changedTouches[0].pageY,n.target):(this.isTouch="touch"===e.pointerType,i=e.pageX,o=e.pageY,e.target),this.isTouch&&this.titleTooltip(e,i,o,!0),this.notify(t.Browser.touchEndEvent,e),e.preventDefault(),!1},o.prototype.mouseDownOnMap=function(e){this.element.getBoundingClientRect(),e.target;this.notify(t.Browser.touchStartEvent,e)},o.prototype.mapsOnDoubleClick=function(e){this.notify("dblclick",e)},o.prototype.mouseMoveOnMap=function(e){"touchmove"===e.type?e.target:e.target,this.markerModule&&this.markerModule.markerMove(e),this.bubbleModule&&this.bubbleModule.bubbleMove(e),this.onMouseMove(e),this.notify(t.Browser.touchMoveEvent,e)},o.prototype.onMouseMove=function(e){e.target;return this.isTouch||this.titleTooltip(e,e.pageX,e.pageY),!1},o.prototype.titleTooltip=function(e,t,i,o){e.target.id===this.element.id+"_Map_title"&&e.target.textContent.indexOf("...")>-1?pe(this.titleSettings.text,this.titleSettings.textStyle.size,t,i,this.element.offsetWidth,this.element.offsetHeight,this.element.id+"_EJ2_Title_Tooltip",Q(this.element.id+"_Secondary_Element"),o):q(this.element.id+"_EJ2_Title_Tooltip")},o.prototype.mapsOnResize=function(e){var t=this,i={name:"resize",previousSize:this.availableSize,currentSize:new Oe(0,0),maps:this};return this.resizeTo&&clearTimeout(this.resizeTo),this.element.classList.contains("e-maps")&&(this.resizeTo=setTimeout(function(){t.unWireEVents(),t.createSVG(),t.refreshing=!0,t.wireEVents(),i.currentSize=t.availableSize,t.trigger("resize",i),t.render()},500)),!1},o.prototype.zoomByPosition=function(e,t){var i=d(e.latitude,e.longitude,this.mapLayerPanel.calculateFactor(this.layersCollection[0]),this.layersCollection[0],this);this.zoomModule&&this.zoomModule.performZooming(i,t,"ZoomIn")},o.prototype.addLayer=function(e){this.layers.push(new mt(this.layers[0],"layers",e)),this.refresh()},o.prototype.removeLayer=function(e){this.layers.splice(e,1),this.refresh()},o.prototype.addMarker=function(e,t){var i=this.layers[e].markerSettings;i.push(new ut(i[0],"markerSettings",t)),this.refresh()},o.prototype.setCulture=function(){this.intl=new t.Internationalization,this.setLocaleConstants(),this.localeObject=new t.L10n(this.getModuleName(),this.defaultLocalConstants,this.locale)},o.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom In",Zoom:"Zoom",ZoomOut:"Zoom Out",Pan:"Pan",Reset:"Reset"}},o.prototype.destroy=function(){this.unWireEVents(),e.prototype.destroy.call(this)},o.prototype.getModuleName=function(){return"maps"},o.prototype.getPersistData=function(){return""},o.prototype.onPropertyChanged=function(e,t){for(var i=!1,o=0,n=Object.keys(e);o<n.length;o++)switch(n[o]){case"background":this.renderBorder();break;case"height":case"width":this.createSVG(),i=!0}i&&this.render()},o.prototype.requiredModules=function(){var e=[],t=this.findVisibleLayers(this.layers),i=!1;return this.annotations.map(function(e,t){i=null!=e.content}),this.isBubbleVisible()&&e.push({member:"Bubble",args:[this]}),t.highlight&&e.push({member:"Highlight",args:[this]}),t.selection&&e.push({member:"Selection",args:[this]}),this.legendSettings.visible&&e.push({member:"Legend",args:[this]}),(this.zoomSettings.enable||this.zoomSettings.zoomFactor>this.zoomSettings.minZoom)&&e.push({member:"Zoom",args:[this]}),this.isMarkersVisible()&&e.push({member:"Marker",args:[this]}),this.isDataLabelVisible()&&e.push({member:"DataLabel",args:[this]}),this.isNavigationVisible()&&e.push({member:"NavigationLine",args:[this]}),t.tooltip&&e.push({member:"MapsTooltip",args:[this]}),i&&e.push({member:"Annotations",args:[this,wt]}),e},o.prototype.isMarkersVisible=function(){var e=!1;return this.layers.forEach(function(t,i){for(var o=0;o<t.markerSettings.length;o++)if(t.markerSettings[o].visible){e=!0;break}}),e},o.prototype.isDataLabelVisible=function(){for(var e=!1,t=0;t<this.layers.length;t++)if(this.layers[t].dataLabelSettings.visible){e=!0;break}return e},o.prototype.isNavigationVisible=function(){var e=!1;return this.layers.forEach(function(t,i){for(var o=0;o<t.navigationLineSettings.length;o++)if(t.navigationLineSettings[o].visible){e=!0;break}}),e},o.prototype.isBubbleVisible=function(){for(var e=!1,t=0,i=this.layers;t<i.length;t++){var o=i[t];if(this.getBubbleVisible(o)){e=!0;break}}return e},o.prototype.getBubbleVisible=function(e){for(var t=!1,i=0,o=e.bubbleSettings;i<o.length;i++)if(o[i].visible){t=!0;break}return t},o.prototype.print=function(e){new St(this).print(e)},o.prototype.export=function(e,t,i){new St(this).export(e,t,i)},o.prototype.findVisibleLayers=function(e,t,i,o,n,r){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===r&&(r=!1);for(var a,s,l,p=0,h=e;p<h.length;p++){var d=h[p];if(t=d.visible||t,d.visible){a=d.bubbleSettings,s=d.markerSettings;for(var c=0,u=l=d.navigationLineSettings;c<u.length;c++){var m=u[c];m.visible&&(n=m.highlightSettings.enable||n,r=m.selectionSettings.enable||r)}for(var g=0,y=s;g<y.length;g++){var f=y[g];if(f.visible&&(o=f.tooltipSettings.visible||o,n=f.selectionSettings.enable||n,r=f.highlightSettings.enable||r),o)break}for(var v=0,b=a;v<b.length;v++){var x=b[v];if(x.visible&&(o=x.tooltipSettings.visible||o,n=x.selectionSettings.enable||n,r=x.highlightSettings.enable||r),o)break}o=d.tooltipSettings.visible||o,n=d.selectionSettings.enable||n,r=d.highlightSettings.enable||r}if(t&&i&&o)break}return{layer:t,bubble:i,tooltip:o,selection:n,highlight:r}},_t([t.Property(null)],o.prototype,"background",void 0),_t([t.Property(!1)],o.prototype,"useGroupingSeparator",void 0),_t([t.Property(null)],o.prototype,"format",void 0),_t([t.Property(null)],o.prototype,"width",void 0),_t([t.Property(null)],o.prototype,"height",void 0),_t([t.Complex({},lt)],o.prototype,"titleSettings",void 0),_t([t.Complex({},pt)],o.prototype,"zoomSettings",void 0),_t([t.Complex({},ht)],o.prototype,"legendSettings",void 0),_t([t.Collection([],mt)],o.prototype,"layers",void 0),_t([t.Collection([],Ye)],o.prototype,"annotations",void 0),_t([t.Complex({},et)],o.prototype,"margin",void 0),_t([t.Complex({color:"#DDDDDD",width:0},Qe)],o.prototype,"border",void 0),_t([t.Property("Material")],o.prototype,"theme",void 0),_t([t.Property("Mercator")],o.prototype,"projectionType",void 0),_t([t.Property(0)],o.prototype,"baseLayerIndex",void 0),_t([t.Property(null)],o.prototype,"description",void 0),_t([t.Property(1)],o.prototype,"tabIndex",void 0),_t([t.Property({latitude:null,longitude:null})],o.prototype,"centerPosition",void 0),_t([t.Complex({},yt)],o.prototype,"mapsArea",void 0),_t([t.Event()],o.prototype,"load",void 0),_t([t.Event()],o.prototype,"beforePrint",void 0),_t([t.Event()],o.prototype,"loaded",void 0),_t([t.Event()],o.prototype,"click",void 0),_t([t.Event()],o.prototype,"doubleClick",void 0),_t([t.Event()],o.prototype,"rightClick",void 0),_t([t.Event()],o.prototype,"resize",void 0),_t([t.Event()],o.prototype,"tooltipRender",void 0),_t([t.Event()],o.prototype,"shapeSelected",void 0),_t([t.Event()],o.prototype,"itemSelection",void 0),_t([t.Event()],o.prototype,"itemHighlight",void 0),_t([t.Event()],o.prototype,"shapeHighlight",void 0),_t([t.Event()],o.prototype,"layerRendering",void 0),_t([t.Event()],o.prototype,"shapeRendering",void 0),_t([t.Event()],o.prototype,"markerRendering",void 0),_t([t.Event()],o.prototype,"markerClick",void 0),_t([t.Event()],o.prototype,"markerMouseMove",void 0),_t([t.Event()],o.prototype,"dataLabelRendering",void 0),_t([t.Event()],o.prototype,"bubbleRendering",void 0),_t([t.Event()],o.prototype,"bubbleClick",void 0),_t([t.Event()],o.prototype,"bubbleMouseMove",void 0),_t([t.Event()],o.prototype,"animationComplete",void 0),_t([t.Event()],o.prototype,"annotationRendering",void 0),o=_t([t.NotifyPropertyChanges],o)}(t.Component),Lt=function(){function e(e){this.id="",this.maps=e,this.bubbleCollection=[]}return e.prototype.renderBubble=function(e,i,o,n,r,a,s,l,p){var h=l.layerData,d=e.colorValuePath,c=i[d],u=Number(i[d]),m=Number(i[e.valuePath]);if(isNaN(m)&&isNaN(u)&&t.isNullOrUndefined(c))return null;var g=this.getRatioOfBubble(e.minRadius,e.maxRadius,m,n.min,n.max),y=new bt(this.maps).getColorByValue(e.colorMapping,u,c);y=y||o;for(var f=[[]],v=0,b=0,x=0,w=0,S=h.length;w<S;w++){var M=h[w];if(M=M.property,i[l.shapeDataPath]===M[l.shapePropertyPath])if(h[w]._isMultiPolygon)for(var _=h[w],C=0;C<_.length;C++)f.push(this.getPoints(_[C],[])),b<(x=f[f.length-1].length)&&(b=x,v=f.length-1);else f.push(this.getPoints(h[w],[])),b<(x=f[f.length-1].length)&&(b=x,v=f.length-1)}var O=Z(f[v]);if(!t.isNullOrUndefined(O)){var T="Mercator"===this.maps.projectionType?O.y:-O.y,R={cancel:!1,name:"bubbleRendering",border:e.border,cx:O.x,cy:T,data:i,fill:y,maps:this.maps,radius:g};if(this.maps.trigger("bubbleRendering",R),R.cancel)return;var E=void 0;if("Circle"===e.bubbleType){var I=new Ne(this.id,R.fill,R.border,e.opacity,0,0,R.radius,null);E=P(this.maps,I,p)}else{var B="Mercator"===this.maps.projectionType?R.cy-g:R.cy+g,k=new ke(this.id,R.fill,R.border,e.opacity,new Ue(0,0,2*g,2*g),2,2);R.cx-=g,R.cy=B,E=L(this.maps,k,p)}this.bubbleCollection.push({LayerIndex:s,BubbleIndex:r,DataIndex:a,element:E,center:{x:R.cx,y:R.cy}});var N=0!==l.animationDuration||t.isNullOrUndefined(this.maps.zoomModule),A=X(this.maps,l,N),z=A.scale,F=A.location,j=new De(this.maps.isTileMap?R.cx:(R.cx+F.x)*z,this.maps.isTileMap?R.cy:(R.cy+F.y)*z);E.setAttribute("transform","translate( "+j.x+" "+j.y+" )");var D=e.dataSource.length-1===a?"bubble":null;"Square"===e.bubbleType?(j.x+=g,j.y+=g*("Mercator"===this.maps.projectionType?1:-1)):g=0,e.animationDuration>0&&se(E,e.animationDelay,e.animationDuration,j,this.maps,D,g)}},e.prototype.getPoints=function(e,t){return e.map(function(e,i){t.push(new Te(e.point.x,e.point.y))}),t},e.prototype.getRatioOfBubble=function(e,t,i,o,n){var r=(t-e)/100*(100/(n-o)*(i-o))+e;return n===o&&(r=(t-e)/100+e),r},e.prototype.bubbleClick=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")){var o=this.getbubble(i);if(!t.isNullOrUndefined(o)){var n={cancel:!1,name:"bubbleClick",data:o,maps:this.maps,target:i,x:e.clientX,y:e.clientY};this.maps.trigger("bubbleClick",n)}}},e.prototype.getbubble=function(e){var t=e.split("_LayerIndex_"),i=parseInt(t[1].split("_")[0],10),o=this.maps.layers[i];if(e.indexOf("_BubbleIndex_")>-1){var n=parseInt(t[1].split("_BubbleIndex_")[1],10);if(!isNaN(n))return o.dataSource[n]}return null},e.prototype.bubbleMove=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")){var o=this.getbubble(i);if(!t.isNullOrUndefined(o)){var n={cancel:!1,name:"bubbleMouseMove",data:o,maps:this.maps,target:i,x:e.clientX,y:e.clientY};this.maps.trigger("bubbleMouseMove",n)}}},e.prototype.getModuleName=function(){return"Bubble"},e.prototype.destroy=function(e){},e}(),Ct=function(){function e(e){this.maps=e,this.trackElements=[]}return e.prototype.markerRender=function(e,i,o){var n,r=this,a=this.maps.layersCollection[i];this.markerSVGObject=this.maps.renderer.createGroup({id:this.maps.element.id+"_Markers_Group",style:"pointer-events: auto;"});var s=t.createElement("div",{id:this.maps.element.id+"_LayerIndex_"+i+"_Markers_Template_Group",className:"template",styles:"overflow: hidden; position: absolute;pointer-events: none;top:"+(this.maps.isTileMap?0:this.maps.mapAreaRect.y)+"px;left:"+(this.maps.isTileMap?0:this.maps.mapAreaRect.x)+"px;height:"+this.maps.mapAreaRect.height+"px;width:"+this.maps.mapAreaRect.width+"px;"});a.markerSettings.map(function(e,l){var p=e.dataSource;p.forEach(function(h,u){var m={cancel:!1,name:"markerRendering",fill:e.fill,height:e.height,width:e.width,imageUrl:e.imageUrl,shape:e.shape,template:e.template,data:h,maps:r.maps,marker:e,border:e.border};r.maps.trigger("markerRendering",m);var g=h.longitude,y=h.latitude,f=e.offset;if(!m.cancel&&e.visible&&!t.isNullOrUndefined(g)&&!t.isNullOrUndefined(y)){var v=r.maps.element.id+"_LayerIndex_"+i+"_MarkerIndex_"+l+"_DataIndex_"+u,b=r.maps.isTileMap?c(new De(g,y),o,r.maps.tileTranslatePoint,!0):d(y,g,o,a,r.maps),x=0!==a.animationDuration||t.isNullOrUndefined(r.maps.zoomModule),w=r.maps.isTileMap?new Object:X(r.maps,a,x),M=w.scale,_=w.location;if(m.template){if((n=K(m.template))&&n(r.maps).length){for(var P=S(n(r.maps),v,h,l,r.maps),L=0;L<P.children.length;L++)P.children[L].style.pointerEvents="none";P.style.left=(r.maps.isTileMap?b.x:Math.abs(r.maps.baseMapRectBounds.min.x-b.x)*M)+f.x+"px",P.style.top=(r.maps.isTileMap?b.y:Math.abs(r.maps.baseMapRectBounds.min.y-b.y)*M)+f.y+"px",s.appendChild(P)}}else{var C={size:new Oe(m.width,m.height),fill:m.fill,borderColor:m.border.color,borderWidth:m.border.width,opacity:e.opacity,dashArray:e.dashArray},O=r.drawSymbol(m.shape,m.imageUrl,{x:0,y:0},v,C),T=(r.maps.isTileMap?b.x:(b.x+_.x)*M)+f.x,R=(r.maps.isTileMap?b.y:(b.y+_.y)*M)+f.y;O.setAttribute("transform","translate( "+T+" "+R+" )"),r.markerSVGObject.appendChild(O);var E=p.length-1===u?"marker":null,I=new Te(T,R);e.animationDuration>0&&se(O,e.animationDelay,e.animationDuration,I,r.maps,E)}}})}),this.markerSVGObject.childElementCount>0&&e.appendChild(this.markerSVGObject),s.childElementCount>0&&Y(this.maps.element.id+"_Secondary_Element")&&Y(this.maps.element.id+"_Secondary_Element").appendChild(s)},e.prototype.drawSymbol=function(e,i,o,n,r){var a,s,l,p,h,d,c=r.size,u=r.borderColor,m=parseFloat(r.borderWidth),g=r.fill,y=r.dashArray,f={color:u,width:m},v=r.opacity;if(h=new Be(n,g,m,u,v,y,""),"Circle"===e){var b=(c.width+c.height)/4;p=new Ne(n,g,f,v,o.x,o.y,b,y),a=this.maps.renderer.drawCircle(p)}else"Rectangle"===e?(s=o.x-c.width/2,l=o.y-c.height/2,d=new ke(n,g,f,v,new Ue(s,l,c.width,c.height),null,null,"",y),a=this.maps.renderer.drawRectangle(d)):"Image"===e?(s=o.x-c.width/2,l=o.y-c.height/2,t.merge(h,{href:i,height:c.height,width:c.width,x:s,y:l}),a=this.maps.renderer.drawImage(h)):a=E(this.maps,e,h,c,o,this.markerSVGObject);return a},e.prototype.markerClick=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")){var o=this.getMarker(i);if(!t.isNullOrUndefined(o)){var n={cancel:!1,name:"markerClick",data:o.data,maps:this.maps,marker:o.marker,target:i,x:e.clientX,y:e.clientY};this.maps.trigger("markerClick",n)}}},e.prototype.getMarker=function(e){var t,i,o=e.split("_LayerIndex_"),n=parseInt(o[1].split("_")[0],10),r=this.maps.layers[n];if(e.indexOf("_MarkerIndex_")>-1){var a=parseInt(o[1].split("_MarkerIndex_")[1].split("_")[0],10),s=parseInt(o[1].split("_DataIndex_")[1].split("_")[0],10);if(i=r.markerSettings[a],!isNaN(a))return t=i.dataSource[s],{marker:i,data:t}}return null},e.prototype.markerMove=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")){var o=this.getMarker(i);if(!t.isNullOrUndefined(o)){var n={cancel:!1,name:"markerMouseMove",data:o.data,maps:this.maps,target:i,x:e.clientX,y:e.clientY};this.maps.trigger("markerMouseMove",n)}}},e.prototype.getModuleName=function(){return"Marker"},e.prototype.destroy=function(e){},e}(),Ot=function(){function e(e){this.intersect=[],this.value={rightWidth:0,leftWidth:0,heightTop:0,heightBottom:0},this.maps=e,this.dataLabelCollections=[]}return e.prototype.getDataLabel=function(e,t,i,o){for(var n,r=0;r<e.length;r++){var a=e[r];if(a[o]===i){n=a;break}}return n},e.prototype.renderLabel=function(e,i,o,n,r,a,s){for(var l,p,h,d,c=e.dataLabelSettings,u=e.dataLabelSettings.textStyle,m=e.dataLabelSettings,g=e.dataLabelSettings.labelPath,y=[[]],f=0,v=0,b=o,S="",_=0,P=this.maps.element.id+"_LayerIndex_"+i+"_shapeIndex_"+s+"_LabelIndex_"+s,L=new Te(0,0),C=0,O=n.length;C<O;C++){var T=n[C];if(o=T.property,!t.isNullOrUndefined(T.property)&&b.properties[e.shapePropertyPath]===o[e.shapePropertyPath])if(n[C]._isMultiPolygon)for(var R=n[C],E=0;E<R.length;E++)y.push(this.getPoint(R[E],[])),v<(_=y[y.length-1].length)&&(v=_,f=y.length-1);else y.push(this.getPoint(n[C],[])),v<(_=y[y.length-1].length)&&(v=_,f=y.length-1)}if(!t.isNullOrUndefined(e.dataSource)&&e.dataSource.length>0){var I=t.extend([],e.dataSource,null,!0);h=this.getDataLabel(I,g,b.properties[e.shapePropertyPath],e.shapeDataPath),t.isNullOrUndefined(h)||t.isNullOrUndefined(h[g])?S=void 0:(h[g]=h[g],S=h[g].toString())}else S=b.properties[g]?b.properties[g].toString():void 0;if(d=Z(y[f]),!t.isNullOrUndefined(S)&&!t.isNullOrUndefined(d)){d.y="Mercator"===this.maps.projectionType?d.y:-d.y,t.isNullOrUndefined(this.maps.format)||isNaN(parseFloat(S))||(S=J(this.maps,parseFloat(S)),t.isNullOrUndefined(h)||(h[g]=S));var B={name:"dataLabelRendering",maps:this.maps,cancel:!1,border:c.border,datalabel:c,fill:c.fill,template:c.template,text:S};this.maps.trigger("dataLabelRendering",B);var k=[],N=d.rightMax.x-d.leftMax.x,A=x(S,u),z=W(N,S,u),F=x(z,u),j=d.y-A.height/4,D=d.y+A.height/4,U=d.y-A.height/4,G=d.y+A.height/4;if((k=H(y[f],j,D)).length>5&&(t.isNullOrUndefined(b.geometry)?"MultiPolygon"!==b.type:"MultiPolygon"!==b.geometry.type)){var V=Z(k);d.x=V.x,N=V.rightMax.x-V.leftMax.x}var q=d.x+A.width/2,Y=d.x-A.width/2;F=x(z=W(N,S,u),u),this.value[s]={rightWidth:q,leftWidth:Y,heightTop:U,heightBottom:G};var Q=0!==e.animationDuration||t.isNullOrUndefined(this.maps.zoomModule),$=X(this.maps,e,Q),ee=$.scale,te=$.location,ie=void 0;if(""!==B.template){(ie=M(K(B.template)(this.maps),P,t.isNullOrUndefined(h)?b.properties:h,s,this.maps)).style.left=Math.abs(this.maps.baseMapRectBounds.min.x-d.x)*ee+"px",ie.style.top=Math.abs(this.maps.baseMapRectBounds.min.y-d.y)*ee+"px",a.appendChild(ie);ie.offsetWidth,ie.offsetHeight}else{if("Trim"===m.smartLabelMode&&(l=new Ie(P,L.x,L.y,"middle",z,"","")),"None"===m.smartLabelMode&&(l=new Ie(P,L.x,L.y,"middle",S,"","")),"Hide"===m.smartLabelMode&&(S=N>=A.width?S:"",l=new Ie(P,L.x,L.y,"middle",S,"","")),S=l.text,"Hide"===m.intersectionAction){for(C=0;C<this.intersect.length;C++)if(!t.isNullOrUndefined(this.intersect[C])){if(!(this.value[s].leftWidth>this.intersect[C].rightWidth||this.value[s].rightWidth<this.intersect[C].leftWidth||this.value[s].heightTop>this.intersect[C].heightBottom||this.value[s].heightBottom<this.intersect[C].heightTop)){S="";break}S=S}this.intersect.push(this.value[s]),l=new Ie(P,L.x,L.y,"middle",S,"","")}if("Trim"===m.intersectionAction){for(E=0;E<this.intersect.length;E++)if(!t.isNullOrUndefined(this.intersect[E]))if(this.intersect[E].rightWidth<this.value[s].leftWidth||this.intersect[E].leftWidth>this.value[s].rightWidth||this.intersect[E].heightBottom<this.value[s].heightTop||this.intersect[E].heightTop>this.value[s].heightBottom)z=S,0;else{if(this.value[s].leftWidth>this.intersect[E].leftWidth){z=W((N=this.intersect[E].rightWidth-this.value[s].leftWidth)-(this.value[s].rightWidth-this.value[s].leftWidth),S,u);break}if(this.value[s].leftWidth<this.intersect[E].leftWidth){N=this.value[s].rightWidth-this.intersect[E].leftWidth,z=W(Math.abs(N-(this.value[s].rightWidth-this.value[s].leftWidth)),S,u);break}}this.intersect.push(this.value[s]),l=new Ie(P,L.x,L.y,"middle",z,"","")}if("None"===m.intersectionAction&&(l=new Ie(P,L.x,L.y,"middle",S,"","")),z.length>1){var oe=B.border;if(oe.width>1){var ne=B.fill,re=m.opacity,ae=m.rx,se=m.ry,le=d.x-A.width/2,pe=d.y-A.height/2,he=new ke(this.maps.element.id+"_LayerIndex_"+i+"_shapeIndex_"+s+"_rectIndex_"+s,ne,oe,re,new Ue(le,pe,A.width,A.height),ae,se),de=this.maps.renderer.drawRectangle(he);r.appendChild(de)}}(p=w(l,u,u.color,r)).setAttribute("transform","translate( "+(d.x+te.x)*ee+" "+((d.y+te.y)*ee+F.height/4)+" )"),r.appendChild(p)}this.dataLabelCollections.push({location:{x:d.x,y:d.y+F.height/4},element:t.isNullOrUndefined(ie)?p:ie,layerIndex:i,shapeIndex:s,labelIndex:s}),a.childElementCount>0&&!this.maps.element.contains(a)&&document.getElementById(this.maps.element.id+"_Secondary_Element").appendChild(a)}},e.prototype.getPoint=function(e,t){return e.map(function(e,i){t.push(new Te(e.point.x,e.point.y))}),t},e.prototype.getModuleName=function(){return"DataLabel"},e.prototype.destroy=function(e){},e}(),Tt=function(){function e(e){this.maps=e}return e.prototype.renderNavigation=function(e,i,o){var n,r;r=e.navigationLineSettings;for(var a,s,l,p,h,u,m,g,y,f,v,b,x,w,S,M,_,P,L,C,O=[],T=this.maps.renderer.createGroup({id:this.maps.element.id+"_layerIndex_"+o+"_line_Group"}),R=0;R<r.length;R++){if(s=r[R].properties.latitude,a=r[R].properties.longitude,l=r[R].properties.visible,p=r[R].properties.angle,h=r[R].width||1,u=r[R].color,m=r[R].properties.dashArray,x=r[R].properties.arrowSettings,f=!t.isNullOrUndefined(x)&&x.properties.showArrow,a.length===s.length&&l)for(var E=0;E<a.length;E++){var I=this.maps.isTileMap?c(new Te(a[E],s[E]),i,this.maps.tileTranslatePoint,!0):d(s[E],a[E],i,e,this.maps);O.push(I)}L=this.maps.renderer.createGroup({id:this.maps.element.id+"_layerIndex_"+o+"_NavigationGroup"+R});for(var B=0;B<O.length-1;B++){p=1<(p=-1>p?-1:p)?1:p;var k=this.maps.element.id+"_LayerIndex_"+o+"_NavigationIndex_"+R+"_Line"+B,N=this.convertRadius(O[B],O[B+1]);if(p<=1&&p>0&&(y=0,O[B].x>O[B+1].x&&(y=1)),p>=-1&&p<0&&(y=1,O[B].x>O[B+1].x&&(y=0)),O[B].x!==O[B+1].x){if(f){v=x.properties.color,b=x.properties.size,P=void 0===x.properties.offSet?0:x.properties.offSet;var A=Math.round(b/2);S="Start"===(w=x.properties.position)?"url(#triangle"+R+")":null,M="End"===w?"url(#triangle"+R+")":null,0!==_&&0===p&&(_="Start"===w?P:-P),_=t.isNullOrUndefined(_)?0:_;var z=this.maps.element.id+"_triangle",F=this.maps.renderer.createDefs(),j=document.createElementNS("http://www.w3.org/2000/svg","marker");j.setAttribute("id","triangle"+R),j.setAttribute("markerWidth",b.toString()),j.setAttribute("markerHeight",b.toString()),j.setAttribute("refX",(A-_).toString()),j.setAttribute("refY",A.toString()),j.setAttribute("orient","auto"),g=new Be(z,v,h,u,1,m,"M 0,0  L 0,"+b+" L "+A+", "+A+" Z"),n=this.maps.renderer.drawPath(g),j.appendChild(n),F.appendChild(j),L.appendChild(F)}C=0===p?"M "+O[B].x+","+O[B].y+"L "+O[B+1].x+","+O[B+1].y:"M "+O[B].x+","+O[B].y+" A "+p*N+" "+p*N+" 0,0,"+y+" , "+O[B+1].x+","+O[B+1].y+" ",g=new Be(k,"none",2,u,1,m,C),n=this.maps.renderer.drawPath(g),t.isNullOrUndefined(w)||("Start"===w?n.setAttribute("marker-start",S):n.setAttribute("marker-end",M)),L.appendChild(n),T.appendChild(L)}}O=[]}return T},e.prototype.convertRadius=function(e,t){var i=t.x-e.x,o=t.y-e.y;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))},e.prototype.getModuleName=function(){return"NavigationLine"},e.prototype.destroy=function(e){},e}(),Rt=function(){function e(e){this.legendBorderRect=new Ue(0,0,0,0),this.totalPages=[],this.page=0,this.currentPage=0,this.interactiveLocation=new Te(0,0),this.legendItemRect=new Ue(0,0,0,0),this.heightIncrement=0,this.widthIncrement=0,this.textMaxWidth=0,this.areaRect=new Ue(0,0,0,0),this.maps=e,this.addEventListener()}return e.prototype.renderLegend=function(){this.calculateLegendBounds(),this.drawLegend()},e.prototype.calculateLegendBounds=function(){var e=this,i=this.maps,o=i.legendSettings;this.legendCollection=[];var n=i.mapAreaRect.y;this.legendRenderingCollections=[],i.layersCollection.forEach(function(i,n){if(!t.isNullOrUndefined(i.shapeData)){var r=i.shapeData.features,a=i.shapeDataPath,s=i.shapePropertyPath,l=i.dataSource,p=void 0,h=void 0;if("Layers"===o.type&&i.visible)p=i.shapeSettings.colorValuePath,h=i.shapeSettings.colorMapping,e.getLegends(n,r,h,l,a,p,s);else if("Bubbles"===o.type)for(var d=0,c=i.bubbleSettings;d<c.length;d++){var u=c[d];u.visible&&(p=u.colorValuePath,h=u.colorMapping,l=u.dataSource,e.getLegends(n,r,h,l,a,p,s))}else e.getMarkersLegendCollections(n,i.markerSettings)}});var r=i.legendSettings.title.text,a=i.legendSettings.titleStyle;if(this.legendCollection.length>0){var s,l,p=o.mode,h=0,d=0,c=0,u=0,m=o.shapePadding,g=o.shapeHeight,y=o.shapeWidth,f=[],v=[],b=o.position,w=o.labelDisplayMode,S="None"===o.orientation?"Top"===b||"Bottom"===b?"Horizontal":"Vertical":o.orientation,M=o.width.length>1?o.width.indexOf("%")>-1?i.availableSize.width/100*parseInt(o.width,10):parseInt(o.width,10):null,_=o.height.length>1?o.height.indexOf("%")>-1?i.availableSize.height/100*parseInt(o.height,10):parseInt(o.height,10):null,P=0,L=0,C=x(r,a);if("Interactive"===p){var O=o.textStyle,T=void 0,R=void 0,E=this.legendCollection.length;T="Horizontal"===S?t.isNullOrUndefined(M)?i.mapAreaRect.width/E:M/E:t.isNullOrUndefined(M)?25:M,R="Horizontal"===S?t.isNullOrUndefined(_)?25:_:t.isNullOrUndefined(_)?i.mapAreaRect.height/E:_/E,P=0,L=C.height+10;for(var I=o.labelPosition,B=0,k=0,N=0,A=0,z=0,F=0,j=0;j<this.legendCollection.length;j++){P="Horizontal"===S?P+T:P,L="Horizontal"===S?L:L+R;var D=this.legendCollection[j].text,U=new Oe(0,0);"None"===w?U=x(D,O):"Trim"===w?U=x(D=W("Horizontal"===S?T:R,D,O),O):D="",z=Math.max(z,U.height),F=Math.max(F,U.width),U.width>0&&U.height>0&&("Horizontal"===S?(B=P+T/2,k="After"===I?L+R+U.height/2+10:L-10):(B="After"===I?P-U.width/2-10:P+T+U.width/2+10,k=L+R/2+U.height/4)),0===j?(N="Horizontal"===S?P:"After"===I?B-U.width/2:P,A="Horizontal"===S?"After"===I?L:k-U.height/2:L):j===this.legendCollection.length-1&&(M="Horizontal"===S?Math.abs(P+T-N):T+F+10,_="Horizontal"===S?R+z/2+10:Math.abs(L+R-A)),this.legendRenderingCollections.push({fill:this.legendCollection[j].fill,x:P,y:L,width:T,height:R,text:D,textX:B,textY:k,textWidth:U.width,textHeight:U.height})}this.legendItemRect={x:N,y:A,width:M,height:_}}else{M=t.isNullOrUndefined(M)?i.mapAreaRect.width:M,_=t.isNullOrUndefined(_)?i.mapAreaRect.height:_;for(var H=0,j=0;j<this.legendCollection.length;j++){var Z=this.legendCollection[j];t.isNullOrUndefined(this.totalPages[this.page])&&(this.totalPages[this.page]={Page:this.page+1,Collection:[]});var G=x(Z.text,o.textStyle);if(this.textMaxWidth=Math.max(this.textMaxWidth,G.width),0===j)P=h=10+y/2,L=d=n+C.height+(g>G.height?g/2:G.height/4);else{var V=G.height>g?G.height:g;if("Horizontal"===S){var q=v[H-1].x+v[H-1].width+10+y;if(q+m+G.width>M){var X=(v[H-1].y>f[H-1].y+g/2?v[H-1].y:f[H-1].y+g/2)+n;X+V>_?(this.getPageChanged(),H=0,f=[],v=[],h=P,d=L):(h=f[0].x,d=X+V/2)}else h=q-y/2,d=f[H-1].y}else{var Y=v[H-1].y>f[H-1].y+g/2?v[H-1].y:f[H-1].y+g/2;if(Y+n+V>_){var J=v[H-1].x+this.textMaxWidth+10;J+m+G.width>M?(h=P,d=L,v=[],f=[],this.getPageChanged(),H=0):(h=J+y/2,d=f[0].y)}else h=f[H-1].x,d=Y+n+g/2}}c=h+y/2+m,u=d+G.height/4,f.push({x:h,y:d}),v.push({x:c,y:u,width:G.width,height:G.height/2}),this.totalPages[this.page].Collection.push({DisplayText:Z.text,ImageSrc:Z.imageSrc,Shape:{x:h,y:d},Text:{x:c,y:u},Fill:Z.fill,Rect:{x:f[H].x-y/2,y:f[H].y-g/2<u-G.height?f[H].y-g/2:u-G.height,width:Math.abs(f[H].x-y/2-(c+G.width)),height:g>G.height?g:G.height}}),H++}var K=this.totalPages[0].Collection;K.forEach(function(t,i){var o=new Ue(t.Rect.x,t.Rect.y,t.Rect.width,t.Rect.height);0===i&&(s=o.x,l=o.y),e.widthIncrement=Math.max(e.widthIncrement,Math.abs(s-(o.x+o.width))),e.heightIncrement=Math.max(e.heightIncrement,Math.abs(l-(o.y+o.height)))}),M=this.widthIncrement<M?this.widthIncrement:M,_=this.heightIncrement<_?this.heightIncrement:_,this.legendItemRect={x:K[0].Rect.x,y:K[0].Rect.y,width:M,height:_}}}},e.prototype.getLegends=function(e,t,i,o,n,r,a){this.getRangeLegendCollection(e,t,i,o,n,r,a),this.getEqualLegendCollection(e,t,i,o,n,r,a),this.getDataLegendCollection(e,t,i,o,n,r,a)},e.prototype.getPageChanged=function(){this.page++,t.isNullOrUndefined(this.totalPages[this.page])&&(this.totalPages[this.page]={Page:this.page+1,Collection:[]})},e.prototype.drawLegend=function(){var e=this.maps,t=e.legendSettings,i=e.renderer,o=t.textStyle;this.legendGroup=i.createGroup({id:e.element.id+"_Legend_Group"});var n={name:"legendRendering",cancel:!1,fill:"",shape:t.shape,shapeBorder:t.shapeBorder};if("Interactive"===t.mode){for(var r=0;r<this.legendRenderingCollections.length;r++){var a=e.element.id+"_Legend_Index_"+r,s=e.element.id+"_Legend_Index_"+r+"_Text",l=this.legendRenderingCollections[r],p=new Ue(l.x,l.y,l.width,l.height),h=new Te(l.textX,l.textY);n.fill=l.fill,e.trigger("legendRendering",n);var d=new ke(a,n.fill,n.shapeBorder,1,p);w(new Ie(s,h.x,h.y,"middle",l.text,"",""),o,o.color,this.legendGroup),this.legendGroup.appendChild(i.drawRectangle(d))}this.renderLegendBorder()}else this.drawLegendItem(this.currentPage)},e.prototype.drawLegendItem=function(e){var i=this.maps,o=i.legendSettings,n=new Oe(o.shapeWidth,o.shapeHeight),r=i.renderer,a=o.shapeBorder,s={name:"legendRendering",cancel:!1,fill:"",shape:o.shape};if(e>=0&&e<this.totalPages.length){ie(this.legendGroup.id,this.maps.element.id)&&t.remove(ie(this.legendGroup.id,this.maps.element.id));var l="HorizontalLine"===o.shape||"VerticalLine"===o.shape||"Cross"===o.shape?t.isNullOrUndefined(o.fill)?"#000000":o.fill:a.color,p=("HorizontalLine"===o.shape||"VerticalLine"===o.shape||"Cross"===o.shape)&&0===a.width?1:a.width;s.shapeBorder={width:p,color:l};for(var h=0;h<this.totalPages[e].Collection.length;h++){var d=this.totalPages[e].Collection[h],c=r.createGroup({id:i.element.id+"_Legend_Index_"+h}),u=d.DisplayText;s.fill=d.Fill,s.shape="Markers"===o.type?t.isNullOrUndefined(d.ImageSrc)?o.shape:"Image":o.shape,i.trigger("legendRendering",s);var m=i.element.id+"_Legend_Shape_Index_"+h,g=i.element.id+"_Legend_Text_Index_"+h,y=d.Shape,f=d.Text,v=(t.isNullOrUndefined(d.ImageSrc)?o.shape:d.ImageSrc,new Be(m,s.fill,s.shapeBorder.width,s.shapeBorder.color,1,""));c.appendChild(ce(y,s.shape,n,d.ImageSrc,v)),w(new Ie(g,f.x,f.y,"start",u,"",""),o.textStyle,o.textStyle.color,c),this.legendGroup.appendChild(c)}var b=void 0;if(0!==this.page){var S=e+1+"/"+this.totalPages.length,M=o.textStyle,_=x(S,M),P=this.legendItemRect.x+this.legendItemRect.width-_.width-20-10,L=this.legendItemRect.x+this.legendItemRect.width,C=this.legendItemRect.y+this.legendItemRect.height+2.5+10,O=L-10-_.width/2-5;b=r.createGroup({id:i.element.id+"_Legend_Paging_Group"});var T=r.createGroup({id:i.element.id+"_Legend_Left_Paging_Group"}),R=r.createGroup({id:i.element.id+"_Legend_Right_Paging_Group"}),E=" M "+L+" "+C+" L "+(L-10)+" "+(C-5)+" L "+(L-10)+" "+(C+5)+" z ",I=" M "+P+" "+C+" L "+(P+10)+" "+(C-5)+" L "+(P+10)+" "+(C+5)+" z ",B=new Be(i.element.id+"_Left_Page","#a6a6a6",0,"#a6a6a6",1,"",I);T.appendChild(r.drawPath(B));var k=new ke(i.element.id+"_Left_Page_Rect","transparent",{},1,new Ue(P-5,C-10,20,20),null,null,"","");T.appendChild(r.drawRectangle(k)),this.wireEvents(T);var N=new Be(i.element.id+"_Right_Page","#a6a6a6",0,"#a6a6a6",1,"",E);R.appendChild(r.drawPath(N));var A=new ke(i.element.id+"_Right_Page_Rect","transparent",{},1,new Ue(L-10,C-5,10,10),null,null,"","");R.appendChild(r.drawRectangle(A)),this.wireEvents(R),b.appendChild(T),b.appendChild(R);var z={id:i.element.id+"_Paging_Text",x:O,y:C+_.height/4,fill:"#a6a6a6","font-size":"14px","font-style":M.fontStyle,"font-family":M.fontFamily,"font-weight":M.fontWeight,"text-anchor":"middle",transform:"",opacity:1,"dominant-baseline":""};b.appendChild(r.createText(z,S)),this.legendGroup.appendChild(b)}this.renderLegendBorder()}},e.prototype.renderLegendBorder=function(){var e=this.maps,t=e.legendSettings,i=t.title.text,o=t.titleStyle,n=W(this.legendItemRect.width+20,i,o),r=x(n,o);this.legendBorderRect=new Ue(this.legendItemRect.x-10,this.legendItemRect.y-10-r.height,this.legendItemRect.width+20,this.legendItemRect.height+20+r.height+("Interactive"===t.mode?0:0!==this.page?10:0)),i&&w(new Ie(e.element.id+"_LegendTitle",this.legendItemRect.x+this.legendItemRect.width/2,this.legendItemRect.y-r.height/2,"middle",n,""),o,o.color,this.legendGroup);var a=new ke(e.element.id+"_Legend_Border",t.background,t.border,1,this.legendBorderRect,null,null,"","");this.legendGroup.appendChild(e.renderer.drawRectangle(a)),this.translate="Float"!==t.position?this.getLegendAlignment(e,this.legendBorderRect.width,this.legendBorderRect.height,t):t.location,this.legendGroup.setAttribute("transform","translate( "+(this.translate.x+-this.legendBorderRect.x)+" "+(this.translate.y+-this.legendBorderRect.y)+" )"),e.svgObject.appendChild(this.legendGroup)},e.prototype.changeNextPage=function(e){this.currentPage=e.target.id.indexOf("_Left_Page_")>-1?this.currentPage-1:this.currentPage+1,this.legendGroup=this.maps.renderer.createGroup({id:this.maps.element.id+"_Legend_Group"}),this.drawLegendItem(this.currentPage),ie(this.maps.element.id+"_Legend_Border",this.maps.element.id)&&(ie(this.maps.element.id+"_Legend_Border",this.maps.element.id).style.pointerEvents="none")},e.prototype.getLegendAlignment=function(e,t,i,o){var n,r,a=e.availableSize.width,s=e.availableSize.height;switch(o.position){case"Top":case"Bottom":e.mapAreaRect.height=e.mapAreaRect.height-i,n=a/2-t/2,r="Top"===o.position?e.mapAreaRect.y:e.mapAreaRect.y+e.mapAreaRect.height,e.mapAreaRect.y="Top"===o.position?e.mapAreaRect.y+i+10:e.mapAreaRect.y;break;case"Left":case"Right":e.mapAreaRect.width=e.mapAreaRect.width-t,n="Left"===o.position?e.mapAreaRect.x:e.mapAreaRect.x+e.mapAreaRect.width,r=s/2-i/2,e.mapAreaRect.x="Left"===o.position?e.mapAreaRect.x+t:e.mapAreaRect.x}switch(o.alignment){case"Near":"Top"===o.position||"Bottom"===o.position?n=e.mapAreaRect.x:r=e.mapAreaRect.y;break;case"Far":"Top"===o.position||"Bottom"===o.position?n=a-t:r=s-i}return new Te(n,r)},e.prototype.getMarkersLegendCollections=function(e,i){var o=this;i.forEach(function(i,n){var r,a=i.dataSource,s=i.legendText;a.forEach(function(a,l){var p=null;if(i.visible&&!t.isNullOrUndefined(a.latitude)&&!t.isNullOrUndefined(a.longitude)){if(i.template){var h=(r=K(i.template))(o.maps);p=(t.isNullOrUndefined(h.childElementCount)?h[0]:h).querySelector("img").src}var d=t.isNullOrUndefined(a[s])?"":a[s];o.legendCollection.push({layerIndex:e,markerIndex:n,dataIndex:l,fill:i.fill,text:d,imageSrc:p})}})})},e.prototype.getRangeLegendCollection=function(e,i,o,n,r,a,s){for(var l,p=this,h=this.maps.legendSettings.fill,d=this,c=0,u=o;c<u.length;c++)!function(o){if(!t.isNullOrUndefined(o.from)&&!t.isNullOrUndefined(o.to)){l=t.isNullOrUndefined(o.label)?o.from+" - "+o.to:o.label;var c=[],u=!1;n.forEach(function(t,n){var l=parseFloat(t[a]);l>=o.from&&l<=o.to&&(u=!0,c.push(p.getLegendData(e,n,t,r,i,s,l)))}),u||c.push({layerIndex:e,shapeIndex:null,dataIndex:null,name:null,value:null});var m=t.isNullOrUndefined(h)?o.color:h;d.getOverallLegendItemsCollection(l,m,c)}}(u[c])},e.prototype.getOverallLegendItemsCollection=function(e,t,i){var o=[];if(i.length>0){for(var n=0;n<i.length;n++){var r=i[n];if(r.length>0)for(var a=0;a<r.length;a++)o.push(r[a]);else o.push(i[n]);o._isVisible=!0}this.legendCollection.push({text:e,fill:t,data:o})}},e.prototype.getEqualLegendCollection=function(e,i,o,n,r,a,s){for(var l,p=this,h=this.maps.legendSettings.fill,d=this,c=0,u=o;c<u.length;c++)!function(o){if(!t.isNullOrUndefined(o.value)){l=t.isNullOrUndefined(o.label)?o.value:o.label;var c=[],u=!1;n.forEach(function(t,n){var l=t[a];l===o.value&&(u=!0,c.push(p.getLegendData(e,n,t,r,i,s,l)))}),u||c.push({layerIndex:e,shapeIndex:null,dataIndex:null,name:null,value:null});var m=t.isNullOrUndefined(h)?o.color:h;d.getOverallLegendItemsCollection(l,m,c)}}(u[c])},e.prototype.getDataLegendCollection=function(e,i,o,n,r,a,s){var l,p=this,h=this.maps.legendSettings.fill;t.isNullOrUndefined(a)||n.forEach(function(n,d){var c=n[a],u=[],m=t.isNullOrUndefined(h)?c:h;t.isNullOrUndefined(c)||0!==o.length||(l=n[r],u.push(p.getLegendData(e,d,n,r,i,s,c))),p.getOverallLegendItemsCollection(l,m,u)})},e.prototype.interactiveHandler=function(e){var i=e.target,o=this.maps.legendSettings,n=this.maps.element.id+"_Interactive_Legend",r="Layers"===o.type?"_ShapeIndex_":"Markers"===o.type?"_MarkerIndex_":"_BubbleIndex_";if(i.id.indexOf(r)>1){var a=parseFloat(i.id.split("_")[2]),s=parseFloat(i.id.split("_")[6]),l=void 0,p=void 0,h=void 0;t.isNullOrUndefined(ie(n,this.maps.element.id))||t.remove(ie(n,this.maps.element.id));var d=this.maps.layersCollection[a];if(o.visible&&this.legendRenderingCollections.length>0&&"Interactive"===o.mode&&("Layers"===o.type?d.visible:"Markers"===o.type?d.markerSettings[parseFloat(i.id.split("_")[4])].visible:this.maps.getBubbleVisible(this.maps.layersCollection[a])))for(var c=this.maps.svgObject.getBoundingClientRect(),u=0;u<this.legendCollection.length;u++){var m=this.legendCollection[u],g=ie(this.maps.element.id+"_Legend_Index_"+u,this.maps.element.id),y=g.getBoundingClientRect(),f=new Ue(Math.abs(y.left-c.left),Math.abs(y.top-c.top),y.width,y.height);if(l=g.getAttribute("fill"),p=o.shapeBorder.color,h=o.shapeBorder.width,!t.isNullOrUndefined(m.data))for(var v=m.data,b=0;b<v.length;b++)if(s===v[b].dataIndex&&a===v[b].layerIndex){this.renderInteractivePointer(o,l,p,n,h,f);break}}}else t.isNullOrUndefined(ie(n,this.maps.element.id))||t.remove(ie(n,this.maps.element.id))},e.prototype.renderInteractivePointer=function(e,t,i,o,n,r){var a,s,l,p;a="Horizontal"===("None"===e.orientation?"Top"===e.position||"Bottom"===e.position?"Horizontal":"Vertical":e.orientation)?e.invertedPointer?" M "+(l=r.x+r.width/2)+" "+(p=r.y+r.height)+" L "+(l-10)+" "+(p+10)+" L "+(l+10)+" "+(p+10)+" Z ":" M "+(l=r.x+r.width/2)+" "+(p=r.y)+" L "+(l-10)+" "+(p-10)+" L "+(l+10)+" "+(p-10)+" Z ":e.invertedPointer?" M "+(l=r.x)+" "+(p=r.y+r.height/2)+" L "+(l-10)+" "+(p-10)+" L "+(l-10)+" "+(p+10)+" z ":" M "+(l=r.x+r.width)+" "+(p=r.y+r.height/2)+" L "+(l+10)+" "+(p-10)+" L "+(l+10)+" "+(p+10)+" z ",s=new Be(o,t,n,i,1,"",a),this.maps.svgObject.appendChild(this.maps.renderer.drawPath(s))},e.prototype.wireEvents=function(e){t.EventHandler.add(e,t.Browser.touchStartEvent,this.changeNextPage,this)},e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on(t.Browser.touchMoveEvent,this.interactiveHandler,this),this.maps.on(t.Browser.touchEndEvent,this.interactiveHandler,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off(t.Browser.touchMoveEvent,this.interactiveHandler),this.maps.off(t.Browser.touchEndEvent,this.interactiveHandler))},e.prototype.getLegendData=function(e,t,i,o,n,r,a){var s=[];if("[object Array]"===Object.prototype.toString.call(n))for(var l=0;l<n.length;l++)n[l].properties[r]===i[o]&&s.push({layerIndex:e,shapeIndex:l,dataIndex:t,name:i[o],value:a});return s},e.prototype.getModuleName=function(){return"Legend"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),Et=function(){function e(e){this.maps=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on(t.Browser.touchMoveEvent,this.mouseMove,this),this.maps.on(t.Browser.touchStartEvent,this.mouseMove,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off(t.Browser.touchMoveEvent,this.mouseMove),this.maps.off(t.Browser.touchStartEvent,this.mouseMove))},e.prototype.addHighlight=function(e,t,i){var o=oe(e,t,i,this.maps);i?this.mapHighlight(o,null,null):ae(o)},e.prototype.mouseMove=function(e){var i,o=e.target,n="touch"===e.pointerType||"2"===e.pointerType||e.type.indexOf("touch")>-1;if((-1!==o.id.indexOf("LayerIndex")||o.id.indexOf("NavigationIndex")>-1)&&"ShapeselectionMapStyle"!==o.getAttribute("class")&&!n){i=parseInt(o.id.split("_LayerIndex_")[1].split("_")[0],10);var r=void 0,a=void 0,s=void 0,l=void 0;if(o.id.indexOf("ShapeIndex")>-1)s=parseInt(o.id.split("_ShapeIndex_")[1].split("_")[0],10),r=this.maps.layers[i].shapeData.features?this.maps.layers[i].shapeData.features[s].properties:null,l=parseInt(o.id.split("_dataIndex_")[1].split("_")[0],10),a=t.isNullOrUndefined(l)?null:this.maps.layers[i].dataSource[l],this.highlightSettings=this.maps.layers[i].highlightSettings;else if(o.id.indexOf("BubbleIndex")>-1){var p=parseInt(o.id.split("_BubbleIndex_")[1].split("_")[0],10);l=parseInt(o.id.split("_dataIndex_")[1].split("_")[0],10),a=this.maps.layers[i].bubbleSettings[p].dataSource[l],this.highlightSettings=this.maps.layers[i].bubbleSettings[p].highlightSettings}else if(o.id.indexOf("MarkerIndex")>-1){var h=parseInt(o.id.split("_MarkerIndex_")[1].split("_")[0],10);l=parseInt(o.id.split("_DataIndex_")[1].split("_")[0],10),a=this.maps.layers[i].markerSettings[h].dataSource[l],this.highlightSettings=this.maps.layers[i].markerSettings[h].highlightSettings}else{c=parseInt(o.id.split("_NavigationIndex_")[1].split("_")[0],10);i=parseInt(o.id.split("_LayerIndex_")[1].split("_")[0],10),r=null,a={latitude:this.maps.layers[i].navigationLineSettings[c].latitude,longitude:this.maps.layers[i].navigationLineSettings[c].longitude},this.highlightSettings=this.maps.layers[i].navigationLineSettings[c].highlightSettings}if(this.highlightSettings.enable)this.mapHighlight(o,r,a);else{var d=document.getElementsByClassName("highlightMapStyle")[0];if(!t.isNullOrUndefined(d)&&(ae(d),d.id.indexOf("NavigationIndex")>-1)){var c=parseInt(d.id.split("_NavigationIndex_")[1].split("_")[0],10),u=parseInt(d.parentElement.id.split("_layerIndex_")[1].split("_")[0],10);d.setAttribute("stroke-width",this.maps.layers[u].navigationLineSettings[c].width.toString()),d.setAttribute("stroke",this.maps.layers[u].navigationLineSettings[c].color)}}}else if(te("highlightMapStyle").length>0){if((o=te("highlightMapStyle")[0]).id.indexOf("NavigationIndex")>-1){c=parseInt(o.id.split("_NavigationIndex_")[1].split("_")[0],10);i=parseInt(o.parentElement.id.split("_layerIndex_")[1].split("_")[0],10),o.setAttribute("stroke-width",this.maps.layers[i].navigationLineSettings[c].width.toString()),o.setAttribute("stroke",this.maps.layers[i].navigationLineSettings[c].color)}ae(o)}},e.prototype.mapHighlight=function(e,t,i){var o={opacity:this.highlightSettings.opacity,fill:-1===e.id.indexOf("NavigationIndex")?this.highlightSettings.fill:"none",border:{color:this.highlightSettings.border.color,width:this.highlightSettings.border.width},name:"itemHighlight",target:e.id,cancel:!1,shapeData:t,data:i};this.maps.trigger("itemHighlight",o),this.highlightMap(e,o)},e.prototype.highlightMap=function(e,t){if("highlightMapStyle"!==e.getAttribute("class")){if(te("highlightMapStyle").length>0){var i=te("highlightMapStyle")[0];if(ae(i),i.id.indexOf("NavigationIndex")>-1){var o=parseInt(i.id.split("_NavigationIndex_")[1].split("_")[0],10),n=parseInt(i.parentElement.id.split("_layerIndex_")[1].split("_")[0],10);i.setAttribute("stroke-width",this.maps.layers[n].navigationLineSettings[o].width.toString()),i.setAttribute("stroke",this.maps.layers[n].navigationLineSettings[o].color)}}Q("highlightMap")?re("highlightMap","highlightMapStyle",t):document.body.appendChild(ne("highlightMap","highlightMapStyle",t)),e.setAttribute("stroke-width",t.border.width.toString()),e.setAttribute("stroke",t.border.color),e.setAttribute("class","highlightMapStyle")}},e.prototype.getModuleName=function(){return"Highlight"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),It=function(){function e(e){this.maps=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on("click",this.mouseClick,this),this.maps.on(t.Browser.touchEndEvent,this.mouseClick,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off("click",this.mouseClick),this.maps.off(t.Browser.touchEndEvent,this.mouseClick))},e.prototype.mouseClick=function(e){if(!t.isNullOrUndefined(e.type)&&-1!==e.type.indexOf("touch")&&t.isNullOrUndefined(e.id)&&(e=e.target),!t.isNullOrUndefined(e.id)&&(e.id.indexOf("LayerIndex")>-1||e.id.indexOf("NavigationIndex")>-1)){var i=void 0,o=void 0,n=void 0,r=void 0,a=void 0;if(i=parseInt(e.id.split("_LayerIndex_")[1].split("_")[0],10),e.id.indexOf("ShapeIndex")>-1)r=parseInt(e.id.split("_ShapeIndex_")[1].split("_")[0],10),o=this.maps.layers[i].shapeData.features?this.maps.layers[i].shapeData.features[r].properties:null,a=parseInt(e.id.split("_dataIndex_")[1].split("_")[0],10),n=t.isNullOrUndefined(a)?null:this.maps.layers[i].dataSource[a],this.selectionsettings=this.maps.layers[i].selectionSettings,this.selectionType="Shape";else if(e.id.indexOf("BubbleIndex")>-1){var s=parseInt(e.id.split("_BubbleIndex_")[1].split("_")[0],10);a=parseInt(e.id.split("_dataIndex_")[1].split("_")[0],10),n=this.maps.layers[i].bubbleSettings[s].dataSource[a],this.selectionsettings=this.maps.layers[i].bubbleSettings[s].selectionSettings,this.selectionType="Bubble"}else if(e.id.indexOf("MarkerIndex")>-1){var l=parseInt(e.id.split("_MarkerIndex_")[1].split("_")[0],10);a=parseInt(e.id.split("_DataIndex_")[1].split("_")[0],10),n=this.maps.layers[i].markerSettings[l].dataSource[a],this.selectionsettings=this.maps.layers[i].markerSettings[l].selectionSettings,this.selectionType="Marker"}else{var p=parseInt(e.id.split("_NavigationIndex_")[1].split("_")[0],10);o=null,n={latitude:this.maps.layers[i].navigationLineSettings[p].latitude,longitude:this.maps.layers[i].navigationLineSettings[p].longitude},this.selectionsettings=this.maps.layers[i].navigationLineSettings[p].selectionSettings,this.selectionType="navigationline"}this.selectionsettings.enable&&this.selectMap(e,o,n)}},e.prototype.addSelection=function(e,t,i){var o=oe(e,t,i,this.maps);i?this.selectMap(o,null,null):ae(o)},e.prototype.selectMap=function(e,t,i){this.selectionsettings;var o={opacity:this.selectionsettings.opacity,fill:"navigationline"!==this.selectionType?this.selectionsettings.fill:"none",border:{color:this.selectionsettings.border.color,width:this.selectionsettings.border.width},name:"itemSelection",target:e.id,cancel:!1,shapeData:t,data:i};if(this.maps.trigger("itemSelection",o),e.getAttribute("class")===this.selectionType+"selectionMapStyle"){if(ae(e),e.id.indexOf("NavigationIndex")>-1){var n=parseInt(e.id.split("_NavigationIndex_")[1].split("_")[0],10),r=parseInt(e.parentElement.id.split("_layerIndex_")[1].split("_")[0],10);e.setAttribute("stroke-width",this.maps.layers[r].navigationLineSettings[n].width.toString()),e.setAttribute("stroke",this.maps.layers[r].navigationLineSettings[n].color)}}else{if(!this.selectionsettings.enableMultiSelect&&te(this.selectionType+"selectionMapStyle").length>0){var a=te(this.selectionType+"selectionMapStyle")[0];if(ae(a),a.id.indexOf("NavigationIndex")>-1){var n=parseInt(e.id.split("_NavigationIndex_")[1].split("_")[0],10),r=parseInt(e.parentElement.id.split("_layerIndex_")[1].split("_")[0],10);a.setAttribute("stroke-width",this.maps.layers[r].navigationLineSettings[n].width.toString()),a.setAttribute("stroke",this.maps.layers[r].navigationLineSettings[n].color)}}Q(this.selectionType+"selectionMap")?re(this.selectionType+"selectionMap",this.selectionType+"selectionMapStyle",o):document.body.appendChild(ne(this.selectionType+"selectionMap",this.selectionType+"selectionMapStyle",o)),e.setAttribute("stroke-width",o.border.width.toString()),e.setAttribute("stroke",o.border.color),e.setAttribute("class",this.selectionType+"selectionMapStyle")}},e.prototype.getModuleName=function(){return"Selection"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),Bt=function(){function e(e){this.maps=e,this.tooltipId=this.maps.element.id+"_mapsTooltip",this.addEventListener()}return e.prototype.renderTooltip=function(e){var i,o,r,a,s;-1!==e.type.indexOf("touch")?(this.isTouch=!0,i=(a=e).changedTouches[0].pageX,o=a.changedTouches[0].pageY,r=a.target):(this.isTouch="touch"===e.pointerType,i=e.pageX,o=e.pageY,r=e.target);var p,h,d,c="",u=r.id,m=[],g=parseFloat(u.split("_")[2]),y=this.maps.layersCollection[g],f=[];if(d=l(i,o,this.maps.svgObject),u.indexOf("_ShapeIndex_")>-1||u.indexOf("_MarkerIndex_")>-1||u.indexOf("_BubbleIndex_")>-1){if(u.indexOf("_ShapeIndex_")>-1){p=y.tooltipSettings;var v=parseInt(u.split("_")[4],10);if(t.isNullOrUndefined(y.shapeData.features))return;var b=y.shapeData.features[v].properties;g=U(y.dataSource,b,y.shapeDataPath,y.shapePropertyPath),m=y.dataSource[g],!p.visible||(t.isNullOrUndefined(g)||isNaN(g))&&t.isNullOrUndefined(b)||(c=y.tooltipSettings.format?this.formatter(y.tooltipSettings.format,y.dataSource[g]):t.isNullOrUndefined(y.dataSource)||t.isNullOrUndefined(g)?b[y.shapePropertyPath]:this.formatValue(y.dataSource[g][p.valuePath],this.maps))}else if(u.indexOf("_MarkerIndex_")>-1){var x=parseInt(u.split("_")[4],10),w=parseInt(u.split("_")[6],10),S=y.markerSettings[x];p=S.tooltipSettings,m=S.dataSource[w],p.visible&&!isNaN(x)&&(c=S.tooltipSettings.format?this.formatter(S.tooltipSettings.format,S.dataSource[w]):this.formatValue(S.dataSource[w][S.tooltipSettings.valuePath],this.maps))}else if(u.indexOf("_BubbleIndex_")>-1){var M=parseInt(u.split("_")[4],10),w=parseInt(u.split("_")[6],10),_=y.bubbleSettings[M];p=_.tooltipSettings,m=_.dataSource[w],p.visible&&!isNaN(w)&&(c=_.tooltipSettings.format?this.formatter(_.tooltipSettings.format,_.dataSource[w]):this.formatValue(_.dataSource[w][_.tooltipSettings.valuePath],this.maps))}document.getElementById(this.tooltipId)?h=document.getElementById(this.tooltipId):(h=t.createElement("div",{id:this.maps.element.id+"_mapsTooltip",className:"EJ2-maps-Tooltip",styles:"position: absolute;pointer-events:none;"}),document.getElementById(this.maps.element.id+"_Secondary_Element").appendChild(h)),null!==p.template&&1===Object.keys(p.template).length&&(p.template=p.template[Object.keys(p.template)[0]]),s={cancel:!1,name:"tooltipRender",options:{location:d,text:f,data:m=this.setTooltipContent(p,m),textStyle:p.textStyle,template:p.template},maps:this.maps,element:r,eventArgs:e},this.maps.trigger("tooltipRender",s),s.cancel||!p.visible||t.isNullOrUndefined(c)?this.removeTooltip():(s.options.textStyle.color="Highcontrast"===this.maps.theme?"#00000":"#FFFFFF",this.svgTooltip=new n.Tooltip({enable:!0,header:"",data:s.options.data,template:s.options.template,content:[c.toString()],shapes:[],location:s.options.location,palette:[void 0],areaBounds:this.maps.mapAreaRect,textStyle:s.options.textStyle,theme:this.maps.theme,fill:"Highcontrast"===this.maps.theme?"#FFFFFF":"#00000"}),this.svgTooltip.appendTo(h))}else this.removeTooltip()},e.prototype.setTooltipContent=function(e,i){var o=t.extend({},i,null,!0);return this.maps.format&&!isNaN(Number(o[e.valuePath]))?o[e.valuePath]=J(this.maps,Number(o[e.valuePath])):o=Object.keys(o).length?o:void 0,o},e.prototype.formatValue=function(e,t){return t.format&&!isNaN(Number(e))?t.intl.getNumberFormat({format:t.format,useGrouping:t.useGroupingSeparator})(Number(e)):e},e.prototype.formatter=function(e,t){void 0===t&&(t={});for(var i=0,o=Object.keys(t);i<o.length;i++){var n=o[i];e=e.split("${"+n+"}").join(this.formatValue(t[n],this.maps))}return e},e.prototype.mouseUpHandler=function(e){this.renderTooltip(e),clearTimeout(this.clearTimeout),this.clearTimeout=setTimeout(this.removeTooltip.bind(this),2e3)},e.prototype.removeTooltip=function(){document.getElementsByClassName("EJ2-maps-Tooltip").length>0&&document.getElementsByClassName("EJ2-maps-Tooltip")[0].remove()},e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on(t.Browser.touchMoveEvent,this.renderTooltip,this),this.maps.on(t.Browser.touchEndEvent,this.mouseUpHandler,this),this.maps.on(t.Browser.touchCancelEvent,this.removeTooltip,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off(t.Browser.touchMoveEvent,this.renderTooltip),this.maps.off(t.Browser.touchEndEvent,this.mouseUpHandler),this.maps.off(t.Browser.touchCancelEvent,this.removeTooltip))},e.prototype.getModuleName=function(){return"MapsTooltip"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),kt=function(){function e(e){this.isPanning=!1,this.mouseEnter=!1,this.isTouch=!1,this.rectZoomingStart=!1,this.pinchRect=new Ue(0,0,0,0),this.browserName=t.Browser.info.name,this.isPointer=t.Browser.isPointer,this.handled=!1,this.pinchFactor=1,this.startTouches=[],this.maps=e,this.wheelEvent="mozilla"===this.browserName?this.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.selectionColor=this.maps.zoomSettings.selectionColor,this.fillColor=this.maps.zoomSettings.color,this.addEventListener(),this.groupElements=[]}return e.prototype.performZooming=function(e,t,i){var o=this.maps,n=o.tileZoomLevel,r=o.scale,a=o.zoomSettings.maxZoom,s=o.zoomSettings.minZoom;if(!o.isTileMap&&("ZoomIn"===i?t>=s&&t<=a:t>=s)){var l=o.mapAreaRect,p=o.baseMapRectBounds.min,h=o.baseMapRectBounds.max,d=Math.abs(p.x-h.x),c=Math.abs(p.y-h.y),u=o.translatePoint,m=u.x-(l.width/r-l.width/t)/(l.width/e.x),g=u.y-(l.height/r-l.height/t)/(l.height/e.y),y=Math.abs(o.baseMapRectBounds.max.y-o.baseMapRectBounds.min.y)*t;m=y<o.mapAreaRect.height?l.x+(-p.x+(l.width/2-d/2)):m,g=y<o.mapAreaRect.height?l.y+(-p.y+(l.height/2-c/2)):g,o.translatePoint=new Te(m,g),o.scale=t}else o.isTileMap&&t>=s&&t<=a&&(this.getTileTranslatePosition(n,t,e),o.tileZoomLevel=t,o.scale=Math.pow(2,t-1),o.mapLayerPanel.generateTiles(t,o.tileTranslatePoint),o.translatePoint.x=(o.tileTranslatePoint.x-.5*o.scale)/o.scale,o.translatePoint.y=(o.tileTranslatePoint.y-.5*o.scale)/o.scale);this.applyTransform(),o.trigger("doubleClick",this)},e.prototype.getTileTranslatePosition=function(e,t,i){var o=this.maps,n=Y(this.maps.element.id).getBoundingClientRect(),r=256*Math.pow(2,e),a=256*Math.pow(2,t),s=(i.x-o.tileTranslatePoint.x)/r*100,l=(i.y-o.tileTranslatePoint.y)/r*100;o.tileTranslatePoint.x=1===t?n.width/2-256:i.x-s*a/100,o.tileTranslatePoint.y=1===t?n.height/2-256:i.y-l*a/100},e.prototype.performRectZooming=function(){var e=this.maps,t=e.availableSize,i=e.tileZoomLevel,o=this.zoomingRect;if(o.height>0&&o.width>0){var n=this.zoomingRect.x+this.zoomingRect.width/2,r=this.zoomingRect.y+this.zoomingRect.height/2,a=void 0;if(e.isTileMap)a=i+Math.round(i+(t.width/o.width+t.height/o.height)/2),this.getTileTranslatePosition(i,a,{x:n,y:r}),e.tileZoomLevel=a,e.mapLayerPanel.generateTiles(a,e.tileTranslatePoint),e.translatePoint.x=(e.tileTranslatePoint.x-.5*Math.pow(2,a))/Math.pow(2,a),e.translatePoint.y=(e.tileTranslatePoint.y-.5*Math.pow(2,a))/Math.pow(2,a),e.scale=Math.pow(2,a);else{var s=e.previousScale=e.scale;a=s+Math.round((t.width/o.width+t.height/o.height)/2);var l=e.previousPoint=e.translatePoint,p=l.x-(t.width/s-t.width/a)/(t.width/n),h=l.y-(t.height/s-t.height/a)/(t.height/r);e.translatePoint=new Te(p,h),e.scale=a}this.applyTransform(!0),this.zoomingRect=null}},e.prototype.setInteraction=function(e){this.lastScale=1,this.interaction=e},e.prototype.updateInteraction=function(){2===this.fingers?this.setInteraction("zoom"):this.setInteraction(null)},e.prototype.performPinchZooming=function(e){var t=this.maps,i=t.tileZoomLevel,o=t.mapAreaRect,n=ve(this.touchStartList,this.touchMoveList),r=we(xe(this.touchMoveList,this.maps)),a=n/this.lastScale;this.lastScale=n,this.pinchFactor*=a,this.pinchFactor=Math.min(this.maps.zoomSettings.maxZoom,Math.max(this.pinchFactor,this.maps.zoomSettings.minZoom));var s=this.pinchFactor;if(t.isTileMap){var l=s;this.getTileTranslatePosition(i,l,{x:r.x,y:r.y}),t.tileZoomLevel=l,t.mapLayerPanel.generateTiles(l,t.tileTranslatePoint),t.translatePoint.x=(t.tileTranslatePoint.x-.5*Math.pow(2,l))/Math.pow(2,l),t.translatePoint.y=(t.tileTranslatePoint.y-.5*Math.pow(2,l))/Math.pow(2,l),t.scale=Math.pow(2,l)}else{var p=t.baseMapRectBounds.min,h=t.baseMapRectBounds.max,d=(Math.abs(p.x-h.x),Math.abs(p.y-h.y),t.translatePoint),c=(Math.abs(t.baseMapRectBounds.max.y-t.baseMapRectBounds.min.y),d.x-(o.width/t.scale-o.width/s)/(o.width/r.x)),u=d.y-(o.height/t.scale-o.height/s)/(o.height/r.y);t.translatePoint=new Te(c,u),t.scale=s}this.applyTransform()},e.prototype.drawZoomRectangle=function(){var e,t,i,o,n=this.maps,r=this.mouseDownPoints,a=this.mouseMovePoints,s={width:1,color:"#009900"};i=Math.abs(a.x-r.x),o=Math.abs(a.y-r.y),e=a.x>r.x?r.x:r.x-i,t=a.y>r.y?r.y:r.y-o;Y(n.element.id).getBoundingClientRect();if(e>n.mapAreaRect.x&&e<n.mapAreaRect.x+n.mapAreaRect.width&&t>n.mapAreaRect.y&&t<n.mapAreaRect.y+n.mapAreaRect.height){this.zoomingRect=new Ue(e,t,i,o);var l=n.renderer.createSvg({id:n.element.id+"_Selection_Rect_Zooming",width:n.availableSize.width,height:n.availableSize.height}),p=new ke(n.element.id+"_ZoomRect","#d3d3d3",s,.5,this.zoomingRect,0,0,"","3");l.appendChild(n.renderer.drawRectangle(p)),Y(n.element.id+"_Secondary_Element").appendChild(l)}},e.prototype.animateTransform=function(e,t,i,o,n){var r=this.currentLayer.animationDuration;if(!t||0===r)return void e.setAttribute("transform","scale("+n+") translate( "+i+" "+o+" )");Me(e,0,r,new De(i,o),n,this.maps.mapAreaRect,this.maps)},e.prototype.applyTransform=function(e){var t;this.templateCount=0;var i=this.maps.scale,o=this.maps.translatePoint.x,n=this.maps.translatePoint.y;if(this.layerCollectionEle){for(var r=0;r<this.layerCollectionEle.childElementCount;r++){var a=this.layerCollectionEle.childNodes[r];if("g"===a.tagName){this.templateCount++;var s=parseFloat(a.id.split("_")[2]);this.currentLayer=this.maps.layersCollection[s];for(var l=this.maps.mapLayerPanel.calculateFactor(this.currentLayer),p=0;p<a.childElementCount;p++){var h=a.childNodes[p];if(h.id.indexOf("_Markers_Group")>-1||h.id.indexOf("_bubble_Group")>-1||h.id.indexOf("_dataLableIndex_Group")>-1){if(h.id.indexOf("_Markers_Group")>-1)for(c=0;c<h.childElementCount;c++)this.markerTranslate(h.childNodes[c],l,o,n,i,"Marker",e);else if(h.id.indexOf("_bubble_Group")>-1)for(var d=void 0,c=0;c<h.childElementCount;c++){(d=h.childNodes[c]).getAttribute("transform");t=parseFloat(d.id.split("_")[2]);for(var u=parseFloat(d.id.split("_")[4]),m=parseFloat(d.id.split("_")[6]),g=0;g<this.maps.bubbleModule.bubbleCollection.length;g++){var y=this.maps.bubbleModule.bubbleCollection[g];if(y.LayerIndex===t&&y.BubbleIndex===u&&y.DataIndex===m){var f=(y.center.x+o)*i,v=(y.center.y+n)*i,b=this.currentLayer.animationDuration;e&&0!==b?Pe(d,0,b,new De(f,v)):d.setAttribute("transform","translate( "+f+" "+v+" )");break}}}else if(h.id.indexOf("_dataLableIndex_Group")>-1)for(c=0;c<h.childElementCount;c++)this.dataLabelTranslate(h.childNodes[c],l,o,n,i,"DataLabel",e)}else this.maps.isTileMap&&h.id.indexOf("_line_Group")>-1?(h.remove(),a.appendChild(this.maps.navigationLineModule.renderNavigation(this.currentLayer,this.maps.tileZoomLevel,s))):(ge(h,s,i,this.maps),this.animateTransform(h,e,o,n,i))}}}e&&0!==this.currentLayer.animationDuration||this.processTemplate(o,n,i,this.maps)}},e.prototype.processTemplate=function(e,i,o,n){for(var r=0;r<this.templateCount;r++){this.currentLayer=n.layersCollection[r];var a=n.mapLayerPanel.calculateFactor(this.currentLayer),s=Y(n.element.id+"_LayerIndex_"+r+"_Markers_Template_Group"),l=Y(n.element.id+"_LayerIndex_"+r+"_Label_Template_Group");if(!t.isNullOrUndefined(s)&&s.childElementCount>0)for(p=0;p<s.childElementCount;p++)this.markerTranslate(s.childNodes[p],a,e,i,o,"Template");if(!t.isNullOrUndefined(l)&&l.childElementCount>0)for(var p=0;p<l.childElementCount;p++)this.dataLabelTranslate(l.childNodes[p],a,e,i,o,"Template")}},e.prototype.dataLabelTranslate=function(e,t,i,o,n,r,a){void 0===a&&(a=!1);for(var s=this.maps.dataLabelModule.dataLabelCollections,l=parseFloat(e.id.split("_")[2]),p=parseFloat(e.id.split("_")[4]),h=parseFloat(e.id.split("_")[6]),d=this.currentLayer.animationDuration,c=0;c<s.length;c++){var u=s[c];if(u.layerIndex===l&&u.shapeIndex===p&&u.labelIndex===h){var m=u.location.x,g=u.location.y;if("Template"===r){var y=Y(this.maps.element.id+"_Layer_Collections");m=Math.abs(this.maps.baseMapRectBounds.min.x-m)*n,g=Math.abs(this.maps.baseMapRectBounds.min.y-g)*n;var f=e.getBoundingClientRect(),v=y.getBoundingClientRect(),b=e.parentElement.getBoundingClientRect(),x=m+(v.left-b.left)-f.width/2,w=g+(v.top-b.top)-f.height/2;e.style.left=x+"px",e.style.top=w+"px"}else m=(m+i)*n,g=(g+o)*n,a&&0!==d?Pe(e,0,d,new De(m,g)):e.setAttribute("transform","translate( "+m+" "+g+" )")}}},e.prototype.markerTranslate=function(e,i,o,n,r,a,s){void 0===s&&(s=!1);var l=parseInt(e.id.split("_")[2],10),p=parseInt(e.id.split("_")[4],10),h=parseInt(e.id.split("_")[6],10),u=this.maps.layersCollection[l],m=u.markerSettings[p];if(!t.isNullOrUndefined(m)&&!t.isNullOrUndefined(m.dataSource)&&!t.isNullOrUndefined(m.dataSource[h])){var g=m.dataSource[h].longitude,y=m.dataSource[h].latitude,f=this.currentLayer.animationDuration,v=this.maps.isTileMap?c(new Te(g,y),this.maps.tileZoomLevel,this.maps.tileTranslatePoint,!0):d(y,g,i,u,this.maps);if(this.maps.isTileMap)if("Template"===a){b=e.getBoundingClientRect();e.style.left=v.x-b.width/2+"px",e.style.top=v.y-b.height/2+"px"}else e.setAttribute("transform","translate( "+v.x+" "+v.y+" )");else if("Template"===a){v.x=Math.abs(this.maps.baseMapRectBounds.min.x-v.x)*r,v.y=Math.abs(this.maps.baseMapRectBounds.min.y-v.y)*r;var b=e.getBoundingClientRect(),x=Y(this.maps.element.id+"_Layer_Collections").getBoundingClientRect(),w=e.parentElement.getBoundingClientRect();e.style.left=v.x+(x.left-w.left)-b.width/2+m.offset.x+"px",e.style.top=v.y+(x.top-w.top)-b.height/2+m.offset.y+"px"}else v.x=(v.x+o)*r+m.offset.x,v.y=(v.y+n)*r+m.offset.y,s&&0!==f?Pe(e,0,f,v):e.setAttribute("transform","translate( "+v.x+" "+v.y+" )")}},e.prototype.panning=function(){var e,t,i=this.maps,o=(i.mapAreaRect,this.mouseDownPoints),n=this.mouseMovePoints,r=i.scale,a=i.translatePoint;if(i.isTileMap)this.maps.tileZoomLevel>1&&(e=i.tileTranslatePoint.x-(o.x-n.x),t=i.tileTranslatePoint.y-(o.y-n.y),i.tileTranslatePoint.x=e,i.tileTranslatePoint.y=t,i.mapLayerPanel.generateTiles(i.tileZoomLevel,i.tileTranslatePoint),i.translatePoint.x=(i.tileTranslatePoint.x-(o.x-n.x))/i.scale,i.translatePoint.y=(i.tileTranslatePoint.y-(o.y-n.y))/i.scale,this.applyTransform());else{var s=a.x-(o.x-n.x)/r,l=a.y-(o.y-n.y)/r,p=Y(i.element.id+"_Layer_Collections").getBoundingClientRect(),h=Y(i.element.id+"_svg").getBoundingClientRect(),d=o.x-n.x<0?p.left<=h.left+i.mapAreaRect.x:p.left+p.width>=h.left+h.width+i.mapAreaRect.x+i.margin.left,c=o.y-n.y<0?p.top<=h.top+i.mapAreaRect.y:p.top+p.height>=h.top+h.height+i.mapAreaRect.y+i.margin.top;d&&c&&(i.translatePoint=new Te(s,l),this.applyTransform())}this.mouseDownPoints=this.mouseMovePoints},e.prototype.toolBarZooming=function(e,t){var i=this.maps,o=i.tileZoomLevel,n=i.previousScale=i.scale,r=i.zoomSettings.maxZoom,a=i.zoomSettings.minZoom,s=i.mapAreaRect;if(e="ZoomOut"===t&&1===Math.round(e)?1:e,!i.isTileMap&&("ZoomIn"===t?e>=a&&e<=r:e>=a)){var l=i.previousPoint=i.translatePoint,p=i.baseMapRectBounds.min,h=i.baseMapRectBounds.max,d=Math.abs(h.x-p.x),c=Math.abs(p.y-h.y),u=l.x-(s.width/n-s.width/e)/2,m=l.y-(s.height/n-s.height/e)/2,g=Math.abs(i.baseMapRectBounds.max.y-i.baseMapRectBounds.min.y)*e;u=g<i.mapAreaRect.height?s.x+(-p.x+(s.width/2-d/2)):u,m=g<i.mapAreaRect.height?s.y+(-p.y+(s.height/2-c/2)):m,i.translatePoint=new Te(u,m),i.scale=e}else if(i.isTileMap&&e>=a&&e<=r){var y=e;i.scale=Math.pow(2,y-1),i.tileZoomLevel=y;var f={x:i.availableSize.width/2,y:i.availableSize.height/2};this.getTileTranslatePosition(o,y,f),i.mapLayerPanel.generateTiles(y,i.tileTranslatePoint),i.translatePoint.x=(i.tileTranslatePoint.x-.5*i.scale)/i.scale,i.translatePoint.y=(i.tileTranslatePoint.y-.5*i.scale)/i.scale}this.applyTransform(!0)},e.prototype.createZoomingToolbars=function(){var e=this.maps;this.toolBarGroup=e.renderer.createGroup({id:e.element.id+"_Zooming_KitCollection",opacity:.3});var t=15,i=15,o=e.zoomSettings.toolBarOrientation,n=e.zoomSettings.toolbars,r='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';r+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>',r+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var a=e.zoomSettings.toolbars.length,s="Horizontal"===e.zoomSettings.toolBarOrientation?16*a+20*a:32,l="Horizontal"===e.zoomSettings.toolBarOrientation?32:16*a+20*a;this.toolBarGroup.appendChild(e.renderer.drawRectangle(new ke(e.element.id+"_Zooming_Rect","transparent",{color:"transparent",width:1},1,new Ue(0,0,s,l),0,0)));var p=e.renderer.createDefs();p.innerHTML=r,this.toolBarGroup.appendChild(p);var h=e.renderer.drawRectangle(new ke(e.element.id+"_Zooming_Rect","transparent",{color:"transparent",width:1},.1,new Ue(0,0,s,l),0,0));h.setAttribute("filter","url(#chart_shadow)"),this.toolBarGroup.appendChild(h);for(var d=0;d<n.length;d++){var c=n[d];this.currentToolbarEle=e.renderer.createGroup({id:e.element.id+"_Zooming_ToolBar_"+c+"_Group",transform:"translate( "+t+" "+i+" ) "}),this.currentToolbarEle.setAttribute("class","e-maps-toolbar");var u="";switch(c.toLowerCase()){case"zoom":u="M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,",u+="5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571",u+="L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,",this.currentToolbarEle.appendChild(e.renderer.drawPath(new Be(e.element.id+"_Zooming_ToolBar_"+c,this.fillColor,1,this.fillColor,1,null,u+"4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),this.zoomElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"zoomin":u="M 8, 0 L 8, 16 M 0, 8 L 16, 8",this.currentToolbarEle.appendChild(e.renderer.drawPath(new Be(e.element.id+"_Zooming_ToolBar_"+c+"_Path",this.fillColor,3,this.fillColor,1,null,u))),this.zoomInElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"zoomout":u="M 0, 8 L 16, 8",this.currentToolbarEle.appendChild(e.renderer.drawPath(new Be(e.element.id+"_Zooming_ToolBar_"+c,this.fillColor,3,this.fillColor,1,null,u))),this.zoomOutElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"pan":u="M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,",u+="11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z",this.currentToolbarEle.appendChild(e.renderer.drawPath(new Be(e.element.id+"_Zooming_ToolBar_"+c,this.selectionColor,1,this.selectionColor,1,null,u))),this.panColor=this.selectionColor,this.panElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"reset":u="M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,",u+="1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,",u+="13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,",this.currentToolbarEle.appendChild(e.renderer.drawPath(new Be(e.element.id+"_Zooming_ToolBar_"+c,this.fillColor,null,null,1,null,u+"3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z"))),this.wireEvents(this.currentToolbarEle,this.performToolBarAction)}this.currentToolbarEle.appendChild(e.renderer.drawCircle(new Ne(e.element.id+"_Zooming_ToolBar_"+c+"_Rect","transparent",{color:this.fillColor,width:1},1,8,8,16,""))),t="Horizontal"===o?t+36:t,i="Horizontal"===o?i:i+36,this.toolBarGroup.appendChild(this.currentToolbarEle)}},e.prototype.performToolBarAction=function(e){var t=e.target;e.stopImmediatePropagation();var i="touch"===e.pointerType||"2"===e.pointerType||e.type.indexOf("touch")>-1,o=t.id.split("_")[3];i?(this.handled=!0,this.performZoomingByToolBar(o)):"mousedown"!==e.type&&"pointerdown"!==e.type||this.handled?this.handled=!1:(this.handled=!1,this.performZoomingByToolBar(o))},e.prototype.performZoomingByToolBar=function(e){var t=this.maps;switch(e.toLowerCase()){case"zoom":this.panColor=this.fillColor,this.zoomColor=this.selectionColor,this.applySelection(this.zoomElements,this.selectionColor),this.applySelection(this.panElements,this.fillColor);break;case"pan":this.panColor=this.selectionColor,this.zoomColor=this.fillColor,this.applySelection(this.zoomElements,this.fillColor),this.applySelection(this.panElements,this.selectionColor);break;case"zoomin":this.toolBarZooming((t.isTileMap?t.tileZoomLevel:t.scale)+1,"ZoomIn");break;case"zoomout":this.toolBarZooming((t.isTileMap?t.tileZoomLevel:t.scale)-1,"ZoomOut");break;case"reset":this.toolBarZooming(1,"ZoomOut"),this.applySelection(this.zoomElements,this.fillColor),this.applySelection(this.panElements,this.selectionColor)}this.panningStyle(e.toLowerCase())},e.prototype.panningStyle=function(e){var t=Y(this.maps.element.id+"_svg");"pan"===e||this.isPanning?t.setAttribute("class","e-maps-panning"):t.setAttribute("class","")},e.prototype.applySelection=function(e,t){if(e)for(var i,o=0;o<e.childElementCount;o++)"circle"!==(i=e.childNodes[o]).tagName&&(i.setAttribute("fill",t),i.setAttribute("stroke",t))},e.prototype.showTooltip=function(e){var t=e.target.id.split("_")[3];this.isTouch||de("EJ2_Map_Toolbar_Tip",this.maps.getLocalizedLabel(t),e.pageY+10,e.pageX+10,"10px")},e.prototype.removeTooltip=function(){Y("EJ2_Map_Toolbar_Tip")&&t.remove(Y("EJ2_Map_Toolbar_Tip"))},e.prototype.alignToolBar=function(){var e=this.maps,i=t.createElement("div",{id:e.element.id+"_ToolBar",styles:"position:absolute;z-index:2"}),o=e.renderer.createSvg({id:e.element.id+"_Zooming_ToolBar",width:10,height:10});o.appendChild(this.toolBarGroup),i.appendChild(o),Y(e.element.id+"_Secondary_Element")&&Y(e.element.id+"_Secondary_Element").appendChild(i);var n=this.toolBarGroup.getBoundingClientRect();o.setAttribute("height",(n.height+5).toString()),o.setAttribute("width",(n.width+5).toString());var r=e.mapAreaRect,a=0,s=0;switch(e.zoomSettings.verticalAlignment){case"Near":s=r.y;break;case"Center":s=r.height/2-n.height/2;break;case"Far":s=r.height-n.height-10}switch(e.zoomSettings.horizontalAlignment){case"Near":a=r.x;break;case"Center":a=r.width/2-n.width/2;break;case"Far":a=r.width-n.width-10}i.style.left=a+"px",i.style.top=s+"px";var l=this.maps.zoomSettings.highlightColor,p=" .e-maps-toolbar:hover > circle { stroke:"+l+"; } .e-maps-toolbar:hover > path { fill: "+l+" ;  stroke: "+l+"; }",h=document.createElement("style");h.appendChild(document.createTextNode(p)),i.appendChild(h)},e.prototype.wireEvents=function(e,i){t.EventHandler.add(e,t.Browser.touchStartEvent,i,this),t.EventHandler.add(e,"mouseover",this.showTooltip,this),t.EventHandler.add(e,"mouseout",this.removeTooltip,this)},e.prototype.mapMouseWheel=function(e){if(this.maps.zoomSettings.enable&&this.maps.zoomSettings.mouseWheelZoom){var t=this.getMousePosition(e.pageX,e.pageY),i=this.maps,o=(i.availableSize,i.tileZoomLevel),n=i.scale,r=i.isTileMap?o:n;if(t.x>i.mapAreaRect.x&&t.x<i.mapAreaRect.x+i.mapAreaRect.width&&t.y>i.mapAreaRect.y&&t.y<i.mapAreaRect.y+i.mapAreaRect.height){e.preventDefault();var a="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?"ZoomIn":"ZoomOut":-e.detail/3>0?"ZoomIn":"ZoomOut";"ZoomIn"===a?this.performZooming(t,r+1,a):this.performZooming(t,r-1,a)}}},e.prototype.doubleClick=function(e){var t=e.pageX,i=e.pageY;e.target;if(this.maps.zoomSettings.enable&&this.maps.zoomSettings.doubleClickZoom){var o=this.getMousePosition(t,i),n=this.maps,r=(n.availableSize,n.tileZoomLevel),a=n.scale,s=n.isTileMap?r:a;o.x>n.mapAreaRect.x&&o.x<n.mapAreaRect.x+n.mapAreaRect.width&&o.y>n.mapAreaRect.y&&o.y<n.mapAreaRect.y+n.mapAreaRect.height&&this.performZooming(o,s+1,"ZoomIn")}},e.prototype.mouseDownHandler=function(e){var t,i,o=null;e.target;"touchstart"===e.type?(this.isTouch=!0,o=e.touches,e.target,t=o[0].clientX,i=o[0].clientY):(t=e.pageX,i=e.pageY,e.target),this.isPanning=this.panColor===this.selectionColor||this.zoomColor!==this.selectionColor,this.rectZoomingStart=!this.isPanning&&this.maps.zoomSettings.enable,this.mouseDownPoints=this.getMousePosition(t,i),this.isTouch&&(this.firstMove=!0,this.pinchFactor=this.maps.scale,this.fingers=o.length)},e.prototype.mouseMoveHandler=function(e){var t,i,o,n=this.maps,r=null,a=this.maps.zoomSettings;"touchmove"===e.type?(this.isTouch=!0,o=e.target,t=(r=e.touches)[0].clientX,i=r[0].clientY):(t=e.pageX,i=e.pageY,o=e.target),Y(n.element.id+"_Zooming_KitCollection")&&(o.id.indexOf("_Zooming_")>-1?Y(n.element.id+"_Zooming_KitCollection").setAttribute("opacity","1"):Y(n.element.id+"_Zooming_KitCollection").setAttribute("opacity","0.3")),this.isTouch&&this.maps.zoomSettings.pinchZooming&&(this.firstMove&&2===r.length?(this.rectZoomingStart=!1,this.updateInteraction(),this.touchStartList=fe(e)):2===this.touchStartList.length&&2===r.length&&(this.touchMoveList=fe(e),e.preventDefault(),this.rectZoomingStart=!1,this.performPinchZooming(e)),this.firstMove=!1),this.mouseMovePoints=this.getMousePosition(t,i);e.target.id,e.target;a.enable&&this.isPanning&&(e.preventDefault(),this.maps.element.style.cursor="pointer",this.panning()),(this.isTouch?1===r.length&&this.rectZoomingStart:this.rectZoomingStart)&&(e.preventDefault(),this.drawZoomRectangle())},e.prototype.mouseUpHandler=function(e){this.maps;this.rectZoomingStart=!1,this.isPanning=!1,this.isTouch=!1,this.touchStartList=[],this.touchMoveList=[],this.lastScale=1,this.maps.element.style.cursor="auto";var i=Y(this.maps.element.id+"_Selection_Rect_Zooming");i&&this.maps.zoomSettings.enable&&(t.remove(i),this.performRectZooming())},e.prototype.mouseCancelHandler=function(e){this.isPanning=!1,this.isTouch=!1,this.rectZoomingStart=!1;var i=Y(this.maps.element.id+"_Selection_Rect_Zooming");i&&this.maps.zoomSettings.enable&&(t.remove(i),this.performRectZooming())},e.prototype.click=function(e){var t=this.maps;if(t.zoomSettings.zoomOnClick&&e.target.id.indexOf("_ShapeIndex_")>-1&&!t.zoomSettings.doubleClickZoom&&this.zoomColor===this.selectionColor&&this.zoomElements){var i=e.target.getBBox(),o=i.width,n=i.height,r=void 0,a=t.availableSize.width,s=t.availableSize.height;r=(a-100)/(s-100)>o/n?(s-100)/n:(a-100)/o;var l=(a/2-o*t.scale/2)/r,p=(s/2-n*t.scale/2)/r,h=-i.x+l,d=-i.y+p;t.previousScale=t.scale,t.previousPoint=t.translatePoint,t.scale=r,t.translatePoint={x:h,y:d},this.applyTransform(!0)}},e.prototype.getMousePosition=function(e,t){var i=this.maps,o=i.element.getBoundingClientRect(),n=i.element.ownerDocument.defaultView.pageXOffset,r=i.element.ownerDocument.defaultView.pageYOffset,a=i.element.ownerDocument.documentElement.clientTop,s=i.element.ownerDocument.documentElement.clientLeft,l=o.left+n-s,p=o.top+r-a;return new Te(e-l,t-p)},e.prototype.addEventListener=function(){this.maps.isDestroyed||(t.EventHandler.add(this.maps.element,this.wheelEvent,this.mapMouseWheel,this),t.EventHandler.add(this.maps.element,"click",this.click,this),t.EventHandler.add(this.maps.element,"dblclick",this.doubleClick,this),this.maps.on(t.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.maps.on(t.Browser.touchStartEvent,this.mouseDownHandler,this),this.maps.on(t.Browser.touchEndEvent,this.mouseUpHandler,this),t.EventHandler.add(this.maps.element,this.cancelEvent,this.mouseCancelHandler,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(t.EventHandler.remove(this.maps.element,this.wheelEvent,this.mapMouseWheel),t.EventHandler.remove(this.maps.element,"click",this.click),t.EventHandler.remove(this.maps.element,"dblclick",this.doubleClick),this.maps.off(t.Browser.touchMoveEvent,this.mouseMoveHandler),this.maps.off(t.Browser.touchStartEvent,this.mouseDownHandler),this.maps.off(t.Browser.touchEndEvent,this.mouseUpHandler),this.maps.off(this.cancelEvent,this.mouseCancelHandler))},e.prototype.getModuleName=function(){return"Zoom"},e.prototype.destroy=function(e){this.removeEventListener()},e}();return e.Maps=Pt,e.load="load",e.loaded="loaded",e.click="click",e.rightClick="rightClick",e.doubleClick="doubleClick",e.resize="resize",e.tooltipRender="tooltipRender",e.shapeSelected="shapeSelected",e.shapeHighlight="shapeHighlight",e.mousemove="mousemove",e.mouseup="mouseup",e.mousedown="mousedown",e.layerRendering="layerRendering",e.shapeRendering="shapeRendering",e.markerRendering="markerRendering",e.markerClick="markerClick",e.markerMouseMove="markerMouseMove",e.dataLabelRendering="dataLabelRendering",e.bubbleRendering="bubbleRendering",e.bubbleClick="bubbleClick",e.bubbleMouseMove="bubbleMouseMove",e.animationComplete=ft,e.legendRendering="legendRendering",e.annotationRendering="annotationRendering",e.itemSelection="itemSelection",e.itemHighlight="itemHighlight",e.beforePrint="beforePrint",e.Annotation=Ye,e.Arrow=Je,e.Font=Ke,e.Border=Qe,e.TooltipSettings=$e,e.Margin=et,e.ColorMappingSettings=tt,e.SelectionSettings=it,e.HighlightSettings=ot,e.NavigationLineSettings=nt,e.BubbleSettings=rt,e.CommonTitleSettings=at,e.SubTitleSettings=st,e.TitleSettings=lt,e.ZoomSettings=pt,e.LegendSettings=ht,e.DataLabelSettings=dt,e.ShapeSettings=ct,e.MarkerSettings=ut,e.LayerSettings=mt,e.Tile=gt,e.MapsAreaSettings=yt,e.Size=Oe,e.stringToNumber=r,e.calculateSize=a,e.createSvg=s,e.getMousePosition=l,e.degreesToRadians=p,e.radiansToDegrees=h,e.convertGeoToPoint=d,e.convertTileLatLongToPoint=c,e.xToCoordinate=u,e.yToCoordinate=m,e.aitoff=g,e.roundTo=y,e.sinci=f,e.acos=v,e.calculateBound=b,e.Point=Te,e.MinMax=Re,e.GeoLocation=Ee,e.measureText=x,e.TextOption=Ie,e.PathOption=Be,e.RectOption=ke,e.CircleOption=Ne,e.PolygonOption=Ae,e.PolylineOption=ze,e.LineOption=Fe,e.Line=je,e.MapLocation=De,e.Rect=Ue,e.PatternOptions=He,e.renderTextElement=w,e.convertElement=S,e.convertElementFromLabel=M,e.appendShape=_,e.drawCircle=P,e.drawRectangle=L,e.drawPath=C,e.drawPolygon=O,e.drawPolyline=T,e.drawLine=R,e.calculateShapes=E,e.drawDiamond=I,e.drawTriangle=B,e.drawCross=k,e.drawHorizontalLine=N,e.drawVerticalLine=A,e.drawStar=z,e.drawBalloon=F,e.drawPattern=j,e.getFieldData=D,e.checkShapeDataFields=U,e.filter=H,e.findMidPointOfPolygon=Z,e.isCustomPath=G,e.textTrim=W,e.findPosition=V,e.removeElement=q,e.getTranslate=X,e.getElementByID=Y,e.Internalize=J,e.getTemplateFunction=K,e.getElement=Q,e.getShapeData=$,e.triggerShapeEvent=ee,e.getElementsByClassName=te,e.querySelector=ie,e.getTargetElement=oe,e.createStyle=ne,e.customizeStyle=re,e.removeClass=ae,e.elementAnimate=se,e.timeout=le,e.showTooltip=pe,e.wordWrap=he,e.createTooltip=de,e.drawSymbol=ce,e.calculateLegendShapes=ue,e.getElementOffset=me,e.changeBorderWidth=ge,e.changeNavaigationLineWidth=ye,e.targetTouches=fe,e.calculateScale=ve,e.getDistance=be,e.getTouches=xe,e.getTouchCenter=we,e.sum=Se,e.zoomAnimate=Me,e.animate=_e,e.MapAjax=Ze,e.smoothTranslate=Pe,e.LayerPanel=xt,e.Bubble=Lt,e.BingMap=vt,e.Marker=Ct,e.ColorMapping=bt,e.DataLabel=Ot,e.NavigationLine=Tt,e.Legend=Rt,e.Highlight=Et,e.Selection=It,e.MapsTooltip=Bt,e.Zoom=kt,e.Annotations=wt,e}({},ej.base,ej.data,ej.pdfexport,ej.svgbase),this.ejs=ej;
//# sourceMappingURL=ej2-maps.min.js.map
