{"ast":null,"code":"import { extend, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Work cell interactions\n */\n\nvar WorkCellInteraction =\n/** @class */\nfunction () {\n  function WorkCellInteraction(parent) {\n    this.parent = parent;\n  }\n\n  WorkCellInteraction.prototype.cellMouseDown = function (e) {\n    if (this.isPreventAction(e)) {\n      return;\n    }\n\n    this.parent.notify(event.cellMouseDown, {\n      event: e\n    });\n  };\n\n  WorkCellInteraction.prototype.cellClick = function (e) {\n    if (this.isPreventAction(e)) {\n      return;\n    }\n\n    var queryStr = '.' + cls.WORK_CELLS_CLASS + ',.' + cls.ALLDAY_CELLS_CLASS + ',.' + cls.HEADER_CELLS_CLASS;\n    var target = closest(e.target, queryStr);\n\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    var navigateEle = closest(e.target, '.' + cls.NAVIGATE_CLASS);\n    var navigateView = this.parent.getNavigateView();\n    var sameView = this.parent.currentView === navigateView;\n\n    if (isNullOrUndefined(navigateEle) || sameView || isNullOrUndefined(this.parent.viewOptions[navigateView.charAt(0).toLowerCase() + navigateView.slice(1)])) {\n      if (this.parent.activeViewOptions.readonly) {\n        this.parent.quickPopup.quickPopupHide();\n        return;\n      }\n\n      var isWorkCell = target.classList.contains(cls.WORK_CELLS_CLASS) || target.classList.contains(cls.ALLDAY_CELLS_CLASS);\n\n      if (isWorkCell && e.shiftKey && e.which === 1 && this.parent.keyboardInteractionModule) {\n        this.parent.keyboardInteractionModule.onMouseSelection(e);\n        return;\n      }\n\n      this.parent.activeCellsData = this.parent.getCellDetails(target);\n      var args = extend(this.parent.activeCellsData, {\n        cancel: false,\n        event: e,\n        name: 'cellClick'\n      });\n      this.parent.trigger(event.cellClick, args);\n\n      if (args.cancel) {\n        return;\n      }\n\n      if (isWorkCell) {\n        this.parent.selectCell(target);\n      }\n\n      this.parent.notify(event.cellClick, args);\n    } else {\n      var date = this.parent.getDateFromElement(target);\n\n      if (!isNullOrUndefined(date) && !this.parent.isAdaptive) {\n        this.parent.setProperties({\n          selectedDate: date\n        }, true);\n        this.parent.changeView(this.parent.getNavigateView());\n      }\n    }\n  };\n\n  WorkCellInteraction.prototype.cellDblClick = function (e) {\n    if (this.parent.activeViewOptions.readonly || this.isPreventAction(e)) {\n      return;\n    }\n\n    var args = extend(this.parent.activeCellsData, {\n      cancel: false,\n      event: e,\n      name: 'cellDoubleClick'\n    });\n    this.parent.trigger(event.cellDoubleClick, args);\n\n    if (args.cancel) {\n      return;\n    }\n\n    this.parent.eventWindow.openEditor(this.parent.activeCellsData, 'Add');\n  };\n\n  WorkCellInteraction.prototype.isPreventAction = function (e) {\n    if (closest(e.target, '.' + cls.NAVIGATE_CLASS)) {\n      return false;\n    }\n\n    var target = closest(e.target, '.' + cls.APPOINTMENT_CLASS + ',.' + cls.RESOURCE_GROUP_CELLS_CLASS);\n\n    if (!isNullOrUndefined(target)) {\n      return true;\n    }\n\n    target = closest(e.target, '.' + cls.HEADER_CELLS_CLASS);\n\n    if (this.parent.activeView.isTimelineView() && !isNullOrUndefined(target)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return WorkCellInteraction;\n}();\n\nexport { WorkCellInteraction };","map":null,"metadata":{},"sourceType":"module"}