{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\n\nvar AccordionActionSettings =\n/** @class */\nfunction (_super) {\n  __extends(AccordionActionSettings, _super);\n\n  function AccordionActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('SlideDown')], AccordionActionSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property(400)], AccordionActionSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property('linear')], AccordionActionSettings.prototype, \"easing\", void 0);\n\n  return AccordionActionSettings;\n}(ChildProperty);\n\nexport { AccordionActionSettings };\n\nvar AccordionAnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(AccordionAnimationSettings, _super);\n\n  function AccordionAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"expand\", void 0);\n\n  return AccordionAnimationSettings;\n}(ChildProperty);\n\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\n\nvar AccordionItem =\n/** @class */\nfunction (_super) {\n  __extends(AccordionItem, _super);\n\n  function AccordionItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(undefined)], AccordionItem.prototype, \"content\", void 0);\n\n  __decorate([Property(undefined)], AccordionItem.prototype, \"header\", void 0);\n\n  __decorate([Property(undefined)], AccordionItem.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(undefined)], AccordionItem.prototype, \"iconCss\", void 0);\n\n  __decorate([Property(false)], AccordionItem.prototype, \"expanded\", void 0);\n\n  return AccordionItem;\n}(ChildProperty);\n\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\n\nvar Accordion =\n/** @class */\nfunction (_super) {\n  __extends(Accordion, _super);\n  /**\n   * Initializes a new instance of the Accordion class.\n   * @param options  - Specifies Accordion model properties as options.\n   * @param element  - Specifies the element that is rendered as an Accordion.\n   */\n\n\n  function Accordion(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /**\n     * Contains the keyboard configuration of the Accordion.\n     */\n\n\n    _this.keyConfigs = {\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      enter: 'enter',\n      space: 'space',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   * @returns void\n   */\n\n\n  Accordion.prototype.destroy = function () {\n    var _this = this;\n\n    var ele = this.element;\n\n    _super.prototype.destroy.call(this);\n\n    this.unwireEvents();\n    this.isDestroy = true;\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNOU(_this.element.querySelector(eleStr))) {\n        document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n\n    while (ele.firstChild) {\n      ele.removeChild(ele.firstChild);\n    }\n\n    if (this.trgtEle) {\n      while (this.ctrlTem.firstChild) {\n        ele.appendChild(this.ctrlTem.firstChild);\n      }\n    }\n\n    ele.removeAttribute('style');\n    ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n      _this.element.removeAttribute(attrb);\n    });\n  };\n\n  Accordion.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.isNested = false;\n    this.templateEle = [];\n\n    if (!this.isDestroy) {\n      this.isDestroy = false;\n    }\n\n    if (!isNOU(nested)) {\n      nested.classList.add(CLS_NEST);\n      this.isNested = true;\n    } else {\n      this.element.classList.add(CLS_ACRDN_ROOT);\n    }\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL);\n    }\n\n    if (!this.enablePersistence || isNOU(this.expandedItems)) {\n      this.expandedItems = [];\n    }\n  };\n\n  Accordion.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Accordion.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n  /**\n   * To initialize the control rendering\n   * @private\n   */\n\n\n  Accordion.prototype.render = function () {\n    this.initialize();\n    this.renderControl();\n    this.wireEvents();\n  };\n\n  Accordion.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n    setStyle(this.element, {\n      'width': width,\n      'height': height\n    });\n    var ariaAttr = {\n      'aria-disabled': 'false',\n      'role': 'presentation',\n      'aria-multiselectable': 'true'\n    };\n\n    if (this.expandedItems.length > 0) {\n      this.initExpand = this.expandedItems;\n    }\n\n    attributes(this.element, ariaAttr);\n\n    if (this.expandMode === 'Single') {\n      this.element.setAttribute('aria-multiselectable', 'false');\n    }\n  };\n\n  Accordion.prototype.renderControl = function () {\n    this.trgtEle = this.element.children.length > 0 ? select('div', this.element) : null;\n    this.renderItems();\n    this.initItemExpand();\n  };\n\n  Accordion.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n\n    if (!isNOU(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n  };\n\n  Accordion.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n\n    if (!this.isNested && !this.isDestroy) {\n      rippleEffect(this.element, {\n        selector: '.' + CLS_HEADER\n      });\n    }\n\n    if (!this.isNested) {\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs,\n        eventName: 'keydown'\n      });\n    }\n  };\n\n  Accordion.prototype.focusIn = function (e) {\n    e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.focusOut = function (e) {\n    e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.ctrlTemplate = function () {\n    var _this = this;\n\n    this.ctrlTem = this.element.cloneNode(true);\n    var innerEles = this.element.children;\n    var content;\n    addClass(innerEles, [CLS_ITEM]);\n    [].slice.call(innerEles).forEach(function (el) {\n      el.id = getUniqueID('acrdn_item');\n\n      if (el.children.length > 0) {\n        _this.add(el.children[0], CLS_HEADER);\n\n        var header = el.children[0];\n        attributes(header, {\n          'tabindex': '0',\n          'role': 'heading',\n          'aria-level': innerEles.length.toString()\n        });\n        header.id = getUniqueID('acrdn_header');\n        EventHandler.add(header, 'focus', _this.focusIn, _this);\n        EventHandler.add(header, 'blur', _this.focusOut, _this);\n        var headerEle = header.firstElementChild;\n\n        if (headerEle) {\n          headerEle.classList.add(CLS_HEADERCTN);\n        }\n\n        content = el.children[1];\n\n        if (content) {\n          content.id = getUniqueID('acrdn_panel');\n          header.setAttribute('aria-controls', content.id);\n          content.style.display = '';\n          el.classList.add(CLS_SLCT);\n          el.children[0].appendChild(_this.toggleIconGenerate());\n          classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n          attributes(content, {\n            'aria-labelledby': header.id,\n            'aria-hidden': 'true'\n          });\n          content = content.firstElementChild;\n\n          if (content) {\n            content.classList.add(CLS_CTENT);\n            content.style.display = '';\n          }\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.toggleIconGenerate = function () {\n    var tglIcon = this.createElement('div', {\n      className: CLS_TOOGLEICN\n    });\n    var hdrColIcon = this.createElement('span', {\n      className: CLS_COLLAPSEICN\n    });\n    tglIcon.appendChild(hdrColIcon);\n    return tglIcon;\n  };\n\n  Accordion.prototype.initItemExpand = function () {\n    var len = this.initExpand.length;\n\n    if (len === 0) {\n      return;\n    }\n\n    if (this.expandMode === 'Single') {\n      this.expandItem(true, this.initExpand[len - 1]);\n    } else {\n      for (var i = 0; i < len; i++) {\n        this.expandItem(true, this.initExpand[i]);\n      }\n    }\n  };\n\n  Accordion.prototype.renderItems = function () {\n    var _this = this;\n\n    var ele = this.element;\n    var innerItem;\n\n    if (isNOU(this.initExpand)) {\n      this.initExpand = [];\n    }\n\n    var items = this.items;\n\n    if (!isNOU(this.trgtEle)) {\n      this.ctrlTemplate();\n    } else if (ele && items.length > 0) {\n      items.forEach(function (item, index) {\n        innerItem = _this.renderInnerItem(item, index);\n        ele.appendChild(innerItem);\n\n        if (innerItem.childElementCount > 0) {\n          EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n          EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n        }\n      });\n    }\n  };\n\n  Accordion.prototype.clickHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.target;\n    var eventArgs = {};\n    var index;\n    var tglIcon;\n    var acrdEle = closest(trgt, '.' + CLS_ROOT);\n\n    if (acrdEle !== this.element) {\n      return;\n    }\n\n    trgt.classList.add('e-target');\n    var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n    var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n    var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n\n    if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n      acrdnHdr = acrdnItem.children[0];\n      acrdnCtn = acrdnItem.children[1];\n    }\n\n    if (acrdnHdr) {\n      tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n    }\n\n    var acrdnCtnItem;\n\n    if (acrdnCtn) {\n      acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n    }\n\n    var acrdActive = [];\n    index = this.getIndexByItem(acrdnItem);\n\n    if (acrdnCtnItem) {\n      eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n    }\n\n    eventArgs.originalEvent = e;\n    var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n\n    if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n      acrdnItem.appendChild(this.contentRendering(index));\n      this.ariaAttrUpdate(acrdnItem);\n    }\n\n    this.trigger('clicked', eventArgs);\n    var cntclkCheck = acrdnCtn && !isNOU(select('.e-target', acrdnCtn));\n    cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n    trgt.classList.remove('e-target');\n\n    if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n      return;\n    }\n\n    [].slice.call(this.element.children).forEach(function (el) {\n      if (el.classList.contains(CLS_ACTIVE)) {\n        acrdActive.push(el);\n      }\n    });\n    var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n\n    if (acrdAniEle.length > 0) {\n      for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n        var el = acrdAniEle_1[_i];\n        acrdActive.push(el.parentElement);\n      }\n    }\n\n    var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n    var sameHeader = false;\n\n    if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n      var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n      var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n      var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n\n      if (isNOU(acrdnCtn_1)) {\n        return;\n      }\n\n      sameHeader = expandState === acrdnItem;\n\n      if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n        this.collapse(acrdnCtn_1);\n      } else {\n        if (acrdActive.length > 0 && this.expandMode === 'Single' && !sameContentCheck) {\n          acrdActive.forEach(function (el) {\n            _this.collapse(select('.' + CLS_CONTENT, el));\n\n            el.classList.remove(CLS_EXPANDSTATE);\n          });\n        }\n\n        this.expand(acrdnCtn_1);\n      }\n\n      if (!isNOU(expandState) && !sameHeader) {\n        expandState.classList.remove(CLS_EXPANDSTATE);\n      }\n    }\n  };\n\n  Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n    var clst;\n    var clstItem = closest(trgt, '.' + CLS_ITEM);\n\n    if (trgt === root) {\n      clst = (action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER);\n    } else if (trgt.classList.contains(CLS_HEADER)) {\n      clstItem = action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling;\n\n      if (clstItem) {\n        clst = select('.' + CLS_HEADER, clstItem);\n      }\n    }\n\n    if (clst) {\n      clst.focus();\n    }\n  };\n\n  Accordion.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n    var header = closest(e.target, CLS_HEADER);\n\n    if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n      return;\n    }\n\n    var clst;\n    var root = this.element;\n    var content;\n\n    switch (e.action) {\n      case 'moveUp':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'moveDown':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'space':\n      case 'enter':\n        content = trgt.nextElementSibling;\n\n        if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n          if (content.getAttribute('e-animate') !== 'true') {\n            trgt.click();\n          }\n        } else {\n          trgt.click();\n        }\n\n        break;\n\n      case 'home':\n      case 'end':\n        clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n        clst.focus();\n        break;\n    }\n  };\n\n  Accordion.prototype.headerEleGenerate = function () {\n    var header = this.createElement('div', {\n      className: CLS_HEADER,\n      id: getUniqueID('acrdn_header')\n    });\n    var ariaAttr = {\n      'tabindex': '0',\n      'role': 'heading',\n      'aria-expanded': 'false',\n      'aria-selected': 'false',\n      'aria-disabled': 'false',\n      'aria-level': this.items.length.toString()\n    };\n    attributes(header, ariaAttr);\n    return header;\n  };\n\n  Accordion.prototype.renderInnerItem = function (item, index) {\n    var innerEle;\n    innerEle = this.createElement('div', {\n      className: CLS_ITEM\n    });\n    innerEle.id = getUniqueID('acrdn_item');\n\n    if (item.header) {\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n      innerEle.appendChild(ctnEle);\n    }\n\n    var hdr = select('.' + CLS_HEADER, innerEle);\n\n    if (item.expanded && !isNOU(index) && !this.enablePersistence) {\n      if (this.initExpand.indexOf(index) === -1) {\n        this.initExpand.push(index);\n      }\n    }\n\n    if (item.cssClass) {\n      innerEle.classList.add(item.cssClass);\n    }\n\n    if (item.iconCss) {\n      var hdrIcnEle = this.createElement('div', {\n        className: CLS_HEADERICN\n      });\n      var icon = this.createElement('span', {\n        className: item.iconCss + ' e-icons'\n      });\n      hdrIcnEle.appendChild(icon);\n\n      if (isNOU(hdr)) {\n        hdr = this.headerEleGenerate();\n        hdr.appendChild(hdrIcnEle);\n        innerEle.appendChild(hdr);\n      } else {\n        hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n      }\n    }\n\n    if (item.content) {\n      var hdrIcon = this.toggleIconGenerate();\n\n      if (isNOU(hdr)) {\n        hdr = this.headerEleGenerate();\n        innerEle.appendChild(hdr);\n      }\n\n      hdr.appendChild(hdrIcon);\n      this.add(innerEle, CLS_SLCT);\n    }\n\n    return innerEle;\n  };\n\n  Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n    var templateFn;\n    var temString;\n\n    try {\n      if (document.querySelectorAll(value).length) {\n        var eleVal = document.querySelector(value);\n        temString = eleVal.outerHTML.trim();\n        ele.appendChild(eleVal);\n        eleVal.style.display = '';\n      }\n    } catch (e) {\n      templateFn = templateCompiler(value);\n    }\n\n    var tempArray;\n\n    if (!isNOU(templateFn)) {\n      tempArray = templateFn();\n    }\n\n    if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n      [].slice.call(tempArray).forEach(function (el) {\n        if (!isNOU(el.tagName)) {\n          el.style.display = '';\n        }\n\n        ele.appendChild(el);\n      });\n    } else if (ele.childElementCount === 0) {\n      ele.innerHTML = value;\n    }\n\n    if (!isNOU(temString)) {\n      this.templateEle.push(value);\n    }\n\n    return ele;\n  };\n\n  Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n    var header = select('.' + CLS_HEADER, itemEle);\n    var content = select('.' + CLS_CONTENT, itemEle);\n    header.setAttribute('aria-controls', content.id);\n    content.setAttribute('aria-labelledby', header.id);\n  };\n\n  Accordion.prototype.contentRendering = function (index) {\n    var content = this.items[index].content;\n    var itemcnt = this.createElement('div', {\n      className: CLS_CONTENT + ' ' + CLS_CTNHIDE,\n      id: getUniqueID('acrdn_panel')\n    });\n    attributes(itemcnt, {\n      'aria-hidden': 'true'\n    });\n    var ctn = this.createElement('div', {\n      className: CLS_CTENT\n    });\n    itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n    return itemcnt;\n  };\n\n  Accordion.prototype.expand = function (trgt) {\n    var eventArgs;\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n\n    if (isNOU(trgt) || isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true' || trgtItemEle.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n    var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n    var animation = {\n      name: this.animation.expand.effect,\n      duration: this.animation.expand.duration,\n      timingFunction: this.animation.expand.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    eventArgs = {\n      element: trgtItemEle,\n      item: this.items[this.getIndexByItem(trgtItemEle)],\n      isExpanded: true\n    };\n    var eff = animation.name;\n    this.trigger('expanding', eventArgs);\n\n    if (eventArgs.cancel) {\n      return;\n    }\n\n    icon.classList.add(CLS_TOGANIMATE);\n    this.expandedItemsPush(trgtItemEle);\n\n    if (!isNOU(expandState)) {\n      expandState.classList.remove(CLS_EXPANDSTATE);\n    }\n\n    trgtItemEle.classList.add(CLS_EXPANDSTATE);\n\n    if (animation.name === 'None') {\n      this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n      this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n      return;\n    }\n\n    this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n  };\n\n  Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n    var _this = this;\n\n    var height;\n    var trgtHgt;\n    this.lastActiveItemId = trgtItemEle.id;\n\n    if (ef === 'SlideDown') {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n\n        trgt.style.position = 'absolute';\n        height = trgtItemEle.offsetHeight;\n        trgtHgt = trgt.offsetHeight;\n        trgt.style.maxHeight = trgt.offsetHeight + 'px';\n        trgtItemEle.style.maxHeight = '';\n      };\n\n      animate.progress = function () {\n        trgtItemEle.style.minHeight = height + trgt.offsetHeight + 'px';\n      };\n\n      animate.end = function () {\n        setStyle(trgt, {\n          'position': '',\n          'maxHeight': ''\n        });\n        trgtItemEle.style.minHeight = '';\n\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    } else {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n      };\n\n      animate.end = function () {\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(trgt, CLS_CTNHIDE);\n    this.add(trgtItemEle, CLS_SLCTED);\n    this.add(icon, CLS_EXPANDICN);\n\n    if (progress === 'end') {\n      this.add(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'false');\n      attributes(trgt.previousElementSibling, {\n        'aria-selected': 'true',\n        'aria-expanded': 'true'\n      });\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.trigger('expanded', eventArgs);\n    }\n  };\n\n  Accordion.prototype.expandedItemsPush = function (item) {\n    var index = this.getIndexByItem(item);\n\n    if (this.expandedItems.indexOf(index) === -1) {\n      this.expandedItems.push(index);\n    }\n  };\n\n  Accordion.prototype.getIndexByItem = function (item) {\n    return [].slice.call(this.element.children).indexOf(item);\n  };\n\n  Accordion.prototype.expandedItemsPop = function (item) {\n    var index = this.getIndexByItem(item);\n    this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n  };\n\n  Accordion.prototype.collapse = function (trgt) {\n    var eventArgs;\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n\n    if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    var animation = {\n      name: this.animation.collapse.effect,\n      duration: this.animation.collapse.duration,\n      timingFunction: this.animation.collapse.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    eventArgs = {\n      element: trgtItemEle,\n      item: this.items[this.getIndexByItem(trgtItemEle)],\n      isExpanded: false\n    };\n    var eff = animation.name;\n    this.trigger('expanding', eventArgs);\n\n    if (eventArgs.cancel) {\n      return;\n    }\n\n    this.expandedItemsPop(trgtItemEle);\n    trgtItemEle.classList.add(CLS_EXPANDSTATE);\n    icon.classList.add(CLS_TOGANIMATE);\n\n    if (animation.name === 'None') {\n      this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n      this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n      return;\n    }\n\n    this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n  };\n\n  Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n    var _this = this;\n\n    var height;\n    var trgtHeight;\n    var itemHeight;\n    var remain;\n    this.lastActiveItemId = trgtItEl.id;\n\n    if (ef === 'SlideUp') {\n      animate.begin = function () {\n        itemHeight = trgtItEl.offsetHeight;\n        trgtItEl.style.minHeight = itemHeight + 'px';\n        trgt.style.position = 'absolute';\n        height = trgtItEl.offsetHeight;\n        trgtHeight = trgt.offsetHeight;\n        trgt.style.maxHeight = trgtHeight + 'px';\n\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.progress = function () {\n        remain = height - (trgtHeight - trgt.offsetHeight);\n\n        if (remain < itemHeight) {\n          trgtItEl.style.minHeight = remain + 'px';\n        }\n      };\n\n      animate.end = function () {\n        trgt.style.display = 'none';\n\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n\n        trgtItEl.style.minHeight = '';\n        setStyle(trgt, {\n          'position': '',\n          'maxHeight': '',\n          'display': ''\n        });\n      };\n    } else {\n      animate.begin = function () {\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.end = function () {\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(icon, CLS_EXPANDICN);\n    this.remove(trgtItemEle, CLS_SLCTED);\n\n    if (progress === 'end') {\n      this.add(trgt, CLS_CTNHIDE);\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.remove(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'true');\n      attributes(trgt.previousElementSibling, {\n        'aria-selected': 'false',\n        'aria-expanded': 'false'\n      });\n      this.trigger('expanded', eventArgs);\n    }\n  };\n  /**\n   * Returns the current module name.\n   * @returns string\n   * @private\n   */\n\n\n  Accordion.prototype.getModuleName = function () {\n    return 'accordion';\n  };\n\n  Accordion.prototype.itemAttribUpdate = function () {\n    var itemEle = [].slice.call(this.element.children);\n    var itemLen = this.items.length;\n    itemEle.forEach(function (ele) {\n      select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n    });\n  };\n  /**\n   * Adds new item to the Accordion with the specified index of the Accordion.\n   * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n   * @param  {number} index - Number value that determines where the item should be added.\n   * By default, item is added at the last index if the index is not specified.\n   * @returns void\n   */\n\n\n  Accordion.prototype.addItem = function (item, index) {\n    var ele = this.element;\n\n    if (isNOU(index)) {\n      index = this.items.length;\n    }\n\n    if (ele.childElementCount >= index) {\n      this.items.splice(index, 0, item);\n      var innerItemEle = this.renderInnerItem(item, index);\n\n      if (ele.childElementCount === index) {\n        ele.appendChild(innerItemEle);\n      } else {\n        ele.insertBefore(innerItemEle, ele.children[index]);\n      }\n\n      EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n      EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n      this.itemAttribUpdate();\n    }\n\n    this.expandedItems = [];\n    this.expandedItemRefresh(ele);\n\n    if (item.expanded) {\n      this.expandItem(true, index);\n    }\n  };\n\n  Accordion.prototype.expandedItemRefresh = function (ele) {\n    var _this = this;\n\n    [].slice.call(ele.children).forEach(function (el) {\n      if (el.classList.contains(CLS_SLCTED)) {\n        _this.expandedItemsPush(el);\n      }\n    });\n  };\n  /**\n   * Dynamically removes item from Accordion.\n   * @param  {number} index - Number value that determines which item should be removed.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.removeItem = function (index) {\n    var ele = this.element.children[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    detach(ele);\n    this.items.splice(index, 1);\n    this.itemAttribUpdate();\n    this.expandedItems = [];\n    this.expandedItemRefresh(this.element);\n  };\n  /**\n   * Sets focus to the specified index item header in Accordion.\n   * @param  {number} index - Number value that determines which item should be focused.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.select = function (index) {\n    var ele = this.element.children[index];\n\n    if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n      return;\n    }\n\n    ele.children[0].focus();\n  };\n  /**\n   * Shows or hides the specified item from Accordion.\n   * @param  {number} index - Number value that determines which item should be hidden/shown.\n   * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n   *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.hideItem = function (index, isHidden) {\n    var ele = this.element.children[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    if (isNOU(isHidden)) {\n      isHidden = true;\n    }\n\n    isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n  };\n  /**\n   * Enables/Disables the specified Accordion item.\n   * @param  {number} index - Number value that determines which item should be enabled/disabled.\n   * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n   * If the `isEnable` value is true, the item is enabled or else it is disabled.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.enableItem = function (index, isEnable) {\n    var ele = this.element.children[index];\n\n    if (isNOU(ele)) {\n      return;\n    }\n\n    var eleHeader = ele.firstElementChild;\n\n    if (isEnable) {\n      this.remove(ele, CLS_DISABLE);\n      attributes(eleHeader, {\n        'tabindex': '0',\n        'aria-disabled': 'false'\n      });\n      eleHeader.focus();\n    } else {\n      if (ele.classList.contains(CLS_ACTIVE)) {\n        this.expandItem(false, index);\n        this.eleMoveFocus('movedown', this.element, eleHeader);\n      }\n\n      this.add(ele, CLS_DISABLE);\n      eleHeader.setAttribute('aria-disabled', 'true');\n      eleHeader.removeAttribute('tabindex');\n    }\n  };\n  /**\n   * Expands/Collapses the specified Accordion item.\n   * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n   * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n   *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n   * @returns void.\n   */\n\n\n  Accordion.prototype.expandItem = function (isExpand, index) {\n    var _this = this;\n\n    var root = this.element;\n\n    if (isNOU(index)) {\n      if (this.expandMode === 'Single' && isExpand) {\n        var ele = root.children[root.childElementCount - 1];\n        this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n      } else {\n        var item = select('#' + this.lastActiveItemId, this.element);\n        [].slice.call(this.element.children).forEach(function (el) {\n          _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n\n          el.classList.remove(CLS_EXPANDSTATE);\n        });\n        var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n\n        if (expandedItem) {\n          expandedItem.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        if (item) {\n          item.classList.add(CLS_EXPANDSTATE);\n        }\n      }\n    } else {\n      var ele = this.element.children[index];\n\n      if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || ele.classList.contains(CLS_ACTIVE) && isExpand) {\n        return;\n      } else {\n        if (this.expandMode === 'Single') {\n          this.expandItem(false);\n        }\n\n        this.itemExpand(isExpand, ele, index);\n      }\n    }\n  };\n\n  Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n    var ctn = ele.children[1];\n\n    if (ele.classList.contains(CLS_DISABLE)) {\n      return;\n    }\n\n    if (isNOU(ctn) && isExpand) {\n      ctn = this.contentRendering(index);\n      ele.appendChild(ctn);\n      this.ariaAttrUpdate(ele);\n    } else if (isNOU(ctn)) {\n      return;\n    }\n\n    isExpand ? this.expand(ctn) : this.collapse(ctn);\n  };\n\n  Accordion.prototype.destroyItems = function () {\n    [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n      detach(el);\n    });\n  };\n\n  Accordion.prototype.updateItem = function (item, index) {\n    if (!isNOU(item)) {\n      var itemObj = this.items[index];\n      this.items.splice(index, 1);\n      detach(item);\n      this.addItem(itemObj, index);\n    }\n  };\n\n  Accordion.prototype.getPersistData = function () {\n    var keyEntity = ['expandedItems'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   * @param  {AccordionModel} newProp\n   * @param  {AccordionModel} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var acrdn = this.element;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n\n            for (var j = 0; j < changedProp.length; j++) {\n              var index = parseInt(Object.keys(newProp.items)[j], 10);\n              var property = Object.keys(newProp.items[index])[0];\n              var item = selectAll('.' + CLS_ITEM, this.element)[index];\n              var oldVal = Object(oldProp.items[index])[property];\n              var newVal = Object(newProp.items[index])[property];\n\n              if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                this.updateItem(item, index);\n              }\n\n              if (property === 'cssClass' && !isNOU(item)) {\n                item.classList.remove(oldVal);\n                item.classList.add(newVal);\n              }\n\n              if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                if (item.classList.contains(CLS_SLCTED)) {\n                  this.expandItem(false, index);\n                }\n\n                detach(item.querySelector('.' + CLS_CONTENT));\n              }\n            }\n          } else {\n            this.destroyItems();\n            this.renderItems();\n            this.initItemExpand();\n          }\n\n          break;\n\n        case 'enableRtl':\n          newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n          break;\n\n        case 'height':\n          setStyle(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyle(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'expandMode':\n          if (newProp.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n\n            if (this.expandedItems.length > 1) {\n              this.expandItem(false);\n            }\n          } else {\n            this.element.setAttribute('aria-multiselectable', 'true');\n          }\n\n          break;\n      }\n    }\n  };\n\n  __decorate([Collection([], AccordionItem)], Accordion.prototype, \"items\", void 0);\n\n  __decorate([Property('100%')], Accordion.prototype, \"width\", void 0);\n\n  __decorate([Property('auto')], Accordion.prototype, \"height\", void 0);\n\n  __decorate([Property('Multiple')], Accordion.prototype, \"expandMode\", void 0);\n\n  __decorate([Complex({}, AccordionAnimationSettings)], Accordion.prototype, \"animation\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"clicked\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"expanding\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"expanded\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"created\", void 0);\n\n  __decorate([Event()], Accordion.prototype, \"destroyed\", void 0);\n\n  Accordion = __decorate([NotifyPropertyChanges], Accordion);\n  return Accordion;\n}(Component);\n\nexport { Accordion };","map":null,"metadata":{},"sourceType":"module"}